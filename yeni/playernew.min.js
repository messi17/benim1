;!function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};t.m=n;t.c=i;t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})};t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})};t.t=function(n,i){var r,u;if((1&i&&(n=t(n)),8&i)||4&i&&"object"==typeof n&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&i&&"string"!=typeof n)for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r};t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i};t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};t.p="";t(t.s=2)}([function(){},function(){},function(n,t,i){"use strict";function c(n){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ri(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function l(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ui(n,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function a(n){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function v(n,t){return(v=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function w(n){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function b(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function k(n){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function d(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function g(n,t){return(g=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function tt(n){for(var i,r,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i),"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),r.forEach(function(t){hi(n,t,i[t])});return n}function hi(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function rt(n){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function ut(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function ft(n){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function o(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function et(n,t){return(et=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function ct(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function wi(n){var t,r,u,e,i,f,o={eventsToTrack:vt()};t=window;r=document;u="script";e="ga";t.GoogleAnalyticsObject=e;t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)};t.ga.l=1*new Date;i=r.createElement(u);f=r.getElementsByTagName(u)[0];i.async=1;i.src="https://www.google-analytics.com/analytics.js";f.parentNode.insertBefore(i,f);ga("create",settings.googleAnalyticsTrackingID,"auto");ga("send","pageview");n.ga(o)}function bi(n){var t,u,f,l,i,e,c;t=window;u=document;f="script";l="ga";t.GoogleAnalyticsObject=l;t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)};t.ga.l=1*new Date;i=u.createElement(f);e=u.getElementsByTagName(f)[0];i.async=1;i.src="https://www.google-analytics.com/analytics.js";e.parentNode.insertBefore(i,e);try{version.length}catch(n){return}try{apiCdnUrl.length}catch(n){return}var a,o,v,y,p,s,w={eventsToTrack:vt(),debug:!0},b=n.currentSrc(),h=(new Date).valueOf(),r=function(n){for(var t,r=n+"=",u=document.cookie.split(";"),i=0;i<u.length;i++){for(t=u[i];" "==t.charAt(0);)t=t.substring(1);if(0==t.indexOf(r))return JSON.parse('{"'+decodeURI(t.substring(r.length,t.length)).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return""}("Cdn"+version+"Analytics").clientID;r||(r=h);a="Cdn"+version+"Analytics";o={clientID:r,sessionID:h};v=365;(s=new Date).setTime(s.getTime()+864e5*v);y="expires="+s.toUTCString();p=Object.keys(o).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(o[n])}).join("&");document.cookie=a+"="+p+";"+y+";path=/secure; HttpOnly";c=b.split("/").slice(-1)[0].replace(/\.(\w{3,4})(\?.*)?$/i,"");try{uid.length}catch(n){return}c=uid;w.sendbeacon=function(n,t,i){var u=new XMLHttpRequest,f,e;u.open("POST",apiCdnUrl);u.setRequestHeader("Content-Type","application/x-www-form-urlencoded");f={action:n,label:c,value:i,nonInteraction:t,clientId:r,sessionId:h};e=Object.keys(f).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(f[n])}).join("&");u.send(e)};n.ga(w)}function vt(){var n=[];return 1==settings.googleAnalyticsOption_LOADED&&(n[n.length]="loaded"),1==settings.googleAnalyticsOption_PERCENT_PLAYED&&(n[n.length]="percentsPlayed"),1==settings.googleAnalyticsOption_START&&(n[n.length]="start"),1==settings.googleAnalyticsOption_END&&(n[n.length]="end"),1==settings.googleAnalyticsOption_SEEK&&(n[n.length]="seek"),1==settings.googleAnalyticsOption_PLAY&&(n[n.length]="play"),1==settings.googleAnalyticsOption_PAUSE&&(n[n.length]="pause"),1==settings.googleAnalyticsOption_RESIZE&&(n[n.length]="resize"),1==settings.googleAnalyticsOption_VOLUME_CHANGE&&(n[n.length]="volumeChange"),1==settings.googleAnalyticsOption_ERROR&&(n[n.length]="error"),1==settings.googleAnalyticsOption_FULLSCREEN&&(n[n.length]="fullscreen"),0==n.length&&(n=!1),n}function yt(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function pt(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function wt(n,t,i){return t&&pt(n.prototype,t),i&&pt(n,i),n}function dt(n){return"https://pubads.g.doubleclick.net/gampad/ads?&env=vp&gdfp_req=1&unviewed_position_start=1&impl=s&output="+n.googleIMAParameter_OUTPUT+"&iu="+n.googleIMAParameter_IU+"&sz="+n.googleIMAParameter_SZ+"&description_url="+n.googleIMAParameter_DESCRIPTION_URL+"&url="+n.googleIMAParameter_URL+"&correlator="+n.googleIMAParameter_CORRELATOR+"&ad_rule=1&ciu_szs="+n.googleIMAParameter_CIU_SZS+"&vid=short_onecue&cust_params="+n.googleIMAParameter_CUST_PARAMS+"&hl="+n.googleIMAParameter_HL+"&scp="+n.googleIMAParameter_SCP+"&tfcd="+n.googleIMAParameter_TFCD}function u(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function ki(){return settings._VAST_Tag||si}function di(n){videojs.xhr(settings._VAST_XML||oi,function(t,i){n(t,i.body)})}function h(n){for(var i,r,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i),"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),r.forEach(function(t){gi(n,t,i[t])});return n}function gi(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}var y,p,bt,kt,gt,r,ni,ti;i.r(t);y=videojs.getComponent("Button");p=function(){function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n),(i=ui(this,a(n).call(this,t,r))).player=t,i.options=r,i.defaults={skip:!0,delayInSeconds:5,skipText:"Reklamı Atla"},i.settings=function(n){for(var i,r,t=1;t<arguments.length;t++)i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i),"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),r.forEach(function(t){ri(n,t,i[t])});return n}({},i.defaults,r),i.interval,i.countdown=5,i}var t,i,r;return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&v(n,t)}(n,y),t=n,(i=[{key:"createEl",value:function(){return console.log(this.settings),videojs.dom.createEl("div",{className:"vjs-custom-skip-button",innerHTML:'\n            <div class="container">\n            <div class="skip">\n                <span class="text">Reklamı Atla<\/span>\n                <span class="vjs-icon-next-item"><\/span>\n            <\/div>\n            <div class="countdown">\n                <span class="text">5s<\/span>\n                <span class="poster"><img src="https://i2.wp.com/beebom.com/wp-content/uploads/2016/01/Reverse-Image-Search-Engines-Apps-And-Its-Uses-2016.jpg"/><\/span>\n            <\/div>\n            \n        <\/div>\n          '})}},{key:"handleClick",value:function(){}},{key:"setTimeInterval",value:function(){var n=this;this.interval&&clearInterval(this.interval);this.interval=setInterval(function(){n.countdown--;console.log(n.countdown)},1e3*this.settings.delayInSeconds)}},{key:"timeupdate",value:function(){}}])&&l(t.prototype,i),r&&l(t,r),n}();var fi=videojs.getComponent("Component"),ei=function(){function n(t,i){var r,f,u;return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n),f=this,r=!(u=k(n).call(this,t,i))||"object"!==w(u)&&"function"!=typeof u?d(f):u,t.on("playlistchange",r.onPlaylistChange.bind(d(r))),r}var t,i,r;return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&g(n,t)}(n,fi),t=n,(i=[{key:"createEl",value:function(){return this.$el=videojs.dom.createEl("div",{className:"custom-playlist-container",innerHTML:'\n            <div class="cp-container">\n            <div id="custom-playlist"><\/div>\n            <\/div>    \n            <div class="playlist-actions">\n            <span class="p-action "><span  class="repeat vjs-icon-replay"><\/span><\/span>\n            <span class="p-action "><span  class="shuffle vjs-icon-square"><\/span><\/span>\n            <\/div>\n            <div class="toggle-playlist"><span  class="repeat vjs-icon-chapters"><\/div>\n                '}),this.$toggle=this.$el.querySelector(".toggle-playlist"),this.$repeat=this.$el.querySelector(".repeat"),this.$shuffle=this.$el.querySelector(".shuffle"),this.$repeat.onclick=this.onToggleRepeat.bind(this),this.$shuffle.onclick=this.onToggleShuffle.bind(this),this.$toggle.onclick=this.onPlaylistToggle.bind(this),this.$el}},{key:"onPlaylistToggle",value:function(){this.toggleClass(this.$el,"disappear-the-playlist")}},{key:"onToggleRepeat",value:function(){this.player_.playlist.repeat()?(this.player_.playlist.repeat(!1),this.player_.playlist.autoadvance()):(this.player_.playlist.repeat(!0),this.player_.playlist.autoadvance(0));this.toggleClass(this.$repeat,"active")}},{key:"onToggleShuffle",value:function(){this.player_.playlist.shuffle(!0)}},{key:"onPlaylistChange",value:function(){}},{key:"toggleClass",value:function(n,t){n.classList.contains(t)?n.classList.remove(t):n.classList.add(t)}},{key:"handleClick",value:function(){}}])&&b(t.prototype,i),r&&b(t,r),n}(),oi="http://demo.tremorvideo.com/proddev/vast/vast2RegularLinear.xml",si="https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/39243592/387337752&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&url=%5Breferrer_url%5D&description_url=%5Bdescription_url%5D&correlator=%5Btimestamp%5D",f={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",xml:"application/grouplist"},nt={title:"My Playlist 1",playlistArray:[{name:"",description:"The BEST Plays From the 2019 NBA Playoffs!",duration:865.8,sources:[{src:"https://cdn.videobulut.com/UR1d449pGf555.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/R1d449pGf555/R1d449pGf555.jpg"},{name:"",description:"NBA's Best Ball Fakes - 2018-19 NBA Season",duration:480,sources:[{src:"https://cdn.videobulut.com/U5bhu1X16ZRs0.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/shfwM8AGGd57/shfwM8AGGd57.jpg"},{name:"",description:"Best Rallies of Wimbledon 2019",duration:624,sources:[{src:"https://cdn.videobulut.com/Up2V8ETn4EXd2.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/TTCj48EGhn59/TTCj48EGhn59.jpg"},{name:"",description:"All 89 of Liverpool's Premier League goals from the 2018/19 season",duration:808.8,sources:[{src:"https://cdn.videobulut.com/U41ZXnXuEyd8w.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/60TRKhjAXy13/60TRKhjAXy13.jpg"},{name:"",description:"BEST Game Winners - 2018-19 NBA Regular Season",duration:982.8,sources:[{src:"https://cdn.videobulut.com/UAhndM32hjZ2b.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/CsfyjjudMCuf/CsfyjjudMCuf.jpg"},{name:"",description:"Rafael Nadal | 2019 Wimbledon Highlights",duration:199.2,sources:[{src:"https://cdn.videobulut.com/Up9M8M9jGEZ53.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/T4n1usGyhsZ8/T4n1usGyhsZ8.jpg"}]};var it=function(n){if("string"==typeof n){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase().trim()}return""},ci=function(){var t=function(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}("vidurl"),i=it(t),n={src:t||urlOfVideoSource};return n=tt({},n,f[i]?{type:i}:{type:f.m3u8}),videojs.log(n),n},e=function(n){var i=it(n),t={src:n};return t=tt({},t,f[i]?{type:f[i]}:{type:f.mpd}),videojs.log(t),t};var li=videojs.getPlugin("plugin"),ot="/ad",st="/ac",ht=(videojs.getComponent("SkipAds"),function(){function n(t){var i,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r,f;return(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n),(i=function(n,t){return!t||"object"!==rt(t)&&"function"!=typeof t?o(n):t}(this,ft(n).call(this,t,u))).player=t,i.options=u,i.settings=i.options.settings||{},i.states={originalSrc:{},adPlaying:!1,playedCues:{}},i.dimensions=i.player.currentDimensions(),i.player.ads&&i.helper.isMidrollEnabledWithCustomTime())&&(i.player.activePlugins_.ads||i.player.ads(),i.player.one("ready",i.onReady.bind(o(i))),i.player.on("loadedmetadata",i.onLoadedMetadata.bind(o(i))),t=i.player,r=o(i),i.helper.isPrerollEnabled()&&i.player.trigger("nopreroll"),i.helper.isPostrollEnabled()&&i.player.trigger("nopostroll"),i.adsManager.createAdPlayerEl(),f=function(){if(this.activeCues&&0!==this.activeCues.length){var n=[this.activeCues[this.activeCues.length-1]];t.ads.cueTextTracks.processAdTrack(t,n,function(n,t){t.text!=ot||n.paused()||r.states.adPlaying||(videojs.log("cue",t),r.adsManager.playAd())},function(n,t){t.text===st&&r.states.adPlaying&&(r.states.adPlaying=!1,videojs.log("cue",t))})}},t.ads.cueTextTracks.processMetadataTracks(t,function(n,t){t.addEventListener("cuechange",f)}),t.ads.cueTextTracks.setMetadataTrackMode=function(n){n.mode="hidden"},t.ads.cueTextTracks.getSupportedAdCue=function(n,t){var i=t.text.substring(t.text.length-3,t.text.length);return i===ot||i===st?(t.text=i,t):-1},t.ads.cueTextTracks.getCueId=function(n,t){return Number(t.id)}),i}var t,i,r;return function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}});t&&et(n,t)}(n,li),t=n,(i=[{key:"onReady",value:function(){this.states.originalSrc=this.player.currentSource()}},{key:"onLoadedMetadata",value:function(){}},{key:"getEventType",value:function(){var n="click";return(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(n="tap"),n}},{key:"helper",get:function(){var n=this;return{isMidrollEnabledWithCustomTime:function(){var t=n.settings;return"custom"===t.selectedAdvertisement&&t.midrollEnabled&&t.midrollURL&&"CUS_TIME"===t.midrollStartTime},isPrerollEnabled:function(){return n.settings.prerollEnabled&&n.settings.prerollURL},isPostrollEnabled:function(){return n.settings.postrollEnabled&&n.settings.postrollURL},getSuitableSource:function(){return e(n.settings.midrollURL)}}}},{key:"adsManager",get:function(){var n=this;return{switchMode:function(t,i){videojs.log("mode",t,"source",i);var u=videojs("webplayerAdContainer"),r=n,f={ad:function(){(u.volume(r.player.volume()),r.player.volume(0),u.src(i),u.ready(function(){u.play()}),n.settings.midrollSkippable)&&u.addChild("skipAds").on(r.getEventType(),function(){r.states.adPlaying&&(r.adsManager.switchMode("content",n.states.originalSrc),r.player.ads.endLinearAdMode(),r.states.adPlaying=!1)});f.togglePlayers()},content:function(){u.pause();r.player.volume(u.volume());f.togglePlayers();r.player.play()},togglePlayers:function(){"ad"===t?(u.removeClass("vjs-hidden"),r.player.addClass("vjs-hidden")):"content"===t&&(u.addClass("vjs-hidden"),r.player.removeClass("vjs-hidden"))}};f[t]();r=n;u.one("ended",function(){r.states.adPlaying&&(r.player.ads.endLinearAdMode(),r.states.adPlaying=!1,r.adsManager.switchMode("content",r.states.originalSrc))})},createAdPlayerEl:function(){var i=document.getElementsByTagName("body")[0],n={id:"webplayerAdContainer","class":"video-js webplayer-ad-container vjs-hidden",preload:"auto"},t;videojs.log(n);t=document.createElement("video");Object.keys(n).map(function(i){t.setAttribute(i,n[i])});i.appendChild(t)},playAd:function(){n.player.ads.startLinearAdMode();n.states.adPlaying=!0;n.adsManager.switchMode("ad",n.helper.getSuitableSource())}}}},{key:"MetadataTracks",get:function(){var n=this;return{processMetadataTrack:function(t,i){i.addEventListener("cuechange",n.MetadataTracks.cueChangeHandler)},cueChangeHandler:function(){if(n.activeCues&&n.activeCues.length>0){var t=[n.activeCues[n.activeCues.length-1]];n.player.ads.cueTextTracks.processAdTrack(n.player,t,n.MetadataTracks.processCue,n.MetadataTracks.cancelAds)}},processCue:function(n,t,i,r){videojs.log("AD Started",n,t,i,r)},cancelAds:function(n,t){videojs.log("AD Ended",n,t)},setMetadataTrackMode:function(n){n.mode="hidden"},getSupportedAdCue:function(n,t){var i=t.text.substring(t.text.length-3,t.text.length);return"/ad"===i||"/ac"===i?(t.text=i,t):-1},getCueId:function(n,t){return Number(t.id)}}}}])&&ut(t.prototype,i),r&&ut(t,r),n}());ht.VERSION="0.0.1";var lt,s,ai={autoplay:"",controls:"",height:"",loop:"",muted:"",poster:"",preload:"",src:"",width:"",aspectRatio:void 0,autoSetup:void 0,breakpoints:{tiny:300,xsmall:400,small:500,medium:600,large:700,xlarge:800,huge:900},children:void 0,fluid:void 0,inactivityTimeout:void 0,language:void 0,liveui:void 0,nativeControlsForTouch:void 0,notSupportedMessage:void 0,playbackRates:void 0,plugins:void 0,responsive:void 0,sources:void 0,techCanOverridePoster:void 0,techOrder:void 0,flash:void 0,html5:{nativeControlsForTouch:void 0,nativeAudioTracks:void 0,nativeTextTracks:void 0,nativeVideoTracks:void 0}},at=new(function(){function n(){!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}(this,n);this.options={}}var t,i,r;return t=n,(i=[{key:"setOptions",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(n).map(function(i){if(!ai.hasOwnProperty(i))throw Error("The property '".concat(i,"' has no found."));t.options[i]=n[i]})}},{key:"getOption",value:function(n){if(!this.options.hasOwnProperty(n))throw Error("The property '".concat(n,"' has no found."));return this.options[n]}},{key:"OptionObj",get:function(){return this.options}}])&&ct(t.prototype,i),r&&ct(t,r),n}()),vi=(lt={image:settings.watermarkURL||settings.currentWatermark,position:settings.watermarkPosition,fadeTime:settings.watermarkFadeTime,url:settings.onClickWatermarkUrlEnabled?settings.onClickWatermarkUrl:""},settings.watermarkEnabled?{watermark:lt}:{}),yi=function(){var n={title:"Select Platform",description:"NGCloud Player",embedCode:'<iframe src="'.concat(window.location.href,'" frameborder="0"><\/iframe>'),services:{facebook:!0,google:!0,twitter:!0,tumblr:!0,pinterest:!1,linkedin:!0}};return settings.showCBSocialShareButton?{social:n}:{}}(),pi=("cdna"==settings.analyticsEnabled?s=bi:"ga"==settings.analyticsEnabled&&(s=wi),function(n){s(n)});bt=function(){function n(t,i){yt(this,n);this.player=t;this.options=i;this.ads=t.ads}return wt(n,[{key:"getInstance",value:function(){return new kt(this.player,this.options)}}]),n}();kt=function(){function n(t,i){yt(this,n);this.player=t;this.options=i;this.state={prerollPlayed:!1,midrollPlayed:!1,midrollPoint:0,postrollplayed:!1};this.player.on("timeupdate",this.timeupdate.bind(this));this.player.on("adsready",this.onAdsready.bind(this));this.player.on("loadedmetadata",this.onloadedmetadata.bind(this));this.player.trigger("adsready");this.setupPreroll();this.setupPostroll()}return wt(n,[{key:"onloadedmetadata",value:function(){this.state.midrollPoint=this.helper.isMidrollAvailable()?this.helper.getMidrollAdPoint(this.player.duration()):0}},{key:"onAdsready",value:function(){this.options.prerollEnabled&&this.options.prerollURL||this.player.trigger("nopreroll");this.options.postrollEnabled&&this.options.postrollURL||this.player.trigger("nopostroll")}},{key:"setupPreroll",value:function(){var n=this.player,i=this.options,t=this;this.options.prerollEnabled&&this.options.prerollURL?n.on("readyforpreroll",function(){videojs.log("readyforpreroll");n.ads.inAdBreak()||(n.ads.startLinearAdMode(),n.src(e(settings.prerollURL)),n.one("adplaying",function(){(videojs.log("adplaying"),i.prerollSkippable)&&n.addChild("SkipAds").on(t.getEventType(),t.skipOnClicked.bind(t));n.trigger("ads-ad-started")}),n.one("adended",function(){videojs.log("adended");n.removeChild("SkipAds");n.ads.endLinearAdMode()}))}):this.player.trigger("nopreroll")}},{key:"setupPostroll",value:function(){var n=this.player,i=this.options,t=this;this.options.postrollEnabled&&this.options.postrollURL?n.on("readyforpostroll",function(){videojs.log("readyforpostroll");n.ads.inAdBreak()||(n.ads.startLinearAdMode(),n.src(e(settings.postrollURL)),n.one("adplaying",function(){(videojs.log("adplaying"),i.postrollSkippable)&&n.addChild("SkipAds").on(t.getEventType(),t.skipOnClicked.bind(t));n.trigger("ads-ad-started")}),n.one("adended",function(){videojs.log("adended");n.removeChild("SkipAds");n.ads.endLinearAdMode()}))}):this.player.trigger("nopostroll")}},{key:"playMidroll",value:function(){var n=this.player;(n.ads.startLinearAdMode(),n.src(e(this.options.midrollURL)),n.trigger("ads-ad-started"),this.options.midrollSkippable)&&n.addChild("SkipAds").on(this.getEventType(),this.skipOnClicked.bind(this));n.one("adended",function(){n.trigger("ads-ad-ended");n.ads.endLinearAdMode();n.getChild("SkipAds")&&n.getChild("SkipAds").dispose()})}},{key:"timeupdate",value:function(){var n,t=this.player.currentTime();"lastTime"in this.state&&(n=t>this.state.midrollPoint&&this.state.lastTime<this.state.midrollPoint);this.state.lastTime=t;n&&this.helper.isMidrollAvailable()&&!this.state.midrollPlayed&&(this.state.midrollPlayed=!0,this.playMidroll())}},{key:"skipOnClicked",value:function(){this.player.ads&&(this.player.removeChild("SkipAds"),this.player.ads.endLinearAdMode())}},{key:"getEventType",value:function(){var n="click";return(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(n="tap"),n}},{key:"helper",get:function(){var n=this,t=this;return{isMidrollAvailable:function(){return n.options.midrollURL&&n.options.midrollEnabled&&("MID_OF_VIDEO"===n.options.midrollStartTime||"RANDOM"===n.options.midrollStartTime)},getMidrollAdPoint:function(n){if(Number(n)){var i=[Math.floor(n/4),Math.floor(.75*n)];return{MID_OF_VIDEO:function(){return Math.floor(n/2)},RANDOM:function(){return i[Math.floor(Math.random()*i.length)]}}[t.options.midrollStartTime]()}}}}}]),n}();gt=function(n,t){var r={id:"player",adTagUrl:"http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostpod%26deployment%3Dgmf-js&cmsid=496&vid=short_onecue&correlator="},u,i,f;(function(n){return"IMA"===n.selectedAdvertisement})(n)&&dt(n)&&(r.adTagUrl=dt(n)||r.adTagUrl,t.ima(r),u=document.getElementById("player_html5_api"),(navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&u.hasAttribute("controls")&&u.removeAttribute("controls"),i="click",(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(i="touchend"),f=document.getElementById("player"),f.addEventListener(i,function n(){t.ima.initializeAdDisplayContainer();f.removeEventListener(i,n)}))};ni=(at.setOptions({muted:!1,language:"tr",liveui:!0,inactivityTimeout:400}),{autoplay:settings.autoPlayEnabled,controls:!0,fluid:!1,playbackRates:!!settings.playbackEnabled&&[.5,1,1.5,2],poster:!!settings.posterEnabled&&settings.posterURL,inactivityTimeout:3e3,controlBar:(r={children:{},playToggle:{},volumePanel:!!settings.showCBVolumeButton&&("Horizontal"===settings.typeOfVolumeBar?{inline:!0}:{inline:!1}),CurrentTimeDisplay:settings.showCBCurrentTime,TimeDivider:settings.showCBDuration&&settings.showCBCurrentTime,DurationDisplay:!!settings.showCBDuration&&{},CustomControlSpacer:{},LiveDisplay:{},RemainingTimeDisplay:settings.showCBRemainingTime},u(r,"CustomControlSpacer",{}),u(r,"playbackRateMenuButton",settings.showCBPlaybackButton),u(r,"subtitlesButton",settings.showCBSubtitleButton),u(r,"audioTrackButton",settings.showCBAudioButton),u(r,"fullscreenToggle",settings.showCBFullScreenButton),u(r,"progressControl",!0),r),html5:{nativeVideoTracks:!0,nativeAudioTracks:!0,nativeTextTracks:!1,hls:{overrideNative:!0,useCueTags:!0,allowSeeksWithinUnsafeLiveWindow:!0}}});ti=function(n,t){var i={playAdAlways:!0,adsEnabled:!0};(function(n){return"VAST"===n.selectedAdvertisement&&n._VAST_Tag&&n._VAST_XML&&n.selectedFormatForVAST})(n)&&("TAG_VAST"===n.selectedFormatForVAST?(i.adTagUrl=ki,t.vastClient(i)):"XML_VAST"===n.selectedFormatForVAST&&(i.adTagXML=di,t.vastClient(i)))};var nr=function(n,t){return videojs.log("beforeSetup"),"default"!=settings.customizePlayerSkin&&(n.className=n.className+" "+settings.customizePlayerSkin),""!==settings.positionOfOnScreenButton&&(n.className=n.className+" "+settings.positionOfOnScreenButton),t.plugins=h({},t.plugins,vi),t.plugins=t.plugins.social?t.plugins:h({},t.plugins,yi),t=h({},t,ni)},tr=function(n){n.eme();pi(n),function(n){n.ads&&"custom"===settings.selectedAdvertisement&&(n.ads(),new bt(n,function(n){return{prerollEnabled:n.prerollEnabled,midrollEnabled:n.midrollEnabled,postrollEnabled:n.postrollEnabled,prerollURL:n.prerollURL,midrollURL:n.midrollURL,postrollURL:n.postrollURL,prerollSkippable:n.prerollSkippable,midrollSkippable:n.midrollSkippable,postrollSkippable:n.postrollSkippable,midrollStartTime:n.midrollStartTime}}(settings)).getInstance())}(n);gt(settings,n);ti(settings,n);window.addEventListener("resize",function(){var t=n.getChild("Canvas");t&&t.handleResize()});n.HlsCuePoints({settings:settings});n.on("loadedmetadata",function(){settings.autoPlayEnabled&&n.play()});n.playlist(nt.playlistArray);n.NgCloudPlaylistUI({className:"ngc-playlist-container-control",playlistObj:nt})},ii=function(){videojs.log.level("off");videojs.hook("beforesetup",nr);videojs.hook("setup",tr);videojs("player",at.OptionObj,function(){this.src(ci())})};"complete"===document.readyState||"interactive"===document.readyState||"loaded"===document.readyState?ii():document.addEventListener("DOMContentLoaded",ii);i(0);i(1);videojs.registerComponent("SkipAds",p);videojs.registerComponent("CustomPlaylist",ei);videojs.registerPlugin("HlsCuePoints",ht)}]);;/**            jhgfjhkjgkjhgj+
 * @license
 * Video.js 7.4.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("global/document"),require("global/window")):typeof define=="function"&&define.amd?define(["global/document","global/window"],t):n.videojs=t(n.document,n.window)})(this,function(n,t){function f(n,t){n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.__proto__=t}function sc(n,t){return sc=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},sc(n,t)}function eft(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function ro(){return ro=eft()?Reflect.construct:function(n,t,i){var r=[null],f,u;return r.push.apply(r,t),f=Function.bind.apply(n,r),u=new f,i&&sc(u,i.prototype),u},ro.apply(null,arguments)}function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hc(n,t){return t||(t=n.slice(0)),n.raw=t,n}function yp(n){var i="info",r,t=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];r("log",i,u)};return r=vp(n,t),t.createLogger=function(t){return yp(n+": "+t)},t.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},t.level=function(n){if(typeof n=="string"){if(!t.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');i=n}return i},t.history=function(){return at?[].concat(at):[]},t.history.filter=function(n){return(at||[]).filter(function(t){return new RegExp(".*"+n+".*").test(t[0])})},t.history.clear=function(){at&&(at.length=0)},t.history.disable=function(){at!==null&&(at.length=0,at=null)},t.history.enable=function(){at===null&&(at=[])},t.error=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("error",i,u)},t.warn=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("warn",i,u)},t.debug=function(){for(var t=arguments.length,u=new Array(t),n=0;n<t;n++)u[n]=arguments[n];return r("debug",i,u)},t}function oft(n){return n.replace(/\n\r?\s*/g,"")}function tu(n,t){pp(n).forEach(function(i){return t(n[i],i)})}function hft(n,t,i){return i===void 0&&(i=0),pp(n).reduce(function(i,r){return t(i,n[r],r)},i)}function p(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),t=1;t<i;t++)r[t-1]=arguments[t];return Object.assign?Object.assign.apply(Object,[n].concat(r)):(r.forEach(function(t){t&&tu(t,function(t,i){n[i]=t})}),n)}function bi(n){return!!n&&typeof n=="object"}function hf(n){return bi(n)&&sft.call(n)==="[object Object]"&&n.constructor===Object}function ac(n,i){if(!n||!i)return"";if(typeof t.getComputedStyle=="function"){var r=t.getComputedStyle(n);return r?r[i]:""}return""}function wp(){var n=hc(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return wp=function(){return n},n}function bp(n){return typeof n=="string"&&/\S/.test(n)}function kp(n){if(/\s/.test(n))throw new Error("class has illegal whitespace characters");}function cft(n){return new RegExp("(^|\\s)"+n+"($|\\s)")}function iu(){return n===t.document}function cf(n){return bi(n)&&n.nodeType===1}function dp(){try{return t.parent!==t.self}catch(n){return!0}}function gp(t){return function(i,r){if(!bp(i))return n[t](null);bp(r)&&(r=n.querySelector(r));var u=cf(r)?r:n;return u[t]&&u[t](i)}}function k(t,i,r,u){t===void 0&&(t="div");i===void 0&&(i={});r===void 0&&(r={});var f=n.createElement(t);return Object.getOwnPropertyNames(i).forEach(function(n){var t=i[n];n.indexOf("aria-")!==-1||n==="role"||n==="type"?(c.warn(lc(wp(),n,t)),f.setAttribute(n,t)):n==="textContent"?ru(f,t):f[n]=t}),Object.getOwnPropertyNames(r).forEach(function(n){f.setAttribute(n,r[n])}),u&&pc(f,u),f}function ru(n,t){return typeof n.textContent=="undefined"?n.innerText=t:n.textContent=t,n}function uo(n,t){t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)}function ur(n,t){return(kp(t),n.classList)?n.classList.contains(t):cft(t).test(n.className)}function fr(n,t){return n.classList?n.classList.add(t):ur(n,t)||(n.className=(n.className+" "+t).trim()),n}function lf(n,t){return n.classList?n.classList.remove(t):(kp(t),n.className=n.className.split(/\s+/).filter(function(n){return n!==t}).join(" ")),n}function nw(n,t,i){var r=ur(n,t);if(typeof i=="function"&&(i=i(n,t)),typeof i!="boolean"&&(i=!r),i!==r)return i?fr(n,t):lf(n,t),n}function tw(n,t){Object.getOwnPropertyNames(t).forEach(function(i){var r=t[i];r===null||typeof r=="undefined"||r===!1?n.removeAttribute(i):n.setAttribute(i,r===!0?"":r)})}function ai(n){var f={},i,t,r,u;if(n&&n.attributes&&n.attributes.length>0)for(i=n.attributes,t=i.length-1;t>=0;t--)r=i[t].name,u=i[t].value,(typeof n[r]=="boolean"||",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+",")!==-1)&&(u=u!==null?!0:!1),f[r]=u;return f}function iw(n,t){return n.getAttribute(t)}function af(n,t,i){n.setAttribute(t,i)}function fo(n,t){n.removeAttribute(t)}function rw(){n.body.focus();n.onselectstart=function(){return!1}}function uw(){n.onselectstart=function(){return!0}}function vf(n){if(n&&n.getBoundingClientRect&&n.parentNode){var i=n.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(n){i[n]!==undefined&&(t[n]=i[n])}),t.height||(t.height=parseFloat(ac(n,"height"))),t.width||(t.width=parseFloat(ac(n,"width"))),t}}function fw(i){var r;if(i.getBoundingClientRect&&i.parentNode&&(r=i.getBoundingClientRect()),!r)return{left:0,top:0};var f=n.documentElement,u=n.body,e=f.clientLeft||u.clientLeft||0,o=t.pageXOffset||u.scrollLeft,s=r.left+o-e,h=f.clientTop||u.clientTop||0,c=t.pageYOffset||u.scrollTop,l=r.top+c-h;return{left:Math.round(s),top:Math.round(l)}}function vc(n,t){var i={},r=fw(n),o=n.offsetWidth,u=n.offsetHeight,s=r.top,h=r.left,f=t.pageY,e=t.pageX;return t.changedTouches&&(e=t.changedTouches[0].pageX,f=t.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(s-f+u)/u)),i.x=Math.max(0,Math.min(1,(e-h)/o)),i}function ew(n){return bi(n)&&n.nodeType===3}function yc(n){while(n.firstChild)n.removeChild(n.firstChild);return n}function ow(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(t){return(typeof t=="function"&&(t=t()),cf(t)||ew(t))?t:typeof t=="string"&&/\S/.test(t)?n.createTextNode(t):void 0}).filter(function(n){return n})}function pc(n,t){return ow(t).forEach(function(t){return n.appendChild(t)}),n}function sw(n,t){return pc(yc(n),t)}function uu(n){return n.button===undefined&&n.buttons===undefined?!0:n.button===0&&n.buttons===undefined?!0:n.button!==0||n.buttons!==1?!1:!0}function er(){return lft++}function yf(n){var t=n[di];return t||(t=n[di]=er()),fu[t]||(fu[t]={}),fu[t]}function lw(n){var t=n[di];return t?!!Object.getOwnPropertyNames(fu[t]).length:!1}function aw(n){var t=n[di];if(t){delete fu[t];try{delete n[di]}catch(i){n.removeAttribute?n.removeAttribute(di):n[di]=null}}}function vw(n,t){var i=yf(n);i.handlers[t].length===0&&(delete i.handlers[t],n.removeEventListener?n.removeEventListener(t,i.dispatcher,!1):n.detachEvent&&n.detachEvent("on"+t,i.dispatcher));Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled);Object.getOwnPropertyNames(i).length===0&&aw(n)}function wc(n,t,i,r){i.forEach(function(i){n(t,i,r)})}function eo(i){function o(){return!0}function s(){return!1}var r,u,f,e;if(!i||!i.isPropagationStopped){r=i||t.event;i={};for(u in r)u!=="layerX"&&u!=="layerY"&&u!=="keyLocation"&&u!=="webkitMovementX"&&u!=="webkitMovementY"&&(u==="returnValue"&&r.preventDefault||(i[u]=r[u]));i.target||(i.target=i.srcElement||n);i.relatedTarget||(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement);i.preventDefault=function(){r.preventDefault&&r.preventDefault();i.returnValue=!1;r.returnValue=!1;i.defaultPrevented=!0};i.defaultPrevented=!1;i.stopPropagation=function(){r.stopPropagation&&r.stopPropagation();i.cancelBubble=!0;r.cancelBubble=!0;i.isPropagationStopped=o};i.isPropagationStopped=s;i.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation();i.isImmediatePropagationStopped=o;i.stopPropagation()};i.isImmediatePropagationStopped=s;i.clientX!==null&&i.clientX!==undefined&&(f=n.documentElement,e=n.body,i.pageX=i.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0),i.pageY=i.clientY+(f&&f.scrollTop||e&&e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0));i.which=i.charCode||i.keyCode;i.button!==null&&i.button!==undefined&&(i.button=i.button&1?0:i.button&4?1:i.button&2?2:0)}return i}function fi(n,t,i){var r,u;if(Array.isArray(t))return wc(fi,n,t,i);r=yf(n);r.handlers||(r.handlers={});r.handlers[t]||(r.handlers[t]=[]);i.guid||(i.guid=er());r.handlers[t].push(i);r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,i){var f,e,u,o;if(!r.disabled&&(t=eo(t),f=r.handlers[t.type],f))for(e=f.slice(0),u=0,o=e.length;u<o;u++)if(t.isImmediatePropagationStopped())break;else try{e[u].call(n,t,i)}catch(s){c.error(s)}});r.handlers[t].length===1&&(n.addEventListener?(u=!1,bc&&yw.indexOf(t)>-1&&(u={passive:!0}),n.addEventListener(t,r.dispatcher,u)):n.attachEvent&&n.attachEvent("on"+t,r.dispatcher))}function vt(n,t,i){var r,e,o,u,f;if(lw(n)&&(r=yf(n),r.handlers)){if(Array.isArray(t))return wc(vt,n,t,i);if(e=function(n,t){r.handlers[t]=[];vw(n,t)},t===undefined){for(o in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},o)&&e(n,o);return}if(u=r.handlers[t],u){if(!i){e(n,t);return}if(i.guid)for(f=0;f<u.length;f++)u[f].guid===i.guid&&u.splice(f--,1);vw(n,t)}}}function eu(n,t,i){var f=lw(n)?yf(n):{},r=n.parentNode||n.ownerDocument,u;return typeof t=="string"?t={type:t,target:n}:t.target||(t.target=n),t=eo(t),f.dispatcher&&f.dispatcher.call(n,t,i),r&&!t.isPropagationStopped()&&t.bubbles===!0?eu.call(null,r,t,i):r||t.defaultPrevented||(u=yf(t.target),t.target[t.type]&&(u.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),u.disabled=!1)),!t.defaultPrevented}function pf(n,t,i){if(Array.isArray(t))return wc(pf,n,t,i);var r=function r(){vt(n,t,r);i.apply(this,arguments)};r.guid=i.guid=i.guid||er();fi(n,t,r)}function gc(n,i){i&&(dc=i);t.setTimeout(vft,n)}function tl(n,i){i===void 0&&(i={});var u=i,r=u.eventBusKey;if(r){if(!n[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');n.eventBusEl_=n[r]}else n.eventBusEl_=k("span",{className:"vjs-event-bus"});p(n,wft);n.eventedCallbacks&&n.eventedCallbacks.forEach(function(n){n()});n.on("dispose",function(){n.off();t.setTimeout(function(){n.eventBusEl_=null},0)});return n}function tb(n,t){if(p(n,nb),n.state=p({},n.state,t),typeof n.handleStateChanged=="function"&&or(n))n.on("statechanged",n.handleStateChanged);return n}function b(n){return typeof n!="string"?n:n.charAt(0).toUpperCase()+n.slice(1)}function bft(n,t){return b(n)===b(t)}function y(){for(var n={},i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return r.forEach(function(t){t&&tu(t,function(t,i){if(!hf(t)){n[i]=t;return}hf(n[i])||(n[i]={});n[i]=y(n[i],t)})}),n}function net(n,t,i){if(typeof t!="number"||t<0||t>i)throw new Error("Failed to execute '"+n+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+i+").");}function cb(n,t,i,r){return net(n,r,i.length-1),i[r][t]}function el(n){return n===undefined||n.length===0?{length:0,start:function(){throw new Error("This TimeRanges object is empty");},end:function(){throw new Error("This TimeRanges object is empty");}}:{length:n.length,start:cb.bind(null,"start",0,n),end:cb.bind(null,"end",1,n)}}function hr(n,t){return Array.isArray(n)?el(n):n===undefined||t===undefined?el():el([[n,t]])}function lb(n,t){var u=0,f,r,i;if(!t)return 0;for(n&&n.length||(n=hr(0,0)),i=0;i<n.length;i++)f=n.start(i),r=n.end(i),r>t&&(r=t),u+=r-f;return u/t}function rt(n){if(n instanceof rt)return n;typeof n=="number"?this.code=n:typeof n=="string"?this.message=n:bi(n)&&(typeof n.code=="number"&&(this.code=n.code),p(this,n));this.message||(this.message=rt.defaultMessages[this.code]||"")}function iet(n,t){var i,r=null;try{i=JSON.parse(n,t)}catch(u){r=u}return[r,i]}function vb(n){return n!==undefined&&n!==null&&typeof n.then=="function"}function gf(n){vb(n)&&n.then(null,function(){})}function wet(n){var t=pet.call(n);return t==="[object Function]"||typeof n=="function"&&t!=="[object RegExp]"||typeof window!="undefined"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}function yl(n,t){return t={exports:{}},n(t,t.exports),t.exports}function vot(){for(var n,t,r={},i=0;i<arguments.length;i++){n=arguments[i];for(t in n)aot.call(n,t)&&(r[t]=n[t])}return r}function yot(n,t){for(var i=0;i<n.length;i++)t(n[i])}function pot(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}function rk(n,t,i){var r=n;return yet(t)?(i=t,typeof n=="string"&&(r={uri:n})):r=lot(t,{uri:n}),r.callback=i,r}function nr(n,t,i){return t=rk(n,t,i),uk(t)}function uk(n){function w(){t.readyState===4&&setTimeout(v,0)}function b(){var n=undefined;if(n=t.response?t.response:t.responseText||wot(t),y)try{n=JSON.parse(n)}catch(i){}return n}function s(n){return clearTimeout(a),n instanceof Error||(n=new Error(""+(n||"Unknown XMLHttpRequest Error"))),n.statusCode=0,o(n,p)}function v(){var u,i,e;if(!f)return clearTimeout(a),u=n.useXDR&&t.status===undefined?200:t.status===1223?204:t.status,i=p,e=null,u!==0?(i={body:b(),statusCode:u,method:r,headers:{},url:h,rawRequest:t},t.getAllResponseHeaders&&(i.headers=cot(t.getAllResponseHeaders()))):e=new Error("Internal XMLHttpRequest Error"),o(e,i,i.body)}var e,o,t;if(typeof n.callback=="undefined")throw new Error("callback argument missing");e=!1;o=function(t,i,r){e||(e=!0,n.callback(t,i,r))};t=n.xhr||null;t||(t=n.cors||n.useXDR?new nr.XDomainRequest:new nr.XMLHttpRequest);var u,f,h=t.url=n.uri||n.url,r=t.method=n.method||"GET",c=n.body||n.data,i=t.headers=n.headers||{},l=!!n.sync,y=!1,a,p={body:undefined,headers:{},statusCode:0,method:r,url:h,rawRequest:t};if("json"in n&&n.json!==!1&&(y=!0,i.accept||i.Accept||(i.Accept="application/json"),r!=="GET"&&r!=="HEAD"&&(i["content-type"]||i["Content-Type"]||(i["Content-Type"]="application/json"),c=JSON.stringify(n.json===!0?c:n.json))),t.onreadystatechange=w,t.onload=v,t.onerror=s,t.onprogress=function(){},t.onabort=function(){f=!0},t.ontimeout=s,t.open(r,h,!l,n.username,n.password),l||(t.withCredentials=!!n.withCredentials),!l&&n.timeout>0&&(a=setTimeout(function(){if(!f){f=!0;t.abort("timeout");var n=new Error("XMLHttpRequest timeout");n.code="ETIMEDOUT";s(n)}},n.timeout)),t.setRequestHeader)for(u in i)i.hasOwnProperty(u)&&t.setRequestHeader(u,i[u]);else if(n.headers&&!pot(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(t.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(t),t.send(c||null),t}function wot(n){if(n.responseType==="document")return n.responseXML;var t=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";return n.responseType===""&&!t?n.responseXML:null}function bot(){}function pt(n,t){this.name="ParsingError";this.code=n.code;this.message=t||n.message}function wl(n){function i(n,t,i,r){return(n|0)*3600+(t|0)*60+(i|0)+(r|0)/1e3}var t=n.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return t?t[3]?i(t[1],t[2],t[3].replace(":",""),t[4]):t[1]>59?i(t[1],t[2],0,t[4]):i(0,t[1],t[2],t[4]):null}function ie(){this.values=ao(null)}function re(n,t,i,r){var f=r?n.split(r):[n],e,u,o,s;for(e in f)typeof f[e]=="string"&&(u=f[e].split(i),u.length===2)&&(o=u[0],s=u[1],t(o,s))}function dot(n,t,i){function f(){var t=wl(n);if(t===null)throw new pt(pt.Errors.BadTimeStamp,"Malformed timestamp: "+u);return n=n.replace(/^[^\sa-zA-Z-]+/,""),t}function e(n,t){var r=new ie;re(n,function(n,t){var f,u,e;switch(n){case"region":for(f=i.length-1;f>=0;f--)if(i[f].id===t){r.set(n,i[f].region);break}break;case"vertical":r.alt(n,t,["rl","lr"]);break;case"line":u=t.split(",");e=u[0];r.integer(n,e);r.percent(n,e)?r.set("snapToLines",!1):null;r.alt(n,e,["auto"]);u.length===2&&r.alt("lineAlign",u[1],["start","middle","end"]);break;case"position":u=t.split(",");r.percent(n,u[0]);u.length===2&&r.alt("positionAlign",u[1],["start","middle","end"]);break;case"size":r.percent(n,t);break;case"align":r.alt(n,t,["start","middle","end","left","right"])}},/:/,/\s/);t.region=r.get("region",null);t.vertical=r.get("vertical","");t.line=r.get("line","auto");t.lineAlign=r.get("lineAlign","start");t.snapToLines=r.get("snapToLines",!0);t.size=r.get("size",100);t.align=r.get("align","middle");t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align);t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function r(){n=n.replace(/^\s+/,"")}var u=n;if(r(),t.startTime=f(),r(),n.substr(0,3)!=="-->")throw new pt(pt.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+u);n=n.substr(3);r();t.endTime=f();r();e(n,t)}function lk(n,t){function h(){function i(n){return t=t.substr(n.length),n}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]*>?)?/);return i(n[1]?n[1]:n[2])}function c(n){return got[n]}function l(n){while(i=n.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))n=n.replace(i[0],c);return n}function a(n,t){return!ck[t.localName]||ck[t.localName]===n.localName}function v(t,i){var u=nst[t],r,f;return u?(r=n.document.createElement(u),r.localName=u,f=tst[t],f&&i&&(r[f]=i.trim()),r):null}for(var s=n.document.createElement("div"),f=s,r,e=[],o,u,i;(r=h())!==null;){if(r[0]==="<"){if(r[1]==="/"){e.length&&e[e.length-1]===r.substr(2).replace(">","")&&(e.pop(),f=f.parentNode);continue}if(o=wl(r.substr(1,r.length-2)),o){u=n.document.createProcessingInstruction("timestamp",o);f.appendChild(u);continue}if(i=r.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/),!i)continue;if(u=v(i[1],i[3]),!u)continue;if(!a(f,u))continue;i[2]&&(u.className=i[2].substr(1).replace("."," "));e.push(i[1]);f.appendChild(u);f=u;continue}f.appendChild(n.document.createTextNode(l(r)))}return s}function ist(n){for(var i,t=0;t<bl.length;t++)if(i=bl[t],n>=i[0]&&n<=i[1])return!0;return!1}function rst(n){function e(n,t){for(var i=t.childNodes.length-1;i>=0;i--)n.push(t.childNodes[i])}function r(n){var t,i,u;return!n||!n.length?null:(t=n.pop(),i=t.textContent||t.innerText,i)?(u=i.match(/^.*(\n|\r)/),u)?(n.length=0,u[0]):i:t.tagName==="ruby"?r(n):t.childNodes?(e(n,t),r(n)):void 0}var u=[],i="",f,t;if(!n||!n.childNodes)return"ltr";for(e(u,n);i=r(u);)for(t=0;t<i.length;t++)if(f=i.charCodeAt(t),ist(f))return"rtl";return"ltr"}function ust(n){var t;if(typeof n.line=="number"&&(n.snapToLines||n.line>=0&&n.line<=100))return n.line;if(!n.track||!n.track.textTrackList||!n.track.textTrackList.mediaElement)return-1;var r=n.track,i=r.textTrackList,u=0;for(t=0;t<i.length&&i[t]!==r;t++)i[t].mode==="showing"&&u++;return++u*-1}function vo(){}function yo(n,t,i){var u,r;vo.call(this);this.cue=t;this.cueDiv=lk(n,t.text);u={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(u,this.cueDiv);this.div=n.document.createElement("div");u={direction:rst(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(u);this.div.appendChild(this.cueDiv);r=0;switch(t.positionAlign){case"start":r=t.position;break;case"middle":r=t.position-t.size/2;break;case"end":r=t.position-t.size}t.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")});this.move=function(n){this.applyStyles({top:this.formatStyle(n.top,"px"),bottom:this.formatStyle(n.bottom,"px"),left:this.formatStyle(n.left,"px"),right:this.formatStyle(n.right,"px"),height:this.formatStyle(n.height,"px"),width:this.formatStyle(n.width,"px")})}}function ut(n){var i,r,f,u,t;n.div&&(r=n.div.offsetHeight,f=n.div.offsetWidth,u=n.div.offsetTop,t=(t=n.div.childNodes)&&(t=t[0])&&t.getClientRects&&t.getClientRects(),n=n.div.getBoundingClientRect(),i=t?Math.max(t[0]&&t[0].height||0,n.height/t.length):0);this.left=n.left;this.right=n.right;this.top=n.top||u;this.height=n.height||r;this.bottom=n.bottom||u+(n.height||r);this.width=n.width||f;this.lineHeight=i!==undefined?i:n.lineHeight}function fst(n,t,i,r){function y(n,t){for(var f,e,o=new ut(n),s=1,u=0;u<t.length;u++){while(n.overlapsOppositeAxis(i,t[u])||n.within(i)&&n.overlapsAny(r))n.move(t[u]);if(n.within(i))return n;f=n.intersectPercentage(i);s>f&&(e=new ut(n),s=f);n=new ut(o)}return e||o}var o=new ut(t),e=t.cue,f=ust(e),u=[],h,l,v;if(e.snapToLines){switch(e.vertical){case"":u=["+y","-y"];h="height";break;case"rl":u=["+x","-x"];h="width";break;case"lr":u=["-x","+x"];h="width"}var c=o.lineHeight,s=c*Math.round(f),a=i[h]+c,p=u[0];Math.abs(s)>a&&(s=(s<0?-1:1)*Math.ceil(a/c)*c);f<0&&(s+=e.vertical===""?i.height:i.width,u=u.reverse());o.move(p,s)}else{l=o.lineHeight/i.height*100;switch(e.lineAlign){case"middle":f-=l/2;break;case"end":f-=l}switch(e.vertical){case"":t.applyStyles({top:t.formatStyle(f,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(f,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(f,"%")})}u=["+y","-x","+x","-y"];o=new ut(t)}v=y(o,u);t.move(v.toCSSCompatValues(i))}function lu(){}function vst(n){if(typeof n!="string")return!1;var t=lst[n.toLowerCase()];return t?n.toLowerCase():!1}function kl(n){if(typeof n!="string")return!1;var t=ast[n.toLowerCase()];return t?n.toLowerCase():!1}function ak(n,t,i){this.hasBeenReset=!1;var r="",u=!1,f=n,e=t,o=i,s=null,h="",c=!0,l="auto",a="start",v=50,y="middle",p=50,w="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(n){r=""+n}},pauseOnExit:{enumerable:!0,get:function(){return u},set:function(n){u=!!n}},startTime:{enumerable:!0,get:function(){return f},set:function(n){if(typeof n!="number")throw new TypeError("Start time must be set to a number.");f=n;this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return e},set:function(n){if(typeof n!="number")throw new TypeError("End time must be set to a number.");e=n;this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(n){o=""+n;this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return s},set:function(n){s=n;this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return h},set:function(n){var t=vst(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");h=t;this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(n){c=!!n;this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return l},set:function(n){if(typeof n!="number"&&n!==cst)throw new SyntaxError("An invalid number or illegal string was specified.");l=n;this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return a},set:function(n){var t=kl(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");a=t;this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return v},set:function(n){if(n<0||n>100)throw new Error("Position must be between 0 and 100.");v=n;this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return y},set:function(n){var t=kl(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t;this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return p},set:function(n){if(n<0||n>100)throw new Error("Size must be between 0 and 100.");p=n;this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return w},set:function(n){var t=kl(n);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t;this.hasBeenReset=!0}}});this.displayState=undefined}function yst(n){if(typeof n!="string")return!1;var t=yk[n.toLowerCase()];return t?n.toLowerCase():!1}function ue(n){return typeof n=="number"&&n>=0&&n<=100}function pst(){var n=100,t=3,i=0,r=100,u=0,f=100,e="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(t){if(!ue(t))throw new Error("Width must be between 0 and 100.");n=t}},lines:{enumerable:!0,get:function(){return t},set:function(n){if(typeof n!="number")throw new TypeError("Lines must be set to a number.");t=n}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(n){if(!ue(n))throw new Error("RegionAnchorX must be between 0 and 100.");r=n}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(n){if(!ue(n))throw new Error("RegionAnchorY must be between 0 and 100.");i=n}},viewportAnchorY:{enumerable:!0,get:function(){return f},set:function(n){if(!ue(n))throw new Error("ViewportAnchorY must be between 0 and 100.");f=n}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(n){if(!ue(n))throw new Error("ViewportAnchorX must be between 0 and 100.");u=n}},scroll:{enumerable:!0,get:function(){return e},set:function(n){var t=yst(n);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");e=t}}})}function bst(n,t,i,r,u){var e,f;return u===void 0&&(u={}),e=n.textTracks(),u.kind=t,i&&(u.label=i),r&&(u.language=r),u.tech=n,f=new ct.text.TrackClass(u),e.addTrack(f),f}function kst(n,t){ar[n]=ar[n]||[];ar[n].push(t)}function dst(n,t,i){n.setTimeout(function(){return vr(t,ar[t.type],i,n)},1)}function gst(n,t){n.forEach(function(n){return n.setTech&&n.setTech(t)})}function pk(n,t,i){return n.reduceRight(gl(i),t[i]())}function nht(n,t,i,r){return t[i](n.reduce(gl(i),r))}function wk(n,t,i,r){r===void 0&&(r=null);var o="call"+b(i),u=n.reduce(gl(o),r),f=u===po,e=f?null:t[i](u);return rht(n,i,e,f),e}function gl(n){return function(t,i){return t===po?po:i[n]?i[n](t):t}}function rht(n,t,i,r){for(var f,u=n.length-1;u>=0;u--)f=n[u],f[t]&&f[t](r,i)}function uht(n){dl[n.id()]=null}function fht(n,t){var r=dl[n.id()],i=null,u;if(r===undefined||r===null)return i=t(n),dl[n.id()]=[[t,i]],i;for(u=0;u<r.length;u++){var f=r[u],e=f[0],o=f[1];e===t&&(i=o)}return i===null&&(i=t(n),r.push([t,i])),i}function vr(n,t,i,r,u,f){var o;n===void 0&&(n={});t===void 0&&(t=[]);u===void 0&&(u=[]);f===void 0&&(f=!1);var h=t,s=h[0],e=h.slice(1);if(typeof s=="string")vr(n,ar[s],i,r,u,f);else if(s){if(o=fht(r,s),!o.setSource)return u.push(o),vr(n,e,i,r,u,f);o.setSource(p({},n),function(t,s){if(t)return vr(n,e,i,r,u,f);u.push(o);vr(s,n.type===s.type?e:ar[s.type],i,r,u,f)})}else e.length?vr(n,e,i,r,u,f):f?i(n,u):vr(n,ar["*"],i,r,u,!0)}function gk(n){var t=kk(n.src);return!n.type&&t&&(n.type=t),n}function na(n,t){var i;if(n.length===4)i=n[1]+n[1]+n[2]+n[2]+n[3]+n[3];else if(n.length===7)i=n.slice(1);else throw new Error("Invalid color code provided, "+n+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function ta(n,t,i){try{n.style[t]=i}catch(r){return}}function hht(n){wo=n}function cht(){wo=ua}function au(n,t){return t===void 0&&(t=n),wo(n,t)}function ug(n,t){return t&&(n=t(n)),n&&n!=="none"?n:void 0}function lht(n,t){var i=n.options[n.options.selectedIndex].value;return ug(i,t)}function aht(n,t,i){if(t)for(var r=0;r<n.options.length;r++)if(ug(n.options[r].value,i)===t){n.selectedIndex=r;break}}function cg(){var n=hc(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return cg=function(){return n},n}function ag(){var n=hc(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return ag=function(){return n},n}function i(t,u,f){var e=i.getPlayer(t),o,s;if(e)return u&&c.warn('Player "'+t+'" is already initialised. Options will not be applied.'),f&&e.ready(f),e;if(o=typeof t=="string"?ki("#"+bg(t)):t,!cf(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");return n.body.contains(o)||c.warn("The element supplied is not included in the DOM"),u=u||{},i.hooks("beforesetup").forEach(function(n){var t=n(o,y(u));if(!bi(t)||Array.isArray(t)){c.error("please return an object in beforesetup hooks");return}u=y(u,t)}),s=r.getComponent("Player"),e=new s(o,u,f),i.hooks("setup").forEach(function(n){return n(e)}),e}function yct(n,t){return t={exports:{}},n(t,t.exports),t.exports}function olt(n){for(var r=t.atob(n),u=new Uint8Array(r.length),i=0;i<r.length;i++)u[i]=r.charCodeAt(i);return u}function fpt(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}function nut(n,t){return function(i){var u=this,e,f,r;if(t){if(sf&&!i)return e=t.toString().replace(/^function.+?{/,"").slice(0,-1),f=tut(e),this[np]=new sf(f),ebt(this[np],f),this[np];r={postMessage:function(n){u.onmessage&&setTimeout(function(){u.onmessage({data:n,target:r})})}};t.call(r);this.postMessage=function(n){setTimeout(function(){r.onmessage({data:n,target:u})})};this.isThisThread=!0}else return new sf(n)}}function tut(n){try{return of.createObjectURL(new Blob([n],{type:ubt}))}catch(i){var t=new fbt;return t.append(n),of.createObjectURL(t.getBlob(type))}}function ebt(n,t){if(n&&t){var i=n.terminate;n.objURL=t;n.terminate=function(){n.objURL&&of.revokeObjectURL(n.objURL);i.call(n)}}}function to(){}var oc,at,vp,c,cc,fu,di,bc,yw,wf,nb,r,kf,df,cr,ab,lr,pb,gb,pl,yt,cu,ct,ao,bl,vk,yk,v,nd,ee,td,rd,ud,ei,ia,fd,ra,ua,wo,yr,bo,ko,ed,go,od,fa,ns,sd,hd,ts,ea,oa,sa,ad,vd,rs,ha,yd,ca,la,us,fs,es,vu,yu,aa,pr,va,os,ss,hs,cs,ls,ya,as,pa,wa,vs,ba,ka,pd,da,ga,fg,eg,og,u,oe,uv,lg,yg,d,pu,se,ds,gt,vv,h,an,vn,yv,yn,pn,wn,bn,pv,kn,dn,gn,ntt,ttt,itt,rtt,utt,ftt,ett,ott,stt,wv,s,bv,htt,ctt,ltt,att,vtt,ytt,ptt,wtt,rh,btt,ktt,dtt,br,ae,ey,ah,ni,vh,oy,sy,sit,hit,yh,we,cit,uc,tp,ip,ep,ht;n=n&&n.hasOwnProperty("default")?n["default"]:n;t=t&&t.hasOwnProperty("default")?t["default"]:t;oc="7.4.1";at=[];vp=function(n,i){return function(r,u,f){var o=i.levels[u],s=new RegExp("^("+o+")$"),e;(r!=="log"&&f.unshift(r.toUpperCase()+":"),f.unshift(n+":"),at&&at.push([].concat(f)),t.console)&&(e=t.console[r],e||r!=="debug"||(e=t.console.info||t.console.log),e&&o&&s.test(r))&&e[Array.isArray(f)?"apply":"call"](t.console,f)}};c=yp("VIDEOJS");cc=c.createLogger;var lc=function(n){for(var i="",t=0;t<arguments.length;t++)i+=oft(n[t])+(arguments[t+1]||"");return i},sft=Object.prototype.toString,pp=function(n){return bi(n)?Object.keys(n):[]};var ki=gp("querySelector"),hw=gp("querySelectorAll"),cw=Object.freeze({isReal:iu,isEl:cf,isInFrame:dp,createEl:k,textContent:ru,prependTo:uo,hasClass:ur,addClass:fr,removeClass:lf,toggleClass:nw,setAttributes:tw,getAttributes:ai,getAttribute:iw,setAttribute:af,removeAttribute:fo,blockTextSelection:rw,unblockTextSelection:uw,getBoundingClientRect:vf,findPosition:fw,getPointerPosition:vc,isTextNode:ew,emptyEl:yc,normalizeContent:ow,appendContent:pc,insertContent:sw,isSingleLeftClick:uu,$:ki,$$:hw}),lft=1;fu={};di="vdata"+(new Date).getTime();bc=!1,function(){try{var n=Object.defineProperty({},"passive",{get:function(){bc=!0}});t.addEventListener("test",null,n);t.removeEventListener("test",null,n)}catch(r){}}();yw=["touchstart","touchmove"];var aft=Object.freeze({fixEvent:eo,on:fi,off:vt,trigger:eu,one:pf}),kc=!1,dc,vft=function(){var r,u,t,f;if(iu()&&dc.options.autoSetup!==!1){var e=Array.prototype.slice.call(n.getElementsByTagName("video")),o=Array.prototype.slice.call(n.getElementsByTagName("audio")),s=Array.prototype.slice.call(n.getElementsByTagName("video-js")),i=e.concat(o,s);if(i&&i.length>0)for(r=0,u=i.length;r<u;r++)if(t=i[r],t&&t.getAttribute)t.player===undefined&&(f=t.getAttribute("data-setup"),f!==null&&dc(t));else{gc(1);break}else kc||gc(1)}};iu()&&n.readyState==="complete"?kc=!0:pf(t,"load",function(){kc=!0});var pw=function(t){var i=n.createElement("style");return i.className=t,i},ww=function(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t},o=function(n,t,i){t.guid||(t.guid=er());var r=function(){return t.apply(n,arguments)};return r.guid=i?i+"_"+t.guid:t.guid,r},ou=function(n,t){var i=Date.now();return function(){var r=Date.now();r-i>=t&&(n.apply(void 0,arguments),i=r)}},yft=function(n,i,r,u){u===void 0&&(u=t);var f,o=function(){u.clearTimeout(f);f=null},e=function(){var t=this,e=arguments,o=function(){f=null;o=null;r||n.apply(t,e)};!f&&r&&n.apply(t,e);u.clearTimeout(f);f=u.setTimeout(o,i)};return e.cancel=o,e},tt=function(){};tt.prototype.allowedEvents_={};tt.prototype.on=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};fi(this,n,t);this.addEventListener=i};tt.prototype.addEventListener=tt.prototype.on;tt.prototype.off=function(n,t){vt(this,n,t)};tt.prototype.removeEventListener=tt.prototype.off;tt.prototype.one=function(n,t){var i=this.addEventListener;this.addEventListener=function(){};pf(this,n,t);this.addEventListener=i};tt.prototype.trigger=function(n){var t=n.type||n;typeof n=="string"&&(n={type:t});n=eo(n);this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](n);eu(this,n)};tt.prototype.dispatchEvent=tt.prototype.trigger;tt.prototype.queueTrigger=function(n){var u=this,r,i,f,e;wf||(wf=new Map);r=n.type||n;i=wf.get(this);i||(i=new Map,wf.set(this,i));f=i.get(r);i.delete(r);t.clearTimeout(f);e=t.setTimeout(function(){i.size===0&&(i=null,wf.delete(u));u.trigger(n)},0);i.set(r,e)};var or=function(n){return n instanceof tt||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(t){return typeof n[t]=="function"})},pft=function(n,t){or(n)?t():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(t))},bw=function(n){return typeof n=="string"&&/\S/.test(n)||Array.isArray(n)&&!!n.length},nl=function(n){if(!n.nodeName&&!or(n))throw new Error("Invalid target; must be a DOM node or evented object.");},kw=function(n){if(!bw(n))throw new Error("Invalid event type; must be a non-empty string or array.");},dw=function(n){if(typeof n!="function")throw new Error("Invalid listener; must be a function.");},gw=function(n,t){var f=t.length<3||t[0]===n||t[0]===n.eventBusEl_,r,u,i;return f?(r=n.eventBusEl_,t.length>=3&&t.shift(),u=t[0],i=t[1]):(r=t[0],u=t[1],i=t[2]),nl(r),kw(u),dw(i),i=o(n,i),{isTargetingSelf:f,target:r,type:u,listener:i}},bf=function(n,t,i,r){nl(n);n.nodeName?aft[t](n,i,r):n[t](i,r)},wft={on:function(){for(var r,f,e=this,o=arguments.length,s=new Array(o),n=0;n<o;n++)s[n]=arguments[n];var t=gw(this,s),c=t.isTargetingSelf,u=t.target,h=t.type,i=t.listener;bf(u,"on",h,i);c||(r=function(){return e.off(u,h,i)},r.guid=i.guid,f=function(){return e.off("dispose",r)},f.guid=i.guid,bf(this,"on","dispose",r),bf(u,"on","dispose",f))},one:function(){for(var i,s=this,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];var t=gw(this,o),h=t.isTargetingSelf,r=t.target,u=t.type,f=t.listener;h?bf(r,"one",u,f):(i=function i(){s.off(r,u,i);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];f.apply(null,e)},i.guid=f.guid,bf(r,"one",u,i))},off:function(n,t,i){if(!n||bw(n))vt(this.eventBusEl_,n,t);else{var r=n,u=t;nl(r);kw(u);dw(i);i=o(this,i);this.off("dispose",i);r.nodeName?(vt(r,u,i),vt(r,"dispose",i)):or(r)&&(r.off(u,i),r.off("dispose",i))}},trigger:function(n,t){return eu(this.eventBusEl_,n,t)}};nb={state:{},setState:function(n){var i=this,t;return typeof n=="function"&&(n=n()),tu(n,function(n,r){i.state[r]!==n&&(t=t||{},t[r]={from:i.state[r],to:n});i.state[r]=n}),t&&or(this)&&this.trigger({changes:t,type:"statechanged"}),t}};r=function(){function i(n,t,i){if(this.player_=!n&&this.play?n=this:n,this.options_=y({},this.options_),t=this.options_=y(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=n&&n.id&&n.id()||"no_player";this.id_=r+"_component_"+er()}this.name_=t.name||null;t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl());t.evented!==!1&&tl(this,{eventBusKey:this.el_?"el_":null});tb(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};t.initChildren!==!1&&this.initChildren();this.ready(i);t.reportTouchActivity!==!1&&this.enableTouchActivity()}var n=i.prototype;return n.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),aw(this.el_),this.el_=null);this.player_=null},n.player=function(){return this.player_},n.options=function(n){return(c.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),!n)?this.options_:(this.options_=y(this.options_,n),this.options_)},n.el=function(){return this.el_},n.createEl=function(n,t,i){return k(n,t,i)},n.localize=function(n,t,i){i===void 0&&(i=n);var f=this.player_.language&&this.player_.language(),u=this.player_.languages&&this.player_.languages(),e=u&&u[f],s=f&&f.split("-")[0],o=u&&u[s],r=i;return e&&e[n]?r=e[n]:o&&o[n]&&(r=o[n]),t&&(r=r.replace(/\{(\d+)\}/g,function(n,i){var r=t[i-1],u=r;return typeof r=="undefined"&&(u=n),u})),r},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(n){return this.childIndex_[n]},n.getChild=function(n){if(n)return n=b(n),this.childNameIndex_[n]},n.addChild=function(n,t,r){var u,f,o,e,s,h;if(t===void 0&&(t={}),r===void 0&&(r=this.children_.length),typeof n=="string"){if(f=b(n),o=t.componentClass||f,t.name=f,e=i.getComponent(o),!e)throw new Error("Component "+o+" does not exist");if(typeof e!="function")return null;u=new e(this.player_||this,t)}else u=n;return this.children_.splice(r,0,u),typeof u.id=="function"&&(this.childIndex_[u.id()]=u),f=f||u.name&&b(u.name()),f&&(this.childNameIndex_[f]=u),typeof u.el=="function"&&u.el()&&(s=this.contentEl().children,h=s[r]||null,this.contentEl().insertBefore(u.el(),h)),u},n.removeChild=function(n){var i,t,r;if(typeof n=="string"&&(n=this.getChild(n)),n&&this.children_){for(i=!1,t=this.children_.length-1;t>=0;t--)if(this.children_[t]===n){i=!0;this.children_.splice(t,1);break}i&&(this.childIndex_[n.id()]=null,this.childNameIndex_[n.name()]=null,r=n.el(),r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el()))}},n.initChildren=function(){var t=this,n=this.options_.children;if(n){var u=this.options_,f=function(n){var r=n.name,i=n.opts,f;(u[r]!==undefined&&(i=u[r]),i!==!1)&&(i===!0&&(i={}),i.playerOptions=t.options_.playerOptions,f=t.addChild(r,i),f&&(t[r]=f))},r,e=i.getComponent("Tech");r=Array.isArray(n)?n:Object.keys(n);r.concat(Object.keys(this.options_).filter(function(n){return!r.some(function(t){return typeof t=="string"?n===t:n===t.name})})).map(function(i){var r,u;return typeof i=="string"?(r=i,u=n[r]||t.options_[r]||{}):(r=i.name,u=i),{name:r,opts:u}}).filter(function(n){var t=i.getComponent(n.opts.componentClass||b(n.name));return t&&!e.isTech(t)}).forEach(f)}},n.buildCSSClass=function(){return""},n.ready=function(n,t){if(t===void 0&&(t=!1),n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(n);return}t?n.call(this):this.setTimeout(n,1)}},n.triggerReady=function(){this.isReady_=!0;this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[];n&&n.length>0&&n.forEach(function(n){n.call(this)},this);this.trigger("ready")},1)},n.$=function(n,t){return ki(n,t||this.contentEl())},n.$$=function(n,t){return hw(n,t||this.contentEl())},n.hasClass=function(n){return ur(this.el_,n)},n.addClass=function(n){fr(this.el_,n)},n.removeClass=function(n){lf(this.el_,n)},n.toggleClass=function(n,t){nw(this.el_,n,t)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(n){return iw(this.el_,n)},n.setAttribute=function(n,t){af(this.el_,n,t)},n.removeAttribute=function(n){fo(this.el_,n)},n.width=function(n,t){return this.dimension("width",n,t)},n.height=function(n,t){return this.dimension("height",n,t)},n.dimensions=function(n,t){this.width(n,!0);this.height(t)},n.dimension=function(n,t,i){if(t!==undefined){(t===null||t!==t)&&(t=0);this.el_.style[n]=(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?t:t==="auto"?"":t+"px";i||this.trigger("componentresize");return}if(!this.el_)return 0;var r=this.el_.style[n],u=r.indexOf("px");return u!==-1?parseInt(r.slice(0,u),10):parseInt(this.el_["offset"+b(n)],10)},n.currentDimension=function(n){var i=0,r,u;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");return typeof t.getComputedStyle=="function"&&(r=t.getComputedStyle(this.el_),i=r.getPropertyValue(n)||r[n]),i=parseFloat(i),i===0&&(u="offset"+b(n),i=this.el_[u]),i},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.emitTapEvents=function(){var r=0,n=null,u=10,f=200,t,i;this.on("touchstart",function(i){i.touches.length===1&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},r=(new Date).getTime(),t=!0)});this.on("touchmove",function(i){if(i.touches.length>1)t=!1;else if(n){var r=i.touches[0].pageX-n.pageX,f=i.touches[0].pageY-n.pageY,e=Math.sqrt(r*r+f*f);e>u&&(t=!1)}});i=function(){t=!1};this.on("touchleave",i);this.on("touchcancel",i);this.on("touchend",function(i){if(n=null,t===!0){var u=(new Date).getTime()-r;u<f&&(i.preventDefault(),this.trigger("tap"))}})},n.enableTouchActivity=function(){var n,t,i;if(this.player()&&this.player().reportUserActivity){n=o(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){n();this.clearInterval(t);t=this.setInterval(n,250)});i=function(){n();this.clearInterval(t)};this.on("touchmove",n);this.on("touchend",i);this.on("touchcancel",i)}},n.setTimeout=function(n,i){var f=this,r,u;n=o(this,n);r=t.setTimeout(function(){f.off("dispose",u);n()},i);u=function(){return f.clearTimeout(r)};u.guid="vjs-timeout-"+r;this.on("dispose",u);return r},n.clearTimeout=function(n){t.clearTimeout(n);var i=function(){};return i.guid="vjs-timeout-"+n,this.off("dispose",i),n},n.setInterval=function(n,i){var f=this,r,u;n=o(this,n);r=t.setInterval(n,i);u=function(){return f.clearInterval(r)};u.guid="vjs-interval-"+r;this.on("dispose",u);return r},n.clearInterval=function(n){t.clearInterval(n);var i=function(){};return i.guid="vjs-interval-"+n,this.off("dispose",i),n},n.requestAnimationFrame=function(n){var u=this,i,r;if(this.supportsRaf_){n=o(this,n);i=t.requestAnimationFrame(function(){u.off("dispose",r);n()});r=function(){return u.cancelAnimationFrame(i)};r.guid="vjs-raf-"+i;this.on("dispose",r);return i}return this.setTimeout(n,1e3/60)},n.cancelAnimationFrame=function(n){if(this.supportsRaf_){t.cancelAnimationFrame(n);var i=function(){};return i.guid="vjs-raf-"+n,this.off("dispose",i),n}return this.clearTimeout(n)},i.registerComponent=function(n,t){var s,r,u,f;if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var e=i.getComponent("Tech"),o=e&&e.isTech(t),h=i===t||i.prototype.isPrototypeOf(t.prototype);if(o||!h){s=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass";throw new Error('Illegal component, "'+n+'"; '+s+".");}if(n=b(n),i.components_||(i.components_={}),r=i.getComponent("Player"),n==="Player"&&r&&r.players&&(u=r.players,f=Object.keys(u),u&&f.length>0&&f.map(function(n){return u[n]}).every(Boolean)))throw new Error("Can not register Player component after player has been created.");return i.components_[n]=t,t},i.getComponent=function(n){if(n)return n=b(n),i.components_&&i.components_[n]?i.components_[n]:void 0},i}();r.prototype.supportsRaf_=typeof t.requestAnimationFrame=="function"&&typeof t.cancelAnimationFrame=="function";r.registerComponent("Component",r);var it=t.navigator&&t.navigator.userAgent||"",ib=/AppleWebKit\/([\d.]+)/i.exec(it),kft=ib?parseFloat(ib.pop()):null,il=/iPad/i.test(it),rl=/iPhone/i.test(it)&&!il,rb=/iPod/i.test(it),vi=rl||il||rb,dft=function(){var n=it.match(/OS (\d+)_/i);return n&&n[1]?n[1]:null}(),sr=/Android/i.test(it),ul=function(){var n=it.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i),t,i;return n?(t=n[1]&&parseFloat(n[1]),i=n[2]&&parseFloat(n[2]),t&&i)?parseFloat(n[1]+"."+n[2]):t?t:null:null}(),ub=sr&&ul<5&&kft<537,fb=/Firefox/i.test(it),fl=/Edge/i.test(it),gi=!fl&&(/Chrome/i.test(it)||/CriOS/i.test(it)),eb=function(){var n=it.match(/(Chrome|CriOS)\/(\d+)/);return n&&n[2]?parseFloat(n[2]):null}(),ob=function(){var t=/MSIE\s(\d+)\.\d/.exec(it),n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(it)&&/rv:11.0/.test(it)&&(n=11),n}(),sb=/Safari/i.test(it)&&!gi&&!sr&&!fl,hb=(sb||vi)&&!gi,oo=iu()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),gft=Object.freeze({IS_IPAD:il,IS_IPHONE:rl,IS_IPOD:rb,IS_IOS:vi,IOS_VERSION:dft,IS_ANDROID:sr,ANDROID_VERSION:ul,IS_NATIVE_ANDROID:ub,IS_FIREFOX:fb,IS_EDGE:fl,IS_CHROME:gi,CHROME_VERSION:eb,IE_VERSION:ob,IS_SAFARI:sb,IS_ANY_SAFARI:hb,TOUCH_ENABLED:oo});var so={},ho=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],tet=ho[0],co;for(kf=0;kf<ho.length;kf++)if(ho[kf][1]in n){co=ho[kf];break}if(co)for(df=0;df<co.length;df++)so[tet[df]]=co[df];for(rt.prototype.code=0,rt.prototype.message="",rt.prototype.status=null,rt.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],rt.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},cr=0;cr<rt.errorTypes.length;cr++)rt[rt.errorTypes[cr]]=cr,rt.prototype[rt.errorTypes[cr]]=cr;ab=iet;var ol=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,i){return n[i]&&(t[i]=n[i]),t},{cues:n.cues&&Array.prototype.map.call(n.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},ret=function(n){var t=n.$$("track"),i=Array.prototype.map.call(t,function(n){return n.track}),r=Array.prototype.map.call(t,function(n){var t=ol(n.track);return n.src&&(t.src=n.src),t});return r.concat(Array.prototype.filter.call(n.textTracks(),function(n){return i.indexOf(n)===-1}).map(ol))},uet=function(n,t){return n.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(n){return i.addCue(n)})}),t.textTracks()},yb={textTracksToJson:ret,jsonToTextTracks:uet,trackToJson_:ol},sl="vjs-modal-dialog",fet=27,su=function(i){function u(n,t){var r;return r=i.call(this,n,t)||this,r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=k("div",{className:sl+"-content"},{role:"document"}),r.descEl_=k("p",{className:sl+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),ru(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}f(u,i);var r=u.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;i.prototype.dispose.call(this)},r.buildCSSClass=function(){return sl+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.handleKeyPress=function(n){n.which===fet&&this.closeable()&&this.close()},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},r.open=function(){if(!this.opened_){var n=this.player();if(this.trigger("beforemodalopen"),this.opened_=!0,!this.options_.fillAlways&&(this.hasBeenOpened_||this.hasBeenFilled_)||this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.closeable())this.on(this.el_.ownerDocument,"keydown",o(this,this.handleKeyPress));this.hadControls_=n.controls();n.controls(!1);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=!0}},r.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose");this.opened_=!1;this.wasPlaying_&&this.options_.pauseOnOpen&&n.play();this.closeable()&&this.off(this.el_.ownerDocument,"keydown",o(this,this.handleKeyPress));this.hadControls_&&n.controls(!0);this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();this.options_.temporary&&this.dispose()}},r.closeable=function(n){var i,t,r;if(typeof n=="boolean"){if(i=this.closeable_=!!n,t=this.getChild("closeButton"),i&&!t){r=this.contentEl_;this.contentEl_=this.el_;t=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=r;this.on(t,"close",this.close)}!i&&t&&(this.off(t,"close",this.close),this.removeChild(t),t.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(n){var t=this.contentEl(),i=t.parentNode,u=t.nextSibling,r;this.trigger("beforemodalfill");this.hasBeenFilled_=!0;i.removeChild(t);this.empty();sw(t,n);this.trigger("modalfill");u?i.insertBefore(t,u):i.appendChild(t);r=this.getChild("closeButton");r&&i.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty");yc(this.contentEl());this.trigger("modalempty")},r.content=function(n){return typeof n!="undefined"&&(this.content_=n),this.content_},r.conditionalFocus_=function(){var t=n.activeElement,i=this.player_.el_;if(this.previouslyActiveEl_=null,i.contains(t)||i===t){this.previouslyActiveEl_=t;this.focus();this.on(n,"keydown",this.handleKeyDown)}},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null);this.off(n,"keydown",this.handleKeyDown)},r.handleKeyDown=function(t){var i,f,u,r;if(t.which===9){for(i=this.focusableEls_(),f=this.el_.querySelector(":focus"),r=0;r<i.length;r++)if(f===i[r]){u=r;break}n.activeElement===this.el_&&(u=0);t.shiftKey&&u===0?(i[i.length-1].focus(),t.preventDefault()):t.shiftKey||u!==i.length-1||(i[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(n){return(n instanceof t.HTMLAnchorElement||n instanceof t.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof t.HTMLInputElement||n instanceof t.HTMLSelectElement||n instanceof t.HTMLTextAreaElement||n instanceof t.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof t.HTMLIFrameElement||n instanceof t.HTMLObjectElement||n instanceof t.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable")})},u}(r);su.prototype.options_={pauseOnOpen:!0,temporary:!0};r.registerComponent("ModalDialog",su);lr=function(n){function t(t){var i,r;for(t===void 0&&(t=[]),i=n.call(this)||this,i.tracks_=[],Object.defineProperty(e(e(i)),"length",{get:function(){return this.tracks_.length}}),r=0;r<t.length;r++)i.addTrack(t[r]);return i}f(t,n);var i=t.prototype;return i.addTrack=function(n){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}});this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack"}))},i.removeTrack=function(n){for(var t,i=0,r=this.length;i<r;i++)if(this[i]===n){t=this[i];t.off&&t.off();this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack"})},i.getTrackById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},t}(tt);lr.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(pb in lr.prototype.allowedEvents_)lr.prototype["on"+pb]=null;var hl=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].enabled=!1)},eet=function(n){function t(t){var r,i;for(t===void 0&&(t=[]),i=t.length-1;i>=0;i--)if(t[i].enabled){hl(t,t[i]);break}return r=n.call(this,t)||this,r.changing_=!1,r}f(t,n);var i=t.prototype;return i.addTrack=function(t){var i=this;(t.enabled&&hl(this,t),n.prototype.addTrack.call(this,t),t.addEventListener)&&t.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,hl(i,t),i.changing_=!1,i.trigger("change"))})},t}(lr),cl=function(n,t){for(var i=0;i<n.length;i++)Object.keys(n[i]).length&&t.id!==n[i].id&&(n[i].selected=!1)},oet=function(n){function t(t){var r,i;for(t===void 0&&(t=[]),i=t.length-1;i>=0;i--)if(t[i].selected){cl(t,t[i]);break}return r=n.call(this,t)||this,r.changing_=!1,Object.defineProperty(e(e(r)),"selectedIndex",{get:function(){for(var n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set:function(){}}),r}f(t,n);var i=t.prototype;return i.addTrack=function(t){var i=this;(t.selected&&cl(this,t),n.prototype.addTrack.call(this,t),t.addEventListener)&&t.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,cl(i,t),i.changing_=!1,i.trigger("change"))})},t}(lr),wb=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.addTrack=function(t){n.prototype.addTrack.call(this,t);t.addEventListener("modechange",o(this,function(){this.queueTrigger("change")}));["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",o(this,function(){this.trigger("selectedlanguagechange")}))},t}(lr),set=function(){function t(n){n===void 0&&(n=[]);this.trackElements_=[];Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var t=0,i=n.length;t<i;t++)this.addTrackElement_(n[t])}var n=t.prototype;return n.addTrackElement_=function(n){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}});this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},n.getTrackElementByTrack_=function(n){for(var i,t=0,r=this.trackElements_.length;t<r;t++)if(n===this.trackElements_[t].track){i=this.trackElements_[t];break}return i},n.removeTrackElement_=function(n){for(var t=0,i=this.trackElements_.length;t<i;t++)if(n===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},t}(),bb=function(){function n(t){n.prototype.setCues_.call(this,t);Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=n.prototype;return t.setCues_=function(n){var i=this.length||0,t=0,r=n.length,u;if(this.cues_=n,this.length_=n.length,u=function(n){""+n in this||Object.defineProperty(this,""+n,{get:function(){return this.cues_[n]}})},i<r)for(t=i;t<r;t++)u.call(this,t)},t.getCueById=function(n){for(var i,r=null,t=0,u=this.length;t<u;t++)if(i=this[t],i.id===n){r=i;break}return r},n}(),het={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},cet={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},aet={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},kb={disabled:"disabled",hidden:"hidden",showing:"showing"},ll=function(n){function t(t){var i,r,u,f;t===void 0&&(t={});i=n.call(this)||this;r={id:t.id||"vjs_track_"+er(),kind:t.kind||"",label:t.label||"",language:t.language||""};u=function(n){Object.defineProperty(e(e(i)),n,{get:function(){return r[n]},set:function(){}})};for(f in r)u(f);return i}return f(t,n),t}(tt),al=function(i){var o=["protocol","hostname","port","pathname","search","hash","host"],f=n.createElement("a"),s,u,r,e;for(f.href=i,s=f.host===""&&f.protocol!=="file:",s&&(u=n.createElement("div"),u.innerHTML='<a href="'+i+'"><\/a>',f=u.firstChild,u.setAttribute("style","display:none; position:absolute;"),n.body.appendChild(u)),r={},e=0;e<o.length;e++)r[o[e]]=f[o[e]];return r.protocol==="http:"&&(r.host=r.host.replace(/:80$/,"")),r.protocol==="https:"&&(r.host=r.host.replace(/:443$/,"")),r.protocol||(r.protocol=t.location.protocol),s&&n.body.removeChild(u),r},db=function(t){if(!t.match(/^https?:\/\//)){var i=n.createElement("div");i.innerHTML='<a href="'+t+'">x<\/a>';t=i.firstChild.href}return t},vl=function(n){if(typeof n=="string"){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase()}return""},lo=function(n){var i=t.location,r=al(n),u=r.protocol===":"?i.protocol:r.protocol;return u+r.host!==i.protocol+i.host},vet=Object.freeze({parseUrl:al,getAbsoluteURL:db,getFileExtension:vl,isCrossOrigin:lo}),yet=wet,pet=Object.prototype.toString;gb=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var ne=yl(function(n,t){function i(n){return n.replace(/^\s*|\s*$/g,"")}t=n.exports=i;t.left=function(n){return n.replace(/^\s*/,"")};t.right=function(n){return n.replace(/\s*$/,"")}}),pgt=ne.left,wgt=ne.right,nk=Function.prototype.toString,bet=/^\s*class\b/,tk=function(n){try{var t=nk.call(n);return bet.test(t)}catch(i){return!1}},ket=function(n){try{return tk(n)?!1:(nk.call(n),!0)}catch(t){return!1}},det=Object.prototype.toString,get="[object Function]",not="[object GeneratorFunction]",tot=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",iot=function(n){if(!n||typeof n!="function"&&typeof n!="object")return!1;if(typeof n=="function"&&!n.prototype)return!0;if(tot)return ket(n);if(tk(n))return!1;var t=det.call(n);return t===get||t===not},rot=Object.prototype.toString,ik=Object.prototype.hasOwnProperty,uot=function(n,t,i){for(var r=0,u=n.length;r<u;r++)ik.call(n,r)&&(i==null?t(n[r],r,n):t.call(i,n[r],r,n))},fot=function(n,t,i){for(var r=0,u=n.length;r<u;r++)i==null?t(n.charAt(r),r,n):t.call(i,n.charAt(r),r,n)},eot=function(n,t,i){for(var r in n)ik.call(n,r)&&(i==null?t(n[r],r,n):t.call(i,n[r],r,n))},oot=function(n,t,i){if(!iot(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=i);rot.call(n)==="[object Array]"?uot(n,t,r):typeof n=="string"?fot(n,t,r):eot(n,t,r)},sot=oot,hot=function(n){return Object.prototype.toString.call(n)==="[object Array]"},cot=function(n){if(!n)return{};var t={};return sot(ne(n).split("\n"),function(n){var u=n.indexOf(":"),i=ne(n.slice(0,u)).toLowerCase(),r=ne(n.slice(u+1));typeof t[i]=="undefined"?t[i]=r:hot(t[i])?t[i].push(r):t[i]=[t[i],r]}),t},lot=vot,aot=Object.prototype.hasOwnProperty;pl=nr;nr.XMLHttpRequest=t.XMLHttpRequest||bot;nr.XDomainRequest="withCredentials"in new nr.XMLHttpRequest?nr.XMLHttpRequest:t.XDomainRequest;yot(["get","put","post","patch","head","delete"],function(n){nr[n==="delete"?"del":n]=function(t,i,r){return i=rk(t,i,r),i.method=n.toUpperCase(),uk(i)}});var fk=function(n,i){var r=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),u=[];r.oncue=function(n){i.addCue(n)};r.onparsingerror=function(n){u.push(n)};r.onflush=function(){i.trigger({type:"loadeddata",target:i})};r.parse(n);u.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+i.src),u.forEach(function(n){return c.error(n)}),t.console&&t.console.groupEnd&&t.console.groupEnd());r.flush()},kot=function(n,i){var r={uri:n},u=lo(n);u&&(r.cors=u);pl(r,o(this,function(n,r,u){if(n)return c.error(n,r);if(i.loaded_=!0,r.rawRequest.responseURL&&(i.baseURL=r.rawRequest.responseURL),typeof t.WebVTT!="function"){if(i.tech_){var f=function(){return fk(u,i)};i.tech_.on("vttjsloaded",f);i.tech_.on("vttjserror",function(){c.error("vttjs failed to load, stopping trying to process "+i.src);i.tech_.off("vttjsloaded",f)})}}else fk(u,i)}))},te=function(n){function i(t){var i;if(t===void 0&&(t={}),!t.tech)throw new Error("A tech was not provided.");var r=y(t,{kind:aet[t.kind]||"subtitles",language:t.language||t.srclang||""}),u=kb[r.mode]||"disabled",c=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(u="hidden");i=n.call(this,r)||this;i.tech_=r.tech;i.cues_=[];i.activeCues_=[];var l=new bb(i.cues_),s=new bb(i.activeCues_),f=!1,h=o(e(e(i)),function(){this.activeCues=this.activeCues;f&&(this.trigger("cuechange"),f=!1)});return u!=="disabled"&&i.tech_.ready(function(){i.tech_.on("timeupdate",h)},!0),Object.defineProperties(e(e(i)),{"default":{get:function(){return c},set:function(){}},mode:{get:function(){return u},set:function(n){var t=this;kb[n]&&(u=n,u!=="disabled"?this.tech_.ready(function(){t.tech_.on("timeupdate",h)},!0):this.tech_.off("timeupdate",h),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){var i,t,r,e,n,u;if(!this.loaded_)return null;if(this.cues.length===0)return s;for(i=this.tech_.currentTime(),t=[],r=0,e=this.cues.length;r<e;r++)n=this.cues[r],n.startTime<=i&&n.endTime>=i?t.push(n):n.startTime===n.endTime&&n.startTime<=i&&n.startTime+.5>=i&&t.push(n);if(f=!1,t.length!==this.activeCues_.length)f=!0;else for(u=0;u<t.length;u++)this.activeCues_.indexOf(t[u])===-1&&(f=!0);return this.activeCues_=t,s.setCues_(this.activeCues_),s},set:function(){}}}),r.src?(i.src=r.src,kot(r.src,e(e(i)))):i.loaded_=!0,i}f(i,n);var r=i.prototype;return r.addCue=function(n){var i=n,u,f,r;if(t.vttjs&&!(n instanceof t.vttjs.VTTCue)){i=new t.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(u in n)u in i||(i[u]=n[u]);i.id=n.id;i.originalCue_=n}for(f=this.tech_.textTracks(),r=0;r<f.length;r++)f[r]!==this&&f[r].removeCue(i);this.cues_.push(i);this.cues.setCues_(this.cues_)},r.removeCue=function(n){for(var i=this.cues_.length,t;i--;)if(t=this.cues_[i],t===n||t.originalCue_&&t.originalCue_===n){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break}},i}(ll);te.prototype.allowedEvents_={cuechange:"cuechange"};var ek=function(n){function t(t){var i,r,u;return t===void 0&&(t={}),r=y(t,{kind:cet[t.kind]||""}),i=n.call(this,r)||this,u=!1,Object.defineProperty(e(e(i)),"enabled",{get:function(){return u},set:function(n){typeof n=="boolean"&&n!==u&&(u=n,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,i}return f(t,n),t}(ll),ok=function(n){function t(t){var i,r,u;return t===void 0&&(t={}),r=y(t,{kind:het[t.kind]||""}),i=n.call(this,r)||this,u=!1,Object.defineProperty(e(e(i)),"selected",{get:function(){return u},set:function(n){typeof n=="boolean"&&n!==u&&(u=n,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),i}return f(t,n),t}(ll),sk=0,hk=2,hu=function(n){function t(t){var i,u,r;return t===void 0&&(t={}),i=n.call(this)||this,r=new te(t),i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(e(e(i)),{readyState:{get:function(){return u}},track:{get:function(){return r}}}),u=sk,r.addEventListener("loadeddata",function(){u=hk;i.trigger({type:"load",target:e(e(i))})}),i}return f(t,n),t}(tt);hu.prototype.allowedEvents_={load:"load"};hu.NONE=sk;hu.LOADING=1;hu.LOADED=hk;hu.ERROR=3;yt={audio:{ListClass:eet,TrackClass:ek,capitalName:"Audio"},video:{ListClass:oet,TrackClass:ok,capitalName:"Video"},text:{ListClass:wb,TrackClass:te,capitalName:"Text"}};Object.keys(yt).forEach(function(n){yt[n].getterName=n+"Tracks";yt[n].privateName=n+"Tracks_"});cu={remoteText:{ListClass:wb,TrackClass:te,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:set,TrackClass:hu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};ct=y(yt,cu);cu.names=Object.keys(cu);yt.names=Object.keys(yt);ct.names=[].concat(cu.names).concat(yt.names);ao=Object.create||function(){function n(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return n.prototype=t,new n}}();pt.prototype=ao(Error.prototype);pt.prototype.constructor=pt;pt.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};ie.prototype={set:function(n,t){this.get(n)||t===""||(this.values[n]=t)},get:function(n,t,i){return i?this.has(n)?this.values[n]:t[i]:this.has(n)?this.values[n]:t},has:function(n){return n in this.values},alt:function(n,t,i){for(var r=0;r<i.length;++r)if(t===i[r]){this.set(n,t);break}},integer:function(n,t){/^-?\d+$/.test(t)&&this.set(n,parseInt(t,10))},percent:function(n,t){var i;return(i=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(n,t),!0):!1}};var got={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},nst={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},tst={v:"title",lang:"lang"},ck={rt:"ruby"};bl=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];vo.prototype.applyStyles=function(n,t){t=t||this.div;for(var i in n)n.hasOwnProperty(i)&&(t.style[i]=n[i])};vo.prototype.formatStyle=function(n,t){return n===0?0:n+t};yo.prototype=ao(vo.prototype);yo.prototype.constructor=yo;ut.prototype.move=function(n,t){t=t!==undefined?t:this.lineHeight;switch(n){case"+x":this.left+=t;this.right+=t;break;case"-x":this.left-=t;this.right-=t;break;case"+y":this.top+=t;this.bottom+=t;break;case"-y":this.top-=t;this.bottom-=t}};ut.prototype.overlaps=function(n){return this.left<n.right&&this.right>n.left&&this.top<n.bottom&&this.bottom>n.top};ut.prototype.overlapsAny=function(n){for(var t=0;t<n.length;t++)if(this.overlaps(n[t]))return!0;return!1};ut.prototype.within=function(n){return this.top>=n.top&&this.bottom<=n.bottom&&this.left>=n.left&&this.right<=n.right};ut.prototype.overlapsOppositeAxis=function(n,t){switch(t){case"+x":return this.left<n.left;case"-x":return this.right>n.right;case"+y":return this.top<n.top;case"-y":return this.bottom>n.bottom}};ut.prototype.intersectPercentage=function(n){var t=Math.max(0,Math.min(this.right,n.right)-Math.max(this.left,n.left)),i=Math.max(0,Math.min(this.bottom,n.bottom)-Math.max(this.top,n.top)),r=t*i;return r/(this.height*this.width)};ut.prototype.toCSSCompatValues=function(n){return{top:this.top-n.top,bottom:n.bottom-this.bottom,left:this.left-n.left,right:n.right-this.right,height:this.height,width:this.width}};ut.getSimpleBoxPosition=function(n){var t=n.div?n.div.offsetHeight:n.tagName?n.offsetHeight:0,r=n.div?n.div.offsetWidth:n.tagName?n.offsetWidth:0,i=n.div?n.div.offsetTop:n.tagName?n.offsetTop:0;return n=n.div?n.div.getBoundingClientRect():n.tagName?n.getBoundingClientRect():n,{left:n.left,right:n.right,top:n.top||i,height:n.height||t,bottom:n.bottom||i+(n.height||t),width:n.width||r}};lu.StringDecoder=function(){return{decode:function(n){if(!n)return"";if(typeof n!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(n))}}};lu.convertCueToDOMTree=function(n,t){return!n||!t?null:lk(n,t)};var est=.05,ost="sans-serif",sst="1.5%";lu.processCues=function(n,t,i){function o(n){for(var t=0;t<n.length;t++)if(n[t].hasBeenReset||!n[t].displayState)return!0;return!1}var r,u;if(!n||!t||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);if(r=n.document.createElement("div"),r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=sst,i.appendChild(r),!o(t)){for(u=0;u<t.length;u++)r.appendChild(t[u].displayState);return}var f=[],e=ut.getSimpleBoxPosition(r),s=Math.round(e.height*est*100)/100,h={font:s+"px "+ost};(function(){for(var i,u,o=0;o<t.length;o++)u=t[o],i=new yo(n,u,h),r.appendChild(i.div),fst(n,i,e,f),u.displayState=i.div,f.push(ut.getSimpleBoxPosition(i))})()};lu.Parser=function(n,t,i){i||(i=t,t={});t||(t={});this.window=n;this.vttjs=t;this.state="INITIAL";this.buffer="";this.decoder=i||new TextDecoder("utf8");this.regionList=[]};lu.Parser.prototype={reportOrThrowError:function(n){if(n instanceof pt)this.onparsingerror&&this.onparsingerror(n);else throw n;},parse:function(n){function f(){for(var i=t.buffer,n=0,r;n<i.length&&i[n]!=="\r"&&i[n]!=="\n";)++n;return r=i.substr(0,n),i[n]==="\r"&&++n,i[n]==="\n"&&++n,t.buffer=i.substr(n),r}function s(n){var i=new ie,r;re(n,function(n,t){var u,r;switch(n){case"id":i.set(n,t);break;case"width":i.percent(n,t);break;case"lines":i.integer(n,t);break;case"regionanchor":case"viewportanchor":if(u=t.split(","),u.length!==2)break;if(r=new ie,r.percent("x",u[0]),r.percent("y",u[1]),!r.has("x")||!r.has("y"))break;i.set(n+"X",r.get("x"));i.set(n+"Y",r.get("y"));break;case"scroll":i.alt(n,t,["up"])}},/=/,/\s/);i.has("id")&&(r=new(t.vttjs.VTTRegion||t.window.VTTRegion),r.width=i.get("width",100),r.lines=i.get("lines",3),r.regionAnchorX=i.get("regionanchorX",0),r.regionAnchorY=i.get("regionanchorY",100),r.viewportAnchorX=i.get("viewportanchorX",0),r.viewportAnchorY=i.get("viewportanchorY",100),r.scroll=i.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:i.get("id"),region:r}))}function h(n){var i=new ie;re(n,function(n,t){switch(n){case"MPEGT":i.integer(n+"S",t);break;case"LOCA":i.set(n+"L",wl(t))}},/[^\d]:/,/,/);t.ontimestampmap&&t.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function c(n){n.match(/X-TIMESTAMP-MAP/)?re(n,function(n,t){switch(n){case"X-TIMESTAMP-MAP":h(t)}},/=/):re(n,function(n,t){switch(n){case"Region":s(t)}},/:/)}var t=this,i,u,r,o;n&&(t.buffer+=t.decoder.decode(n,{stream:!0}));try{if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;if(i=f(),u=i.match(/^WEBVTT([ \t].*)?$/),!u||!u[0])throw new pt(pt.Errors.BadSignature);t.state="HEADER"}for(r=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;r?r=!1:i=f();switch(t.state){case"HEADER":/:/.test(i)?c(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,""),t.state="CUE",i.indexOf("-->")===-1){t.cue.id=i;continue}case"CUE":try{dot(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e);t.cue=null;t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":if(o=i.indexOf("-->")!==-1,!i||o&&(r=!0)){t.oncue&&t.oncue(t.cue);t.cue=null;t.state="ID";continue}t.cue.text&&(t.cue.text+="\n");t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){if(t.reportOrThrowError(e),t.state==="CUETEXT"&&t.cue&&t.oncue)t.oncue(t.cue);t.cue=null;t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var n=this;try{if(n.buffer+=n.decoder.decode(),(n.cue||n.state==="HEADER")&&(n.buffer+="\n\n",n.parse()),n.state==="INITIAL")throw new pt(pt.Errors.BadSignature);}catch(t){n.reportOrThrowError(t)}return n.onflush&&n.onflush(),this}};var hst=lu,cst="auto",lst={"":1,lr:1,rl:1},ast={start:1,middle:1,end:1,left:1,right:1};ak.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};vk=ak;yk={"":!0,up:!0};var wst=pst,fe=yl(function(n){var i=n.exports={WebVTT:hst,VTTCue:vk,VTTRegion:wst};t.vttjs=i;t.WebVTT=i.WebVTT;var r=i.VTTCue,u=i.VTTRegion,f=t.VTTCue,e=t.VTTRegion;i.shim=function(){t.VTTCue=r;t.VTTRegion=u};i.restore=function(){t.VTTCue=f;t.VTTRegion=e};t.VTTCue||i.shim()}),fnt=fe.WebVTT,ent=fe.VTTCue,ont=fe.VTTRegion;v=function(i){function u(n,t){var r;n===void 0&&(n={});t===void 0&&(t=function(){});n.reportTouchActivity=!1;r=i.call(this,null,n,t)||this;r.hasStarted_=!1;r.on("playing",function(){this.hasStarted_=!0});r.on("loadstart",function(){this.hasStarted_=!1});return ct.names.forEach(function(t){var i=ct[t];n&&n[i.getterName]&&(r[i.privateName]=n[i.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(t){n["native"+t+"Tracks"]===!1&&(r["featuresNative"+t+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?r.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new ct.text.ListClass,r.initTrackListeners(),n.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}f(u,i);var r=u.prototype;return r.triggerSourceset=function(n){var t=this;if(!this.isReady_)this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(n)},1)});this.trigger({src:n,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange);this.manualProgress=!0;this.one("ready",this.trackProgress)},r.manualProgressOff=function(){this.manualProgress=!1;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange)},r.trackProgress=function(){this.stopTrackingProgress();this.progressInterval=this.setInterval(o(this,function(){var n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress");this.bufferedPercent_=n;n===1&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(){this.duration_=this.duration()},r.buffered=function(){return hr(0,0)},r.bufferedPercent=function(){return lb(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0;this.on("play",this.trackCurrentTime);this.on("pause",this.stopTrackingCurrentTime)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime);this.off("pause",this.stopTrackingCurrentTime)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime();this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(yt.names);this.manualProgress&&this.manualProgressOff();this.manualTimeUpdates&&this.manualTimeUpdatesOff();i.prototype.dispose.call(this)},r.clearTracks=function(n){var t=this;n=[].concat(n);n.forEach(function(n){for(var i=t[n+"Tracks"]()||[],u=i.length,r;u--;)r=i[u],n==="text"&&t.removeRemoteTextTrack(r),i.removeTrack(r)})},r.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],t=n.length,i;t--;)i=n[t],this.removeRemoteTextTrack(i)},r.reset=function(){},r.error=function(n){return n!==undefined&&(this.error_=new rt(n),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?hr(0,0):hr()},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var n=this;yt.names.forEach(function(t){var u=yt[t],i=function(){n.trigger(t+"trackchange")},r=n[u.getterName]();r.addEventListener("removetrack",i);r.addEventListener("addtrack",i);n.on("dispose",function(){r.removeEventListener("removetrack",i);r.removeEventListener("addtrack",i)})})},r.addWebVttScript_=function(){var r=this,i;if(!t.WebVTT)if(n.body.contains(this.el())){if(!this.options_["vtt.js"]&&hf(fe)&&Object.keys(fe).length>0){this.trigger("vttjsloaded");return}i=n.createElement("script");i.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js";i.onload=function(){r.trigger("vttjsloaded")};i.onerror=function(){r.trigger("vttjserror")};this.on("dispose",function(){i.onload=null;i.onerror=null});t.WebVTT=!0;this.el().parentNode.appendChild(i)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var e=this,n=this.textTracks(),r=this.remoteTextTracks(),u=function(t){return n.addTrack(t.track)},f=function(t){return n.removeTrack(t.track)},i,t;r.on("addtrack",u);r.on("removetrack",f);this.addWebVttScript_();i=function(){return e.trigger("texttrackchange")};t=function(){var t,r;for(i(),t=0;t<n.length;t++)r=n[t],r.removeEventListener("cuechange",i),r.mode==="showing"&&r.addEventListener("cuechange",i)};t();n.addEventListener("change",t);n.addEventListener("addtrack",t);n.addEventListener("removetrack",t);this.on("dispose",function(){var e,o;for(r.off("addtrack",u),r.off("removetrack",f),n.removeEventListener("change",t),n.removeEventListener("addtrack",t),n.removeEventListener("removetrack",t),e=0;e<n.length;e++)o=n[e],o.removeEventListener("cuechange",i)})},r.addTextTrack=function(n,t,i){if(!n)throw new Error("TextTrack kind is required but was not provided");return bst(this,n,t,i)},r.createRemoteTextTrack=function(n){var t=y(n,{tech:this});return new cu.remoteTextEl.TrackClass(t)},r.addRemoteTextTrack=function(n,t){var r=this,i;return n===void 0&&(n={}),i=this.createRemoteTextTrack(n),t!==!0&&t!==!1&&(c.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),t=!0),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),t!==!0&&this.ready(function(){return r.autoRemoteTextTracks_.addTrack(i.track)}),i},r.removeRemoteTextTrack=function(n){var t=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(t);this.remoteTextTracks().removeTrack(n);this.autoRemoteTextTracks_.removeTrack(n)},r.getVideoPlaybackQuality=function(){return{}},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},u.canPlayType=function(){return""},u.canPlaySource=function(n){return u.canPlayType(n.type)},u.isTech=function(n){return n.prototype instanceof u||n instanceof u||n===u},u.registerTech=function(n,t){if(u.techs_||(u.techs_={}),!u.isTech(t))throw new Error("Tech "+n+" must be a Tech");if(!u.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!u.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=b(n),u.techs_[n]=t,n!=="Tech"&&u.defaultTechOrder_.push(n),t},u.getTech=function(n){if(n)return(n=b(n),u.techs_&&u.techs_[n])?u.techs_[n]:t&&t.videojs&&t.videojs[n]?(c.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[n]):void 0},u}(r);ct.names.forEach(function(n){var t=ct[n];v.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});v.prototype.featuresVolumeControl=!0;v.prototype.featuresMuteControl=!0;v.prototype.featuresFullscreenResize=!1;v.prototype.featuresPlaybackRate=!1;v.prototype.featuresProgressEvents=!1;v.prototype.featuresSourceset=!1;v.prototype.featuresTimeupdateEvents=!1;v.prototype.featuresNativeTextTracks=!1;v.withSourceHandlers=function(n){n.registerSourceHandler=function(t,i){var r=n.sourceHandlers;r||(r=n.sourceHandlers=[]);i===undefined&&(i=r.length);r.splice(i,0,t)};n.canPlayType=function(t){for(var u=n.sourceHandlers||[],i,r=0;r<u.length;r++)if(i=u[r].canPlayType(t),i)return i;return""};n.selectSourceHandler=function(t,i){for(var u=n.sourceHandlers||[],f,r=0;r<u.length;r++)if(f=u[r].canHandleSource(t,i),f)return u[r];return null};n.canPlaySource=function(t,i){var r=n.selectSourceHandler(t,i);return r?r.canHandleSource(t,i):""};["seekable","seeking","duration","currentTime","setCurrentTime"].forEach(function(n){var t=this[n];typeof t=="function"&&(this[n]=function(){return!this.hls&&this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},n.prototype);n.prototype.setSource=function(t){var i=n.selectSourceHandler(t,this.options_);i||(n.nativeSourceHandler?i=n.nativeSourceHandler:c.error("No source handler found for the current source."));this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler);i!==n.nativeSourceHandler&&(this.currentSource_=t);this.sourceHandler_=i.handleSource(t,this,this.options_);this.on("dispose",this.disposeSourceHandler)};n.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null);this.cleanupAutoTextTracks();this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};r.registerComponent("Tech",v);v.registerTech("Tech",v);v.defaultTechOrder_=[];var ar={},dl={},po={};var tht={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},iht={setCurrentTime:1},bk={play:1,pause:1};var eht={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},kk=function(n){n===void 0&&(n="");var t=vl(n),i=eht[t.toLowerCase()];return i||""},oht=function(n,t){var u,f,r,i;if(!t)return"";if(n.cache_.source.src===t&&n.cache_.source.type)return n.cache_.source.type;if(u=n.cache_.sources.filter(function(n){return n.src===t}),u.length)return u[0].type;for(f=n.$$("source"),r=0;r<f.length;r++)if(i=f[r],i.type&&i.src&&i.src===t)return i.type;return kk(t)},dk=function dk(n){if(Array.isArray(n)){var t=[];n.forEach(function(n){n=dk(n);Array.isArray(n)?t=t.concat(n):bi(n)&&t.push(n)});n=t}else n=typeof n=="string"&&n.trim()?[gk({src:n})]:bi(n)&&typeof n.src=="string"&&n.src&&n.src.trim()?[gk(n)]:[];return n};nd=function(n){function t(t,i,u){var h,c=y({createEl:!1},i),e,s,f,o;if(h=n.call(this,t,c,u)||this,i.playerOptions.sources&&i.playerOptions.sources.length!==0)t.src(i.playerOptions.sources);else for(e=0,s=i.playerOptions.techOrder;e<s.length;e++)if(f=b(s[e]),o=v.getTech(f),f||(o=r.getComponent(f)),o&&o.isSupported()){t.loadTech_(f);break}return h}return f(t,n),t}(r);r.registerComponent("MediaLoader",nd);ee=function(t){function r(n,i){var r;return r=t.call(this,n,i)||this,r.emitTapEvents(),r.enable(),r}f(r,t);var i=r.prototype;return i.createEl=function(n,i,r){n===void 0&&(n="div");i===void 0&&(i={});r===void 0&&(r={});i=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass(),tabIndex:0},i);n==="button"&&c.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead.");r=p({role:"button"},r);this.tabIndex_=i.tabIndex;var u=t.prototype.createEl.call(this,n,i,r);return this.createControlTextEl(u),u},i.dispose=function(){this.controlTextEl_=null;t.prototype.dispose.call(this)},i.createControlTextEl=function(n){return this.controlTextEl_=k("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},i.controlText=function(n,t){if(t===void 0&&(t=this.el()),n===undefined)return this.controlText_||"Need Text";var i=this.localize(n);this.controlText_=n;ru(this.controlTextEl_,i);this.nonIconControl||t.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){if(!this.enabled_){this.enabled_=!0;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");typeof this.tabIndex_!="undefined"&&this.el_.setAttribute("tabIndex",this.tabIndex_);this.on(["tap","click"],this.handleClick);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur)}},i.disable=function(){this.enabled_=!1;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");typeof this.tabIndex_!="undefined"&&this.el_.removeAttribute("tabIndex");this.off(["tap","click"],this.handleClick);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur)},i.handleClick=function(){},i.handleFocus=function(){fi(n,"keydown",o(this,this.handleKeyPress))},i.handleKeyPress=function(n){n.which===32||n.which===13?(n.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,n)},i.handleBlur=function(){vt(n,"keydown",o(this,this.handleKeyPress))},r}(r);r.registerComponent("ClickableComponent",ee);td=function(n){function i(t,i){var r;r=n.call(this,t,i)||this;r.update();t.on("posterchange",o(e(e(r)),r.update));return r}f(i,n);var t=i.prototype;return t.dispose=function(){this.player().off("posterchange",this.update);n.prototype.dispose.call(this)},t.createEl=function(){return k("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(){var n=this.player().poster();this.setSrc(n);n?this.show():this.hide()},t.setSrc=function(n){var t="";n&&(t='url("'+n+'")');this.el_.style.backgroundImage=t},t.handleClick=function(){this.player_.controls()&&(this.player_.paused()?gf(this.player_.play()):this.player_.pause())},i}(ee);r.registerComponent("PosterImage",td);var kt="#222",id="#ccc",sht={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};rd=function(n){function r(i,r,u){var f,s;f=n.call(this,i,r,u)||this;s=o(e(e(f)),f.updateDisplay);i.on("loadstart",o(e(e(f)),f.toggleDisplay));i.on("texttrackchange",s);i.on("loadedmetadata",o(e(e(f)),f.preselectTrack));return i.ready(o(e(e(f)),function(){var r,n;if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",s);i.on("playerresize",s);t.addEventListener("orientationchange",s);i.on("dispose",function(){return t.removeEventListener("orientationchange",s)});for(r=this.options_.playerOptions.tracks||[],n=0;n<r.length;n++)this.player_.addRemoteTextTrack(r[n],!0);this.preselectTrack()})),f}f(r,n);var i=r.prototype;return i.preselectTrack=function(){for(var n,e={captions:1,subtitles:1},o=this.player_.textTracks(),t=this.player_.cache_.selectedLanguage,r,u,i,f=0;f<o.length;f++)n=o[f],t&&t.enabled&&t.language&&t.language===n.language&&n.kind in e?n.kind===t.kind?i=n:i||(i=n):t&&!t.enabled?(i=null,r=null,u=null):n.default&&(n.kind!=="descriptions"||r?n.kind in e&&!u&&(u=n):r=n);i?i.mode="showing":u?u.mode="showing":r&&(r.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof t.WebVTT=="function"&&t.WebVTT.processCues(t,[],this.el_)},i.updateDisplay=function(){var r=this.player_.textTracks(),n;this.clearDisplay();for(var t=null,i=null,u=r.length;u--;)n=r[u],n.mode==="showing"&&(n.kind==="descriptions"?t=n:i=n);i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):t&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},i.updateForTrack=function(n){var u,f,i,e,o,r,s;if(typeof t.WebVTT=="function"&&n.activeCues){for(u=[],f=0;f<n.activeCues.length;f++)u.push(n.activeCues[f]);if(t.WebVTT.processCues(t,u,this.el_),this.player_.textTrackSettings)for(i=this.player_.textTrackSettings.getValues(),e=u.length;e--;)(o=u[e],o)&&(r=o.displayState,i.color&&(r.firstChild.style.color=i.color),i.textOpacity&&ta(r.firstChild,"color",na(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(r.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&ta(r.firstChild,"backgroundColor",na(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?ta(r,"backgroundColor",na(i.windowColor,i.windowOpacity)):r.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?r.firstChild.style.textShadow="2px 2px 3px "+kt+", 2px 2px 4px "+kt+", 2px 2px 5px "+kt:i.edgeStyle==="raised"?r.firstChild.style.textShadow="1px 1px "+kt+", 2px 2px "+kt+", 3px 3px "+kt:i.edgeStyle==="depressed"?r.firstChild.style.textShadow="1px 1px "+id+", 0 1px "+id+", -1px -1px "+kt+", 0 -1px "+kt:i.edgeStyle==="uniform"&&(r.firstChild.style.textShadow="0 0 4px "+kt+", 0 0 4px "+kt+", 0 0 4px "+kt+", 0 0 4px "+kt)),i.fontPercent&&i.fontPercent!==1&&(s=t.parseFloat(r.style.fontSize),r.style.fontSize=s*i.fontPercent+"px",r.style.height="auto",r.style.top="auto",r.style.bottom="2px"),i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=sht[i.fontFamily]))}},r}(r);r.registerComponent("TextTrackDisplay",rd);ud=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){var i=this.player_.isAudio(),r=this.localize(i?"Audio Player":"Video Player"),u=k("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[r])}),t=n.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(u),t},t}(r);r.registerComponent("LoadingSpinner",ud);ei=function(n){function i(){return n.apply(this,arguments)||this}f(i,n);var t=i.prototype;return t.createEl=function(n,t,i){t===void 0&&(t={});i===void 0&&(i={});n="button";t=p({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"><\/span>',className:this.buildCSSClass()},t);i=p({type:"button"},i);var u=r.prototype.createEl.call(this,n,t,i);return this.createControlTextEl(u),u},t.addChild=function(n,t){t===void 0&&(t={});var i=this.constructor.name;return c.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),r.prototype.addChild.call(this,n,t)},t.enable=function(){n.prototype.enable.call(this);this.el_.removeAttribute("disabled")},t.disable=function(){n.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")},t.handleKeyPress=function(t){t.which!==32&&t.which!==13&&n.prototype.handleKeyPress.call(this,t)},i}(ee);r.registerComponent("Button",ei);ia=function(n){function i(t,i){var r;r=n.call(this,t,i)||this;r.mouseused_=!1;r.on("mousedown",r.handleMouseDown);return r}f(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(n){var t=this.player_.play(),i,r,u;if(this.mouseused_&&n.clientX&&n.clientY){gf(t);return}if(i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle"),!r){this.player_.focus();return}u=function(){return r.focus()};vb(t)?t.then(u,function(){}):this.setTimeout(u,1)},t.handleKeyPress=function(t){this.mouseused_=!1;n.prototype.handleKeyPress.call(this,t)},t.handleMouseDown=function(){this.mouseused_=!0},i}(ei);ia.prototype.controlText_="Play Video";r.registerComponent("BigPlayButton",ia);fd=function(n){function t(t,i){var r;return r=n.call(this,t,i)||this,r.controlText(i&&i.controlText||r.localize("Close")),r}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+n.prototype.buildCSSClass.call(this)},i.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(ei);r.registerComponent("CloseButton",fd);ra=function(n){function i(t,i){var r;i===void 0&&(i={});r=n.call(this,t,i)||this;i.replay=i.replay===undefined||i.replay;r.on(t,"play",r.handlePlay);r.on(t,"pause",r.handlePause);if(i.replay)r.on(t,"ended",r.handleEnded);return r}f(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleSeeked=function(n){this.removeClass("vjs-ended");this.player_.paused()?this.handlePause(n):this.handlePlay(n)},t.handlePlay=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")},t.handlePause=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")},t.handleEnded=function(){this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",this.handleSeeked)},i}(ei);ra.prototype.controlText_="Play";r.registerComponent("PlayToggle",ra);ua=function(n,t){n=n<0?0:n;var i=Math.floor(n%60),r=Math.floor(n/60%60),u=Math.floor(n/3600),f=Math.floor(t/60%60),e=Math.floor(t/3600);return(isNaN(n)||n===Infinity)&&(u=r=i="-"),u=u>0||e>0?u+":":"",r=((u||f>=10)&&r<10?"0"+r:r)+":",i=i<10?"0"+i:i,u+r+i};wo=ua;yr=function(t){function r(n,i){var r;r=t.call(this,n,i)||this;r.throttledUpdateContent=ou(o(e(e(r)),r.updateContent),25);r.on(n,"timeupdate",r.throttledUpdateContent);return r}f(r,t);var i=r.prototype;return i.createEl=function(){var n=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" <\/span>"});return this.contentEl_=k("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),i.appendChild(this.contentEl_),i},i.dispose=function(){this.contentEl_=null;this.textNode_=null;t.prototype.dispose.call(this)},i.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=n.createTextNode(this.formattedTime_||this.formatTime_(0));this.contentEl_.appendChild(this.textNode_)}},i.formatTime_=function(n){return au(n)},i.updateFormattedTime_=function(n){var t=this.formatTime_(n);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},i.updateContent=function(){},r}(r);yr.prototype.labelText_="Time";yr.prototype.controlText_="Time";r.registerComponent("TimeDisplay",yr);bo=function(n){function t(t,i){var r=n.call(this,t,i)||this;r.on(t,"ended",r.handleEnded);return r}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(n)},i.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(yr);bo.prototype.labelText_="Current Time";bo.prototype.controlText_="Current Time";r.registerComponent("CurrentTimeDisplay",bo);ko=function(n){function t(t,i){var r=n.call(this,t,i)||this;r.on(t,"durationchange",r.updateContent);r.on(t,"loadstart",r.updateContent);r.on(t,"loadedmetadata",r.throttledUpdateContent);return r}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(){var n=this.player_.duration();this.duration_!==n&&(this.duration_=n,this.updateFormattedTime_(n))},t}(yr);ko.prototype.labelText_="Duration";ko.prototype.controlText_="Duration";r.registerComponent("DurationDisplay",ko);ed=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/<\/span><\/div>"},{"aria-hidden":!0})},t}(r);r.registerComponent("TimeDivider",ed);go=function(n){function i(t,i){var r=n.call(this,t,i)||this;r.on(t,"durationchange",r.throttledUpdateContent);r.on(t,"ended",r.handleEnded);return r}f(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.formatTime_=function(t){return"-"+n.prototype.formatTime_.call(this,t)},t.updateContent=function(){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.handleEnded=function(){this.player_.duration()&&this.updateFormattedTime_(0)},i}(yr);go.prototype.labelText_="Remaining Time";go.prototype.controlText_="Remaining Time";r.registerComponent("RemainingTimeDisplay",go);od=function(n){function t(t,i){var r;r=n.call(this,t,i)||this;r.updateShowing();r.on(r.player(),"durationchange",r.updateShowing);return r}f(t,n);var i=t.prototype;return i.createEl=function(){var t=n.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=k("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" <\/span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},i.dispose=function(){this.contentEl_=null;n.prototype.dispose.call(this)},i.updateShowing=function(){this.player().duration()===Infinity?this.show():this.hide()},t}(r);r.registerComponent("LiveDisplay",od);fa=function(n){function i(t,i){var r;if(r=n.call(this,t,i)||this,r.updateLiveEdgeStatus(),r.player_.liveTracker)r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatus);return r}f(i,n);var t=i.prototype;return t.createEl=function(){var t=n.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=k("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},t.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus);this.textEl_=null;n.prototype.dispose.call(this)},i}(ei);fa.prototype.controlText_="Seek to live, currently playing live";r.registerComponent("SeekToLive",fa);ns=function(n){function i(t,i){var r;return r=n.call(this,t,i)||this,r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}f(i,n);var t=i.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){if(!this.enabled()){this.on("mousedown",this.handleMouseDown);this.on("touchstart",this.handleMouseDown);this.on("focus",this.handleFocus);this.on("blur",this.handleBlur);this.on("click",this.handleClick);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent)this.on(this.player_,this.playerEvent,this.update);this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=!0}},t.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown);this.off("touchstart",this.handleMouseDown);this.off("focus",this.handleFocus);this.off("blur",this.handleBlur);this.off("click",this.handleClick);this.off(this.player_,"controlsvisible",this.update);this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.removeAttribute("tabindex");this.addClass("disabled");this.playerEvent&&this.off(this.player_,this.playerEvent,this.update);this.enabled_=!1}},t.createEl=function(t,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i.className=i.className+" vjs-slider",i=p({tabIndex:0},i),r=p({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),n.prototype.createEl.call(this,t,i,r)},t.handleMouseDown=function(n){var t=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault();n.type!=="touchstart"||gi||n.preventDefault();rw();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(t,"mousemove",this.handleMouseMove);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchmove",this.handleMouseMove);this.on(t,"touchend",this.handleMouseUp);this.handleMouseMove(n)},t.handleMouseMove=function(){},t.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;uw();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(n,"mousemove",this.handleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchmove",this.handleMouseMove);this.off(n,"touchend",this.handleMouseUp);this.update()},t.update=function(){var n,t,i,r;if(this.el_)return(n=this.getPercent(),t=this.bar,!t)?void 0:((typeof n!="number"||n!==n||n<0||n===Infinity)&&(n=0),i=(n*100).toFixed(2)+"%",r=t.el().style,this.vertical()?r.height=i:r.width=i,n)},t.calculateDistance=function(n){var t=vc(this.el_,n);return this.vertical()?t.y:t.x},t.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.handleKeyPress=function(n){n.which===37||n.which===40?(n.preventDefault(),this.stepBack()):(n.which===38||n.which===39)&&(n.preventDefault(),this.stepForward())},t.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.handleClick=function(n){n.stopImmediatePropagation();n.preventDefault()},t.vertical=function(n){if(n===undefined)return this.vertical_||!1;this.vertical_=!!n;this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},i}(r);r.registerComponent("Slider",ns);sd=function(n){function t(t,i){var r;r=n.call(this,t,i)||this;r.partEls_=[];r.on(t,"progress",r.update);return r}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'<\/span>: <span class="vjs-control-text-loaded-percentage">0%<\/span><\/span>'})},i.dispose=function(){this.partEls_=null;n.prototype.dispose.call(this)},i.update=function(){var o=this.player_.liveTracker,t=this.player_.buffered(),s=o&&o.isLive()?o.seekableEnd():this.player_.duration(),u=this.player_.bufferedEnd(),i=this.partEls_,c=this.$(".vjs-control-text-loaded-percentage"),f=function(n,t,i){var r=n/t||0;return r=(r>=1?1:r)*100,i&&(r=r.toFixed(2)),r+"%"},n,e;for(this.el_.style.width=f(u,s),ru(c,f(u,s,!0)),n=0;n<t.length;n++){var h=t.start(n),l=t.end(n),r=i[n];r||(r=this.el_.appendChild(k()),i[n]=r);r.style.left=f(h,u);r.style.width=f(l-h,u)}for(e=i.length;e>t.length;e--)this.el_.removeChild(i[e-1]);i.length=t.length},t}(r);r.registerComponent("LoadProgressBar",sd);hd=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(n,t,i){var u=vf(this.el_),f=vf(this.player_.el()),e=n.width*t;if(f&&u){var o=n.left-f.left+e,s=n.width-e+(f.right-n.right),r=u.width/2;o<r?r+=r-o:s<r&&(r=s);r<0?r=0:r>u.width&&(r=u.width);this.el_.style.right="-"+r+"px";ru(this.el_,i)}},i.updateTime=function(n,t,i,r){var u=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_);this.rafId_=this.requestAnimationFrame(function(){var e,s=u.player_.duration(),f,o;u.player_.liveTracker&&u.player_.liveTracker.isLive()?(f=u.player_.liveTracker.liveWindow(),o=f-t*f,e=(o<1?"":"-")+au(o,f)):e=au(i,s);u.update(n,t,e);r&&r()})},t}(r);r.registerComponent("TimeTooltip",hd);ts=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(n,t){var i=this.getChild("timeTooltip"),r;i&&(r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),i.updateTime(n,t,r))},t}(r);ts.prototype.options_={children:[]};vi||sr||ts.prototype.options_.children.push("timeTooltip");r.registerComponent("PlayProgressBar",ts);ea=function(n){function t(t,i){var r;return r=n.call(this,t,i)||this,r.update=ou(o(e(e(r)),r.update),25),r}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,t){var i=this,r=t*this.player_.duration();this.getChild("timeTooltip").updateTime(n,t,r,function(){i.el_.style.left=n.width*t+"px"})},t}(r);ea.prototype.options_={children:["timeTooltip"]};r.registerComponent("MouseTimeDisplay",ea);var cd=5,ld=30,is=function(n){function i(t,i){var r;return r=n.call(this,t,i)||this,r.setEventHandlers_(),r}f(i,n);var t=i.prototype;return t.setEventHandlers_=function(){var n=this;this.update=ou(o(this,this.update),ld);this.on(this.player_,"timeupdate",this.update);this.on(this.player_,"ended",this.handleEnded);this.on(this.player_,"durationchange",this.update);if(this.player_.liveTracker)this.on(this.player_.liveTracker,"liveedgechange",this.update);this.updateInterval=null;this.on(this.player_,["playing"],function(){n.clearInterval(n.updateInterval);n.updateInterval=n.setInterval(function(){n.requestAnimationFrame(function(){n.update()})},ld)});this.on(this.player_,["ended","pause","waiting"],function(t){n.player_.liveTracker&&n.player_.liveTracker.isLive()&&t.type!=="ended"||n.clearInterval(n.updateInterval)});this.on(this.player_,["timeupdate","ended"],this.update)},t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update_=function(n,t){var i=this.player_.liveTracker,r=this.player_.duration();i&&i.isLive()&&(r=this.player_.liveTracker.liveCurrentTime());i&&i.seekableEnd()===Infinity?this.disable():this.enable();this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2));this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[au(n,r),au(r,r)],"{1} of {2}"));this.bar.update(vf(this.el_),t)},t.update=function(){var t=n.prototype.update.call(this);return this.update_(this.getCurrentTime_(),t),t},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.handleEnded=function(){this.update_(this.player_.duration(),1)},t.getPercent=function(){var i=this.getCurrentTime_(),n,t=this.player_.liveTracker;return t&&t.isLive()?(n=(i-t.seekableStart())/t.liveWindow(),t.atLiveEdge()&&(n=1)):n=i/this.player_.duration(),n>=1?1:n||0},t.handleMouseDown=function(t){uu(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),n.prototype.handleMouseDown.call(this,t))},t.handleMouseMove=function(n){var t,u,i,r,f;if(uu(n)){if(u=this.calculateDistance(n),i=this.player_.liveTracker,i&&i.isLive()){if(r=i.seekableStart(),f=i.liveCurrentTime(),t=r+u*i.liveWindow(),t>=f&&(t=f),t<=r&&(t=r+.1),t===Infinity)return}else t=u*this.player_.duration(),t===this.player_.duration()&&(t=t-.1);this.player_.currentTime(t)}},t.enable=function(){n.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.disable=function(){n.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.handleMouseUp=function(t){n.prototype.handleMouseUp.call(this,t);t&&t.stopPropagation();this.player_.scrubbing(!1);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0});this.videoWasPlaying&&gf(this.player_.play())},t.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+cd)},t.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-cd)},t.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyPress=function(t){t.which===32||t.which===13?(t.preventDefault(),this.handleAction(t)):n.prototype.handleKeyPress&&n.prototype.handleKeyPress.call(this,t)},i}(ns);is.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};vi||sr||is.prototype.options_.children.splice(1,0,"mouseTimeDisplay");is.prototype.playerEvent="timeupdate";r.registerComponent("SeekBar",is);oa=function(n){function i(t,i){var r;return r=n.call(this,t,i)||this,r.handleMouseMove=ou(o(e(e(r)),r.handleMouseMove),25),r.throttledHandleMouseSeek=ou(o(e(e(r)),r.handleMouseSeek),25),r.enable(),r}f(i,n);var t=i.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(n){var i=this.getChild("seekBar");if(i){var r=i.getChild("mouseTimeDisplay"),u=i.el(),f=vf(u),t=vc(u,n).x;t>1?t=1:t<0&&(t=0);r&&r.update(f,t)}},t.handleMouseSeek=function(n){var t=this.getChild("seekBar");t&&t.handleMouseMove(n)},t.enabled=function(){return this.enabled_},t.disable=function(){(this.children().forEach(function(n){return n.disable&&n.disable()}),this.enabled())&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.enable=function(){if(this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()){this.on(["mousedown","touchstart"],this.handleMouseDown);this.on(this.el_,"mousemove",this.handleMouseMove);this.removeClass("disabled");this.enabled_=!0}},t.handleMouseDown=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(n);this.on(t,"mousemove",this.throttledHandleMouseSeek);this.on(t,"touchmove",this.throttledHandleMouseSeek);this.on(t,"mouseup",this.handleMouseUp);this.on(t,"touchend",this.handleMouseUp)},t.handleMouseUp=function(n){var t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(n);this.off(t,"mousemove",this.throttledHandleMouseSeek);this.off(t,"touchmove",this.throttledHandleMouseSeek);this.off(t,"mouseup",this.handleMouseUp);this.off(t,"touchend",this.handleMouseUp)},i}(r);oa.prototype.options_={children:["seekBar"]};r.registerComponent("ProgressControl",oa);sa=function(t){function i(i,r){var u=t.call(this,i,r)||this;u.on(i,"fullscreenchange",u.handleFullscreenChange);return n[so.fullscreenEnabled]===!1&&u.disable(),u}f(i,t);var r=i.prototype;return r.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},r.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},r.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(ei);sa.prototype.controlText_="Fullscreen";r.registerComponent("FullscreenToggle",sa);ad=function(n,t){t.tech_&&!t.tech_.featuresVolumeControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};vd=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"><\/span>'})},t}(r);r.registerComponent("VolumeLevel",vd);rs=function(n){function i(t,i){var r=n.call(this,t,i)||this;r.on("slideractive",r.updateLastVolume_);r.on(t,"volumechange",r.updateARIAAttributes);return t.ready(function(){return r.updateARIAAttributes()}),r}f(i,n);var t=i.prototype;return t.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(t){uu(t)&&n.prototype.handleMouseDown.call(this,t)},t.handleMouseMove=function(n){uu(n)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(){var n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n);this.el_.setAttribute("aria-valuetext",n+"%")},t.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},t.updateLastVolume_=function(){var n=this,t=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(t)})},i}(ns);rs.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};rs.prototype.playerEvent="volumechange";r.registerComponent("VolumeBar",rs);ha=function(n){function i(t,i){var r;i===void 0&&(i={});i.vertical=i.vertical||!1;(typeof i.volumeBar=="undefined"||hf(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical);r=n.call(this,t,i)||this;ad(e(e(r)),t);r.throttledHandleMouseMove=ou(o(e(e(r)),r.handleMouseMove),25);r.on("mousedown",r.handleMouseDown);r.on("touchstart",r.handleMouseDown);r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active");r.addClass("vjs-slider-active");r.trigger("slideractive")});r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active");r.removeClass("vjs-slider-active");r.trigger("sliderinactive")});return r}f(i,n);var t=i.prototype;return t.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.handleMouseDown=function(){var n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove);this.on(n,"touchmove",this.throttledHandleMouseMove);this.on(n,"mouseup",this.handleMouseUp);this.on(n,"touchend",this.handleMouseUp)},t.handleMouseUp=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove);this.off(n,"touchmove",this.throttledHandleMouseMove);this.off(n,"mouseup",this.handleMouseUp);this.off(n,"touchend",this.handleMouseUp)},t.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},i}(r);ha.prototype.options_={children:["volumeBar"]};r.registerComponent("VolumeControl",ha);yd=function(n,t){t.tech_&&!t.tech_.featuresMuteControl&&n.addClass("vjs-hidden");n.on(t,"loadstart",function(){t.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})};ca=function(n){function i(t,i){var r;r=n.call(this,t,i)||this;yd(e(e(r)),t);r.on(t,["loadstart","volumechange"],r.update);return r}f(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+n.prototype.buildCSSClass.call(this)},t.handleClick=function(){var i=this.player_.volume(),n=this.player_.lastVolume_(),t;i===0?(t=n<.1?.1:n,this.player_.volume(t),this.player_.muted(!1)):this.player_.muted(this.player_.muted()?!1:!0)},t.update=function(){this.updateIcon_();this.updateControlText_()},t.updateIcon_=function(){var i=this.player_.volume(),n=3,t;for(vi&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?n=0:i<.33?n=1:i<.67&&(n=2),t=0;t<4;t++)lf(this.el_,"vjs-vol-"+t);fr(this.el_,"vjs-vol-"+n)},t.updateControlText_=function(){var t=this.player_.muted()||this.player_.volume()===0,n=t?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)},i}(ei);ca.prototype.controlText_="Mute";r.registerComponent("MuteToggle",ca);la=function(n){function i(t,i){var r;i===void 0&&(i={});i.inline=typeof i.inline!="undefined"?i.inline:!0;(typeof i.volumeControl=="undefined"||hf(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline);r=n.call(this,t,i)||this;r.on(t,["loadstart"],r.volumePanelState_);r.on(r.volumeControl,["slideractive"],r.sliderActive_);r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_);return r}f(i,n);var t=i.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden");this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),n.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},i}(r);la.prototype.options_={children:["muteToggle","volumeControl"]};r.registerComponent("VolumePanel",la);us=function(t){function r(n,i){var r;r=t.call(this,n,i)||this;i&&(r.menuButton_=i.menuButton);r.focusedChild_=-1;r.on("keydown",r.handleKeyPress);return r}f(r,t);var i=r.prototype;return i.addItem=function(n){this.addChild(n);n.on("blur",o(this,this.handleBlur));n.on(["tap","click"],o(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus())}))},i.createEl=function(){var i=this.options_.contentElType||"ul",n;return this.contentEl_=k(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu"),n=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"}),n.appendChild(this.contentEl_),fi(n,"click",function(n){n.preventDefault();n.stopImmediatePropagation()}),n},i.dispose=function(){this.contentEl_=null;t.prototype.dispose.call(this)},i.handleBlur=function(t){var r=t.relatedTarget||n.activeElement,i;this.children().some(function(n){return n.el()===r})||(i=this.menuButton_,i&&i.buttonPressed_&&r!==i.el().firstChild&&i.unpressButton())},i.handleKeyPress=function(n){n.which===37||n.which===40?(n.preventDefault(),this.stepForward()):(n.which===38||n.which===39)&&(n.preventDefault(),this.stepBack())},i.stepForward=function(){var n=0;this.focusedChild_!==undefined&&(n=this.focusedChild_+1);this.focus(n)},i.stepBack=function(){var n=0;this.focusedChild_!==undefined&&(n=this.focusedChild_-1);this.focus(n)},i.focus=function(n){n===void 0&&(n=0);var t=this.children().slice(),i=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);i&&t.shift();t.length>0&&(n<0?n=0:n>=t.length&&(n=t.length-1),this.focusedChild_=n,t[n].el_.focus())},r}(r);r.registerComponent("Menu",us);fs=function(t){function r(n,i){var r,u;i===void 0&&(i={});r=t.call(this,n,i)||this;r.menuButton_=new ei(n,i);r.menuButton_.controlText(r.controlText_);r.menuButton_.el_.setAttribute("aria-haspopup","true");u=ei.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+u;r.menuButton_.removeClass("vjs-control");r.addChild(r.menuButton_);r.update();r.enabled_=!0;r.on(r.menuButton_,"tap",r.handleClick);r.on(r.menuButton_,"click",r.handleClick);r.on(r.menuButton_,"focus",r.handleFocus);r.on(r.menuButton_,"blur",r.handleBlur);r.on(r.menuButton_,"mouseenter",function(){r.menu.show()});r.on("keydown",r.handleSubmenuKeyPress);return r}f(r,t);var i=r.prototype;return i.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu));this.menu=n;this.addChild(n);this.buttonPressed_=!1;this.menuButton_.el_.setAttribute("aria-expanded","false");this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},i.createMenu=function(){var n=new us(this.player_,{menuButton:this}),i,t;if(this.hideThreshold_=0,this.options_.title&&(i=k("li",{className:"vjs-menu-title",innerHTML:b(this.options_.title),tabIndex:-1}),this.hideThreshold_+=1,n.children_.unshift(i),uo(i,n.contentEl())),this.items=this.createItems(),this.items)for(t=0;t<this.items.length;t++)n.addItem(this.items[t]);return n},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var n="vjs-menu-button",i;return n+=this.options_.inline===!0?"-inline":"-popup",i=ei.prototype.buildCSSClass(),"vjs-menu-button "+n+" "+i+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var n="vjs-menu-button";return n+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(n,t){return t===void 0&&(t=this.menuButton_.el()),this.menuButton_.controlText(n,t)},i.handleClick=function(){this.buttonPressed_?this.unpressButton():this.pressButton()},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleFocus=function(){fi(n,"keydown",o(this,this.handleKeyPress))},i.handleBlur=function(){vt(n,"keydown",o(this,this.handleKeyPress))},i.handleKeyPress=function(n){n.which===27||n.which===9?(this.buttonPressed_&&this.unpressButton(),n.which!==9&&(n.preventDefault(),this.menuButton_.el_.focus())):(n.which===13||n.which===38||n.which===40)&&(this.buttonPressed_||(this.pressButton(),n.preventDefault()))},i.handleSubmenuKeyPress=function(n){(n.which===27||n.which===9)&&(this.buttonPressed_&&this.unpressButton(),n.which!==9&&(n.preventDefault(),this.menuButton_.el_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),vi&&dp())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton();this.enabled_=!1;this.addClass("vjs-disabled");this.menuButton_.disable()},i.enable=function(){this.enabled_=!0;this.removeClass("vjs-disabled");this.menuButton_.enable()},r}(r);r.registerComponent("MenuButton",fs);es=function(n){function t(t,i){var r,f=i.tracks,u;if(r=n.call(this,t,i)||this,r.items.length<=1&&r.hide(),!f)return e(r);u=o(e(e(r)),r.update);f.addEventListener("removetrack",u);f.addEventListener("addtrack",u);r.player_.on("ready",u);r.player_.on("dispose",function(){f.removeEventListener("removetrack",u);f.removeEventListener("addtrack",u)});return r}return f(t,n),t}(fs);r.registerComponent("TrackButton",es);vu=function(n){function t(t,i){var r;return r=n.call(this,t,i)||this,r.selectable=i.selectable,r.isSelected_=i.selected||!1,r.multiSelectable=i.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}f(t,n);var i=t.prototype;return i.createEl=function(t,i,r){return this.nonIconControl=!0,n.prototype.createEl.call(this,"li",p({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"<\/span>",tabIndex:-1},i),r)},i.handleClick=function(){this.selected(!0)},i.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(ee);r.registerComponent("MenuItem",vu);yu=function(i){function u(r,u){var f,c=u.track,o=r.textTracks(),s,l,h;u.label=c.label||c.language||"Unknown";u.selected=c.mode==="showing";f=i.call(this,r,u)||this;f.track=c;s=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];f.handleTracksChange.apply(e(e(f)),i)};l=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];f.handleSelectedLanguageChange.apply(e(e(f)),i)};r.on(["loadstart","texttrackchange"],s);o.addEventListener("change",s);o.addEventListener("selectedlanguagechange",l);f.on("dispose",function(){r.off(["loadstart","texttrackchange"],s);o.removeEventListener("change",s);o.removeEventListener("selectedlanguagechange",l)});if(o.onchange===undefined)f.on(["tap","click"],function(){if(typeof t.Event!="object")try{h=new t.Event("change")}catch(i){}h||(h=n.createEvent("Event"),h.initEvent("change",!0,!0));o.dispatchEvent(h)});return f.handleTracksChange(),f}f(u,i);var r=u.prototype;return r.handleClick=function(n){var e=this.track.kind,u=this.track.kinds,f=this.player_.textTracks(),r,t;if(u||(u=[e]),i.prototype.handleClick.call(this,n),f)for(r=0;r<f.length;r++)t=f[r],t===this.track&&u.indexOf(t.kind)>-1?t.mode!=="showing"&&(t.mode="showing"):t.mode!=="disabled"&&(t.mode="disabled")},r.handleTracksChange=function(){var n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)},r.handleSelectedLanguageChange=function(){if(this.track.mode==="showing"){var n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null;i.prototype.dispose.call(this)},u}(vu);r.registerComponent("TextTrackMenuItem",yu);aa=function(n){function t(t,i){return i.track={player:t,kind:i.kind,kinds:i.kinds,"default":!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.track.label=i.label?i.label:i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,n.call(this,t,i)||this}f(t,n);var i=t.prototype;return i.handleTracksChange=function(){for(var i,r=this.player().textTracks(),n=!0,t=0,u=r.length;t<u;t++)if(i=r[t],this.options_.kinds.indexOf(i.kind)>-1&&i.mode==="showing"){n=!1;break}n!==this.isSelected_&&this.selected(n)},i.handleSelectedLanguageChange=function(){for(var t,i=this.player().textTracks(),r=!0,n=0,u=i.length;n<u;n++)if(t=i[n],["captions","descriptions","subtitles"].indexOf(t.kind)>-1&&t.mode==="showing"){r=!1;break}r&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(yu);r.registerComponent("OffTextTrackMenuItem",aa);pr=function(n){function t(t,i){return i===void 0&&(i={}),i.tracks=t.textTracks(),n.call(this,t,i)||this}f(t,n);var i=t.prototype;return i.createItems=function(n,t){var e,u,i,r,f;for(n===void 0&&(n=[]),t===void 0&&(t=yu),this.label_&&(e=this.label_+" off"),n.push(new aa(this.player_,{kinds:this.kinds_,kind:this.kind_,label:e})),this.hideThreshold_+=1,u=this.player_.textTracks(),Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]),i=0;i<u.length;i++)r=u[i],this.kinds_.indexOf(r.kind)>-1&&(f=new t(this.player_,{track:r,selectable:!0,multiSelectable:!1}),f.addClass("vjs-"+r.kind+"-menu-item"),n.push(f));return n},t}(es);r.registerComponent("TextTrackButton",pr);va=function(n){function t(t,i){var r,f=i.track,u=i.cue,s=t.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=u.text,i.selected=u.startTime<=s&&s<u.endTime,r=n.call(this,t,i)||this,r.track=f,r.cue=u,f.addEventListener("cuechange",o(e(e(r)),r.update)),r}f(t,n);var i=t.prototype;return i.handleClick=function(){n.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime)},i.update=function(){var n=this.cue,t=this.player_.currentTime();this.selected(n.startTime<=t&&t<n.endTime)},t}(vu);r.registerComponent("ChaptersTrackMenuItem",va);os=function(n){function i(t,i,r){return n.call(this,t,i,r)||this}f(i,n);var t=i.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+n.prototype.buildWrapperCSSClass.call(this)},t.update=function(t){(!this.track_||t&&(t.type==="addtrack"||t.type==="removetrack"))&&this.setTrack(this.findChaptersTrack());n.prototype.update.call(this)},t.setTrack=function(n){var t,i;this.track_!==n&&(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_&&(t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),t&&t.removeEventListener("load",this.updateHandler_),this.track_=null),this.track_=n,this.track_&&(this.track_.mode="hidden",i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_),i&&i.addEventListener("load",this.updateHandler_)))},t.findChaptersTrack=function(){for(var t,i=this.player_.textTracks()||[],n=i.length-1;n>=0;n--)if(t=i[n],t.kind===this.kind_)return t},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(b(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),n.prototype.createMenu.call(this)},t.createItems=function(){var i=[],n,t,r,u,f;if(!this.track_||(n=this.track_.cues,!n))return i;for(t=0,r=n.length;t<r;t++)u=n[t],f=new va(this.player_,{track:this.track_,cue:u}),i.push(f);return i},i}(pr);os.prototype.kind_="chapters";os.prototype.controlText_="Chapters";r.registerComponent("ChaptersButton",os);ss=function(n){function t(t,i,r){var u,f,s;u=n.call(this,t,i,r)||this;f=t.textTracks();s=o(e(e(u)),u.handleTracksChange);f.addEventListener("change",s);u.on("dispose",function(){f.removeEventListener("change",s)});return u}f(t,n);var i=t.prototype;return i.handleTracksChange=function(){for(var t,i=this.player().textTracks(),r=!1,n=0,u=i.length;n<u;n++)if(t=i[n],t.kind!==this.kind_&&t.mode==="showing"){r=!0;break}r?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(pr);ss.prototype.kind_="descriptions";ss.prototype.controlText_="Descriptions";r.registerComponent("DescriptionsButton",ss);hs=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+n.prototype.buildWrapperCSSClass.call(this)},t}(pr);hs.prototype.kind_="subtitles";hs.prototype.controlText_="Subtitles";r.registerComponent("SubtitlesButton",hs);cs=function(n){function t(t,i){var r;return i.track={player:t,kind:i.kind,label:i.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",r=n.call(this,t,i)||this,r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+i.kind+" settings dialog"),r}f(t,n);var i=t.prototype;return i.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(yu);r.registerComponent("CaptionSettingsMenuItem",cs);ls=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new cs(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t)},t}(pr);ls.prototype.kind_="captions";ls.prototype.controlText_="Captions";r.registerComponent("CaptionsButton",ls);ya=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="captions"&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,p({innerHTML:u},i),r)},t}(yu);r.registerComponent("SubsCapsMenuItem",ya);as=function(n){function t(t,i){var r;return i===void 0&&(i={}),r=n.call(this,t,i)||this,r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(b(r.label_)),r}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new cs(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n.prototype.createItems.call(this,t,ya)},t}(pr);as.prototype.kinds_=["captions","subtitles"];as.prototype.controlText_="Subtitles";r.registerComponent("SubsCapsButton",as);pa=function(n){function t(t,i){var r,u=i.track,o=t.audioTracks(),f;i.label=u.label||u.language||"Unknown";i.selected=u.enabled;r=n.call(this,t,i)||this;r.track=u;r.addClass("vjs-"+u.kind+"-menu-item");f=function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.handleTracksChange.apply(e(e(r)),i)};o.addEventListener("change",f);r.on("dispose",function(){o.removeEventListener("change",f)});return r}f(t,n);var i=t.prototype;return i.createEl=function(t,i,r){var u='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return this.options_.track.kind==="main-desc"&&(u+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"><\/span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"<\/span>\n      "),u+="<\/span>",n.prototype.createEl.call(this,t,p({innerHTML:u},i),r)},i.handleClick=function(t){var u=this.player_.audioTracks(),i,r;for(n.prototype.handleClick.call(this,t),i=0;i<u.length;i++)r=u[i],r.enabled=r===this.track},i.handleTracksChange=function(){this.selected(this.track.enabled)},t}(vu);r.registerComponent("AudioTrackMenuItem",pa);wa=function(n){function t(t,i){return i===void 0&&(i={}),i.tracks=t.audioTracks(),n.call(this,t,i)||this}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+n.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+n.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(n){var i,t,r;for(n===void 0&&(n=[]),this.hideThreshold_=1,i=this.player_.audioTracks(),t=0;t<i.length;t++)r=i[t],n.push(new pa(this.player_,{track:r,selectable:!0,multiSelectable:!1}));return n},t}(es);wa.prototype.controlText_="Audio Track";r.registerComponent("AudioTrackButton",wa);vs=function(n){function t(t,i){var r,u=i.rate,f=parseFloat(u,10);i.label=u;i.selected=f===1;i.selectable=!0;i.multiSelectable=!1;r=n.call(this,t,i)||this;r.label=u;r.rate=f;r.on(t,"ratechange",r.update);return r}f(t,n);var i=t.prototype;return i.handleClick=function(){n.prototype.handleClick.call(this);this.player().playbackRate(this.rate)},i.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(vu);vs.prototype.contentElType="button";r.registerComponent("PlaybackRateMenuItem",vs);ba=function(n){function i(t,i){var r;r=n.call(this,t,i)||this;r.updateVisibility();r.updateLabel();r.on(t,"loadstart",r.updateVisibility);r.on(t,"ratechange",r.updateLabel);return r}f(i,n);var t=i.prototype;return t.createEl=function(){var t=n.prototype.createEl.call(this);return this.labelEl_=k("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.dispose=function(){this.labelEl_=null;n.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+n.prototype.buildWrapperCSSClass.call(this)},t.createMenu=function(){var i=new us(this.player()),t=this.playbackRates(),n;if(t)for(n=t.length-1;n>=0;n--)i.addChild(new vs(this.player(),{rate:t[n]+"x"}));return i},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(){for(var r=this.player().playbackRate(),n=this.playbackRates(),i=n[0],t=0;t<n.length;t++)if(n[t]>r){i=n[t];break}this.player().playbackRate(i)},t.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},i}(fs);ba.prototype.controlText_="Playback Rate";r.registerComponent("PlaybackRateMenuButton",ba);ka=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(r);r.registerComponent("Spacer",ka);pd=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+n.prototype.buildCSSClass.call(this)},i.createEl=function(){var t=n.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML=" ",t},t}(ka);r.registerComponent("CustomControlSpacer",pd);da=function(n){function t(){return n.apply(this,arguments)||this}f(t,n);var i=t.prototype;return i.createEl=function(){return n.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(r);da.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};r.registerComponent("ControlBar",da);ga=function(n){function t(t,i){var r=n.call(this,t,i)||this;r.on(t,"error",r.open);return r}f(t,n);var i=t.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+n.prototype.buildCSSClass.call(this)},i.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(su);ga.prototype.options_=y(su.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});r.registerComponent("ErrorDisplay",ga);var nv="vjs-text-track-settings",wd=["#000","Black"],bd=["#00F","Blue"],kd=["#0FF","Cyan"],dd=["#0F0","Green"],gd=["#F0F","Magenta"],ng=["#F00","Red"],tg=["#FFF","White"],ig=["#FF0","Yellow"],tv=["1","Opaque"],iv=["0.5","Semi-Transparent"],rg=["0","Transparent"],wr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[wd,tg,ng,dd,bd,ig,gd,kd]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[tv,iv,rg]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[tg,wd,ng,dd,bd,ig,gd,kd]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(n){return n==="1.00"?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[tv,iv]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[rg,iv,tv]}};wr.windowColor.options=wr.backgroundColor.options;fg=function(i){function u(n,t){var r;t.temporary=!1;r=i.call(this,n,t)||this;r.updateDisplay=o(e(e(r)),r.updateDisplay);r.fill();r.hasBeenOpened_=r.hasBeenFilled_=!0;r.endDialog=k("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")});r.el().appendChild(r.endDialog);r.setDefaults();t.persistTextTrackSettings===undefined&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings);r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings();r.close()});r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults();r.updateDisplay()});return tu(wr,function(n){r.on(r.$(n.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}f(u,i);var r=u.prototype;return r.dispose=function(){this.endDialog=null;i.prototype.dispose.call(this)},r.createElSelect_=function(n,t,i){var e=this;t===void 0&&(t="");i===void 0&&(i="label");var r=wr[n],u=r.id.replace("%s",this.id_),f=[t,u].join(" ").trim();return["<"+i+' id="'+u+'" class="'+(i==="label"?"vjs-label":"")+'">',this.localize(r.label),"<\/"+i+">",'<select aria-labelledby="'+f+'">'].concat(r.options.map(function(n){var t=u+"-"+n[1].replace(/\W+/g,"");return['<option id="'+t+'" value="'+n[0]+'" ','aria-labelledby="'+f+" "+t+'">',e.localize(n[1]),"<\/option>"].join("")})).concat("<\/select>").join("")},r.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"<\/legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"<\/span>","<\/fieldset>"].join("")},r.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"<\/legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"<\/span>","<\/fieldset>"].join("")},r.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"<\/legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"<\/span>","<\/fieldset>"].join("")},r.createElColors_=function(){return k("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return k("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"<\/fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"<\/fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"<\/fieldset>"].join("")})},r.createElControls_=function(){var n=this.localize("restore all settings to the default values");return k("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"<\/span>","<\/button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"<\/button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var n=this;return hft(wr,function(t,i,r){var u=lht(n.$(i.selector),i.parser);return u!==undefined&&(t[r]=u),t},{})},r.setValues=function(n){var t=this;tu(wr,function(i,r){aht(t.$(i.selector),n[r],i.parser)})},r.setDefaults=function(){var n=this;tu(wr,function(t){var i=t.hasOwnProperty("default")?t.default:0;n.$(t.selector).selectedIndex=i})},r.restoreSettings=function(){var n;try{n=JSON.parse(t.localStorage.getItem(nv))}catch(i){c.warn(i)}n&&this.setValues(n)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?t.localStorage.setItem(nv,JSON.stringify(n)):t.localStorage.removeItem(nv)}catch(i){c.warn(i)}}},r.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null;this.off(n,"keydown",this.handleKeyDown);var t=this.player_.controlBar,i=t&&t.subsCapsButton,r=t&&t.captionsButton;i?i.focus():r&&r.focus()},u}(su);r.registerComponent("TextTrackSettings",fg);eg=function(n){function i(i,r){var u,f=r.ResizeObserver||t.ResizeObserver,o;if(r.ResizeObserver===null&&(f=!1),o=y({createEl:!f,reportTouchActivity:!1},r),u=n.call(this,i,o)||this,u.ResizeObserver=r.ResizeObserver||t.ResizeObserver,u.loadListener_=null,u.resizeObserver_=null,u.debouncedHandler_=yft(function(){u.resizeHandler()},100,!1,e(e(u))),f)u.resizeObserver_=new u.ResizeObserver(u.debouncedHandler_),u.resizeObserver_.observe(i.el());else{u.loadListener_=function(){u.el_&&u.el_.contentWindow&&fi(u.el_.contentWindow,"resize",u.debouncedHandler_)};u.one("load",u.loadListener_)}return u}f(i,n);var r=i.prototype;return r.createEl=function(){return n.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},r.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},r.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel();this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect());this.el_&&this.el_.contentWindow&&vt(this.el_.contentWindow,"resize",this.debouncedHandler_);this.loadListener_&&this.off("load",this.loadListener_);this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null},i}(r);r.registerComponent("ResizeManager",eg);og=function(n){function i(t,i){var r,u=y({createEl:!1},i);r=n.call(this,t,u)||this;r.reset_();r.on(r.player_,"durationchange",r.handleDurationchange);return r}f(i,n);var t=i.prototype;return t.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var n=this.liveCurrentTime(),t=this.player_.currentTime(),i=this.seekableIncrement_,r=i*2+.07;return n!==Infinity&&n-r>=t},t.trackLive_=function(){var t,n;(this.pastSeekEnd_=this.pastSeekEnd_,t=this.player_.seekable(),t&&t.length)&&(n=this.seekableEnd(),n!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(n-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=n,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange")))},t.handleDurationchange=function(){this.player_.duration()===Infinity?this.startTracking():this.stopTracking()},t.startTracking=function(){var n=this;if(!this.isTracking()){this.trackingInterval_=this.setInterval(this.trackLive_,30);this.trackLive_();this.on(this.player_,"play",this.trackLive_);this.on(this.player_,"pause",this.trackLive_);this.one(this.player_,"play",this.handlePlay);if(!this.timeupdateSeen_){this.handleTimeupdate=function(){n.timeupdateSeen_=!0;n.handleTimeupdate=null};this.one(this.player_,"timeupdate",this.handleTimeupdate)}}},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},t.reset_=function(){this.pastSeekEnd_=0;this.lastSeekEnd_=null;this.behindLiveEdge_=null;this.timeupdateSeen_=!1;this.clearInterval(this.trackingInterval_);this.trackingInterval_=null;this.seekableIncrement_=12;this.off(this.player_,"play",this.trackLive_);this.off(this.player_,"pause",this.trackLive_);this.off(this.player_,"play",this.handlePlay);this.off(this.player_,"timeupdate",this.seekToLiveEdge);this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},t.stopTracking=function(){this.isTracking()&&this.reset_()},t.seekableEnd=function(){for(var t=this.player_.seekable(),n=[],i=t?t.length:0;i--;)n.push(t.end(i));return n.length?n.sort()[n.length-1]:Infinity},t.seekableStart=function(){for(var n=this.player_.seekable(),t=[],i=n?n.length:0;i--;)t.push(n.start(i));return t.length?t.sort()[0]:0},t.liveWindow=function(){var n=this.liveCurrentTime();return n===Infinity?Infinity:n-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){return this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return typeof this.trackingInterval_=="number"},t.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},t.dispose=function(){this.stopTracking();n.prototype.dispose.call(this)},i}(r);r.registerComponent("LiveTracker",og);var rv=function(n){var f=n.el(),i,r;if(f.hasAttribute("src"))return n.triggerSourceset(f.src),!0;var u=n.$$("source"),t=[],e="";if(!u.length)return!1;for(i=0;i<u.length;i++)r=u[i].src,r&&t.indexOf(r)===-1&&t.push(r);return t.length?(t.length===1&&(e=t[0]),n.triggerSourceset(e),!0):!1},vht=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(i){var r=n.createElement(this.nodeName.toLowerCase()),u;for(r.innerHTML=i,u=n.createDocumentFragment();r.childNodes.length;)u.appendChild(r.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,u),this.innerHTML}}),sg=function(n,t){for(var i={},r=0;r<n.length;r++)if(i=Object.getOwnPropertyDescriptor(n[r],t),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},yht=function(n){return sg([n.el(),t.HTMLMediaElement.prototype,t.Element.prototype,vht],"innerHTML")},hg=function(n){var t=n.el();if(!t.resetSourceWatch_){var i={},r=yht(n),u=function(i){return function(){for(var e,u=arguments.length,f=new Array(u),r=0;r<u;r++)f[r]=arguments[r];return e=i.apply(t,f),rv(n),e}};["append","appendChild","insertAdjacentHTML"].forEach(function(n){t[n]&&(i[n]=t[n],t[n]=u(i[n]))});Object.defineProperty(t,"innerHTML",y(r,{set:u(r.set)}));t.resetSourceWatch_=function(){t.resetSourceWatch_=null;Object.keys(i).forEach(function(n){t[n]=i[n]});Object.defineProperty(t,"innerHTML",r)};n.one("sourceset",t.resetSourceWatch_)}},pht=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?db(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return t.Element.prototype.setAttribute.call(this,"src",n),n}}),wht=function(n){return sg([n.el(),t.HTMLMediaElement.prototype,pht],"src")},bht=function(n){var t;if(n.featuresSourceset&&(t=n.el(),!t.resetSourceset_)){var i=wht(n),r=t.setAttribute,u=t.load;Object.defineProperty(t,"src",y(i,{set:function(r){var u=i.set.call(t,r);return n.triggerSourceset(t.src),u}}));t.setAttribute=function(i,u){var f=r.call(t,i,u);return/src/i.test(i)&&n.triggerSourceset(t.src),f};t.load=function(){var i=u.call(t);return rv(n)||(n.triggerSourceset(""),hg(n)),i};t.currentSrc?n.triggerSourceset(t.currentSrc):rv(n)||hg(n);t.resetSourceset_=function(){t.resetSourceset_=null;t.load=u;t.setAttribute=r;Object.defineProperty(t,"src",i);t.resetSourceWatch_&&t.resetSourceWatch_()}}};u=function(i){function u(n,t){var r,f,e,u,a,o;if(r=i.call(this,n,t)||this,f=n.source,e=!1,f&&(r.el_.currentSrc!==f.src||n.tag&&n.tag.initNetworkState_===3)?r.setSource(f):r.handleLateInit_(r.el_),n.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){for(var h=r.el_.childNodes,l=h.length,s=[];l--;)u=h[l],a=u.nodeName.toLowerCase(),a==="track"&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(u),r.remoteTextTracks().addTrack(u.track),r.textTracks().addTrack(u.track),e||r.el_.hasAttribute("crossorigin")||!lo(u.src)||(e=!0)):s.push(u));for(o=0;o<s.length;o++)r.el_.removeChild(s[o])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&e&&c.warn(lc(cg())),r.restoreMetadataTracksInIOSNativePlayer_(),(oo||rl||ub)&&n.nativeControlsForTouch===!0&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}f(u,i);var r=u.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_();u.disposeMediaElement(this.el_);this.options_=null;i.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){bht(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),r,t=function(){var t,i;for(r=[],t=0;t<n.length;t++)i=n[t],i.kind==="metadata"&&r.push({track:i,storedMode:i.mode})},i;t();n.addEventListener("change",t);this.on("dispose",function(){return n.removeEventListener("change",t)});i=function i(){for(var t,u=0;u<r.length;u++)t=r[u],t.track.mode==="disabled"&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode);n.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",t);n.removeEventListener("change",i);n.addEventListener("change",i)});this.on("webkitendfullscreen",function(){n.removeEventListener("change",t);n.addEventListener("change",t);n.removeEventListener("change",i)})},r.overrideNative_=function(n,t){var r=this,i;t===this["featuresNative"+n+"Tracks"]&&(i=n.toLowerCase(),this[i+"TracksListeners_"]&&Object.keys(this[i+"TracksListeners_"]).forEach(function(n){var t=r.el()[i+"Tracks"];t.removeEventListener(n,r[i+"TracksListeners_"][n])}),this["featuresNative"+n+"Tracks"]=!t,this[i+"TracksListeners_"]=null,this.proxyNativeTracksForType_(i))},r.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},r.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},r.proxyNativeTracksForType_=function(n){var e=this,r=yt[n],i=this.el()[r.getterName],t=this[r.getterName](),u,f;if(this["featuresNative"+r.capitalName+"Tracks"]&&i&&i.addEventListener){u={change:function(){t.trigger({type:"change",target:t,currentTarget:t,srcElement:t})},addtrack:function(n){t.addTrack(n.track)},removetrack:function(n){t.removeTrack(n.track)}};f=function(){for(var f,r,u=[],n=0;n<t.length;n++){for(f=!1,r=0;r<i.length;r++)if(i[r]===t[n]){f=!0;break}f||u.push(t[n])}while(u.length)t.removeTrack(u.shift())};this[r.getterName+"Listeners_"]=u;Object.keys(u).forEach(function(n){var t=u[n];i.addEventListener(n,t);e.on("dispose",function(){return i.removeEventListener(n,t)})});this.on("loadstart",f);this.on("dispose",function(){return e.off("loadstart",f)})}},r.proxyNativeTracks_=function(){var n=this;yt.names.forEach(function(t){n.proxyNativeTracksForType_(t)})},r.createEl=function(){var t=this.options_.tag,e,h,o,s,r,i,f;for(t&&(this.options_.playerElIngest||this.movingMediaElementInDOM)||(t?(e=t.cloneNode(!0),t.parentNode&&t.parentNode.insertBefore(e,t),u.disposeMediaElement(t),t=e):(t=n.createElement("video"),h=this.options_.tag&&ai(this.options_.tag),o=y({},h),oo&&this.options_.nativeControlsForTouch===!0||delete o.controls,tw(t,p(o,{id:this.options_.techId,"class":"vjs-tech"}))),t.playerId=this.options_.playerId),typeof this.options_.preload!="undefined"&&af(t,"preload",this.options_.preload),s=["loop","muted","playsinline","autoplay"],r=0;r<s.length;r++)i=s[r],f=this.options_[i],typeof f!="undefined"&&(f?af(t,i,i):fo(t,i),t[i]=f);return t},r.handleLateInit_=function(n){var i,r,u,t;if(n.networkState!==0&&n.networkState!==3){if(n.readyState===0){i=!1;r=function(){i=!0};this.on("loadstart",r);u=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",u);this.ready(function(){this.off("loadstart",r);this.off("loadedmetadata",u);i||this.trigger("loadstart")});return}t=["loadstart"];t.push("loadedmetadata");n.readyState>=2&&t.push("loadeddata");n.readyState>=3&&t.push("canplay");n.readyState>=4&&t.push("canplaythrough");this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}},r.setCurrentTime=function(n){try{this.el_.currentTime=n}catch(t){c(t,"Video is not ready. (Video.js)")}},r.duration=function(){var n=this,t;if(this.el_.duration===Infinity&&sr&&gi&&this.el_.currentTime===0){t=function t(){n.el_.currentTime>0&&(n.el_.duration===Infinity&&n.trigger("durationchange"),n.off("timeupdate",t))};this.on("timeupdate",t);return NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var i=this,n,t;if("webkitDisplayingFullscreen"in this.el_){n=function(){this.trigger("fullscreenchange",{isFullscreen:!1})};t=function(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",n);this.trigger("fullscreenchange",{isFullscreen:!0})}};this.on("webkitbeginfullscreen",t);this.on("dispose",function(){i.off("webkitbeginfullscreen",t);i.off("webkitendfullscreen",n)})}},r.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},r.enterFullScreen=function(){var n=this.el_;n.paused&&n.networkState<=n.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){n.pause();n.webkitEnterFullScreen()},0)):n.webkitEnterFullScreen()},r.exitFullScreen=function(){this.el_.webkitExitFullScreen()},r.src=function(n){if(n===undefined)return this.el_.src;this.setSrc(n)},r.reset=function(){u.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(n){this.el_.controls=!!n},r.addTextTrack=function(n,t,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,t,r):i.prototype.addTextTrack.call(this,n,t,r)},r.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return i.prototype.createRemoteTextTrack.call(this,t);var r=n.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},r.addRemoteTextTrack=function(n,t){var r=i.prototype.addRemoteTextTrack.call(this,n,t);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},r.removeRemoteTextTrack=function(n){if(i.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var t=this.$$("track"),r=t.length;r--;)(n===t[r]||n===t[r].track)&&this.el().removeChild(t[r])},r.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount!="undefined"&&typeof this.el().webkitDecodedFrameCount!="undefined"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&typeof t.performance.now=="function"?n.creationTime=t.performance.now():t.performance&&t.performance.timing&&typeof t.performance.timing.navigationStart=="number"&&(n.creationTime=t.Date.now()-t.performance.timing.navigationStart),n},u}(v);iu()&&(u.TEST_VID=n.createElement("video"),oe=n.createElement("track"),oe.kind="captions",oe.srclang="en",oe.label="English",u.TEST_VID.appendChild(oe));u.isSupported=function(){try{u.TEST_VID.volume=.5}catch(n){return!1}return!!(u.TEST_VID&&u.TEST_VID.canPlayType)};u.canPlayType=function(n){return u.TEST_VID.canPlayType(n)};u.canPlaySource=function(n){return u.canPlayType(n.type)};u.canControlVolume=function(){try{var n=u.TEST_VID.volume;return u.TEST_VID.volume=n/2+.1,n!==u.TEST_VID.volume}catch(t){return!1}};u.canMuteVolume=function(){try{var n=u.TEST_VID.muted;return u.TEST_VID.muted=!n,u.TEST_VID.muted?af(u.TEST_VID,"muted","muted"):fo(u.TEST_VID,"muted","muted"),n!==u.TEST_VID.muted}catch(t){return!1}};u.canControlPlaybackRate=function(){if(sr&&gi&&eb<58)return!1;try{var n=u.TEST_VID.playbackRate;return u.TEST_VID.playbackRate=n/2+.1,n!==u.TEST_VID.playbackRate}catch(t){return!1}};u.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(n.createElement("video"),"src",{get:t,set:t});Object.defineProperty(n.createElement("audio"),"src",{get:t,set:t});Object.defineProperty(n.createElement("video"),"innerHTML",{get:t,set:t});Object.defineProperty(n.createElement("audio"),"innerHTML",{get:t,set:t})}catch(i){return!1}return!0};u.supportsNativeTextTracks=function(){return hb||vi&&gi};u.supportsNativeVideoTracks=function(){return!!(u.TEST_VID&&u.TEST_VID.videoTracks)};u.supportsNativeAudioTracks=function(){return!!(u.TEST_VID&&u.TEST_VID.audioTracks)};u.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];u.prototype.featuresVolumeControl=u.canControlVolume();u.prototype.featuresMuteControl=u.canMuteVolume();u.prototype.featuresPlaybackRate=u.canControlPlaybackRate();u.prototype.featuresSourceset=u.canOverrideAttributes();u.prototype.movingMediaElementInDOM=!vi;u.prototype.featuresFullscreenResize=!0;u.prototype.featuresProgressEvents=!0;u.prototype.featuresTimeupdateEvents=!0;u.prototype.featuresNativeTextTracks=u.supportsNativeTextTracks();u.prototype.featuresNativeVideoTracks=u.supportsNativeVideoTracks();u.prototype.featuresNativeAudioTracks=u.supportsNativeAudioTracks();uv=u.TEST_VID&&u.TEST_VID.constructor.prototype.canPlayType;lg=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;u.patchCanPlayType=function(){ul>=4&&!fb&&!gi&&(u.TEST_VID.constructor.prototype.canPlayType=function(n){return n&&lg.test(n)?"maybe":uv.call(this,n)})};u.unpatchCanPlayType=function(){var n=u.TEST_VID.constructor.prototype.canPlayType;return u.TEST_VID.constructor.prototype.canPlayType=uv,n};u.patchCanPlayType();u.disposeMediaElement=function(n){if(n){for(n.parentNode&&n.parentNode.removeChild(n);n.hasChildNodes();)n.removeChild(n.firstChild);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}};u.resetMediaElement=function(n){if(n){for(var t=n.querySelectorAll("source"),i=t.length;i--;)n.removeChild(t[i]);n.removeAttribute("src");typeof n.load=="function"&&function(){try{n.load()}catch(t){}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(n){u.prototype[n]=function(){return this.el_[n]||this.el_.hasAttribute(n)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(n){u.prototype["set"+b(n)]=function(t){this.el_[n]=t;t?this.el_.setAttribute(n,n):this.el_.removeAttribute(n)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(n){u.prototype[n]=function(){return this.el_[n]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(n){u.prototype["set"+b(n)]=function(t){this.el_[n]=t}});["pause","load","play"].forEach(function(n){u.prototype[n]=function(){return this.el_[n]()}});v.withSourceHandlers(u);u.nativeSourceHandler={};u.nativeSourceHandler.canPlayType=function(n){try{return u.TEST_VID.canPlayType(n)}catch(t){return""}};u.nativeSourceHandler.canHandleSource=function(n){if(n.type)return u.nativeSourceHandler.canPlayType(n.type);if(n.src){var t=vl(n.src);return u.nativeSourceHandler.canPlayType("video/"+t)}return""};u.nativeSourceHandler.handleSource=function(n,t){t.setSrc(n.src)};u.nativeSourceHandler.dispose=function(){};u.registerSourceHandler(u.nativeSourceHandler);v.registerTech("Html5",u);var vg=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],fv={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},ev=["tiny","xsmall","small","medium","large","xlarge","huge"],ys={};ev.forEach(function(n){var t=n.charAt(0)==="x"?"x-"+n.substring(1):n;ys[n]="vjs-layout-"+t});yg={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:Infinity};d=function(i){function s(n,t,r){var u,o,f,h,l,c,a;if(n.id=n.id||t.id||"vjs_video_"+er(),t=p(s.getTagSettings(n),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if(typeof n.closest=="function")o=n.closest("[lang]"),o&&o.getAttribute&&(t.language=o.getAttribute("lang"));else for(f=n;f&&f.nodeType===1;){if(ai(f).hasOwnProperty("lang")){t.language=f.getAttribute("lang");break}f=f.parentNode}if(u=i.call(this,null,t,r)||this,u.log=cc(u.id_),u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&ai(n),u.language(u.options_.language),t.languages?(h={},Object.getOwnPropertyNames(t.languages).forEach(function(n){h[n.toLowerCase()]=t.languages[n]}),u.languages_=h):u.languages_=s.prototype.options_.languages,u.cache_={},u.poster_=t.poster||"",u.controls_=!!t.controls,u.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?u.options_.autoplay=!0:u.autoplay(u.options_.autoplay),u.scrubbing_=!1,u.el_=u.createEl(),u.cache_.lastPlaybackRate=u.defaultPlaybackRate(),tl(e(e(u)),{eventBusKey:"el_"}),u.fluid_)u.on("playerreset",u.updateStyleEl_);l=y(u.options_);t.plugins&&(c=t.plugins,Object.keys(c).forEach(function(n){if(typeof this[n]=="function")this[n](c[n]);else throw new Error('plugin "'+n+'" does not exist');},e(e(u))));u.options_.playerOptions=l;u.middleware_=[];u.initChildren();u.isAudio(n.nodeName.toLowerCase()==="audio");u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled");u.el_.setAttribute("role","region");u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player"));u.isAudio()&&u.addClass("vjs-audio");u.flexNotSupported_()&&u.addClass("vjs-no-flex");vi||u.addClass("vjs-workinghover");s.players[u.id_]=e(e(u));a=oc.split(".")[0];u.addClass("vjs-v"+a);u.userActive(!0);u.reportUserActivity();u.one("play",u.listenForUserActivity_);u.on("fullscreenchange",u.handleFullscreenChange_);u.on("stageclick",u.handleStageClick_);return u.breakpoints(u.options_.breakpoints),u.responsive(u.options_.responsive),u.changingSrc_=!1,u.playWaitingForReady_=!1,u.playOnLoadstart_=null,u}f(s,i);var u=s.prototype;return u.dispose=function(){this.trigger("dispose");this.off("dispose");this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null);s.players[this.id_]=null;this.tag&&this.tag.player&&(this.tag.player=null);this.el_&&this.el_.player&&(this.el_.player=null);this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_="");this.playerElIngest_&&(this.playerElIngest_=null);this.tag&&(this.tag=null);uht(this);i.prototype.dispose.call(this)},u.createEl=function(){var r=this.tag,u,s=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),e=this.tag.tagName.toLowerCase()==="video-js",f,h,c,l,o,a;if(s?u=this.el_=r.parentNode:e||(u=this.el_=i.prototype.createEl.call(this,"div")),f=ai(r),e){for(u=this.el_=r,r=this.tag=n.createElement("video");u.children.length;)r.appendChild(u.firstChild);ur(u,"video-js")||fr(u,"video-js");u.appendChild(r);s=this.playerElIngest_=u;Object.keys(u).forEach(function(n){r[n]=u[n]})}for(r.setAttribute("tabindex","-1"),f.tabindex="-1",ob&&(r.setAttribute("role","application"),f.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),("width"in f)&&delete f.width,("height"in f)&&delete f.height,Object.getOwnPropertyNames(f).forEach(function(n){e&&n==="class"||u.setAttribute(n,f[n]);e&&r.setAttribute(n,f[n])}),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=u.player=this,this.addClass("vjs-paused"),t.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&(this.styleEl_=pw("vjs-styles-dimensions"),h=ki(".vjs-styles-defaults"),c=ki("head"),c.insertBefore(this.styleEl_,h?h.nextSibling:c.firstChild)),this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),l=r.getElementsByTagName("a"),o=0;o<l.length;o++)a=l.item(o),fr(a,"vjs-hidden"),a.setAttribute("hidden","hidden");return r.initNetworkState_=r.networkState,r.parentNode&&!s&&r.parentNode.insertBefore(u,r),uo(r,u),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=u,u},u.width=function(n){return this.dimension("width",n)},u.height=function(n){return this.dimension("height",n)},u.dimension=function(n,t){var i=n+"_",r;if(t===undefined)return this[i]||0;if(t===""){this[i]=undefined;this.updateStyleEl_();return}if(r=parseFloat(t),isNaN(r)){c.error('Improper value "'+t+'" supplied for for '+n);return}this[i]=r;this.updateStyleEl_()},u.fluid=function(n){if(n===undefined)return!!this.fluid_;this.fluid_=!!n;or(this)&&this.off("playerreset",this.updateStyleEl_);n?(this.addClass("vjs-fluid"),this.fill(!1),pft(function(){this.on("playerreset",this.updateStyleEl_)})):this.removeClass("vjs-fluid");this.updateStyleEl_()},u.fill=function(n){if(n===undefined)return!!this.fill_;this.fill_=!!n;n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},u.aspectRatio=function(n){if(n===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n;this.fluid(!0);this.updateStyleEl_()},u.updateStyleEl_=function(){var u,s,h,n,f,i;if(t.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e=typeof this.width_=="number"?this.width_:this.options_.width,o=typeof this.height_=="number"?this.height_:this.options_.height,r=this.tech_&&this.tech_.el();r&&(e>=0&&(r.width=e),o>=0&&(r.height=o));return}h=this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";f=h.split(":");i=f[1]/f[0];u=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/i:this.videoWidth()||300;s=this.height_!==undefined?this.height_:u*i;n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions";this.addClass(n);ww(this.styleEl_,"\n      ."+n+" {\n        width: "+u+"px;\n        height: "+s+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+i*100+"%;\n      }\n    ")},u.loadTech_=function(n,t){var i=this,u,f,s,r,e;if(this.tech_&&this.unloadTech_(),u=b(n),f=n.charAt(0).toLowerCase()+n.slice(1),u!=="Html5"&&this.tag&&(v.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=u,this.isReady_=!1,s=typeof this.autoplay()=="string"?!1:this.autoplay(),r={source:t,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+f+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset},ct.names.forEach(function(n){var t=ct[n];r[t.getterName]=i[t.privateName]}),p(r,this.options_[u]),p(r,this.options_[f]),p(r,this.options_[n.toLowerCase()]),this.tag&&(r.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime),e=v.getTech(n),!e)throw new Error("No Tech named '"+u+"' exists! '"+u+"' should be registered using videojs.registerTech()'");this.tech_=new e(r);this.tech_.ready(o(this,this.handleTechReady_),!0);yb.jsonToTextTracks(this.textTracksJson_||[],this.tech_);vg.forEach(function(n){i.on(i.tech_,n,i["handleTech"+b(n)+"_"])});Object.keys(fv).forEach(function(n){i.on(i.tech_,n,function(t){if(i.tech_.playbackRate()===0&&i.tech_.seeking()){i.queuedCallbacks_.push({callback:i["handleTech"+fv[n]+"_"].bind(i),event:t});return}i["handleTech"+fv[n]+"_"](t)})});this.on(this.tech_,"loadstart",this.handleTechLoadStart_);this.on(this.tech_,"sourceset",this.handleTechSourceset_);this.on(this.tech_,"waiting",this.handleTechWaiting_);this.on(this.tech_,"ended",this.handleTechEnded_);this.on(this.tech_,"seeking",this.handleTechSeeking_);this.on(this.tech_,"play",this.handleTechPlay_);this.on(this.tech_,"firstplay",this.handleTechFirstPlay_);this.on(this.tech_,"pause",this.handleTechPause_);this.on(this.tech_,"durationchange",this.handleTechDurationChange_);this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_);this.on(this.tech_,"error",this.handleTechError_);this.on(this.tech_,"loadedmetadata",this.updateStyleEl_);this.on(this.tech_,"posterchange",this.handleTechPosterChange_);this.on(this.tech_,"textdata",this.handleTechTextData_);this.on(this.tech_,"ratechange",this.handleTechRateChange_);this.usingNativeControls(this.techGet_("controls"));this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_();this.tech_.el().parentNode===this.el()||u==="Html5"&&this.tag||uo(this.tech_.el(),this.el());this.tag&&(this.tag.player=null,this.tag=null)},u.unloadTech_=function(){var n=this;ct.names.forEach(function(t){var i=ct[t];n[i.privateName]=n[i.getterName]()});this.textTracksJson_=yb.textTracksToJson(this.tech_);this.isReady_=!1;this.tech_.dispose();this.tech_=!1;this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange"));this.isPosterFromTech_=!1},u.tech=function(n){return n===undefined&&c.warn(lc(ag())),this.tech_},u.addTechControlsListeners_=function(){this.removeTechControlsListeners_();this.on(this.tech_,"mousedown",this.handleTechClick_);this.on(this.tech_,"dblclick",this.handleTechDoubleClick_);this.on(this.tech_,"touchstart",this.handleTechTouchStart_);this.on(this.tech_,"touchmove",this.handleTechTouchMove_);this.on(this.tech_,"touchend",this.handleTechTouchEnd_);this.on(this.tech_,"tap",this.handleTechTap_)},u.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_);this.off(this.tech_,"touchstart",this.handleTechTouchStart_);this.off(this.tech_,"touchmove",this.handleTechTouchMove_);this.off(this.tech_,"touchend",this.handleTechTouchEnd_);this.off(this.tech_,"mousedown",this.handleTechClick_);this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},u.handleTechReady_=function(){this.triggerReady();this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume);this.handleTechPosterChange_();this.handleTechDurationChange_()},u.handleTechLoadStart_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.handleTechDurationChange_();this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"));this.manualAutoplay_(this.autoplay())},u.manualAutoplay_=function(n){var i=this,r,t;if(this.tech_&&typeof n=="string")return(r=function(){var t=i.muted(),n;if(i.muted(!0),n=i.play(),n&&n.then&&n.catch)return n.catch(function(){i.muted(t)})},n==="any"?(t=this.play(),t&&t.then&&t.catch&&t.catch(function(){return r()})):t=n==="muted"?r():this.play(),!t||!t.then||!t.catch)?void 0:t.then(function(){i.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){i.trigger({type:"autoplay-failure",autoplay:n})})},u.updateSourceCaches_=function(n){var t,i,u,r;n===void 0&&(n="");t=n;i="";typeof t!="string"&&(t=n.src,i=n.type);this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];t&&!i&&(i=oht(this,t));this.cache_.source=y({},n,{src:t,type:i});var f=this.cache_.sources.filter(function(n){return n.src&&n.src===t}),e=[],o=this.$$("source"),s=[];for(u=0;u<o.length;u++)r=ai(o[u]),e.push(r),r.src&&r.src===t&&s.push(r.src);s.length&&!f.length?this.cache_.sources=e:f.length||(this.cache_.sources=[this.cache_.source]);this.cache_.src=t},u.handleTechSourceset_=function(n){var t=this,u;if(!this.changingSrc_){var f=function(n){return t.updateSourceCaches_(n)},i=this.currentSource().src,r=n.src;if(i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(this.lastSource_&&(this.lastSource_.tech===r||this.lastSource_.player===i)||(f=function(){})),f(r),!n.src){u=function u(n){if(n.type!=="sourceset"){var i=t.techGet("currentSrc");t.lastSource_.tech=i;t.updateSourceCaches_(i)}t.tech_.off(["sourceset","loadstart"],u)};this.tech_.one(["sourceset","loadstart"],u)}}this.lastSource_={player:this.currentSource().src,tech:n.src};this.trigger({src:n.src,type:"sourceset"})},u.hasStarted=function(n){if(n===undefined)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},u.handleTechPlay_=function(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(!0);this.trigger("play")},u.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]);this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")},u.handleTechWaiting_=function(){var n=this,i,t;this.addClass("vjs-waiting");this.trigger("waiting");i=this.currentTime();t=function t(){i!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",t))};this.on("timeupdate",t)},u.handleTechCanPlay_=function(){this.removeClass("vjs-waiting");this.trigger("canplay")},u.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")},u.handleTechPlaying_=function(){this.removeClass("vjs-waiting");this.trigger("playing")},u.handleTechSeeking_=function(){this.addClass("vjs-seeking");this.trigger("seeking")},u.handleTechSeeked_=function(){this.removeClass("vjs-seeking");this.trigger("seeked")},u.handleTechFirstPlay_=function(){this.options_.starttime&&(c.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime));this.addClass("vjs-has-started");this.trigger("firstplay")},u.handleTechPause_=function(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")},u.handleTechEnded_=function(){this.addClass("vjs-ended");this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause();this.trigger("ended")},u.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},u.handleTechClick_=function(n){uu(n)&&this.controls_&&(this.paused()?gf(this.play()):this.pause())},u.handleTechDoubleClick_=function(n){if(this.controls_){var t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(t){return t.contains(n.target)});t||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},u.handleTechTap_=function(){this.userActive(!this.userActive())},u.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},u.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},u.handleTechTouchEnd_=function(n){n.preventDefault()},u.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},u.handleStageClick_=function(){this.reportUserActivity()},u.handleTechFullscreenChange_=function(n,t){t&&this.isFullscreen(t.isFullscreen);this.trigger("fullscreenchange")},u.handleTechError_=function(){var n=this.tech_.error();this.error(n)},u.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]);this.trigger("textdata",n)},u.getCache=function(){return this.cache_},u.techCall_=function(n,t){this.ready(function(){if(n in iht)return nht(this.middleware_,this.tech_,n,t);if(n in bk)return wk(this.middleware_,this.tech_,n,t);try{this.tech_&&this.tech_[n](t)}catch(i){c(i);throw i;}},!0)},u.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in tht)return pk(this.middleware_,this.tech_,n);if(n in bk)return wk(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(t){if(this.tech_[n]===undefined){c("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",t);throw t;}if(t.name==="TypeError"){c("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",t);this.tech_.isReady_=!1;throw t;}c(t);throw t;}}},u.play=function(){var i=this,n=this.options_.Promise||t.Promise;return n?new n(function(n){i.play_(n)}):this.play_()},u.play_=function(n){var t=this;if(n===void 0&&(n=gf),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc())){n(this.techGet_("play"));return}this.playOnLoadstart_=function(){t.playOnLoadstart_=null;n(t.play())};this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0;this.ready(function(){t.playWaitingForReady_=!1;n(t.play())})}},u.pause=function(){this.techCall_("pause")},u.paused=function(){return this.techGet_("paused")===!1?!1:!0},u.played=function(){return this.techGet_("played")||hr(0,0)},u.scrubbing=function(n){if(typeof n=="undefined")return this.scrubbing_;this.scrubbing_=!!n;n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},u.currentTime=function(n){if(typeof n!="undefined"){n<0&&(n=0);this.techCall_("setCurrentTime",n);return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},u.duration=function(n){if(n===undefined)return this.techGet_("duration");n=parseFloat(n);(n<0||n>=Number.MAX_VALUE)&&(n=Infinity);n!==this.cache_.duration&&(this.cache_.duration=n,n===Infinity?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(n)||this.trigger("durationchange"))},u.remainingTime=function(){return this.duration()-this.currentTime()},u.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},u.buffered=function(){var n=this.techGet_("buffered");return n&&n.length||(n=hr(0,0)),n},u.bufferedPercent=function(){return lb(this.buffered(),this.duration())},u.bufferedEnd=function(){var t=this.buffered(),i=this.duration(),n=t.end(t.length-1);return n>i&&(n=i),n},u.volume=function(n){var t;if(n!==undefined){t=Math.max(0,Math.min(1,parseFloat(n)));this.cache_.volume=t;this.techCall_("setVolume",t);t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t},u.muted=function(n){if(n!==undefined){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},u.defaultMuted=function(n){return n!==undefined?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},u.lastVolume_=function(n){if(n!==undefined&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},u.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},u.isFullscreen=function(n){if(n!==undefined){this.isFullscreen_=!!n;return}return!!this.isFullscreen_},u.requestFullscreen=function(){var t=so;this.isFullscreen(!0);t.requestFullscreen?(fi(n,t.fullscreenchange,o(this,function i(){this.isFullscreen(n[t.fullscreenElement]);this.isFullscreen()===!1&&vt(n,t.fullscreenchange,i);this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},u.exitFullscreen=function(){var t=so;this.isFullscreen(!1);t.requestFullscreen?n[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},u.enterFullWindow=function(){this.isFullWindow=!0;this.docOrigOverflow=n.documentElement.style.overflow;fi(n,"keydown",o(this,this.fullWindowOnEscKey));n.documentElement.style.overflow="hidden";fr(n.body,"vjs-full-window");this.trigger("enterFullWindow")},u.fullWindowOnEscKey=function(n){n.keyCode===27&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},u.exitFullWindow=function(){this.isFullWindow=!1;vt(n,"keydown",this.fullWindowOnEscKey);n.documentElement.style.overflow=this.docOrigOverflow;lf(n.body,"vjs-full-window");this.trigger("exitFullWindow")},u.canPlayType=function(n){for(var i,t,u,f=0,e=this.options_.techOrder;f<e.length;f++){if(i=e[f],t=v.getTech(i),t||(t=r.getComponent(i)),!t){c.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.');continue}if(t.isSupported()&&(u=t.canPlayType(n),u))return u}return""},u.selectSource=function(n){var f=this,t=this.options_.techOrder.map(function(n){return[n,v.getTech(n)]}).filter(function(n){var i=n[0],t=n[1];return t?t.isSupported():(c.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),i=function(n,t,i){var r;return n.some(function(n){return t.some(function(t){return r=i(n,t),r?!0:void 0})}),r},r,e=function(n){return function(t,i){return n(i,t)}},u=function(n,t){var i=n[0],r=n[1];if(r.canPlaySource(t,f.options_[i.toLowerCase()]))return{source:t,tech:i}};return r=this.options_.sourceOrder?i(n,t,e(u)):i(t,n,u),r||!1},u.src=function(n){var t=this,i;if(typeof n=="undefined")return this.cache_.src||"";if(i=dk(n),!i.length){this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);return}this.changingSrc_=!0;this.cache_.sources=i;this.updateSourceCaches_(i[0]);dst(this,i[0],function(n,r){t.middleware_=r;t.cache_.sources=i;t.updateSourceCaches_(n);var u=t.src_(n);if(u){if(i.length>1)return t.src(i.slice(1));t.changingSrc_=!1;t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);t.triggerReady();return}gst(r,t.tech_)})},u.src_=function(n){var i=this,t=this.selectSource([n]);return t?bft(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src);this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(function(){i.changingSrc_=!1}),!1):!0},u.load=function(){this.techCall_("load")},u.reset=function(){this.tech_&&this.tech_.clearTracks("text");this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset");or(this)&&this.trigger("playerreset")},u.currentSources=function(){var n=this.currentSource(),t=[];return Object.keys(n).length!==0&&t.push(n),this.cache_.sources||t},u.currentSource=function(){return this.cache_.source||{}},u.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},u.currentType=function(){return this.currentSource()&&this.currentSource().type||""},u.preload=function(n){if(n!==undefined){this.techCall_("setPreload",n);this.options_.preload=n;return}return this.techGet_("preload")},u.autoplay=function(n){if(n===undefined)return this.options_.autoplay||!1;var t;typeof n=="string"&&/(any|play|muted)/.test(n)?(this.options_.autoplay=n,this.manualAutoplay_(n),t=!1):this.options_.autoplay=n?!0:!1;t=t||this.options_.autoplay;this.tech_&&this.techCall_("setAutoplay",t)},u.playsinline=function(n){return n!==undefined?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},u.loop=function(n){if(n!==undefined){this.techCall_("setLoop",n);this.options_.loop=n;return}return this.techGet_("loop")},u.poster=function(n){if(n===undefined)return this.poster_;(n||(n=""),n!==this.poster_)&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},u.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},u.controls=function(n){if(n===undefined)return!!this.controls_;(n=!!n,this.controls_!==n)&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},u.usingNativeControls=function(n){if(n===undefined)return!!this.usingNativeControls_;(n=!!n,this.usingNativeControls_!==n)&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},u.error=function(n){if(n===undefined)return this.error_||null;if(n===null){this.error_=n;this.removeClass("vjs-error");this.errorDisplay&&this.errorDisplay.close();return}this.error_=new rt(n);this.addClass("vjs-error");c.error("(CODE:"+this.error_.code+" "+rt.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");return},u.reportUserActivity=function(){this.userActivity_=!0},u.userActive=function(n){if(n===undefined)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive");return}if(this.tech_)this.tech_.one("mousemove",function(n){n.stopPropagation();n.preventDefault()});this.userActivity_=!1;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")}},u.listenForUserActivity_=function(){var t,i,r,n=o(this,this.reportUserActivity),f=function(t){(t.screenX!==i||t.screenY!==r)&&(i=t.screenX,r=t.screenY,n())},e=function(){n();this.clearInterval(t);t=this.setInterval(n,250)},s=function(){n();this.clearInterval(t)},u;this.on("mousedown",e);this.on("mousemove",f);this.on("mouseup",s);this.on("keydown",n);this.on("keyup",n);this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1;this.userActive(!0);this.clearTimeout(u);var n=this.options_.inactivityTimeout;n<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},n))}},250)},u.playbackRate=function(n){if(n!==undefined){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},u.defaultPlaybackRate=function(n){return n!==undefined?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},u.isAudio=function(n){if(n!==undefined){this.isAudio_=!!n;return}return!!this.isAudio_},u.addTextTrack=function(n,t,i){if(this.tech_)return this.tech_.addTextTrack(n,t,i)},u.addRemoteTextTrack=function(n,t){if(this.tech_)return this.tech_.addRemoteTextTrack(n,t)},u.removeRemoteTextTrack=function(n){n===void 0&&(n={});var i=n,t=i.track;return t||(t=n),this.tech_?this.tech_.removeRemoteTextTrack(t):void 0},u.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},u.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},u.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},u.language=function(n){if(n===undefined)return this.language_;this.language_=String(n).toLowerCase()},u.languages=function(){return y(s.prototype.options_.languages,this.languages_)},u.toJSON=function(){var i=y(this.options_),r=i.tracks,n,t;for(i.tracks=[],n=0;n<r.length;n++)t=r[n],t=y(t),t.player=undefined,i.tracks[n]=t;return i},u.createModal=function(n,t){var r=this,i;t=t||{};t.content=n||"";i=new su(this,t);this.addChild(i);i.on("dispose",function(){r.removeChild(i)});return i.open(),i},u.updateCurrentBreakpoint_=function(){var t,r,i,n,u;if(this.responsive())for(t=this.currentBreakpoint(),r=this.currentWidth(),i=0;i<ev.length;i++)if(n=ev[i],u=this.breakpoints_[n],r<=u){if(t===n)return;t&&this.removeClass(ys[t]);this.addClass(ys[n]);this.breakpoint_=n;break}},u.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="";n&&this.removeClass(n)},u.breakpoints=function(n){return n===undefined?p(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=p({},yg,n),this.updateCurrentBreakpoint_(),p(this.breakpoints_))},u.responsive=function(n){if(n===undefined)return this.responsive_;n=Boolean(n);var t=this.responsive_;if(n!==t){if(this.responsive_=n,n){this.on("playerresize",this.updateCurrentBreakpoint_);this.updateCurrentBreakpoint_()}else this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_();return n}},u.currentBreakpoint=function(){return this.breakpoint_},u.currentBreakpointClass=function(){return ys[this.breakpoint_]||""},s.getTagSettings=function(n){var i={sources:[],tracks:[]},t=ai(n),o=t["data-setup"],f,r,l,u,e;if(ur(n,"vjs-fill")&&(t.fill=!0),ur(n,"vjs-fluid")&&(t.fluid=!0),o!==null){var s=ab(o||"{}"),h=s[0],a=s[1];h&&c.error(h);p(t,a)}if(p(i,t),n.hasChildNodes())for(f=n.childNodes,r=0,l=f.length;r<l;r++)u=f[r],e=u.nodeName.toLowerCase(),e==="source"?i.sources.push(ai(u)):e==="track"&&i.tracks.push(ai(u));return i},u.flexNotSupported_=function(){var t=n.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},s}(r);ct.names.forEach(function(n){var t=ct[n];d.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});d.players={};pu=t.navigator;d.prototype.options_={techOrder:v.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:pu&&(pu.languages&&pu.languages[0]||pu.userLanguage||pu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(n){d.prototype[n]=function(){return this.techGet_(n)}});vg.forEach(function(n){d.prototype["handleTech"+b(n)+"_"]=function(){return this.trigger(n)}});r.registerComponent("Player",d);var ps="plugin",wu="activePlugins_",bu={},ws=function(n){return bu.hasOwnProperty(n)},bs=function(n){return ws(n)?bu[n]:undefined},pg=function(n,t){n[wu]=n[wu]||{};n[wu][t]=!0},ks=function(n,t,i){var r=(i?"before":"")+"pluginsetup";n.trigger(r,t);n.trigger(r+":"+t.name,t)},kht=function(n,t){var i=function(){ks(this,{name:n,plugin:t,instance:null},!0);var i=t.apply(this,arguments);return pg(this,n),ks(this,{name:n,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(n){i[n]=t[n]}),i},wg=function(n,t){return t.prototype.name=n,function(){var r;ks(this,{name:n,plugin:t,instance:null},!0);for(var u=arguments.length,f=new Array(u),i=0;i<u;i++)f[i]=arguments[i];return r=ro(t,[this].concat(f)),this[n]=function(){return r},ks(this,r.getEventHash()),r}},si=function(){function n(t){if(this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t;tl(this);delete this.trigger;tb(this,this.constructor.defaultState);pg(t,this.name);this.dispose=o(this,this.dispose);t.on("dispose",this.dispose)}var t=n.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},t.trigger=function(n,t){return t===void 0&&(t={}),eu(this.eventBusEl_,n,this.getEventHash(t))},t.handleStateChanged=function(){},t.dispose=function(){var n=this.name,t=this.player;this.trigger("dispose");this.off();t.off("dispose",this.dispose);t[wu][n]=!1;this.player=this.state=null;t[n]=wg(n,bu[n])},n.isBasic=function(t){var i=typeof t=="string"?bs(t):t;return typeof i=="function"&&!n.prototype.isPrototypeOf(i.prototype)},n.registerPlugin=function(t,i){if(typeof t!="string")throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+typeof t+".");if(ws(t))c.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(d.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+t+'", must be a function, was '+typeof i+".");return bu[t]=i,t!==ps&&(d.prototype[t]=n.isBasic(i)?kht(t,i):wg(t,i)),i},n.deregisterPlugin=function(n){if(n===ps)throw new Error("Cannot de-register base plugin.");ws(n)&&(delete bu[n],delete d.prototype[n])},n.getPlugins=function(n){n===void 0&&(n=Object.keys(bu));var t;return n.forEach(function(n){var i=bs(n);i&&(t=t||{},t[n]=i)}),t},n.getPluginVersion=function(n){var t=bs(n);return t&&t.VERSION||""},n}();si.getPlugin=bs;si.BASE_PLUGIN_NAME=ps;si.registerPlugin(ps,si);d.prototype.usingPlugin=function(n){return!!this[wu]&&this[wu][n]===!0};d.prototype.hasPlugin=function(n){return!!ws(n)};var dht=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(n.super_=t)},ght=function(n,t){var i,r,u;t===void 0&&(t={});i=function(){n.apply(this,arguments)};r={};typeof t=="object"?(t.constructor!==Object.prototype.constructor&&(i=t.constructor),r=t):typeof t=="function"&&(i=t);dht(i,n);for(u in r)r.hasOwnProperty(u)&&(i.prototype[u]=r[u]);return i},bg=function(n){return n.indexOf("#")===0?n.slice(1):n};i.hooks_={};i.hooks=function(n,t){return i.hooks_[n]=i.hooks_[n]||[],t&&(i.hooks_[n]=i.hooks_[n].concat(t)),i.hooks_[n]};i.hook=function(n,t){i.hooks(n,t)};i.hookOnce=function(n,t){i.hooks(n,[].concat(t).map(function(t){var r=function r(){return i.removeHook(n,r),t.apply(void 0,arguments)};return r}))};i.removeHook=function(n,t){var r=i.hooks(n).indexOf(t);return r<=-1?!1:(i.hooks_[n]=i.hooks_[n].slice(),i.hooks_[n].splice(r,1),!0)};t.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&iu()&&(se=ki(".vjs-styles-defaults"),se||(se=pw("vjs-styles-defaults"),ds=ki("head"),ds&&ds.insertBefore(se,ds.firstChild),ww(se,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")));gc(1,i);i.VERSION=oc;i.options=d.prototype.options_;i.getPlayers=function(){return d.players};i.getPlayer=function(n){var i=d.players,t,r,u;if(typeof n=="string"){if(r=bg(n),u=i[r],u)return u;t=ki("#"+r)}else t=n;if(cf(t)){var f=t,e=f.player,o=f.playerId;if(e||i[o])return e||i[o]}};i.getAllPlayers=function(){return Object.keys(d.players).map(function(n){return d.players[n]}).filter(Boolean)};i.players=d.players;i.getComponent=r.getComponent;i.registerComponent=function(n,t){v.isTech(t)&&c.warn("The "+n+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)");r.registerComponent.call(r,n,t)};i.getTech=v.getTech;i.registerTech=v.registerTech;i.use=kst;Object.defineProperty(i,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(i.middleware,"TERMINATOR",{value:po,writeable:!1,enumerable:!0});i.browser=gft;i.TOUCH_ENABLED=oo;i.extend=ght;i.mergeOptions=y;i.bind=o;i.registerPlugin=si.registerPlugin;i.deregisterPlugin=si.deregisterPlugin;i.plugin=function(n,t){return c.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),si.registerPlugin(n,t)};i.getPlugins=si.getPlugins;i.getPlugin=si.getPlugin;i.getPluginVersion=si.getPluginVersion;i.addLanguage=function(n,t){var r;return n=(""+n).toLowerCase(),i.options.languages=y(i.options.languages,(r={},r[n]=t,r)),i.options.languages[n]};i.log=c;i.createLogger=cc;i.createTimeRange=i.createTimeRanges=hr;i.formatTime=au;i.setFormatTime=hht;i.resetFormatTime=cht;i.parseUrl=al;i.isCrossOrigin=lo;i.EventTarget=tt;i.on=fi;i.one=pf;i.off=vt;i.trigger=eu;i.xhr=pl;i.TextTrack=te;i.AudioTrack=ek;i.VideoTrack=ok;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(n){i[n]=function(){return c.warn("videojs."+n+"() is deprecated; use videojs.dom."+n+"() instead"),cw[n].apply(null,arguments)}});i.computedStyle=ac;i.dom=cw;i.url=vet;var kg=yl(function(n){(function(){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,u=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,t={buildAbsoluteURL:function(n,i,u){var s,f,e,h,o,c,l;if(u=u||{},n=n.trim(),i=i.trim(),!i){if(!u.alwaysNormalize)return n;if(s=t.parseURL(n),!s)throw new Error("Error trying to parse base URL.");return s.path=t.normalizePath(s.path),t.buildURLFromParts(s)}if(f=t.parseURL(i),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=t.normalizePath(f.path),t.buildURLFromParts(f)):i;if(e=t.parseURL(n),!e)throw new Error("Error trying to parse base URL.");return!e.netLoc&&e.path&&e.path[0]!=="/"&&(h=r.exec(e.path),e.netLoc=h[1],e.path=h[2]),e.netLoc&&!e.path&&(e.path="/"),o={scheme:e.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=e.netLoc,f.path[0]!=="/"&&(f.path?(c=e.path,l=c.substring(0,c.lastIndexOf("/")+1)+f.path,o.path=t.normalizePath(l)):(o.path=e.path,f.params||(o.params=e.params,f.query||(o.query=e.query))))),o.path===null&&(o.path=u.alwaysNormalize?t.normalizePath(f.path):f.path),t.buildURLFromParts(o)},parseURL:function(n){var t=i.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(u,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};n.exports=t})(gb)}),gs=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},nct=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},ov=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},sv=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},hv=function(){function n(){gs(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var i=this.listeners[n],t=void 0,r=void 0,u=void 0;if(i)if(arguments.length===2)for(r=i.length,t=0;t<r;++t)i[t].call(this,arguments[1]);else for(u=Array.prototype.slice.call(arguments,1),r=i.length,t=0;t<r;++t)i[t].apply(this,u)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),tct=function(n){function t(){gs(this,t);var i=sv(this,n.call(this));return i.buffer="",i}return ov(t,n),t.prototype.push=function(n){var t=void 0;for(this.buffer+=n,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},t}(hv),ict=function(){return new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')},he=function(n){for(var i=n.split(ict()),u={},r=i.length,t=void 0;r--;)i[r]!==""&&(t=/([^=]*)=(.*)/.exec(i[r]).slice(1),t[0]=t[0].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^\s+|\s+$/g,""),t[1]=t[1].replace(/^['"](.*)['"]$/g,"$1"),u[t[0]]=t[1]);return u},rct=function(n){function t(){gs(this,t);var i=sv(this,n.call(this));return i.customParsers=[],i}return ov(t,n),t.prototype.push=function(n){var i=void 0,t=void 0,f,r,u,e;if(n=n.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}for(f=0;f<this.customParsers.length;f++)if(this.customParsers[f].call(this,n))return;if(n.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:n.slice(1)});return}if(n=n.replace("\r",""),i=/^#EXTM3U/.exec(n),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(n),i){t={type:"tag",tagType:"inf"};i[1]&&(t.duration=parseFloat(i[1]));i[2]&&(t.title=i[2]);this.trigger("data",t);return}if(i=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"targetduration"};i[1]&&(t.duration=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"totalduration"};i[1]&&(t.duration=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"version"};i[1]&&(t.version=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"media-sequence"};i[1]&&(t.number=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"discontinuity-sequence"};i[1]&&(t.number=parseInt(i[1],10));this.trigger("data",t);return}if(i=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"playlist-type"};i[1]&&(t.playlistType=i[1]);this.trigger("data",t);return}if(i=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(n),i){t={type:"tag",tagType:"byterange"};i[1]&&(t.length=parseInt(i[1],10));i[2]&&(t.offset=parseInt(i[2],10));this.trigger("data",t);return}if(i=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(n),i){t={type:"tag",tagType:"allow-cache"};i[1]&&(t.allowed=!/NO/.test(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-MAP:?(.*)$/.exec(n),i){if(t={type:"tag",tagType:"map"},i[1]&&(r=he(i[1]),r.URI&&(t.uri=r.URI),r.BYTERANGE)){var o=r.BYTERANGE.split("@"),s=o[0],h=o[1];t.byterange={};s&&(t.byterange.length=parseInt(s,10));h&&(t.byterange.offset=parseInt(h,10))}this.trigger("data",t);return}if(i=/^#EXT-X-STREAM-INF:?(.*)$/.exec(n),i){t={type:"tag",tagType:"stream-inf"};i[1]&&(t.attributes=he(i[1]),t.attributes.RESOLUTION&&(u=t.attributes.RESOLUTION.split("x"),e={},u[0]&&(e.width=parseInt(u[0],10)),u[1]&&(e.height=parseInt(u[1],10)),t.attributes.RESOLUTION=e),t.attributes.BANDWIDTH&&(t.attributes.BANDWIDTH=parseInt(t.attributes.BANDWIDTH,10)),t.attributes["PROGRAM-ID"]&&(t.attributes["PROGRAM-ID"]=parseInt(t.attributes["PROGRAM-ID"],10)));this.trigger("data",t);return}if(i=/^#EXT-X-MEDIA:?(.*)$/.exec(n),i){t={type:"tag",tagType:"media"};i[1]&&(t.attributes=he(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-ENDLIST/.exec(n),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(n),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(n),i){t={type:"tag",tagType:"program-date-time"};i[1]&&(t.dateTimeString=i[1],t.dateTimeObject=new Date(i[1]));this.trigger("data",t);return}if(i=/^#EXT-X-KEY:?(.*)$/.exec(n),i){t={type:"tag",tagType:"key"};i[1]&&(t.attributes=he(i[1]),t.attributes.IV&&(t.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(t.attributes.IV=t.attributes.IV.substring(2)),t.attributes.IV=t.attributes.IV.match(/.{8}/g),t.attributes.IV[0]=parseInt(t.attributes.IV[0],16),t.attributes.IV[1]=parseInt(t.attributes.IV[1],16),t.attributes.IV[2]=parseInt(t.attributes.IV[2],16),t.attributes.IV[3]=parseInt(t.attributes.IV[3],16),t.attributes.IV=new Uint32Array(t.attributes.IV)));this.trigger("data",t);return}if(i=/^#EXT-X-START:?(.*)$/.exec(n),i){t={type:"tag",tagType:"start"};i[1]&&(t.attributes=he(i[1]),t.attributes["TIME-OFFSET"]=parseFloat(t.attributes["TIME-OFFSET"]),t.attributes.PRECISE=/YES/.test(t.attributes.PRECISE));this.trigger("data",t);return}if(i=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-out-cont"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}if(i=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-out"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n),i){t={type:"tag",tagType:"cue-in"};t.data=i[1]?i[1]:"";this.trigger("data",t);return}this.trigger("data",{type:"tag",data:n.slice(4)})}},t.prototype.addParser=function(n){var i=this,r=n.expression,u=n.customType,t=n.dataParser,f=n.segment;typeof t!="function"&&(t=function(n){return n});this.customParsers.push(function(n){var e=r.exec(n);if(e)return i.trigger("data",{type:"custom",data:t(n),customType:u,segment:f}),!0})},t}(hv),dg=function(n){function t(){var r;gs(this,t);r=sv(this,n.call(this));r.lineStream=new tct;r.parseStream=new rct;r.lineStream.pipe(r.parseStream);var s=r,e=[],i={},u=void 0,f=void 0,c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},o=0;r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};r.parseStream.on("data",function(n){var r=void 0,t=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=n.allowed;"allowed"in n||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var t={};"length"in n&&(i.byterange=t,t.length=n.length,"offset"in n||(this.trigger("info",{message:"defaulting offset to zero"}),n.offset=0));"offset"in n&&(i.byterange=t,t.offset=n.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"}));"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"}));n.duration>0&&(i.duration=n.duration);n.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"}));this.manifest.segments=e},key:function(){if(!n.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(n.attributes.METHOD==="NONE"){f=null;return}if(!n.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}n.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"});f={method:n.attributes.METHOD||"AES-128",uri:n.attributes.URI};typeof n.attributes.IV!="undefined"&&(f.iv=n.attributes.IV)},"media-sequence":function(){if(!isFinite(n.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+n.number});return}this.manifest.mediaSequence=n.number},"discontinuity-sequence":function(){if(!isFinite(n.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+n.number});return}this.manifest.discontinuitySequence=n.number;o=n.number},"playlist-type":function(){if(!/VOD|EVENT/.test(n.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+n.playlist});return}this.manifest.playlistType=n.playlistType},map:function(){u={};n.uri&&(u.uri=n.uri);n.byterange&&(u.byterange=n.byterange)},"stream-inf":function(){if(this.manifest.playlists=e,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!n.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={});nct(i.attributes,n.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(n.attributes&&n.attributes.TYPE&&n.attributes["GROUP-ID"]&&n.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var i=this.manifest.mediaGroups[n.attributes.TYPE];i[n.attributes["GROUP-ID"]]=i[n.attributes["GROUP-ID"]]||{};r=i[n.attributes["GROUP-ID"]];t={"default":/yes/i.test(n.attributes.DEFAULT)};t.autoselect=t["default"]?!0:/yes/i.test(n.attributes.AUTOSELECT);n.attributes.LANGUAGE&&(t.language=n.attributes.LANGUAGE);n.attributes.URI&&(t.uri=n.attributes.URI);n.attributes["INSTREAM-ID"]&&(t.instreamId=n.attributes["INSTREAM-ID"]);n.attributes.CHARACTERISTICS&&(t.characteristics=n.attributes.CHARACTERISTICS);n.attributes.FORCED&&(t.forced=/yes/i.test(n.attributes.FORCED));r[n.attributes.NAME]=t},discontinuity:function(){o+=1;i.discontinuity=!0;this.manifest.discontinuityStarts.push(e.length)},"program-date-time":function(){typeof this.manifest.dateTimeString=="undefined"&&(this.manifest.dateTimeString=n.dateTimeString,this.manifest.dateTimeObject=n.dateTimeObject);i.dateTimeString=n.dateTimeString;i.dateTimeObject=n.dateTimeObject},targetduration:function(){if(!isFinite(n.duration)||n.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+n.duration});return}this.manifest.targetDuration=n.duration},totalduration:function(){if(!isFinite(n.duration)||n.duration<0){this.trigger("warn",{message:"ignoring invalid total duration: "+n.duration});return}this.manifest.totalDuration=n.duration},start:function(){if(!n.attributes||isNaN(n.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:n.attributes["TIME-OFFSET"],precise:n.attributes.PRECISE}},"cue-out":function(){i.cueOut=n.data},"cue-out-cont":function(){i.cueOutCont=n.data},"cue-in":function(){i.cueIn=n.data}}[n.tagType]||c).call(s)},uri:function(){i.uri=n.uri;e.push(i);!this.manifest.targetDuration||"duration"in i||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration);f&&(i.key=f);i.timeline=o;u&&(i.map=u);i={}},comment:function(){},custom:function(){n.segment?(i.custom=i.custom||{},i.custom[n.customType]=n.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[n.customType]=n.data)}})[n.type].call(s)});return r}return ov(t,n),t.prototype.push=function(n){this.lineStream.push(n)},t.prototype.end=function(){this.lineStream.push("\n")},t.prototype.addParser=function(n){this.parseStream.addParser(n)},t}(hv);
/*! @name mpd-parser @version 0.7.0 @license Apache-2.0 */
var gg=function(n){return!!n&&typeof n=="object"},lt=function lt(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return i.reduce(function(n,t){return Object.keys(t).forEach(function(i){n[i]=Array.isArray(n[i])&&Array.isArray(t[i])?n[i].concat(t[i]):gg(n[i])&&gg(t[i])?lt(n[i],t[i]):t[i]}),n},{})},uct=function(n){return Object.keys(n).map(function(t){return n[t]})},fct=function(n,t){for(var r=[],i=n;i<t;i++)r.push(i);return r},nh=function(n){return n.reduce(function(n,t){return n.concat(t)},[])},nn=function(n){var i,t;if(!n.length)return[];for(i=[],t=0;t<n.length;t++)i.push(n[t]);return i},ect=function(n,t){return n.reduce(function(n,i,r){return i[t]&&n.push(r),n},[])},tn=function(n){var t=uct(n.reduce(function(n,t){var i=t.attributes.id+(t.attributes.lang||""),r;return n[i]?(t.segments[0].discontinuity=!0,(r=n[i].segments).push.apply(r,t.segments),t.attributes.contentProtection&&(n[i].attributes.contentProtection=t.attributes.contentProtection)):n[i]=t,n},{}));return t.map(function(n){return n.discontinuityStarts=ect(n.segments,"discontinuity"),n})},oct=function(n){var i,t=n.attributes,r=n.segments,u={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),u},sct=function(n){var r,t=n.attributes,i=n.segments;return typeof i=="undefined"&&(i=[{uri:t.baseUrl,timeline:t.periodIndex,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration),{attributes:(r={NAME:t.id,BANDWIDTH:t.bandwidth},r["PROGRAM-ID"]=1,r),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:t.baseUrl||"",targetDuration:t.duration,segments:i,mediaSequence:i.length?i[0].number:1}},hct=function(n){return n.reduce(function(n,t){var r=t.attributes.role&&t.attributes.role.value||"main",u=t.attributes.lang||"",i="main";return(u&&(i=t.attributes.lang+" ("+r+")"),n[i]&&n[i].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth)?n:(n[i]={language:u,autoselect:!0,"default":r==="main",playlists:[oct(t)],uri:""},n)},{})},cct=function(n){return n.reduce(function(n,t){var i=t.attributes.lang||"text";return n[i]?n:(n[i]={language:i,"default":!1,autoselect:!1,playlists:[sct(t)],uri:""},n)},{})},lct=function(n){var i,t=n.attributes,r=n.segments,u={attributes:(i={NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:(t.type||"static")==="static",timeline:t.periodIndex,resolvedUri:"",targetDuration:t.duration,segments:r,mediaSequence:r.length?r[0].number:1};return t.contentProtection&&(u.contentProtection=t.contentProtection),u},act=function(n){var t;if(!n.length)return{};var r=n[0].attributes,o=r.sourceDuration,u=r.minimumUpdatePeriod,s=u===void 0?0:u,h=function(n){var t=n.attributes;return t.mimeType==="video/mp4"||t.contentType==="video"},c=function(n){var t=n.attributes;return t.mimeType==="audio/mp4"||t.contentType==="audio"},l=function(n){var t=n.attributes;return t.mimeType==="text/vtt"||t.contentType==="text"},a=tn(n.filter(h)).map(lct),f=tn(n.filter(c)),e=n.filter(l),i={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:o,playlists:a,minimumUpdatePeriod:s*1e3};return f.length&&(i.mediaGroups.AUDIO.audio=hct(f)),e.length&&(i.mediaGroups.SUBTITLES.subs=cct(e)),i},vct=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var rn=yct(function(n){(function(){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/?#]*)(.*)$/,u=/(?:\/|^)\.(?=\/)/g,f=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,t={buildAbsoluteURL:function(n,i,u){var s,f,e,h,o,c,l;if(u=u||{},n=n.trim(),i=i.trim(),!i){if(!u.alwaysNormalize)return n;if(s=t.parseURL(n),!s)throw new Error("Error trying to parse base URL.");return s.path=t.normalizePath(s.path),t.buildURLFromParts(s)}if(f=t.parseURL(i),!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=t.normalizePath(f.path),t.buildURLFromParts(f)):i;if(e=t.parseURL(n),!e)throw new Error("Error trying to parse base URL.");return!e.netLoc&&e.path&&e.path[0]!=="/"&&(h=r.exec(e.path),e.netLoc=h[1],e.path=h[2]),e.netLoc&&!e.path&&(e.path="/"),o={scheme:e.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment},f.netLoc||(o.netLoc=e.netLoc,f.path[0]!=="/"&&(f.path?(c=e.path,l=c.substring(0,c.lastIndexOf("/")+1)+f.path,o.path=t.normalizePath(l)):(o.path=e.path,f.params||(o.params=e.params,f.query||(o.query=e.query))))),o.path===null&&(o.path=u.alwaysNormalize?t.normalizePath(f.path):f.path),t.buildURLFromParts(o)},parseURL:function(n){var t=i.exec(n);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(n){for(n=n.split("").reverse().join("").replace(u,"");n.length!==(n=n.replace(f,"")).length;);return n.split("").reverse().join("")},buildURLFromParts:function(n){return n.scheme+n.netLoc+n.path+n.params+n.query+n.fragment}};n.exports=t})(vct)}),cv=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=rn.buildAbsoluteURL(t.location.href,n)),rn.buildAbsoluteURL(n,i))},ce=function(n){var t=n.baseUrl,h=t===void 0?"":t,i=n.source,r=i===void 0?"":i,u=n.range,f=u===void 0?"":u,e={uri:r,resolvedUri:cv(h||"",r)};if(f){var o=f.split("-"),s=parseInt(o[0],10),c=parseInt(o[1],10);e.byterange={length:c-s,offset:s}}return e},pct=function(n,t,i){var e=n.NOW,o=n.clientOffset,s=n.availabilityStartTime,r=n.timescale,h=r===void 0?1:r,u=n.start,c=u===void 0?0:u,f=n.minimumUpdatePeriod,l=f===void 0?0:f,a=(e+o)/1e3,v=s+c,y=a+l,p=y-v;return Math.ceil((p*h-t)/i)},un=function(n,t){for(var o,c,d,s,l=n.type,g=l===void 0?"static":l,a=n.minimumUpdatePeriod,nt=a===void 0?0:a,v=n.media,tt=v===void 0?"":v,it=n.sourceDuration,y=n.timescale,p=y===void 0?1:y,w=n.startNumber,b=w===void 0?1:w,rt=n.periodIndex,u=[],i=-1,f=0;f<t.length;f++){var h=t[f],r=h.d,k=h.r||0,e=h.t||0;for(i<0&&(i=e),e&&e>i&&(i=e),o=void 0,k<0?(c=f+1,o=c===t.length?g==="dynamic"&&nt>0&&tt.indexOf("$Number$")>0?pct(n,i,r):(it*p-i)/r:(t[c].t-i)/r):o=k+1,d=b+u.length+o,s=b+u.length;s<d;)u.push({number:s,duration:r/p,time:i,timeline:rt}),i+=r,s++}return u},wct={static:function(n){var i=n.duration,t=n.timescale,r=t===void 0?1:t,u=n.sourceDuration;return{start:0,end:Math.ceil(u/(i/r))}},dynamic:function(n){var h=n.NOW,c=n.clientOffset,l=n.availabilityStartTime,f=n.timescale,t=f===void 0?1:f,i=n.duration,e=n.start,a=e===void 0?0:e,o=n.minimumUpdatePeriod,v=o===void 0?0:o,s=n.timeShiftBufferDepth,y=s===void 0?Infinity:s,r=(h+c)/1e3,u=l+a,p=r+v,w=p-u,b=Math.ceil(w*t/i),k=Math.floor((r-u-y)*t/i),d=Math.floor((r-u)*t/i);return{start:Math.max(0,k),end:Math.min(b,d)}}},bct=function(n){return function(t,i){var r=n.duration,u=n.timescale,e=u===void 0?1:u,o=n.periodIndex,f=n.startNumber,s=f===void 0?1:f;return{number:s+t,duration:r/e,timeline:o,time:i*r}}},lv=function(n){var r=n.type,u=r===void 0?"static":r,o=n.duration,f=n.timescale,s=f===void 0?1:f,h=n.sourceDuration,e=wct[u](n),c=e.start,l=e.end,t=fct(c,l).map(bct(n)),i;return u==="static"&&(i=t.length-1,t[i].duration=h-o/s*i),t},kct=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,dct=function(n){return function(t,i,r,u){if(t==="$$")return"$";if(typeof n[i]=="undefined")return t;var f=""+n[i];return i==="RepresentationID"?f:(u=r?parseInt(u,10):1,f.length>=u)?f:""+new Array(u-f.length+1).join("0")+f}},fn=function(n,t){return n.replace(kct,dct(t))},gct=function(n,t){return!n.duration&&!t?[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodIndex}]:n.duration?lv(n):un(n,t)},nlt=function(n,t){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},r=n.initialization,u=r===void 0?{sourceURL:"",range:""}:r,f=ce({baseUrl:n.baseUrl,source:fn(u.sourceURL,i),range:u.range}),e=gct(n,t);return e.map(function(t){i.Number=t.number;i.Time=t.time;var r=fn(n.media||"",i);return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:cv(n.baseUrl||"",r),map:f,number:t.number}})},ku={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},tlt=function(n,t){var i=n.baseUrl,r=n.initialization,u=r===void 0?{}:r,e=ce({baseUrl:i,source:u.sourceURL,range:u.range}),f=ce({baseUrl:i,source:t.media,range:t.mediaRange});return f.map=e,f},ilt=function(n,t){var i=n.duration,f=n.segmentUrls,e=f===void 0?[]:f,r,u;if(!i&&!t||i&&t)throw new Error(ku.SEGMENT_TIME_UNSPECIFIED);return r=e.map(function(t){return tlt(n,t)}),i&&(u=lv(n)),t&&(u=un(n,t)),u.map(function(n,t){if(r[t]){var i=r[t];return i.timeline=n.timeline,i.duration=n.duration,i.number=n.number,i}}).filter(function(n){return n})},rlt=function(n){var i=n.baseUrl,u=n.initialization,f=u===void 0?{}:u,e=n.sourceDuration,o=n.timescale,c=o===void 0?1:o,s=n.indexRange,l=s===void 0?"":s,a=n.duration,h,t,r;if(!i)throw new Error(ku.NO_BASE_URL);return h=ce({baseUrl:i,source:f.sourceURL,range:f.range}),t=ce({baseUrl:i,source:i,range:l}),t.map=h,a?(r=lv(n),r.length&&(t.duration=r[0].duration,t.timeline=r[0].timeline)):e&&(t.duration=e/c,t.timeline=0),t.number=0,[t]},ult=function(n){var u=n.attributes,i=n.segmentInfo,t,r,f;if(i.template?(r=nlt,t=lt(u,i.template)):i.base?(r=rlt,t=lt(u,i.base)):i.list&&(r=ilt,t=lt(u,i.list)),!r)return{attributes:u};if(f=r(t,i.timeline),t.duration){var e=t,s=e.duration,o=e.timescale,h=o===void 0?1:o;t.duration=s/h}else t.duration=f.length?f.reduce(function(n,t){return Math.max(n,Math.ceil(t.duration))},0):0;return{attributes:t,segments:f}},flt=function(n){return n.map(ult)},g=function(n,t){return nn(n.childNodes).filter(function(n){var i=n.tagName;return i===t})},en=function(n){return n.textContent.trim()},le=function(n){var i=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!i)return 0;var t=i.slice(1),r=t[0],u=t[1],f=t[2],e=t[3],o=t[4],s=t[5];return parseFloat(r||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(f||0)*86400+parseFloat(e||0)*3600+parseFloat(o||0)*60+parseFloat(s||0)},elt=function(n){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)},on={mediaPresentationDuration:function(n){return le(n)},availabilityStartTime:function(n){return elt(n)/1e3},minimumUpdatePeriod:function(n){return le(n)},timeShiftBufferDepth:function(n){return le(n)},start:function(n){return le(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},duration:function(n){var t=parseInt(n,10);return isNaN(t)?le(n):t},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},ft=function(n){return(n&&n.attributes)?nn(n.attributes).reduce(function(n,t){var i=on[t.name]||on.DEFAULT;return n[t.name]=i(t.value),n},{}):{}};var slt={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},th=function(n,t){return t.length?nh(n.map(function(n){return t.map(function(t){return cv(n,en(t))})})):n},av=function(n){var f=g(n,"SegmentTemplate")[0],i=g(n,"SegmentList")[0],c=i&&g(i,"SegmentURL").map(function(n){return lt({tag:"SegmentURL"},ft(n))}),e=g(n,"SegmentBase")[0],o=i||f,s=o&&g(o,"SegmentTimeline")[0],h=i||e||f,r=h&&g(h,"Initialization")[0],t=f&&ft(f),u;return t&&r?t.initialization=r&&ft(r):t&&t.initialization&&(t.initialization={sourceURL:t.initialization}),u={template:t,timeline:s&&g(s,"S").map(function(n){return ft(n)}),list:i&&lt(ft(i),{segmentUrls:c,initialization:ft(r)}),base:e&&lt(ft(e),{initialization:ft(r)})},Object.keys(u).forEach(function(n){u[n]||delete u[n]}),u},hlt=function(n,t,i){return function(r){var u=g(r,"BaseURL"),f=th(t,u),e=lt(n,ft(r)),o=av(r);return f.map(function(n){return{segmentInfo:lt(i,o),attributes:lt(e,{baseUrl:n})}})}},clt=function(n){return n.reduce(function(n,t){var f=ft(t),i=slt[f.schemeIdUri],r,u,e;return i&&(n[i]={attributes:f},r=g(t,"cenc:pssh")[0],r&&(u=en(r),e=u&&olt(u),n[i].pssh=e)),n},{})},llt=function(n,t,i){return function(r){var e=ft(r),o=th(t,g(r,"BaseURL")),s=g(r,"Role")[0],h={role:ft(s)},u=lt(n,e,h),f=clt(g(r,"ContentProtection"));Object.keys(f).length&&(u=lt(u,{contentProtection:f}));var c=av(r),l=g(r,"Representation"),a=lt(i,c);return nh(l.map(hlt(u,o,a)))}},alt=function(n,i){return function(r,u){var e=th(i,g(r,"BaseURL")),o=ft(r),f=parseInt(o.id,10),s=t.isNaN(f)?u:f,h=lt(n,{periodIndex:s}),c=g(r,"AdaptationSet"),l=av(r);return nh(c.map(llt(h,e,l)))}},vlt=function(n,t){var i,s;t===void 0&&(t={});var r=t,u=r.manifestUri,h=u===void 0?"":u,f=r.NOW,c=f===void 0?Date.now():f,e=r.clientOffset,l=e===void 0?0:e,o=g(n,"Period");if(!o.length)throw new Error(ku.INVALID_NUMBER_OF_PERIOD);return i=ft(n),s=th([h],g(n,"BaseURL")),i.sourceDuration=i.mediaPresentationDuration||0,i.NOW=c,i.clientOffset=l,nh(o.map(alt(i,s)))},sn=function(n){if(n==="")throw new Error(ku.DASH_EMPTY_MANIFEST);var u=new t.DOMParser,r=u.parseFromString(n,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(ku.DASH_INVALID_XML);return i},ylt=function(n){var i=g(n,"UTCTiming")[0],t;if(!i)return null;t=ft(i);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT";t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(ku.UNSUPPORTED_UTC_TIMING_SCHEME);}return t},plt=function(n,t){return act(flt(vlt(sn(n),t)))},wlt=function(n){return ylt(sn(n))},blt=function(n){return n>>>0},klt={toUnsigned:blt},du=klt.toUnsigned,dt,ih,hn,cn,ln;dt=function(n,t){var r=[],i,f,o,u,e;if(!t.length)return null;for(i=0;i<n.byteLength;)f=du(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),o=ih(n.subarray(i+4,i+8)),u=f>1?i+f:n.byteLength,o===t[0]&&(t.length===1?r.push(n.subarray(i+8,u)):(e=dt(n.subarray(i+8,u),t.slice(1)),e.length&&(r=r.concat(e)))),i=u;return r};ih=function(n){var t="";return t+=String.fromCharCode(n[0]),t+=String.fromCharCode(n[1]),t+=String.fromCharCode(n[2]),t+String.fromCharCode(n[3])};hn=function(n){var t=dt(n,["moov","trak"]);return t.reduce(function(n,t){var r,f,i,e,u;return(r=dt(t,["tkhd"])[0],!r)?null:(f=r[0],i=f===0?12:20,e=du(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),u=dt(t,["mdia","mdhd"])[0],!u)?null:(f=u[0],i=f===0?12:20,n[e]=du(u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3]),n)},{})};cn=function(n,t){var r,u,i;return r=dt(t,["moof","traf"]),u=[].concat.apply([],r.map(function(t){return dt(t,["tfhd"]).map(function(i){var u,f,r;return u=du(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),f=n[u]||9e4,r=dt(t,["tfdt"]).map(function(n){var i,t;return i=n[0],t=du(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i===1&&(t*=Math.pow(2,32),t+=du(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t})[0],r=r||Infinity,r/f})})),i=Math.min.apply(null,u),isFinite(i)?i:0};ln=function(n){var i=dt(n,["moov","trak"]),t=[];return i.forEach(function(n){var i=dt(n,["mdia","hdlr"]),r=dt(n,["tkhd"]);i.forEach(function(n,i){var s=ih(n.subarray(8,12)),f=r[i],u,e,o;s==="vide"&&(u=new DataView(f.buffer,f.byteOffset,f.byteLength),e=u.getUint8(0),o=e===0?u.getUint32(12):u.getUint32(20),t.push(o))})}),t};gt={findBox:dt,parseType:ih,timescale:hn,startTime:cn,videoTrackIds:ln};vv=Math.pow(2,32)-1,function(){var n;if(s={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in s)s.hasOwnProperty(n)&&(s[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);bv=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);ctt=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);htt=new Uint8Array([0,0,0,1]);ltt=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);att=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);vtt={video:ltt,audio:att};wtt=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);ptt=new Uint8Array([0,0,0,0,0,0,0,0]);rh=new Uint8Array([0,0,0,0,0,0,0,0]);btt=rh;ktt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);dtt=rh;ytt=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}();h=function(n){for(var r=[],u=0,i,f,t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)u+=r[t].byteLength;for(i=new Uint8Array(u+8),f=new DataView(i.buffer,i.byteOffset,i.byteLength),f.setUint32(0,i.byteLength),i.set(n,4),t=0,u=8;t<r.length;t++)i.set(r[t],u),u+=r[t].byteLength;return i};an=function(){return h(s.dinf,h(s.dref,wtt))};vn=function(n){return h(s.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))};yv=function(){return h(s.ftyp,bv,htt,bv,ctt)};rtt=function(n){return h(s.hdlr,vtt[n])};yn=function(n){return h(s.mdat,n)};itt=function(n){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,n.duration&255,85,196,0,0]);return n.samplerate&&(t[12]=n.samplerate>>>24&255,t[13]=n.samplerate>>>16&255,t[14]=n.samplerate>>>8&255,t[15]=n.samplerate&255),h(s.mdhd,t)};ttt=function(n){return h(s.mdia,itt(n),rtt(n.type),wn(n))};pn=function(n){return h(s.mfhd,new Uint8Array([0,0,0,0,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255]))};wn=function(n){return h(s.minf,n.type==="video"?h(s.vmhd,ytt):h(s.smhd,ptt),an(),ftt(n))};bn=function(n,t){for(var r=[],i=t.length;i--;)r[i]=ott(t[i]);return h.apply(null,[s.moof,pn(n)].concat(r))};pv=function(n){for(var t=n.length,i=[];t--;)i[t]=gn(n[t]);return h.apply(null,[s.moov,dn(4294967295)].concat(i).concat(kn(n)))};kn=function(n){for(var t=n.length,i=[];t--;)i[t]=stt(n[t]);return h.apply(null,[s.mvex].concat(i))};dn=function(n){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return h(s.mvhd,t)};utt=function(n){for(var r=n.samples||[],u=new Uint8Array(4+r.length),i,t=0;t<r.length;t++)i=r[t].flags,u[t+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return h(s.sdtp,u)};ftt=function(n){return h(s.stbl,ett(n),h(s.stts,dtt),h(s.stsc,btt),h(s.stsz,ktt),h(s.stco,rh))},function(){var n,t;ett=function(i){return h(s.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),i.type==="video"?n(i):t(i))};n=function(n){for(var i=n.sps||[],r=n.pps||[],u=[],f=[],t=0;t<i.length;t++)u.push((i[t].byteLength&65280)>>>8),u.push(i[t].byteLength&255),u=u.concat(Array.prototype.slice.call(i[t]));for(t=0;t<r.length;t++)f.push((r[t].byteLength&65280)>>>8),f.push(r[t].byteLength&255),f=f.concat(Array.prototype.slice.call(r[t]));return h(s.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(n.width&65280)>>8,n.width&255,(n.height&65280)>>8,n.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),h(s.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([i.length]).concat(u).concat([r.length]).concat(f))),h(s.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};t=function(n){return h(s.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(n.channelcount&65280)>>8,n.channelcount&255,(n.samplesize&65280)>>8,n.samplesize&255,0,0,0,0,(n.samplerate&65280)>>8,n.samplerate&255,0,0]),vn(n))}}();ntt=function(n){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,0,(n.duration&4278190080)>>24,(n.duration&16711680)>>16,(n.duration&65280)>>8,n.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(n.width&65280)>>8,n.width&255,0,0,(n.height&65280)>>8,n.height&255,0,0]);return h(s.tkhd,t)};ott=function(n){var u,f,r,e,o,t,i;return(u=h(s.tfhd,new Uint8Array([0,0,0,58,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),t=Math.floor(n.baseMediaDecodeTime/(vv+1)),i=Math.floor(n.baseMediaDecodeTime%(vv+1)),f=h(s.tfdt,new Uint8Array([1,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,t&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255])),o=92,n.type==="audio")?(r=wv(n,o),h(s.traf,u,f,r)):(e=utt(n),r=wv(n,e.length+o),h(s.traf,u,f,r,e))};gn=function(n){return n.duration=n.duration||4294967295,h(s.trak,ntt(n),ttt(n))};stt=function(n){var t=new Uint8Array([0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(t[t.length-1]=0),h(s.trex,t)},function(){var t,i,n;n=function(n,t){var i=0,r=0,u=0,f=0;return n.length&&(n[0].duration!==undefined&&(i=1),n[0].size!==undefined&&(r=2),n[0].flags!==undefined&&(u=4),n[0].compositionTimeOffset!==undefined&&(f=8)),[0,0,i|r|u|f,1,(n.length&4278190080)>>>24,(n.length&16711680)>>>16,(n.length&65280)>>>8,n.length&255,(t&4278190080)>>>24,(t&16711680)>>>16,(t&65280)>>>8,t&255]};i=function(t,i){var f,u,r,e;for(u=t.samples||[],i+=20+16*u.length,f=n(u,i),e=0;e<u.length;e++)r=u[e],f=f.concat([(r.duration&4278190080)>>>24,(r.duration&16711680)>>>16,(r.duration&65280)>>>8,r.duration&255,(r.size&4278190080)>>>24,(r.size&16711680)>>>16,(r.size&65280)>>>8,r.size&255,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,r.flags.degradationPriority&61440,r.flags.degradationPriority&15,(r.compositionTimeOffset&4278190080)>>>24,(r.compositionTimeOffset&16711680)>>>16,(r.compositionTimeOffset&65280)>>>8,r.compositionTimeOffset&255]);return h(s.trun,new Uint8Array(f))};t=function(t,i){var f,u,r,e;for(u=t.samples||[],i+=20+8*u.length,f=n(u,i),e=0;e<u.length;e++)r=u[e],f=f.concat([(r.duration&4278190080)>>>24,(r.duration&16711680)>>>16,(r.duration&65280)>>>8,r.duration&255,(r.size&4278190080)>>>24,(r.size&16711680)>>>16,(r.size&65280)>>>8,r.size&255]);return h(s.trun,new Uint8Array(f))};wv=function(n,r){return n.type==="audio"?t(n,r):i(n,r)}}();br={ftyp:yv,mdat:yn,moof:bn,moov:pv,initSegment:function(n){var i=yv(),r=pv(n),t;return t=new Uint8Array(i.byteLength+r.byteLength),t.set(i),t.set(r,i.byteLength),t}};ae=function(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return n[t]?(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),r>-1):!1};this.trigger=function(t){var r,i,u,f;if(r=n[t],r)if(arguments.length===2)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}};ae.prototype.pipe=function(n){this.on("data",function(t){n.push(t)});this.on("done",function(t){n.flush(t)});return n};ae.prototype.push=function(n){this.trigger("data",n)};ae.prototype.flush=function(n){this.trigger("done",n)};var et=ae,dlt=function(n){var u,i,t=[],r=[];for(t.byteLength=0,u=0;u<n.length;u++)i=n[u],i.nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=i.dts-t.dts,r.push(t)),t=[i],t.byteLength=i.data.byteLength,t.pts=i.pts,t.dts=i.dts):(i.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=i.dts-t.dts,t.byteLength+=i.data.byteLength,t.push(i));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},glt=function(n){var u,r,t=[],i=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=n[0].pts,i.dts=n[0].dts,u=0;u<n.length;u++)r=n[u],r.keyFrame?(t.length&&(i.push(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration),t=[r],t.nalCount=r.length,t.byteLength=r.byteLength,t.pts=r.pts,t.dts=r.dts,t.duration=r.duration):(t.duration+=r.duration,t.nalCount+=r.length,t.byteLength+=r.byteLength,t.push(r));return i.length&&t.duration<=0&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration,i.push(t),i},nat=function(n){var t;return!n[0][0].keyFrame&&n.length>1&&(t=n.shift(),n.byteLength-=t.byteLength,n.nalCount-=t.nalCount,n[0][0].dts=t.dts,n[0][0].pts=t.pts,n[0][0].duration+=t.duration),n},tat=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},iat=function(n,t){var i=tat();return i.dataOffset=t,i.compositionTimeOffset=n.pts-n.dts,i.duration=n.duration,i.size=4*n.length,i.size+=n.byteLength,n.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},rat=function(n,t){for(var r,u,f,e,o=t||0,s=[],i=0;i<n.length;i++)for(f=n[i],r=0;r<f.length;r++)e=f[r],u=iat(e,o),o+=u.size,s.push(u);return s},uat=function(n){for(var i,r,e,o,u,f=0,h=n.byteLength,c=n.nalCount,l=h+4*c,s=new Uint8Array(l),a=new DataView(s.buffer),t=0;t<n.length;t++)for(e=n[t],i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)u=o[r],a.setUint32(f,u.data.byteLength),f+=4,s.set(u.data,f),f+=u.data.byteLength;return s},ve={groupNalsIntoFrames:dlt,groupFramesIntoGops:glt,extendFirstKeyFrame:nat,generateSampleTable:rat,concatenateNalData:uat},tr=[33,16,5,32,164,27],kv=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],l=function(n){for(var t=[];n--;)t.push(0);return t},fat=function(n){return Object.keys(n).reduce(function(t,i){return t[i]=new Uint8Array(n[i].reduce(function(n,t){return n.concat(t)},[])),t},{})},eat={96e3:[tr,[227,64],l(154),[56]],88200:[tr,[231],l(170),[56]],64e3:[tr,[248,192],l(240),[56]],48e3:[tr,[255,192],l(268),[55,148,128],l(54),[112]],44100:[tr,[255,192],l(268),[55,163,128],l(84),[112]],32e3:[tr,[255,192],l(268),[55,234],l(226),[112]],24e3:[tr,[255,192],l(268),[55,255,128],l(268),[111,112],l(126),[224]],16e3:[tr,[255,192],l(268),[55,255,128],l(268),[111,255],l(269),[223,108],l(195),[1,192]],12e3:[kv,l(268),[3,127,248],l(268),[6,255,240],l(268),[13,255,224],l(268),[27,253,128],l(259),[56]],11025:[kv,l(268),[3,127,248],l(268),[6,255,240],l(268),[13,255,224],l(268),[27,255,192],l(268),[55,175,128],l(108),[112]],8e3:[kv,l(268),[3,121,16],l(47),[7]]},oat=fat(eat),gtt=9e4,dv,gv,ny,ty,nit,tit;dv=function(n){return n*gtt};gv=function(n,t){return n*t};ny=function(n){return n/gtt};ty=function(n,t){return n/t};nit=function(n,t){return dv(ty(n,t))};tit=function(n,t){return gv(ny(n),t)};var iit={secondsToVideoTs:dv,secondsToAudioTs:gv,videoTsToSeconds:ny,audioTsToSeconds:ty,audioTsToVideoTs:nit,videoTsToAudioTs:tit},rit=9e4,sat=function(n){for(var i,r=0,t=0;t<n.length;t++)i=n[t],r+=i.data.byteLength;return r},hat=function(n,t,i,r){var h,o=0,c=0,u=0,s=0,f,e;if(t.length&&(h=iit.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),o=Math.ceil(rit/(n.samplerate/1024)),i&&r&&(c=h-Math.max(i,r),u=Math.floor(c/o),s=u*o),!(u<1)&&!(s>rit/2))){for(f=oat[n.samplerate],f||(f=t[0].data),e=0;e<u;e++)t.splice(e,0,{data:f});n.baseMediaDecodeTime-=Math.floor(iit.videoTsToAudioTs(s,n.samplerate))}},cat=function(n,t,i){return t.minSegmentDts>=i?n:(t.minSegmentDts=Infinity,n.filter(function(n){return n.dts>=i?(t.minSegmentDts=Math.min(t.minSegmentDts,n.dts),t.minSegmentPts=t.minSegmentDts,!0):!1}))},lat=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({size:i.data.byteLength,duration:1024});return r},aat=function(n){for(var i,r=0,u=new Uint8Array(sat(n)),t=0;t<n.length;t++)i=n[t],u.set(i.data,r),r+=i.data.byteLength;return u},uh={prefixWithSilence:hat,trimAdtsFramesByEarliestDts:cat,generateSampleTable:lat,concatenateFrameData:aat},vat=9e4,yat=function(n,t){typeof t.pts=="number"&&(n.timelineStartInfo.pts===undefined&&(n.timelineStartInfo.pts=t.pts),n.minSegmentPts=n.minSegmentPts===undefined?t.pts:Math.min(n.minSegmentPts,t.pts),n.maxSegmentPts=n.maxSegmentPts===undefined?t.pts:Math.max(n.maxSegmentPts,t.pts));typeof t.dts=="number"&&(n.timelineStartInfo.dts===undefined&&(n.timelineStartInfo.dts=t.dts),n.minSegmentDts=n.minSegmentDts===undefined?t.dts:Math.min(n.minSegmentDts,t.dts),n.maxSegmentDts=n.maxSegmentDts===undefined?t.dts:Math.max(n.maxSegmentDts,t.dts))},pat=function(n){delete n.minSegmentDts;delete n.maxSegmentDts;delete n.minSegmentPts;delete n.maxSegmentPts},wat=function(n,t){var i,r,u=n.minSegmentDts;return t||(u-=n.timelineStartInfo.dts),i=n.timelineStartInfo.baseMediaDecodeTime,i+=u,i=Math.max(0,i),n.type==="audio"&&(r=n.samplerate/vat,i*=r,i=Math.floor(i)),i},hi={clearDtsInfo:pat,calculateTrackBaseMediaDecodeTime:wat,collectDtsInfo:yat},uit=4,bat=128,kat=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength;){if(n[t]===bat)break;while(n[t]===255)u+=255,t++;for(u+=n[t++];n[t]===255;)i+=255,t++;if(i+=n[t++],!r.payload&&u===uit){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;u=0;i=0}return r},dat=function(n){return n.payload[0]!==181?null:(n.payload[1]<<8|n.payload[2])!=49?null:String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"?null:n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},gat=function(n,t){var u=[],r,e,i,f;if(!(t[0]&64))return u;for(e=t[0]&31,r=0;r<e;r++)i=r*3,f={type:t[i+2]&3,pts:n},t[i+2]&4&&(f.ccData=t[i+3]<<8|t[i+4],u.push(f));return u},nvt=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f},ye={parseSei:kat,parseUserData:dat,parseCaptionPackets:gat,discardEmulationPreventionBytes:nvt,USER_DATA_REGISTERED_ITU_T_T35:uit},yi=function yi(){yi.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new w(0,0),new w(0,1),new w(1,0),new w(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("done",this.trigger.bind(this,"done"))},this)};yi.prototype=new et;yi.prototype.push=function(n){var t,i,r;if(n.nalUnitType==="sei_rbsp"&&(t=ye.parseSei(n.escapedRBSP),t.payloadType===ye.USER_DATA_REGISTERED_ITU_T_T35)&&(i=ye.parseUserData(t),i)){if(n.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}r=ye.parseCaptionPackets(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};yi.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(n){n.flush()},this);return}this.captionPackets_.forEach(function(n,t){n.presortIndex=t});this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts});this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(n){n.flush()},this);return};yi.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};yi.prototype.dispatchCea608Packet=function(n){(this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null)&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};yi.prototype.setsChannel1Active=function(n){return(n.ccData&30720)==4096};yi.prototype.setsChannel2Active=function(n){return(n.ccData&30720)==6144};var tvt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},fh=function(n){return n===null?"":(n=tvt[n]||n,String.fromCharCode(n))},eh=14,ivt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],kr=function(){for(var n=[],t=eh+1;t--;)n.push("");return n},w=function w(n,t){w.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;if(t=n.ccData&32639,t===this.lastControlCode_){this.lastControlCode_=null;return}((t&61440)==4096?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=t&255,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=kr()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=kr():t===this.RESUME_DIRECT_CAPTIONING_?(this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=kr()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(r=(r&3)<<8,u=fh(r|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?(this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(r&3)<<8,u=fh(r|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(i&14)==14&&this.addFormatting(n.pts,["i"]),(i&1)==1&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=i&3:this.isPAC(r,i)?(f=ivt.indexOf(t&7968),this.mode_==="rollUp"&&(f-this.rollUpRows_+1<0&&(f=this.rollUpRows_-1),this.setRollUp(n.pts,f)),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),i&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(t&16)==16&&(this.column_=((t&14)>>1)*4),this.isColorPAC(i)&&(i&14)==14&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(i===0&&(i=null),u=fh(r),u+=fh(i),this[this.mode_](n.pts,u),this.column_+=u.length))}};w.prototype=new et;w.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){try{return n.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};w.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=kr();this.nonDisplayed_=kr();this.lastControlCode_=null;this.column_=0;this.row_=eh;this.rollUpRows_=2;this.formatting_=[]};w.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};w.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&t>=48&&t<=63};w.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&t>=32&&t<=63};w.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&t>=32&&t<=47};w.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&t>=33&&t<=35};w.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&t>=64&&t<=127};w.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127};w.prototype.isNormalChar=function(n){return n>=32&&n<=127};w.prototype.setRollUp=function(n,t){if(this.mode_!=="rollUp"&&(this.row_=eh,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=kr(),this.displayed_=kr()),t!==undefined&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";t===undefined&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};w.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};w.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};w.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};w.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};w.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<eh+1;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};w.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};var iy={CaptionStream:yi,Cea608Stream:w},nt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},rvt=8589934592,uvt=4294967296,ry=function(n,t){var i=1;for(n>t&&(i=-1);Math.abs(t-n)>uvt;)n+=i*rvt;return n},uy=function uy(n){var i,t;uy.prototype.init.call(this);this.type_=n;this.push=function(n){n.type===this.type_&&(t===undefined&&(t=n.dts),n.dts=ry(n.dts,t),n.pts=ry(n.pts,t),i=n.dts,this.trigger("data",n))};this.flush=function(){t=i;this.trigger("done")};this.discontinuity=function(){t=void 0;i=void 0}};uy.prototype=new et;var fit={TimestampRolloverStream:uy,handleRollover:ry},eit=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},oh=function(n,t,i){return decodeURIComponent(eit(n,t,i))},fvt=function(n,t,i){return unescape(eit(n,t,i))},sh=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},oit={TXXX:function(n){var t;if(n.data[0]===3){for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=oh(n.data,1,t);n.value=oh(n.data,t+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var t;if(n.data[0]===3)for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=oh(n.data,1,t);n.url=oh(n.data,t+1,n.data.length);break}},PRIV:function(n){for(var t=0;t<n.data.length;t++)if(n.data[t]===0){n.owner=fvt(n.data,0,t);break}n.privateData=n.data.subarray(t+1);n.data=n.privateData}},hh;hh=function(n){var r={debug:!!(n&&n.debug),descriptor:n&&n.descriptor},i=0,t=[],u=0,f;if(hh.prototype.init.call(this),this.dispatchType=nt.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(f=0;f<r.descriptor.length;f++)this.dispatchType+=("00"+r.descriptor[f].toString(16)).slice(-2);this.push=function(n){var f,e,c,o,h,a,s,l;if(n.type==="timed-metadata"){if(n.dataAlignmentIndicator&&(u=0,t.length=0),t.length===0&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0))){r.debug&&console.log("Skipping unrecognized metadata packet");return}if(t.push(n),u+=n.data.byteLength,t.length===1&&(i=sh(n.data.subarray(6,10))+10),!(u<i)){for(f={data:new Uint8Array(i),frames:[],pts:t[0].pts,dts:t[0].dts},h=0;h<i;)f.data.set(t[0].data.subarray(0,i-h),h),h+=t[0].data.byteLength,u-=t[0].data.byteLength,t.shift();e=10;f.data[5]&64&&(e+=4,e+=sh(f.data.subarray(10,14)),i-=sh(f.data.subarray(16,20)));do{if(c=sh(f.data.subarray(e+4,e+8)),c<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");a=String.fromCharCode(f.data[e],f.data[e+1],f.data[e+2],f.data[e+3]);o={id:a,data:f.data.subarray(e+10,e+c+10)};o.key=o.id;oit[o.id]&&(oit[o.id](o),o.owner==="com.apple.streaming.transportStreamTimestamp"&&(s=o.data,l=(s[3]&1)<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,l*=4,l+=s[7]&3,o.timeStamp=l,f.pts===undefined&&f.dts===undefined&&(f.pts=o.timeStamp,f.dts=o.timeStamp),this.trigger("timestamp",o)));f.frames.push(o);e+=10;e+=c}while(e<i);this.trigger("data",f)}}}};hh.prototype=new et;var evt=hh,ovt=fit.TimestampRolloverStream,ch,pe,lh,gu=188,fy=71;ch=function(){var t=new Uint8Array(gu),n=0;ch.prototype.init.call(this);this.push=function(i){var u=0,f=gu,r;for(n?(r=new Uint8Array(i.byteLength+n),r.set(t.subarray(0,n)),r.set(i,n),n=0):r=i;f<r.byteLength;){if(r[u]===fy&&r[f]===fy){this.trigger("data",r.subarray(u,f));u+=gu;f+=gu;continue}u++;f++}u<r.byteLength&&(t.set(r.subarray(u),0),n=r.byteLength-u)};this.flush=function(){n===gu&&t[0]===fy&&(this.trigger("data",t),n=0);this.trigger("done")}};ch.prototype=new et;pe=function(){var t,i,r,n;pe.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;t=function(n,t){var u=0;t.payloadUnitStartIndicator&&(u+=n[u]+1);t.type==="pat"?i(n.subarray(u),t):r(n.subarray(u),t)};i=function(t,i){i.section_number=t[7];i.last_section_number=t[8];n.pmtPid=(t[10]&31)<<8|t[11];i.pmtPid=n.pmtPid};r=function(t,i){var e,o,s,r,u,f;if(t[5]&1){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},e=(t[1]&15)<<8|t[2],o=3+e-4,s=(t[10]&15)<<8|t[11],r=12+s;r<o;)u=t[r],f=(t[r+1]&31)<<8|t[r+2],u===nt.H264_STREAM_TYPE&&n.programMapTable.video===null?n.programMapTable.video=f:u===nt.ADTS_STREAM_TYPE&&n.programMapTable.audio===null?n.programMapTable.audio=f:u===nt.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][f]=u),r+=((t[r+3]&15)<<8|t[r+4])+5;i.programMapTable=n.programMapTable}};this.push=function(n){var i={},r=4;if(i.payloadUnitStartIndicator=!!(n[1]&64),i.pid=n[1]&31,i.pid<<=8,i.pid|=n[2],(n[3]&48)>>>4>1&&(r+=n[r]+1),i.pid===0)i.type="pat",t(n.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(n.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([n,r,i]):this.processPes_(n,r,i)};this.processPes_=function(n,t,i){i.streamType=i.pid===this.programMapTable.video?nt.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?nt.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][i.pid];i.type="pes";i.data=n.subarray(t);this.trigger("data",i)}};pe.prototype=new et;pe.STREAM_TYPES={h264:27,adts:15};lh=function(){var t=this,i={data:[],size:0},r={data:[],size:0},u={data:[],size:0},f=function(n,t){var i;t.packetLength=6+(n[4]<<8|n[5]);t.dataAlignmentIndicator=(n[6]&4)!=0;i=n[7];i&192&&(t.pts=(n[9]&14)<<27|(n[10]&255)<<20|(n[11]&254)<<12|(n[12]&255)<<5|(n[13]&254)>>>3,t.pts*=4,t.pts+=(n[13]&6)>>>1,t.dts=t.pts,i&64&&(t.dts=(n[14]&14)<<27|(n[15]&255)<<20|(n[16]&254)<<12|(n[17]&255)<<5|(n[18]&254)>>>3,t.dts*=4,t.dts+=(n[18]&6)>>>1));t.data=n.subarray(9+n[8])},n=function(n,i,r){var h=new Uint8Array(n.size),u={type:i},e=0,c=0,o=!1,s;if(n.data.length&&!(n.size<9)){for(u.trackId=n.data[0].pid,e=0;e<n.data.length;e++)s=n.data[e],h.set(s.data,c),c+=s.data.byteLength;f(h,u);o=i==="video"||u.packetLength<=n.size;(r||o)&&(n.size=0,n.data.length=0);o&&t.trigger("data",u)}};lh.prototype.init.call(this);this.push=function(f){({pat:function(){},pes:function(){var t,e;switch(f.streamType){case nt.H264_STREAM_TYPE:case nt.H264_STREAM_TYPE:t=i;e="video";break;case nt.ADTS_STREAM_TYPE:t=r;e="audio";break;case nt.METADATA_STREAM_TYPE:t=u;e="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&n(t,e,!0);t.data.push(f);t.size+=f.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]},n=f.programMapTable;n.video!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"});n.audio!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"});t.trigger("data",i)}})[f.type]()};this.flush=function(){n(i,"video");n(r,"audio");n(u,"timed-metadata");this.trigger("done")}};lh.prototype=new et;ey={PAT_PID:0,MP2T_PACKET_LENGTH:gu,TransportPacketStream:ch,TransportParseStream:pe,ElementaryStream:lh,TimestampRolloverStream:ovt,CaptionStream:iy.CaptionStream,Cea608Stream:iy.Cea608Stream,MetadataStream:evt};for(ah in nt)nt.hasOwnProperty(ah)&&(ey[ah]=nt[ah]);ni=ey;oy=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];vh=function(){var n;vh.prototype.init.call(this);this.push=function(t){var i=0,f=0,s,h,r,u,e,o;if(t.type==="audio")for(n?(u=n,n=new Uint8Array(u.byteLength+t.data.byteLength),n.set(u),n.set(t.data,u.byteLength)):n=t.data;i+5<n.length;){if(n[i]!==255||(n[i+1]&246)!=240){i++;continue}if(h=(~n[i+1]&1)*2,s=(n[i+3]&3)<<11|n[i+4]<<3|(n[i+5]&224)>>5,e=((n[i+6]&3)+1)*1024,o=e*9e4/oy[(n[i+2]&60)>>>2],r=i+s,n.byteLength<r)return;if(this.trigger("data",{pts:t.pts+f*o,dts:t.dts+f*o,sampleCount:e,audioobjecttype:(n[i+2]>>>6&3)+1,channelcount:(n[i+2]&1)<<2|(n[i+3]&192)>>>6,samplerate:oy[(n[i+2]&60)>>>2],samplingfrequencyindex:(n[i+2]&60)>>>2,samplesize:16,data:n.subarray(i+7+h,r)}),n.byteLength===r){n=undefined;return}f++;n=n.subarray(r)}};this.flush=function(){this.trigger("done")}};vh.prototype=new et;sy=vh;sit=function(n){var i=n.byteLength,r=0,t=0;this.length=function(){return 8*i};this.bitsAvailable=function(){return 8*i+t};this.loadWord=function(){var f=n.byteLength-i,e=new Uint8Array(4),u=Math.min(4,i);if(u===0)throw new Error("no bytes available");e.set(n.subarray(f,f+u));r=new DataView(e.buffer).getUint32(0);t=u*8;i-=u};this.skipBits=function(n){var u;t>n?(r<<=n,t-=n):(n-=t,u=Math.floor(n/8),n-=u*8,i-=u,this.loadWord(),r<<=n,t-=n)};this.readBits=function(n){var u=Math.min(t,n),f=r>>>32-u;return(t-=u,t>0?r<<=u:i>0&&this.loadWord(),u=n-u,u>0)?f<<u|this.readBits(u):f};this.skipLeadingZeros=function(){for(var n=0;n<t;++n)if((r&2147483648>>>n)!=0)return r<<=n,t-=n,n;return this.loadWord(),n+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var n=this.skipLeadingZeros();return this.readBits(n+1)-1};this.readExpGolomb=function(){var n=this.readUnsignedExpGolomb();return 1&n?1+n>>>1:-1*(n>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};hit=sit;we=function(){var i=0,t,n;we.prototype.init.call(this);this.push=function(r){var u;for(n?(u=new Uint8Array(n.byteLength+r.data.byteLength),u.set(n),u.set(r.data,n.byteLength),n=u):n=r.data;i<n.byteLength-3;i++)if(n[i+2]===1){t=i+5;break}while(t<n.byteLength)switch(n[t]){case 0:if(n[t-1]!==0){t+=2;break}else if(n[t-2]!==0){t++;break}i+3!==t-2&&this.trigger("data",n.subarray(i+3,t-2));do t++;while(n[t]!==1&&t<n.length);i=t-2;t+=3;break;case 1:if(n[t-1]!==0||n[t-2]!==0){t+=3;break}this.trigger("data",n.subarray(i+3,t-2));i=t-2;t+=3;break;default:t+=3}n=n.subarray(i);t-=i;i=0};this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(i+3));n=null;i=0;this.trigger("done")}};we.prototype=new et;cit={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};yh=function(){var n=new we,t,u,f,e,i,o,r;yh.prototype.init.call(this);t=this;this.push=function(t){t.type==="video"&&(u=t.trackId,f=t.pts,e=t.dts,n.push(t))};n.on("data",function(n){var r={trackId:u,pts:f,dts:e,data:n};switch(n[0]&31){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp";r.escapedRBSP=i(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp";r.escapedRBSP=i(n.subarray(1));r.config=o(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)});n.on("done",function(){t.trigger("done")});this.flush=function(){n.flush()};r=function(n,t){for(var r=8,i=8,f,u=0;u<n;u++)i!==0&&(f=t.readExpGolomb(),i=(r+f+256)%256),r=i===0?r:i};i=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f};o=function(n){var h=0,c=0,l=0,a=0,v=1,t,f,y,p,e,o,w,b,k,s,d,i,g,u;if(t=new hit(n),f=t.readUnsignedByte(),p=t.readUnsignedByte(),y=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),cit[f]&&(e=t.readUnsignedExpGolomb(),e===3&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=e!==3?8:12,u=0;u<d;u++)t.readBoolean()&&(u<6?r(16,t):r(64,t));if(t.skipUnsignedExpGolomb(),o=t.readUnsignedExpGolomb(),o===0)t.readUnsignedExpGolomb();else if(o===1)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),w=t.readUnsignedExpGolomb(),u=0;u<w;u++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb(),s=t.readBits(1),s===0&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),a=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){g=t.readUnsignedByte();switch(g){case 1:i=[1,1];break;case 2:i=[12,11];break;case 3:i=[10,11];break;case 4:i=[16,11];break;case 5:i=[40,33];break;case 6:i=[24,11];break;case 7:i=[20,11];break;case 8:i=[32,11];break;case 9:i=[80,33];break;case 10:i=[18,11];break;case 11:i=[15,11];break;case 12:i=[64,33];break;case 13:i=[160,99];break;case 14:i=[4,3];break;case 15:i=[3,2];break;case 16:i=[2,1];break;case 255:i=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}i&&(v=i[0]/i[1])}return{profileIdc:f,levelIdc:y,profileCompatibility:p,width:Math.ceil(((b+1)*16-h*2-c*2)*v),height:(2-s)*(k+1)*16-l*2-a*2}}};yh.prototype=new et;var svt={H264Stream:yh,NalByteStream:we},hvt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],cvt=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?!0:!1},lit=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},lvt=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},avt=function(n,t,i){return unescape(lvt(n,t,i))},vvt=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9],r=n[t+5],u=(r&16)>>4;return u?i+20:i+10},yvt=function(n,t){var i=(n[t+5]&224)>>5,r=n[t+4]<<3,u=n[t+3]&6144;return u|r|i},pvt=function(n,t){return n[t]==="I".charCodeAt(0)&&n[t+1]==="D".charCodeAt(0)&&n[t+2]==="3".charCodeAt(0)?"timed-metadata":n[t]&!0&&(n[t+1]&240)==240?"audio":null},wvt=function(n){for(var t=0;t+5<n.length;){if(n[t]!==255||(n[t+1]&246)!=240){t++;continue}return hvt[(n[t+2]&60)>>>2]}return null},bvt=function(n){var t,f,u,o,r,s,i,e;t=10;n[5]&64&&(t+=4,t+=lit(n.subarray(10,14)));do{if(f=lit(n.subarray(t+4,t+8)),f<1)return null;if(o=String.fromCharCode(n[t],n[t+1],n[t+2],n[t+3]),o==="PRIV")for(u=n.subarray(t+10,t+f+10),r=0;r<u.byteLength;r++)if(u[r]===0){if(s=avt(u,0,r),s==="com.apple.streaming.transportStreamTimestamp")return i=u.subarray(r+1),e=(i[3]&1)<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,e*=4,e+(i[7]&3);break}t+=10;t+=f}while(t<n.byteLength);return null},ph={isLikelyAacData:cvt,parseId3TagSize:vvt,parseAdtsSize:yvt,parseType:pvt,parseSampleRate:wvt,parseAacTimestamp:bvt},wh;wh=function(){var n=new Uint8Array,t=0;wh.prototype.init.call(this);this.setTimestamp=function(n){t=n};this.push=function(i){var u=0,r=0,e,o,s,f;for(n.length?(f=n.length,n=new Uint8Array(i.byteLength+f),n.set(n.subarray(0,f)),n.set(i,f)):n=i;n.length-r>=3;){if(n[r]==="I".charCodeAt(0)&&n[r+1]==="D".charCodeAt(0)&&n[r+2]==="3".charCodeAt(0)){if(n.length-r<10)break;if(u=ph.parseId3TagSize(n,r),r+u>n.length)break;o={type:"timed-metadata",data:n.subarray(r,r+u)};this.trigger("data",o);r+=u;continue}else if((n[r]&255)==255&&(n[r+1]&240)==240){if(n.length-r<7)break;if(u=ph.parseAdtsSize(n,r),r+u>n.length)break;s={type:"audio",data:n.subarray(r,r+u),pts:t,dts:t};this.trigger("data",s);r+=u;continue}r++}e=n.length-r;n=e>0?n.subarray(r):new Uint8Array}};wh.prototype=new et;var kvt=wh,dvt=svt.H264Stream,gvt=ph.isLikelyAacData,hy=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],cy=["width","height","profileIdc","levelIdc","profileCompatibility"],be,nf,bh,tf,ait=function(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0};nf=function(n,t){var i=[],r=0,u=0,f=0,e=Infinity;t=t||{};nf.prototype.init.call(this);this.push=function(t){hi.collectDtsInfo(n,t);n&&hy.forEach(function(i){n[i]=t[i]});i.push(t)};this.setEarliestDts=function(t){u=t-n.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(n){e=n};this.setAudioAppendStart=function(n){f=n};this.flush=function(){var o,s,c,h;if(i.length===0){this.trigger("done","AudioSegmentStream");return}o=uh.trimAdtsFramesByEarliestDts(i,n,u);n.baseMediaDecodeTime=hi.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);uh.prefixWithSilence(n,o,f,e);n.samples=uh.generateSampleTable(o);c=br.mdat(uh.concatenateFrameData(o));i=[];s=br.moof(r,[n]);h=new Uint8Array(s.byteLength+c.byteLength);r++;h.set(s);h.set(c,s.byteLength);hi.clearDtsInfo(n);this.trigger("data",{track:n,boxes:h});this.trigger("done","AudioSegmentStream")}};nf.prototype=new et;be=function(n,t){var e=0,i=[],r=[],u,f;t=t||{};be.prototype.init.call(this);delete n.minPTS;this.gopCache_=[];this.push=function(t){hi.collectDtsInfo(n,t);t.nalUnitType!=="seq_parameter_set_rbsp"||u||(u=t.config,n.sps=[t.data],cy.forEach(function(t){n[t]=u[t]},this));t.nalUnitType!=="pic_parameter_set_rbsp"||f||(f=t.data,n.pps=[t.data]);i.push(t)};this.flush=function(){for(var l,f,u,o,h,s,c;i.length;){if(i[0].nalUnitType==="access_unit_delimiter_rbsp")break;i.shift()}if(i.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}if(l=ve.groupNalsIntoFrames(i),u=ve.groupFramesIntoGops(l),u[0][0].keyFrame||(f=this.getGopForFusion_(i[0],n),f?(u.unshift(f),u.byteLength+=f.byteLength,u.nalCount+=f.nalCount,u.pts=f.pts,u.dts=f.dts,u.duration+=f.duration):u=ve.extendFirstKeyFrame(u)),r.length){if(c=t.alignGopsAtEnd?this.alignGopsAtEnd_(u):this.alignGopsAtStart_(u),!c){this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}hi.clearDtsInfo(n);u=c}hi.collectDtsInfo(n,u);n.samples=ve.generateSampleTable(u);h=br.mdat(ve.concatenateNalData(u));n.baseMediaDecodeTime=hi.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.trigger("processedGopsInfo",u.map(function(n){return{pts:n.pts,dts:n.dts,byteLength:n.byteLength}}));this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime);this.trigger("timelineStartInfo",n.timelineStartInfo);o=br.moof(e,[n]);s=new Uint8Array(o.byteLength+h.byteLength);e++;s.set(o);s.set(h,o.byteLength);this.trigger("data",{track:n,boxes:s});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){hi.clearDtsInfo(n);u=undefined;f=undefined};this.getGopForFusion_=function(t){for(var o=Infinity,i,u,f,r,e=0;e<this.gopCache_.length;e++)(r=this.gopCache_[e],f=r.gop,n.pps&&ait(n.pps[0],r.pps[0])&&n.sps&&ait(n.sps[0],r.sps[0]))&&(f.dts<n.timelineStartInfo.dts||(i=t.dts-f.dts-f.duration,i>=-1e4&&i<=45e3&&(!u||o>i)&&(u=r,o=i)));return u?u.gop:null};this.alignGopsAtStart_=function(n){var f,i,e,u,o,s,h,t;for(o=n.byteLength,s=n.nalCount,h=n.duration,f=i=0;f<r.length&&i<n.length;){if(e=r[f],u=n[i],e.pts===u.pts)break;if(u.pts>e.pts){f++;continue}i++;o-=u.byteLength;s-=u.nalCount;h-=u.duration}return i===0?n:i===n.length?null:(t=n.slice(i),t.byteLength=o,t.duration=h,t.nalCount=s,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsAtEnd_=function(n){var u,i,s,h,f,e,c,t,o;for(u=r.length-1,i=n.length-1,f=null,e=!1;u>=0&&i>=0;){if(s=r[u],h=n[i],s.pts===h.pts){e=!0;break}if(s.pts>h.pts){u--;continue}u===r.length-1&&(f=i);i--}return!e&&f===null?null:(c=e?i:f,c===0)?n:(t=n.slice(c),o=t.reduce(function(n,t){return n.byteLength+=t.byteLength,n.duration+=t.duration,n.nalCount+=t.nalCount,n},{byteLength:0,duration:0,nalCount:0}),t.byteLength=o.byteLength,t.duration=o.duration,t.nalCount=o.nalCount,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsWith=function(n){r=n}};be.prototype=new et;tf=function(n,t){this.numberOfTracks=0;this.metadataStream=t;n=n||{};this.remuxTracks=typeof n.remux!="undefined"?!!n.remux:!0;typeof n.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=n.keepOriginalTimestamps);this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;tf.prototype.init.call(this);this.push=function(n){if(n.text)return this.pendingCaptions.push(n);if(n.frames)return this.pendingMetadata.push(n);this.pendingTracks.push(n.track);this.pendingBoxes.push(n.boxes);this.pendingBytes+=n.boxes.byteLength;n.track.type==="video"&&(this.videoTrack=n.track);n.track.type==="audio"&&(this.audioTrack=n.track)}};tf.prototype=new et;tf.prototype.flush=function(n){var o=0,i={captions:[],captionStreams:{},metadata:[],info:{}},r,u,e,f=0,t;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++;this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}for(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,cy.forEach(function(n){i.info[n]=this.videoTrack[n]},this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,hy.forEach(function(n){i.info[n]=this.audioTrack[n]},this)),i.type=this.pendingTracks.length===1?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,e=br.initSegment(this.pendingTracks),i.initSegment=new Uint8Array(e.byteLength),i.initSegment.set(e),i.data=new Uint8Array(this.pendingBytes),t=0;t<this.pendingBoxes.length;t++)i.data.set(this.pendingBoxes[t],o),o+=this.pendingBoxes[t].byteLength;for(t=0;t<this.pendingCaptions.length;t++)r=this.pendingCaptions[t],r.startTime=r.startPts,this.keepOriginalTimestamps||(r.startTime-=f),r.startTime/=9e4,r.endTime=r.endPts,this.keepOriginalTimestamps||(r.endTime-=f),r.endTime/=9e4,i.captionStreams[r.stream]=!0,i.captions.push(r);for(t=0;t<this.pendingMetadata.length;t++)u=this.pendingMetadata[t],u.cueTime=u.pts,this.keepOriginalTimestamps||(u.cueTime-=f),u.cueTime/=9e4,i.metadata.push(u);i.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",i);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};bh=function(n){var r=this,u=!0,i,t;bh.prototype.init.call(this);n=n||{};this.baseMediaDecodeTime=n.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i;i.type="aac";i.metadataStream=new ni.MetadataStream;i.aacStream=new kvt;i.audioTimestampRolloverStream=new ni.TimestampRolloverStream("audio");i.timedMetadataTimestampRolloverStream=new ni.TimestampRolloverStream("timed-metadata");i.adtsStream=new sy;i.coalesceStream=new tf(n,i.metadataStream);i.headOfPipeline=i.aacStream;i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream);i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream);i.metadataStream.on("timestamp",function(n){i.aacStream.setTimestamp(n.timeStamp)});i.aacStream.on("data",function(u){u.type!=="timed-metadata"||i.audioSegmentStream||(t=t||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new nf(t,n),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))});i.coalesceStream.on("data",this.trigger.bind(this,"data"));i.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var u={};this.transmuxPipeline_=u;u.type="ts";u.metadataStream=new ni.MetadataStream;u.packetStream=new ni.TransportPacketStream;u.parseStream=new ni.TransportParseStream;u.elementaryStream=new ni.ElementaryStream;u.videoTimestampRolloverStream=new ni.TimestampRolloverStream("video");u.audioTimestampRolloverStream=new ni.TimestampRolloverStream("audio");u.timedMetadataTimestampRolloverStream=new ni.TimestampRolloverStream("timed-metadata");u.adtsStream=new sy;u.h264Stream=new dvt;u.captionStream=new ni.CaptionStream;u.coalesceStream=new tf(n,u.metadataStream);u.headOfPipeline=u.packetStream;u.packetStream.pipe(u.parseStream).pipe(u.elementaryStream);u.elementaryStream.pipe(u.videoTimestampRolloverStream).pipe(u.h264Stream);u.elementaryStream.pipe(u.audioTimestampRolloverStream).pipe(u.adtsStream);u.elementaryStream.pipe(u.timedMetadataTimestampRolloverStream).pipe(u.metadataStream).pipe(u.coalesceStream);u.h264Stream.pipe(u.captionStream).pipe(u.coalesceStream);u.elementaryStream.on("data",function(f){var e;if(f.type==="metadata"){for(e=f.tracks.length;e--;)i||f.tracks[e].type!=="video"?t||f.tracks[e].type!=="audio"||(t=f.tracks[e],t.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(i=f.tracks[e],i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);if(i&&!u.videoSegmentStream){u.coalesceStream.numberOfTracks++;u.videoSegmentStream=new be(i,n);u.videoSegmentStream.on("timelineStartInfo",function(n){t&&(t.timelineStartInfo=n,u.audioSegmentStream.setEarliestDts(n.dts))});u.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo"));u.videoSegmentStream.on("baseMediaDecodeTime",function(n){t&&u.audioSegmentStream.setVideoBaseMediaDecodeTime(n)});u.h264Stream.pipe(u.videoSegmentStream).pipe(u.coalesceStream)}t&&!u.audioSegmentStream&&(u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new nf(t,n),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream))}});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(r){var u=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=r);t&&(t.timelineStartInfo.dts=undefined,t.timelineStartInfo.pts=undefined,hi.clearDtsInfo(t),n.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r),u.audioTimestampRolloverStream&&u.audioTimestampRolloverStream.discontinuity());i&&(u.videoSegmentStream&&(u.videoSegmentStream.gopCache_=[],u.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,hi.clearDtsInfo(i),u.captionStream.reset(),n.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=r));u.timedMetadataTimestampRolloverStream&&u.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(n){t&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(n)};this.alignGopsWith=function(n){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(n)};this.push=function(n){if(u){var t=gvt(n);t&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():t||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline();u=!1}this.transmuxPipeline_.headOfPipeline.push(n)};this.flush=function(){u=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};bh.prototype=new et;var ly={Transmuxer:bh,VideoSegmentStream:be,AudioSegmentStream:nf,AUDIO_PROPERTIES:hy,VIDEO_PROPERTIES:cy},ot,ay,kh=gt.parseType,ti=function(n){return new Date(n*1e3-20828448e5)},vit=function(n){return{isLeading:(n[0]&12)>>>2,dependsOn:n[0]&3,isDependedOn:(n[1]&192)>>>6,hasRedundancy:(n[1]&48)>>>4,paddingValue:(n[1]&14)>>>1,isNonSyncSample:n[1]&1,degradationPriority:n[2]<<8|n[3]}},nyt=function(n){for(var u=new DataView(n.buffer,n.byteOffset,n.byteLength),t=[],r,i=0;i+4<n.length;i+=r){if(r=u.getUint32(i),i+=4,r<=0){t.push("<span style='color:red;'>MALFORMED DATA<\/span>");continue}switch(n[i]&31){case 1:t.push("slice_layer_without_partitioning_rbsp");break;case 5:t.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:t.push("sei_rbsp");break;case 7:t.push("seq_parameter_set_rbsp");break;case 8:t.push("pic_parameter_set_rbsp");break;case 9:t.push("access_unit_delimiter_rbsp");break;default:t.push("UNKNOWN NAL - "+n[i]&31)}}return t},rf={avc1:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:ot(n.subarray(78,n.byteLength))}},avcC:function(n){for(var f=new DataView(n.buffer,n.byteOffset,n.byteLength),u={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:n[4]&3,sps:[],pps:[]},o=n[5]&31,e,i,t=6,r=0;r<o;r++)i=f.getUint16(t),t+=2,u.sps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;for(e=n[t],t++,r=0;r<e;r++)i=f.getUint16(t),t+=2,u.pps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;return u},btrt:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:n[8]&31,decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(n[26]&7)<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={majorBrand:kh(n.subarray(0,4)),minorVersion:r.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)i.compatibleBrands.push(kh(n.subarray(t,t+4))),t+=4;return i},dinf:function(n){return{boxes:ot(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:ot(n.subarray(8))}},hdlr:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:kh(n.subarray(8,12)),name:""},t=8,t=24;t<n.byteLength;t++){if(n[t]===0){t++;break}i.name+=String.fromCharCode(n[t])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:nyt(n)}},mdhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,u,i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return i.version===1?(t+=4,i.creationTime=ti(r.getUint32(t)),t+=8,i.modificationTime=ti(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=8,i.duration=r.getUint32(t)):(i.creationTime=ti(r.getUint32(t)),t+=4,i.modificationTime=ti(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=4,i.duration=r.getUint32(t)),t+=4,u=r.getUint16(t),i.language+=String.fromCharCode((u>>10)+96),i.language+=String.fromCharCode(((u&992)>>5)+96),i.language+=String.fromCharCode((u&31)+96),i},mdia:function(n){return{boxes:ot(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:ot(n)}},mp4a:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return n.byteLength>28&&(i.streamDescriptor=ot(n.subarray(28))[0]),i},moof:function(n){return{boxes:ot(n)}},moov:function(n){return{boxes:ot(n)}},mvex:function(n){return{boxes:ot(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=ti(i.getUint32(t)),t+=8,r.modificationTime=ti(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=8,r.duration=i.getUint32(t)):(r.creationTime=ti(i.getUint32(t)),t+=4,r.modificationTime=ti(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=4,r.duration=i.getUint32(t)),t+=4,r.rate=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,t+=8,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,t+=24,r.nextTrackId=i.getUint32(t),r},pdin:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(n){for(var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=4;t<n.byteLength;t++)i.samples.push({dependsOn:(n[t]&48)>>4,isDependedOn:(n[t]&12)>>2,hasRedundancy:n[t]&3});return i},sidx:function(n){for(var t=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},u=t.getUint16(22),i=24;u;i+=12,u--)r.references.push({referenceType:(n[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:ot(n)}},stco:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},u=i.getUint32(4),t=8;u;t+=4,u--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=i.getUint32(4),u={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]},t=8;r;t+=12,r--)u.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return u},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:ot(n.subarray(8))}},stsz:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]},t=12;t<n.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},u=i.getUint32(4),t=8;u;t+=8,u--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(n){return rf.ftyp(n)},tfdt:function(n){var t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return t.version===1&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),t},tfhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:r.getUint32(4)},u=t.flags[2]&1,f=t.flags[2]&2,e=t.flags[2]&8,o=t.flags[2]&16,s=t.flags[2]&32,h=t.flags[0]&65536,c=t.flags[0]&131072,i;return i=8,u&&(i+=4,t.baseDataOffset=r.getUint32(12),i+=4),f&&(t.sampleDescriptionIndex=r.getUint32(i),i+=4),e&&(t.defaultSampleDuration=r.getUint32(i),i+=4),o&&(t.defaultSampleSize=r.getUint32(i),i+=4),s&&(t.defaultSampleFlags=r.getUint32(i)),h&&(t.durationIsEmpty=!0),!u&&c&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=ti(i.getUint32(t)),t+=8,r.modificationTime=ti(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=8,r.duration=i.getUint32(t)):(r.creationTime=ti(i.getUint32(t)),t+=4,r.modificationTime=ti(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=4,r.duration=i.getUint32(t)),t+=4,t+=8,r.layer=i.getUint16(t),t+=2,r.alternateGroup=i.getUint16(t),t+=2,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,r.width=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.height=i.getUint16(t)+i.getUint16(t+2)/16,r},traf:function(n){return{boxes:ot(n)}},trak:function(n){return{boxes:ot(n)}},trex:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:n[20]&3,sampleIsDependedOn:(n[21]&192)>>6,sampleHasRedundancy:(n[21]&48)>>4,samplePaddingValue:(n[21]&14)>>1,sampleIsDifferenceSample:!!(n[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:function(n){var r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},u=new DataView(n.buffer,n.byteOffset,n.byteLength),h=r.flags[2]&1,c=r.flags[2]&4,e=r.flags[1]&1,o=r.flags[1]&2,l=r.flags[1]&4,s=r.flags[1]&8,f=u.getUint32(4),t=8,i;for(h&&(r.dataOffset=u.getInt32(t),t+=4),c&&f&&(i={flags:vit(n.subarray(t,t+4))},t+=4,e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i),f--);f--;)i={},e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),l&&(i.flags=vit(n.subarray(t,t+4)),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i);return r},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};ot=function(n){for(var t=0,o=[],s,i,f,e,r,h=new ArrayBuffer(n.length),c=new Uint8Array(h),u=0;u<n.length;++u)c[u]=n[u];for(s=new DataView(h);t<n.byteLength;)i=s.getUint32(t),f=kh(n.subarray(t+4,t+8)),e=i>1?t+i:n.byteLength,r=(rf[f]||function(n){return{data:n}})(n.subarray(t+8,e)),r.size=i,r.type=f,o.push(r),t=e;return o};ay=function(n,t){var i;return t=t||0,i=new Array(t*2+1).join(" "),n.map(function(n){return i+n.type+"\n"+Object.keys(n).filter(function(n){return n!=="type"&&n!=="boxes"}).map(function(t){var f=i+"  "+t+": ",r=n[t],u;return r instanceof Uint8Array||r instanceof Uint32Array?(u=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(n){return" "+("00"+n.toString(16)).slice(-2)}).join("").match(/.{1,24}/g),!u)?f+"<>":u.length===1?f+"<"+u.join("").slice(1)+">":f+"<\n"+u.map(function(n){return i+"  "+n}).join("\n")+"\n"+i+"  >":f+JSON.stringify(r,null,2).split("\n").map(function(n,t){return t===0?n:i+"  "+n}).join("\n")}).join("\n")+(n.boxes?"\n"+ay(n.boxes,t+1):"")}).join("\n")};var vy={inspect:ot,textify:ay,parseTfdt:rf.tfdt,parseHdlr:rf.hdlr,parseTfhd:rf.tfhd,parseTrun:rf.trun},tyt=ye.discardEmulationPreventionBytes,iyt=iy.CaptionStream,ryt=function(n,t){for(var i,u=n,r=0;r<t.length;r++){if(i=t[r],u<i.size)return i;u-=i.size}return null},uyt=function(n,t,i){for(var c=new DataView(n.buffer,n.byteOffset,n.byteLength),h=[],u,f,o,s,e,r=0;r+4<n.length;r+=f)if(f=c.getUint32(r),r+=4,!(f<=0))switch(n[r]&31){case 6:s=n.subarray(r+1,r+1+f);e=ryt(r,t);u={nalUnitType:"sei_rbsp",size:f,data:s,escapedRBSP:tyt(s),trackId:i};e?(u.pts=e.pts,u.dts=e.dts,o=e):(u.pts=o.pts,u.dts=o.dts);h.push(u)}return h},fyt=function(n,t,i){var r=t,f=i.defaultSampleDuration||0,e=i.defaultSampleSize||0,o=i.trackId,u=[];return n.forEach(function(n){var i=vy.parseTrun(n),t=i.samples;t.forEach(function(n){n.duration===undefined&&(n.duration=f);n.size===undefined&&(n.size=e);n.trackId=o;n.dts=r;n.compositionTimeOffset===undefined&&(n.compositionTimeOffset=0);n.pts=r+n.compositionTimeOffset;r+=n.duration});u=u.concat(t)}),u},eyt=function(n,t){var u=gt.findBox(n,["moof","traf"]),f=gt.findBox(n,["mdat"]),i={},r=[];return f.forEach(function(n,t){var i=u[t];r.push({mdat:n,traf:i})}),r.forEach(function(n){var c=n.mdat,u=n.traf,l=gt.findBox(u,["tfhd"]),f=vy.parseTfhd(l[0]),r=f.trackId,e=gt.findBox(u,["tfdt"]),a=e.length>0?vy.parseTfdt(e[0]).baseMediaDecodeTime:0,o=gt.findBox(u,["trun"]),s,h;t===r&&o.length>0&&(s=fyt(o,a,f),h=uyt(c,s,r),i[r]||(i[r]=[]),i[r]=i[r].concat(h))}),i},oyt=function(n,t,i){var r;return t?(r=eyt(n,t),{seiNals:r[t],timescale:i}):null},syt=function(){var f=!1,r,u,n,t,i;this.isInitialized=function(){return f};this.init=function(){r=new iyt;f=!0;r.on("data",function(n){n.startTime=n.startPts/t;n.endTime=n.endPts/t;i.captions.push(n);i.captionStreams[n.stream]=!0})};this.isNewInit=function(i,r){return i&&i.length===0||r&&typeof r=="object"&&Object.keys(r).length===0?!1:n!==i[0]||t!==r[n]};this.parse=function(r,f,e){var o,s;if(this.isInitialized())if(f&&e){if(this.isNewInit(f,e))n=f[0],t=e[n];else if(!n||!t)return u.push(r),null}else return null;else return null;while(u.length>0)s=u.shift(),this.parse(s,f,e);return(o=oyt(r,n,t),o===null||!o.seiNals)?null:(this.pushNals(o.seiNals),this.flushStream(),i)};this.pushNals=function(n){if(!this.isInitialized()||!n||n.length===0)return null;n.forEach(function(n){r.push(n)})};this.flushStream=function(){if(!this.isInitialized())return null;r.flush()};this.clearParsedCaptions=function(){i.captions=[];i.captionStreams={}};this.resetCaptionStream=function(){if(!this.isInitialized())return null;r.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){u=[];n=null;t=null;i?this.clearParsedCaptions():i={captions:[],captionStreams:{}};this.resetCaptionStream()};this.reset()},hyt=syt,cyt={generator:br,probe:gt,Transmuxer:ly.Transmuxer,AudioSegmentStream:ly.AudioSegmentStream,VideoSegmentStream:ly.VideoSegmentStream,CaptionParser:hyt},lyt=cyt.CaptionParser,yit=function(n){var t=n[1]&31;return t<<=8,t|n[2]},dh=function(n){return!!(n[1]&64)},gh=function(n){var t=0;return(n[3]&48)>>>4>1&&(t+=n[4]+1),t},ayt=function(n,t){var i=yit(n);return i===0?"pat":i===t?"pmt":t?"pes":null},vyt=function(n){var i=dh(n),t=4+gh(n);return i&&(t+=n[t]+1),(n[t+10]&31)<<8|n[t+11]},yyt=function(n){var u={},s=dh(n),t=4+gh(n),f,e,o,r,i;if(s&&(t+=n[t]+1),n[t+5]&1){for(f=(n[t+1]&15)<<8|n[t+2],e=3+f-4,o=(n[t+10]&15)<<8|n[t+11],r=12+o;r<e;)i=t+r,u[(n[i+1]&31)<<8|n[i+2]]=n[i],r+=((n[i+3]&15)<<8|n[i+4])+5;return u}},pyt=function(n,t){var i=yit(n),r=t[i];switch(r){case nt.H264_STREAM_TYPE:return"video";case nt.ADTS_STREAM_TYPE:return"audio";case nt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},wyt=function(n){var u=dh(n),t,i,r;return u?(t=4+gh(n),t>=n.byteLength)?null:(i=null,r=n[t+7],r&192&&(i={},i.pts=(n[t+9]&14)<<27|(n[t+10]&255)<<20|(n[t+11]&254)<<12|(n[t+12]&255)<<5|(n[t+13]&254)>>>3,i.pts*=4,i.pts+=(n[t+13]&6)>>>1,i.dts=i.pts,r&64&&(i.dts=(n[t+14]&14)<<27|(n[t+15]&255)<<20|(n[t+16]&254)<<12|(n[t+17]&255)<<5|(n[t+18]&254)>>>3,i.dts*=4,i.dts+=(n[t+18]&6)>>>1)),i):null},yy=function(n){switch(n){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},byt=function(n){for(var e=4+gh(n),i=n.subarray(e),t=0,r=0,f=!1,u;r<i.byteLength-3;r++)if(i[r+2]===1){t=r+5;break}while(t<i.byteLength)switch(i[t]){case 0:if(i[t-1]!==0){t+=2;break}else if(i[t-2]!==0){t++;break}r+3!==t-2&&(u=yy(i[r+3]&31),u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0));do t++;while(i[t]!==1&&t<i.length);r=t-2;t+=3;break;case 1:if(i[t-1]!==0||i[t-2]!==0){t+=3;break}u=yy(i[r+3]&31);u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0);r=t-2;t+=3;break;default:t+=3}return i=i.subarray(r),t-=r,r=0,i&&i.byteLength>3&&(u=yy(i[r+3]&31),u==="slice_layer_without_partitioning_rbsp_idr"&&(f=!0)),f},kyt={parseType:ayt,parsePat:vyt,parsePmt:yyt,parsePayloadUnitStartIndicator:dh,parsePesType:pyt,parsePesTime:wyt,videoPacketContainsKeyFrame:byt},uf=fit.handleRollover,a={};a.ts=kyt;a.aac=ph;var dr=9e4,st=188,ci=71,dyt=function(n,t){for(var r=0,i=st,u,f;i<n.byteLength;){if(n[r]===ci&&n[i]===ci){u=n.subarray(r,i);f=a.ts.parseType(u,t.pid);switch(f){case"pat":t.pid||(t.pid=a.ts.parsePat(u));break;case"pmt":t.table||(t.table=a.ts.parsePmt(u))}if(t.pid&&t.table)return;r+=st;i+=st;continue}r++;i++}},pit=function(n,t,i){for(var u=0,r=st,f,s,h,c,e,o=!1;r<=n.byteLength;){if(n[u]===ci&&(n[r]===ci||r===n.byteLength)){f=n.subarray(u,r);s=a.ts.parseType(f,t.pid);switch(s){case"pes":h=a.ts.parsePesType(f,t.table);c=a.ts.parsePayloadUnitStartIndicator(f);h==="audio"&&c&&(e=a.ts.parsePesTime(f),e&&(e.type="audio",i.audio.push(e),o=!0))}if(o)break;u+=st;r+=st;continue}u++;r++}for(r=n.byteLength,u=r-st,o=!1;u>=0;){if(n[u]===ci&&(n[r]===ci||r===n.byteLength)){f=n.subarray(u,r);s=a.ts.parseType(f,t.pid);switch(s){case"pes":h=a.ts.parsePesType(f,t.table);c=a.ts.parsePayloadUnitStartIndicator(f);h==="audio"&&c&&(e=a.ts.parsePesTime(f),e&&(e.type="audio",i.audio.push(e),o=!0))}if(o)break;u-=st;r-=st;continue}u--;r--}},gyt=function(n,t,i){for(var f=0,u=st,r,c,l,h,e,v,y,p,s=!1,o={data:[],size:0};u<n.byteLength;){if(n[f]===ci&&n[u]===ci){r=n.subarray(f,u);c=a.ts.parseType(r,t.pid);switch(c){case"pes":if(l=a.ts.parsePesType(r,t.table),h=a.ts.parsePayloadUnitStartIndicator(r),l==="video"&&(h&&!s&&(e=a.ts.parsePesTime(r),e&&(e.type="video",i.video.push(e),s=!0)),!i.firstKeyFrame)){if(h&&o.size!==0){for(v=new Uint8Array(o.size),y=0;o.data.length;)p=o.data.shift(),v.set(p,y),y+=p.byteLength;a.ts.videoPacketContainsKeyFrame(v)&&(i.firstKeyFrame=a.ts.parsePesTime(v),i.firstKeyFrame.type="video");o.size=0}o.data.push(r);o.size+=r.byteLength}}if(s&&i.firstKeyFrame)break;f+=st;u+=st;continue}f++;u++}for(u=n.byteLength,f=u-st,s=!1;f>=0;){if(n[f]===ci&&n[u]===ci){r=n.subarray(f,u);c=a.ts.parseType(r,t.pid);switch(c){case"pes":l=a.ts.parsePesType(r,t.table);h=a.ts.parsePayloadUnitStartIndicator(r);l==="video"&&h&&(e=a.ts.parsePesTime(r),e&&(e.type="video",i.video.push(e),s=!0))}if(s)break;f-=st;u-=st;continue}f--;u--}},npt=function(n,t){var u,r,i;n.audio&&n.audio.length&&(u=t,typeof u=="undefined"&&(u=n.audio[0].dts),n.audio.forEach(function(n){n.dts=uf(n.dts,u);n.pts=uf(n.pts,u);n.dtsTime=n.dts/dr;n.ptsTime=n.pts/dr}));n.video&&n.video.length&&(r=t,typeof r=="undefined"&&(r=n.video[0].dts),n.video.forEach(function(n){n.dts=uf(n.dts,r);n.pts=uf(n.pts,r);n.dtsTime=n.dts/dr;n.ptsTime=n.pts/dr}),n.firstKeyFrame&&(i=n.firstKeyFrame,i.dts=uf(i.dts,r),i.pts=uf(i.pts,r),i.dtsTime=i.dts/dr,i.ptsTime=i.dts/dr))},tpt=function(n){for(var u=!1,o=0,f=null,r=null,i=0,t=0,e,h,s,c;n.length-t>=3;){h=a.aac.parseType(n,t);switch(h){case"timed-metadata":if(n.length-t<10){u=!0;break}if(i=a.aac.parseId3TagSize(n,t),i>n.length){u=!0;break}r===null&&(e=n.subarray(t,t+i),r=a.aac.parseAacTimestamp(e));t+=i;break;case"audio":if(n.length-t<7){u=!0;break}if(i=a.aac.parseAdtsSize(n,t),i>n.length){u=!0;break}f===null&&(e=n.subarray(t,t+i),f=a.aac.parseSampleRate(e));o++;t+=i;break;default:t++}if(u)return null}return f===null||r===null?null:(s=dr/f,c={audio:[{type:"audio",dts:r,pts:r},{type:"audio",dts:r+o*1024*s,pts:r+o*1024*s}]},c)},ipt=function(n){var i={pid:null,table:null},t={},r,u;dyt(n,i);for(r in i.table)if(i.table.hasOwnProperty(r)){u=i.table[r];switch(u){case nt.H264_STREAM_TYPE:t.video=[];gyt(n,i,t);t.video.length===0&&delete t.video;break;case nt.ADTS_STREAM_TYPE:t.audio=[];pit(n,i,t);t.audio.length===0&&delete t.audio}}return t},rpt=function(n,t){var r=a.aac.isLikelyAacData(n),i;return(i=r?tpt(n):ipt(n),!i||!i.audio&&!i.video)?null:(npt(i,t),i)},upt={inspect:rpt,parseAudioPes_:pit};var nc=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},ept=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),opt=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},spt=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},hpt=function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],p=e[4],n=void 0,i=void 0,r=void 0,u=[],a=[],c=void 0,v=void 0,y=void 0,t=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^(n>>7)*283)^n]=n;for(i=r=0;!l[i];i^=c||1,r=a[r]||1)for(t=r^r<<1^r<<2^r<<3^r<<4,t=t>>8^t&255^99,l[i]=t,p[t]=i,y=u[v=u[c=u[i]]],s=y*16843009^v*65537^c*257^i*16843008,o=u[t]*257^t*16843008,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][t]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h},ii=null,cpt=function(){function n(t){nc(this,n);ii||(ii=hpt());this._tables=[[ii[0][0].slice(),ii[0][1].slice(),ii[0][2].slice(),ii[0][3].slice(),ii[0][4].slice()],[ii[1][0].slice(),ii[1][1].slice(),ii[1][2].slice(),ii[1][3].slice(),ii[1][4].slice()]];var r=void 0,o=void 0,i=void 0,e=void 0,c=void 0,f=this._tables[0][4],s=this._tables[1],u=t.length,h=1;if(u!==4&&u!==6&&u!==8)throw new Error("Invalid aes key size");for(e=t.slice(0),c=[],this._key=[e,c],r=u;r<4*u+28;r++)i=e[r-1],(r%u==0||u===8&&r%u==4)&&(i=f[i>>>24]<<24^f[i>>16&255]<<16^f[i>>8&255]<<8^f[i&255],r%u==0&&(i=i<<8^i>>>24^h<<24,h=h<<1^(h>>7)*283)),e[r]=e[r-u]^i;for(o=0;r;o++,r--)i=e[o&3?r:r-4],c[o]=r<=4||o<4?i:s[0][f[i>>>24]]^s[1][f[i>>16&255]]^s[2][f[i>>8&255]]^s[3][f[i&255]]}return n.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[c&255]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[o&255]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[s&255]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[h&255]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[c&255]^e[a++],y=o,o=s,s=h,h=c,c=y},n}(),wit=function(){function n(){nc(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var t=this.listeners[n],u,i,f,e,r;if(t)if(arguments.length===2)for(u=t.length,i=0;i<u;++i)t[i].call(this,arguments[1]);else for(f=Array.prototype.slice.call(arguments,1),e=t.length,r=0;r<e;++r)t[r].apply(this,f)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),bit=function(n){function t(){nc(this,t);var i=spt(this,n.call(this,wit));return i.jobs=[],i.delay=1,i.timeout_=null,i}return opt(t,n),t.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},t.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(wit),ri=function(n){return n<<24|(n&65280)<<8|(n&16711680)>>8|n>>>24},kit=function(n,t,i){var f=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),p=new cpt(Array.prototype.slice.call(t)),y=new Uint8Array(n.byteLength),u=new Int32Array(y.buffer),e=void 0,o=void 0,s=void 0,h=void 0,c=void 0,l=void 0,a=void 0,v=void 0,r=void 0;for(e=i[0],o=i[1],s=i[2],h=i[3],r=0;r<f.length;r+=4)c=ri(f[r]),l=ri(f[r+1]),a=ri(f[r+2]),v=ri(f[r+3]),p.decrypt(c,l,a,v,u,r),u[r]=ri(u[r]^e),u[r+1]=ri(u[r+1]^o),u[r+2]=ri(u[r+2]^s),u[r+3]=ri(u[r+3]^h),e=c,o=l,s=a,h=v;return y},lpt=function(){function n(t,i,r,u){nc(this,n);var o=n.STEP,e=new Int32Array(t.buffer),s=new Uint8Array(t.byteLength),f=0;for(this.asyncStream_=new bit,this.asyncStream_.push(this.decryptChunk_(e.subarray(f,f+o),i,r,s)),f=o;f<e.length;f+=o)r=new Uint32Array([ri(e[f-4]),ri(e[f-3]),ri(e[f-2]),ri(e[f-1])]),this.asyncStream_.push(this.decryptChunk_(e.subarray(f,f+o),i,r,s));this.asyncStream_.push(function(){u(null,fpt(s))})}return n.prototype.decryptChunk_=function(n,t,i,r){return function(){var u=kit(n,t,i);r.set(u,n.byteOffset)}},ept(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}();
/**
   * @videojs/http-streaming
   * @version 1.5.1
   * @copyright 2018 Brightcove, Inc
   * @license Apache-2.0
   */
var pi=function(n,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(n)||(n=kg.buildAbsoluteURL(t.location.href,n)),kg.buildAbsoluteURL(n,i))},ui=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},oi=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),apt=function pk(n,t,i){var r,u,f;return n===null&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),r===undefined?(u=Object.getPrototypeOf(n),u===null?undefined:pk(u,t,i)):"value"in r?r.value:(f=r.get,f===undefined)?undefined:f.call(i)},wi=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},li=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},vpt=function(){function n(n,t){var r=[],u=!0,f=!1,e=undefined,i,o;try{for(i=n[Symbol.iterator]();!(u=(o=i.next()).done);u=!0)if(r.push(o.value),t&&r.length===t)break}catch(s){f=!0;e=s}finally{try{!u&&i["return"]&&i["return"]()}finally{if(f)throw e;}}return r}return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),py=i.mergeOptions,ypt=i.EventTarget,ppt=i.log,wy=function(n,t){["AUDIO","SUBTITLES"].forEach(function(i){var r,u,f;for(r in n.mediaGroups[i])for(u in n.mediaGroups[i][r])f=n.mediaGroups[i][r][u],t(f,i,r,u)})},wpt=function(n,t,i){var u=t.slice(),f,r;for(i=i||0,f=Math.min(n.length,t.length+i),r=i;r<f;r++)u[r-i]=py(n[r],u[r-i]);return u},bpt=function(n,t){n.resolvedUri||(n.resolvedUri=pi(t,n.uri));n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=pi(t,n.key.uri));n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=pi(t,n.map.uri))},by=function(n,t){var r=py(n,{}),i=r.playlists[t.uri],u,f;if(!i||i.segments&&t.segments&&i.segments.length===t.segments.length&&i.mediaSequence===t.mediaSequence)return null;for(u=py(i,t),i.segments&&(u.segments=wpt(i.segments,t.segments,t.mediaSequence-i.mediaSequence)),u.segments.forEach(function(n){bpt(n,u.resolvedUri)}),f=0;f<r.playlists.length;f++)r.playlists[f].uri===t.uri&&(r.playlists[f]=u);return r.playlists[t.uri]=u,r},dit=function(n){for(var i=n.playlists.length,t;i--;)t=n.playlists[i],n.playlists[t.uri]=t,t.resolvedUri=pi(n.uri,t.uri),t.id=i,t.attributes||(t.attributes={},ppt.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))},git=function(n){wy(n,function(t){t.uri&&(t.resolvedUri=pi(n.uri,t.uri))})},nrt=function(n,t){var i=n.segments[n.segments.length-1];return t&&i&&i.duration?i.duration*1e3:(n.targetDuration||10)*500},tc=function(n){function i(n,t,r){ui(this,i);var u=li(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(u.srcUrl=n,u.hls_=t,u.withCredentials=r,!u.srcUrl)throw new Error("A non-empty playlist URL is required");u.state="HAVE_NOTHING";u.on("mediaupdatetimeout",function(){u.state==="HAVE_METADATA"&&(u.state="HAVE_CURRENT_METADATA",u.request=u.hls_.xhr({uri:pi(u.master.uri,u.media().uri),withCredentials:u.withCredentials},function(n){if(u.request){if(n)return u.playlistRequestError(u.request,u.media().uri,"HAVE_METADATA");u.haveMetadata(u.request,u.media().uri)}}))});return u}return wi(i,n),oi(i,[{key:"playlistRequestError",value:function(n,t,i){this.request=null;i&&(this.state=i);this.error={playlist:this.master.playlists[t],status:n.status,message:"HLS playlist request error at URL: "+t,responseText:n.responseText,code:n.status>=500?4:2};this.trigger("error")}},{key:"haveMetadata",value:function(n,i){var f=this,r,u;this.request=null;this.state="HAVE_METADATA";r=new dg;r.push(n.responseText);r.end();r.manifest.uri=i;r.manifest.attributes=r.manifest.attributes||{};u=by(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration;u?(this.master=u,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged");this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout(function(){f.trigger("mediaupdatetimeout")},nrt(this.media(),!!u)));this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"media",value:function(n){var t=this,i,r;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(i=this.state,typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(r=!this.media_||n.uri!==this.media_.uri,this.master.playlists[n.uri].endList){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null);this.state="HAVE_METADATA";this.media_=n;r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}if(r){if(this.state="SWITCHING_MEDIA",this.request){if(pi(this.master.uri,n.uri)===this.request.url)return;this.request.onreadystatechange=null;this.request.abort();this.request=null}this.media_&&this.trigger("mediachanging");this.request=this.hls_.xhr({uri:pi(this.master.uri,n.uri),withCredentials:this.withCredentials},function(r,u){if(t.request){if(r)return t.playlistRequestError(t.request,n.uri,i);t.haveMetadata(u,n.uri);i==="HAVE_MASTER"?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout);this.state==="HAVE_NOTHING"&&(this.started=!1);this.state==="SWITCHING_MEDIA"?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}},{key:"load",value:function(n){var u=this,i,r;if(t.clearTimeout(this.mediaUpdateTimeout),i=this.media(),n){r=i?i.targetDuration*500:5e3;this.mediaUpdateTimeout=t.setTimeout(function(){return u.load()},r);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}},{key:"start",value:function(){var n=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){if(n.request){if(n.request=null,i)return n.error={status:r.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:r.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");var u=new dg;if(u.push(r.responseText),u.end(),n.state="HAVE_MASTER",u.manifest.uri=n.srcUrl,u.manifest.playlists){n.master=u.manifest;dit(n.master);git(n.master);n.trigger("loadedplaylist");n.request||n.media(u.manifest.playlists[0]);return}return n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,playlists:[{uri:n.srcUrl,id:0}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(r,n.srcUrl),n.trigger("loadedmetadata")}})}}]),i}(ypt),trt=i.createTimeRange,kpt=function(n,t){var r=0,u=t-n.mediaSequence,i=n.segments[u];if(i){if(typeof i.start!="undefined")return{result:i.start,precise:!0};if(typeof i.end!="undefined")return{result:i.end-i.duration,precise:!0}}while(u--){if(i=n.segments[u],typeof i.end!="undefined")return{result:r+i.end,precise:!0};if(r+=i.duration,typeof i.start!="undefined")return{result:r+i.start,precise:!0}}return{result:r,precise:!1}},dpt=function(n,t){for(var r=0,i=void 0,u=t-n.mediaSequence;u<n.segments.length;u++){if(i=n.segments[u],typeof i.start!="undefined")return{result:i.start-r,precise:!0};if(r+=i.duration,typeof i.end!="undefined")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},irt=function(n,t,i){var r=void 0,u=void 0;return(typeof t=="undefined"&&(t=n.mediaSequence+n.segments.length),t<n.mediaSequence)?0:(r=kpt(n,t),r.precise)?r.result:(u=dpt(n,t),u.precise)?u.result:r.result+i},rrt=function(n,i,r){if(!n)return 0;if(typeof r!="number"&&(r=0),typeof i=="undefined"){if(n.totalDuration)return n.totalDuration;if(!n.endList)return t.Infinity}return irt(n,i,r)},ke=function(n,t,i){var u=0,f,e,r;if(t>i&&(f=[i,t],t=f[0],i=f[1]),t<0){for(e=t;e<Math.min(0,i);e++)u+=n.targetDuration;t=0}for(r=t;r<i;r++)u+=n.segments[r].duration;return u},urt=function(n){if(!n.segments.length)return 0;for(var t=n.segments.length-1,i=n.segments[t].duration||n.targetDuration,r=i+n.targetDuration*2;t--;)if(i+=n.segments[t].duration,i>=r)break;return Math.max(0,t)},frt=function(n,t,i){if(!n||!n.segments)return null;if(n.endList)return rrt(n);if(t===null)return null;t=t||0;var r=i?urt(n):n.segments.length;return irt(n,n.mediaSequence+r,t)},gpt=function(n,t){var r=t||0,i=frt(n,t,!0);return i===null?trt():trt(r,i)},ert=function(n){return n-Math.floor(n)==0},ort=function(n,t){var r,i,u,f;if(ert(t))return t+n*.1;for(r=t.toString().split(".")[1].length,i=1;i<=r;i++)if(u=Math.pow(10,i),f=t*u,ert(f)||i===r)return(f+n)/u},nwt=ort.bind(null,1),twt=ort.bind(null,-1),iwt=function(n,t,i,r){var u=void 0,e=void 0,o=n.segments.length,f=t-r;if(f<0){if(i>0)for(u=i-1;u>=0;u--)if(e=n.segments[u],f+=twt(e.duration),f>0)return{mediaIndex:u,startTime:r-ke(n,i,u)};return{mediaIndex:0,startTime:t}}if(i<0){for(u=i;u<0;u++)if(f-=n.targetDuration,f<0)return{mediaIndex:0,startTime:t};i=0}for(u=i;u<o;u++)if(e=n.segments[u],f-=nwt(e.duration),f<0)return{mediaIndex:u,startTime:r+ke(n,i,u)};return{mediaIndex:o-1,startTime:t}},srt=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},ky=function(n){return n.excludeUntil&&n.excludeUntil===Infinity},ic=function(n){var t=srt(n);return!n.disabled&&!t},rwt=function(n){return n.disabled},uwt=function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].key)return!0;return!1},fwt=function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].map)return!0;return!1},hrt=function(n,t){return t.attributes&&t.attributes[n]},ewt=function(n,t,i){var u=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0,r;return hrt("BANDWIDTH",i)?(r=n*i.attributes.BANDWIDTH,(r-u*8)/t):NaN},dy=function(n,t){if(n.playlists.length===1)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return n.playlists.filter(function(n){return ic(n)?(n.attributes.BANDWIDTH||0)<i:!1}).length===0},wt={duration:rrt,seekable:gpt,safeLiveIndex:urt,getMediaInfoForTime:iwt,isEnabled:ic,isDisabled:rwt,isBlacklisted:srt,isIncompatible:ky,playlistEnd:frt,isAes:uwt,isFmp4:fwt,hasAttribute:hrt,estimateSegmentRequestTime:ewt,isLowestEnabledRendition:dy},owt=i.xhr,swt=i.mergeOptions,crt=function(){return function n(t,r){var f,e,u,o;return t=swt({timeout:45e3},t),f=n.beforeRequest||i.Hls.xhr.beforeRequest,f&&typeof f=="function"&&(e=f(t),e&&(t=e)),u=owt(t,function(n,t){var i=u.response;!n&&i&&(u.responseTime=Date.now(),u.roundTripTime=u.responseTime-u.requestTime,u.bytesReceived=i.byteLength||i.length,u.bandwidth||(u.bandwidth=Math.floor(u.bytesReceived/u.roundTripTime*8e3)));t.headers&&(u.responseHeaders=t.headers);n&&n.code==="ETIMEDOUT"&&(u.timedout=!0);n||u.aborted||t.statusCode===200||t.statusCode===206||t.statusCode===0||(n=new Error("XHR Failed with a response of: "+(u&&(i||u.responseText))));r(n,u)}),o=u.abort,u.abort=function(){return u.aborted=!0,o.apply(u,arguments)},u.uri=t.uri,u.requestTime=Date.now(),u}},hwt=function(n,t){return n.start(t)+"-"+n.end(t)},cwt=function(n,t){var i=n.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},lwt=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},lrt=function(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t},rc=function(n){var t=n.byterange||{length:Infinity,offset:0};return[t.length,t.offset,n.resolvedUri].join(",")},art=function(n){for(var r=Array.prototype.slice.call(n),t=16,u="",f=void 0,e=void 0,i=0;i<r.length/t;i++)f=r.slice(i*t,i*t+t).map(cwt).join(""),e=r.slice(i*t,i*t+t).map(lwt).join(""),u+=f+" "+e+"\n";return u},awt=function(n){var t=n.bytes;return art(t)},vwt=function(n){for(var i="",t=void 0,t=0;t<n.length;t++)i+=hwt(n,t)+" ";return i},ywt=Object.freeze({createTransferableMessage:lrt,initSegmentId:rc,hexDump:art,tagDump:awt,textRanges:vwt}),vrt=function(n,t,i,r){var u=void 0;if(t==="stream"){u=new Date(r*1e3+i.getTime());var f=n.toISOString(),e=i.toISOString(),o=u.toISOString();return e<=f&&f<=o}if(t==="player")return u=r+i,i<=n&&n<=u},yrt=function(n,t,i){var f,e,s,h;if(!i.segments||i.segments.length===0||t!=="player"&&t!=="stream")return null;for(f=0,e=0;e<i.segments.length;e++){var r=i.segments[e],c=f+r.duration,o=void 0,u=void 0;if(t==="player"?(o=r.start,u=f):(o=r.dateTimeObject,u=r.dateTimeObject),s=typeof r.start!="undefined"&&typeof r.end!="undefined"&&vrt(n,t,o,r.end-r.start),h=vrt(n,t,u,r.duration),s)return{segment:r,estimatedStart:u,type:"accurate"};if(h)return{segment:r,estimatedStart:u,type:"estimate"};f=c}return null},pwt=function(n,t){return yrt(n,"player",t)},wwt=function(n,t){var i=void 0;try{i=new Date(n)}catch(r){return null}return yrt(i,"stream",t)},bwt=function(n,t){var i=void 0,r=void 0,u,f;try{i=new Date(n);r=new Date(t)}catch(e){}return u=i.getTime(),f=r.getTime(),(f-u)/1e3},kwt=function(n){var t,i;if(!n.segments||n.segments.length===0)return!1;for(t=0;t<n.segments.length;t++)if(i=n.segments[t],!i.dateTimeObject)return!1;return!0},dwt=function(n){var f=n.playlist,e=n.time,r=e===undefined?undefined:e,i=n.callback,t,u;if(!i)throw new Error("getStreamTime: callback must be provided");return!f||r===undefined?i({message:"getStreamTime: playlist and time must be provided"}):(t=pwt(r,f),!t)?i({message:"valid streamTime was not found"}):t.type==="estimate"?i({message:"Accurate streamTime could not be determined. Please seek to e.seekTime and try again",seekTime:t.estimatedStart}):(u={mediaSeconds:r},t.segment.dateTimeObject&&(u.programDateTime=t.segment.dateTimeObject.toISOString()),i(null,u))},prt=function prt(n){var i=n.streamTime,r=n.playlist,o=n.retryCount,s=o===undefined?2:o,e=n.seekTo,h=n.pauseAfterSeek,c=h===undefined?!0:h,u=n.tech,t=n.callback,f;if(!t)throw new Error("seekToStreamTime: callback must be provided");if(typeof i=="undefined"||!r||!e)return t({message:"seekToStreamTime: streamTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return t({message:"player must be playing a live stream to start buffering"});if(!kwt(r))return t({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});if(f=wwt(i,r),!f)return t({message:i+" was not found in the stream"});if(f.type==="estimate")return s===0?t({message:i+" is not buffered yet. Try again"}):prt({streamTime:i,playlist:r,retryCount:s-1,seekTo:e,pauseAfterSeek:c,tech:u,callback:t});var l=f.segment,a=bwt(l.dateTimeObject,i),v=l.start+a,y=function(){return t(null,u.currentTime())};u.one("seeked",y);c&&u.pause();e(v)},ff=1/30,gr=ff*3,wrt=function(n,t){var u=[],r=void 0;if(n&&n.length)for(r=0;r<n.length;r++)t(n.start(r),n.end(r))&&u.push([n.start(r),n.end(r)]);return i.createTimeRanges(u)},brt=function(n,t){return wrt(n,function(n,i){return n-ff<=t&&i+ff>=t})},krt=function(n,t){return wrt(n,function(n){return n-ff>=t})},gwt=function(n){var r,t,u,f;if(n.length<2)return i.createTimeRanges();for(r=[],t=1;t<n.length;t++)u=n.end(t-1),f=n.start(t),r.push([u,f]);return i.createTimeRanges(r)},gy=function(n){var i=[],t;if(!n||!n.length)return"";for(t=0;t<n.length;t++)i.push(n.start(t)+" => "+n.end(t));return i.join(", ")},nbt=function(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,r=n.length?n.end(n.length-1):0;return(r-t)/i},drt=function(n){for(var i=[],t=0;t<n.length;t++)i.push({start:n.start(t),end:n.end(t)});return i},tbt=function(n,t,i){var u=t.player_,r,f;if(i.captions&&i.captions.length){n.inbandTextTracks_||(n.inbandTextTracks_={});for(r in i.captionStreams)n.inbandTextTracks_[r]||(u.tech_.trigger({type:"usage",name:"hls-608"}),f=u.textTracks().getTrackById(r),n.inbandTextTracks_[r]=f?f:u.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track)}i.metadata&&i.metadata.length&&!n.metadataTrack_&&(n.metadataTrack_=u.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},ef=function(n,t,i){var u=void 0,r=void 0;if(i&&i.cues)for(u=i.cues.length;u--;)r=i.cues[u],r.startTime<=t&&r.endTime>=n&&i.removeCue(r)},ibt=function(n){Object.defineProperties(n.frame,{id:{get:function(){return i.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get:function(){return i.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get:function(){return i.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})},grt=function(n){return isNaN(n)||Math.abs(n)===Infinity?Number.MAX_VALUE:n},rbt=function(n,i,r){var h=t.WebKitDataCue||t.VTTCue,c,f,e,u,o,s;if(i&&i.forEach(function(n){var t=n.stream;this.inbandTextTracks_[t].addCue(new h(n.startTime+this.timestampOffset,n.endTime+this.timestampOffset,n.text))},n),r&&(c=grt(n.mediaSource_.duration),r.forEach(function(n){var t=n.cueTime+this.timestampOffset;n.frames.forEach(function(n){var i=new h(t,t,n.value||n.url||n.data||"");i.frame=n;i.value=n;ibt(i);this.metadataTrack_.addCue(i)},this)},n),n.metadataTrack_&&n.metadataTrack_.cues&&n.metadataTrack_.cues.length)){for(f=n.metadataTrack_.cues,e=[],u=0;u<f.length;u++)f[u]&&e.push(f[u]);o=e.reduce(function(n,t){var i=n[t.startTime]||[];return i.push(t),n[t.startTime]=i,n},{});s=Object.keys(o).sort(function(n,t){return Number(n)-Number(t)});s.forEach(function(n,t){var i=o[n],r=Number(s[t+1])||c;i.forEach(function(n){n.endTime=r})})}},nu=typeof window!="undefined"?window:{},np=typeof Symbol=="undefined"?"__target":Symbol(),ubt="application/javascript",fbt=nu.BlobBuilder||nu.WebKitBlobBuilder||nu.MozBlobBuilder||nu.MSBlobBuilder,of=nu.URL||nu.webkitURL||of&&of.msURL,sf=nu.Worker;if(sf){tp=tut("self.onmessage = function () {}");ip=new Uint8Array(1);try{uc=new sf(tp);uc.postMessage(ip,[ip.buffer])}catch(bii){sf=null}finally{of.revokeObjectURL(tp);uc&&uc.terminate()}}var obt=new nut("./transmuxer-worker.worker.js",function(){var n=this,t=function(){var rr=Math.pow(2,32)-1,i,ur,fr,ii,er,or,sr,hr,ri,cr,lr,ar,vr,yr,pr,wr,br,kr,dr,gr,nu,ui,t,fi,tu,iu,ru,uu,fu,eu,ou,su,ot,hu,cu,lu,v,tt,pi,bt,h,kt,wi,bi,rf,uf,dt,ft,ff;(function(){var n;if(t={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},typeof Uint8Array!="undefined"){for(n in t)t.hasOwnProperty(n)&&(t[n]=[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3)]);fi=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);iu=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);tu=new Uint8Array([0,0,0,1]);ru=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);uu=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);fu={video:ru,audio:uu};su=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);ou=new Uint8Array([0,0,0,0,0,0,0,0]);ot=new Uint8Array([0,0,0,0,0,0,0,0]);hu=ot;cu=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);lu=ot;eu=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})();i=function(n){for(var r=[],u=0,i,f,t=1;t<arguments.length;t++)r.push(arguments[t]);for(t=r.length;t--;)u+=r[t].byteLength;for(i=new Uint8Array(u+8),f=new DataView(i.buffer,i.byteOffset,i.byteLength),f.setUint32(0,i.byteLength),i.set(n,4),t=0,u=8;t<r.length;t++)i.set(r[t],u),u+=r[t].byteLength;return i};ur=function(){return i(t.dinf,i(t.dref,su))};fr=function(n){return i(t.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,n.audioobjecttype<<3|n.samplingfrequencyindex>>>1,n.samplingfrequencyindex<<7|n.channelcount<<3,6,1,2]))};ii=function(){return i(t.ftyp,fi,tu,fi,iu)};wr=function(n){return i(t.hdlr,fu[n])};er=function(n){return i(t.mdat,n)};pr=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,n.duration>>>24&255,n.duration>>>16&255,n.duration>>>8&255,n.duration&255,85,196,0,0]);return n.samplerate&&(r[12]=n.samplerate>>>24&255,r[13]=n.samplerate>>>16&255,r[14]=n.samplerate>>>8&255,r[15]=n.samplerate&255),i(t.mdhd,r)};yr=function(n){return i(t.mdia,pr(n),wr(n.type),sr(n))};or=function(n){return i(t.mfhd,new Uint8Array([0,0,0,0,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255]))};sr=function(n){return i(t.minf,n.type==="video"?i(t.vmhd,eu):i(t.smhd,ou),ur(),kr(n))};hr=function(n,r){for(var f=[],u=r.length;u--;)f[u]=gr(r[u]);return i.apply(null,[t.moof,or(n)].concat(f))};ri=function(n){for(var r=n.length,u=[];r--;)u[r]=ar(n[r]);return i.apply(null,[t.moov,lr(4294967295)].concat(u).concat(cr(n)))};cr=function(n){for(var r=n.length,u=[];r--;)u[r]=nu(n[r]);return i.apply(null,[t.mvex].concat(u))};lr=function(n){var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(n&4278190080)>>24,(n&16711680)>>16,(n&65280)>>8,n&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(t.mvhd,r)};br=function(n){for(var f=n.samples||[],e=new Uint8Array(4+f.length),u,r=0;r<f.length;r++)u=f[r].flags,e[r+4]=u.dependsOn<<4|u.isDependedOn<<2|u.hasRedundancy;return i(t.sdtp,e)};kr=function(n){return i(t.stbl,dr(n),i(t.stts,lu),i(t.stsc,hu),i(t.stsz,cu),i(t.stco,ot))},function(){var n,r;dr=function(u){return i(t.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),u.type==="video"?n(u):r(u))};n=function(n){for(var u=n.sps||[],f=n.pps||[],e=[],o=[],r=0;r<u.length;r++)e.push((u[r].byteLength&65280)>>>8),e.push(u[r].byteLength&255),e=e.concat(Array.prototype.slice.call(u[r]));for(r=0;r<f.length;r++)o.push((f[r].byteLength&65280)>>>8),o.push(f[r].byteLength&255),o=o.concat(Array.prototype.slice.call(f[r]));return i(t.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(n.width&65280)>>8,n.width&255,(n.height&65280)>>8,n.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(t.avcC,new Uint8Array([1,n.profileIdc,n.profileCompatibility,n.levelIdc,255].concat([u.length]).concat(e).concat([f.length]).concat(o))),i(t.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))};r=function(n){return i(t.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(n.channelcount&65280)>>8,n.channelcount&255,(n.samplesize&65280)>>8,n.samplesize&255,0,0,0,0,(n.samplerate&65280)>>8,n.samplerate&255,0,0]),fr(n))}}();vr=function(n){var r=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,0,(n.duration&4278190080)>>24,(n.duration&16711680)>>16,(n.duration&65280)>>8,n.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(n.width&65280)>>8,n.width&255,0,0,(n.height&65280)>>8,n.height&255,0,0]);return i(t.tkhd,r)};gr=function(n){var e,o,f,s,h,r,u;return(e=i(t.tfhd,new Uint8Array([0,0,0,58,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(n.baseMediaDecodeTime/(rr+1)),u=Math.floor(n.baseMediaDecodeTime%(rr+1)),o=i(t.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,r&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255])),h=92,n.type==="audio")?(f=ui(n,h),i(t.traf,e,o,f)):(s=br(n),f=ui(n,s.length+h),i(t.traf,e,o,f,s))};ar=function(n){return n.duration=n.duration||4294967295,i(t.trak,vr(n),yr(n))};nu=function(n){var r=new Uint8Array([0,0,0,0,(n.id&4278190080)>>24,(n.id&16711680)>>16,(n.id&65280)>>8,n.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return n.type!=="video"&&(r[r.length-1]=0),i(t.trex,r)},function(){var r,u,n;n=function(n,t){var i=0,r=0,u=0,f=0;return n.length&&(n[0].duration!==undefined&&(i=1),n[0].size!==undefined&&(r=2),n[0].flags!==undefined&&(u=4),n[0].compositionTimeOffset!==undefined&&(f=8)),[0,0,i|r|u|f,1,(n.length&4278190080)>>>24,(n.length&16711680)>>>16,(n.length&65280)>>>8,n.length&255,(t&4278190080)>>>24,(t&16711680)>>>16,(t&65280)>>>8,t&255]};u=function(r,u){var o,e,f,s;for(e=r.samples||[],u+=20+16*e.length,o=n(e,u),s=0;s<e.length;s++)f=e[s],o=o.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255,f.flags.isLeading<<2|f.flags.dependsOn,f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample,f.flags.degradationPriority&61440,f.flags.degradationPriority&15,(f.compositionTimeOffset&4278190080)>>>24,(f.compositionTimeOffset&16711680)>>>16,(f.compositionTimeOffset&65280)>>>8,f.compositionTimeOffset&255]);return i(t.trun,new Uint8Array(o))};r=function(r,u){var o,e,f,s;for(e=r.samples||[],u+=20+8*e.length,o=n(e,u),s=0;s<e.length;s++)f=e[s],o=o.concat([(f.duration&4278190080)>>>24,(f.duration&16711680)>>>16,(f.duration&65280)>>>8,f.duration&255,(f.size&4278190080)>>>24,(f.size&16711680)>>>16,(f.size&65280)>>>8,f.size&255]);return i(t.trun,new Uint8Array(o))};ui=function(n,t){return n.type==="audio"?r(n,t):u(n,t)}}();var w={ftyp:ii,mdat:er,moof:hr,moov:ri,initSegment:function(n){var i=ii(),r=ri(n),t;return t=new Uint8Array(i.byteLength+r.byteLength),t.set(i),t.set(r,i.byteLength),t}},cf=function(n){return n>>>0},lf={toUnsigned:cf},b=lf.toUnsigned,s,st,au,vu,yu;s=function(n,t){var r=[],i,f,o,u,e;if(!t.length)return null;for(i=0;i<n.byteLength;)f=b(n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3]),o=st(n.subarray(i+4,i+8)),u=f>1?i+f:n.byteLength,o===t[0]&&(t.length===1?r.push(n.subarray(i+8,u)):(e=s(n.subarray(i+8,u),t.slice(1)),e.length&&(r=r.concat(e)))),i=u;return r};st=function(n){var t="";return t+=String.fromCharCode(n[0]),t+=String.fromCharCode(n[1]),t+=String.fromCharCode(n[2]),t+String.fromCharCode(n[3])};au=function(n){var t=s(n,["moov","trak"]);return t.reduce(function(n,t){var r,f,i,e,u;return(r=s(t,["tkhd"])[0],!r)?null:(f=r[0],i=f===0?12:20,e=b(r[i]<<24|r[i+1]<<16|r[i+2]<<8|r[i+3]),u=s(t,["mdia","mdhd"])[0],!u)?null:(f=u[0],i=f===0?12:20,n[e]=b(u[i]<<24|u[i+1]<<16|u[i+2]<<8|u[i+3]),n)},{})};vu=function(n,t){var r,u,i;return r=s(t,["moof","traf"]),u=[].concat.apply([],r.map(function(t){return s(t,["tfhd"]).map(function(i){var u,f,r;return u=b(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),f=n[u]||9e4,r=s(t,["tfdt"]).map(function(n){var i,t;return i=n[0],t=b(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),i===1&&(t*=Math.pow(2,32),t+=b(n[8]<<24|n[9]<<16|n[10]<<8|n[11])),t})[0],r=r||Infinity,r/f})})),i=Math.min.apply(null,u),isFinite(i)?i:0};yu=function(n){var i=s(n,["moov","trak"]),t=[];return i.forEach(function(n){var i=s(n,["mdia","hdlr"]),r=s(n,["tkhd"]);i.forEach(function(n,i){var s=st(n.subarray(8,12)),f=r[i],u,e,o;s==="vide"&&(u=new DataView(f.buffer,f.byteOffset,f.byteLength),e=u.getUint8(0),o=e===0?u.getUint32(12):u.getUint32(20),t.push(o))})}),t};v={findBox:s,parseType:st,timescale:au,startTime:vu,videoTrackIds:yu};tt=function(){this.init=function(){var n={};this.on=function(t,i){n[t]||(n[t]=[]);n[t]=n[t].concat(i)};this.off=function(t,i){var r;return n[t]?(r=n[t].indexOf(i),n[t]=n[t].slice(),n[t].splice(r,1),r>-1):!1};this.trigger=function(t){var r,i,u,f;if(r=n[t],r)if(arguments.length===2)for(u=r.length,i=0;i<u;++i)r[i].call(this,arguments[1]);else{for(f=[],i=arguments.length,i=1;i<arguments.length;++i)f.push(arguments[i]);for(u=r.length,i=0;i<u;++i)r[i].apply(this,f)}};this.dispose=function(){n={}}}};tt.prototype.pipe=function(n){this.on("data",function(t){n.push(t)});this.on("done",function(t){n.flush(t)});return n};tt.prototype.push=function(n){this.trigger("data",n)};tt.prototype.flush=function(n){this.trigger("done",n)};var f=tt,af=function(n){var u,i,t=[],r=[];for(t.byteLength=0,u=0;u<n.length;u++)i=n[u],i.nalUnitType==="access_unit_delimiter_rbsp"?(t.length&&(t.duration=i.dts-t.dts,r.push(t)),t=[i],t.byteLength=i.data.byteLength,t.pts=i.pts,t.dts=i.dts):(i.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(t.keyFrame=!0),t.duration=i.dts-t.dts,t.byteLength+=i.data.byteLength,t.push(i));return r.length&&(!t.duration||t.duration<=0)&&(t.duration=r[r.length-1].duration),r.push(t),r},vf=function(n){var u,r,t=[],i=[];for(t.byteLength=0,t.nalCount=0,t.duration=0,t.pts=n[0].pts,t.dts=n[0].dts,i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=n[0].pts,i.dts=n[0].dts,u=0;u<n.length;u++)r=n[u],r.keyFrame?(t.length&&(i.push(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration),t=[r],t.nalCount=r.length,t.byteLength=r.byteLength,t.pts=r.pts,t.dts=r.dts,t.duration=r.duration):(t.duration+=r.duration,t.nalCount+=r.length,t.byteLength+=r.byteLength,t.push(r));return i.length&&t.duration<=0&&(t.duration=i[i.length-1].duration),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.duration+=t.duration,i.push(t),i},yf=function(n){var t;return!n[0][0].keyFrame&&n.length>1&&(t=n.shift(),n.byteLength-=t.byteLength,n.nalCount-=t.nalCount,n[0][0].dts=t.dts,n[0][0].pts=t.pts,n[0][0].duration+=t.duration),n},pf=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},wf=function(n,t){var i=pf();return i.dataOffset=t,i.compositionTimeOffset=n.pts-n.dts,i.duration=n.duration,i.size=4*n.length,i.size+=n.byteLength,n.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},bf=function(n,t){for(var r,u,f,e,o=t||0,s=[],i=0;i<n.length;i++)for(f=n[i],r=0;r<f.length;r++)e=f[r],u=wf(e,o),o+=u.size,s.push(u);return s},kf=function(n){for(var i,r,e,o,u,f=0,h=n.byteLength,c=n.nalCount,l=h+4*c,s=new Uint8Array(l),a=new DataView(s.buffer),t=0;t<n.length;t++)for(e=n[t],i=0;i<e.length;i++)for(o=e[i],r=0;r<o.length;r++)u=o[r],a.setUint32(f,u.data.byteLength),f+=4,s.set(u.data,f),f+=u.data.byteLength;return s},it={groupNalsIntoFrames:af,groupFramesIntoGops:vf,extendFirstKeyFrame:yf,generateSampleTable:bf,concatenateNalData:kf},y=[33,16,5,32,164,27],ei=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],r=function(n){for(var t=[];n--;)t.push(0);return t},df=function(n){return Object.keys(n).reduce(function(t,i){return t[i]=new Uint8Array(n[i].reduce(function(n,t){return n.concat(t)},[])),t},{})},gf={96e3:[y,[227,64],r(154),[56]],88200:[y,[231],r(170),[56]],64e3:[y,[248,192],r(240),[56]],48e3:[y,[255,192],r(268),[55,148,128],r(54),[112]],44100:[y,[255,192],r(268),[55,163,128],r(84),[112]],32e3:[y,[255,192],r(268),[55,234],r(226),[112]],24e3:[y,[255,192],r(268),[55,255,128],r(268),[111,112],r(126),[224]],16e3:[y,[255,192],r(268),[55,255,128],r(268),[111,255],r(269),[223,108],r(195),[1,192]],12e3:[ei,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,253,128],r(259),[56]],11025:[ei,r(268),[3,127,248],r(268),[6,255,240],r(268),[13,255,224],r(268),[27,255,192],r(268),[55,175,128],r(108),[112]],8e3:[ei,r(268),[3,121,16],r(47),[7]]},ne=df(gf),pu=9e4,oi,si,hi,ci,wu,bu;oi=function(n){return n*pu};si=function(n,t){return n*t};hi=function(n){return n/pu};ci=function(n,t){return n/t};wu=function(n,t){return oi(ci(n,t))};bu=function(n,t){return si(hi(n),t)};var ku={secondsToVideoTs:oi,secondsToAudioTs:si,videoTsToSeconds:hi,audioTsToSeconds:ci,audioTsToVideoTs:wu,videoTsToAudioTs:bu},du=9e4,te=function(n){for(var i,r=0,t=0;t<n.length;t++)i=n[t],r+=i.data.byteLength;return r},ie=function(n,t,i,r){var h,o=0,c=0,u=0,s=0,f,e;if(t.length&&(h=ku.audioTsToVideoTs(n.baseMediaDecodeTime,n.samplerate),o=Math.ceil(du/(n.samplerate/1024)),i&&r&&(c=h-Math.max(i,r),u=Math.floor(c/o),s=u*o),!(u<1)&&!(s>du/2))){for(f=ne[n.samplerate],f||(f=t[0].data),e=0;e<u;e++)t.splice(e,0,{data:f});n.baseMediaDecodeTime-=Math.floor(ku.videoTsToAudioTs(s,n.samplerate))}},re=function(n,t,i){return t.minSegmentDts>=i?n:(t.minSegmentDts=Infinity,n.filter(function(n){return n.dts>=i?(t.minSegmentDts=Math.min(t.minSegmentDts,n.dts),t.minSegmentPts=t.minSegmentDts,!0):!1}))},ue=function(n){for(var i,r=[],t=0;t<n.length;t++)i=n[t],r.push({size:i.data.byteLength,duration:1024});return r},fe=function(n){for(var i,r=0,u=new Uint8Array(te(n)),t=0;t<n.length;t++)i=n[t],u.set(i.data,r),r+=i.data.byteLength;return u},ht={prefixWithSilence:ie,trimAdtsFramesByEarliestDts:re,generateSampleTable:ue,concatenateFrameData:fe},ee=9e4,oe=function(n,t){typeof t.pts=="number"&&(n.timelineStartInfo.pts===undefined&&(n.timelineStartInfo.pts=t.pts),n.minSegmentPts=n.minSegmentPts===undefined?t.pts:Math.min(n.minSegmentPts,t.pts),n.maxSegmentPts=n.maxSegmentPts===undefined?t.pts:Math.max(n.maxSegmentPts,t.pts));typeof t.dts=="number"&&(n.timelineStartInfo.dts===undefined&&(n.timelineStartInfo.dts=t.dts),n.minSegmentDts=n.minSegmentDts===undefined?t.dts:Math.min(n.minSegmentDts,t.dts),n.maxSegmentDts=n.maxSegmentDts===undefined?t.dts:Math.max(n.maxSegmentDts,t.dts))},se=function(n){delete n.minSegmentDts;delete n.maxSegmentDts;delete n.minSegmentPts;delete n.maxSegmentPts},he=function(n,t){var i,r,u=n.minSegmentDts;return t||(u-=n.timelineStartInfo.dts),i=n.timelineStartInfo.baseMediaDecodeTime,i+=u,i=Math.max(0,i),n.type==="audio"&&(r=n.samplerate/ee,i*=r,i=Math.floor(i)),i},l={clearDtsInfo:se,calculateTrackBaseMediaDecodeTime:he,collectDtsInfo:oe},gu=4,ce=128,le=function(n){for(var t=0,r={payloadType:-1,payloadSize:0},u=0,i=0;t<n.byteLength;){if(n[t]===ce)break;while(n[t]===255)u+=255,t++;for(u+=n[t++];n[t]===255;)i+=255,t++;if(i+=n[t++],!r.payload&&u===gu){r.payloadType=u;r.payloadSize=i;r.payload=n.subarray(t,t+i);break}t+=i;u=0;i=0}return r},ae=function(n){return n.payload[0]!==181?null:(n.payload[1]<<8|n.payload[2])!=49?null:String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])!=="GA94"?null:n.payload[7]!==3?null:n.payload.subarray(8,n.payload.length-1)},ve=function(n,t){var u=[],r,e,i,f;if(!(t[0]&64))return u;for(e=t[0]&31,r=0;r<e;r++)i=r*3,f={type:t[i+2]&3,pts:n},t[i+2]&4&&(f.ccData=t[i+3]<<8|t[i+4],u.push(f));return u},ye=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f},rt={parseSei:le,parseUserData:ae,parseCaptionPackets:ve,discardEmulationPreventionBytes:ye,USER_DATA_REGISTERED_ITU_T_T35:gu},a=function a(){a.prototype.init.call(this);this.captionPackets_=[];this.ccStreams_=[new u(0,0),new u(0,1),new u(1,0),new u(1,1)];this.reset();this.ccStreams_.forEach(function(n){n.on("data",this.trigger.bind(this,"data"));n.on("done",this.trigger.bind(this,"done"))},this)};a.prototype=new f;a.prototype.push=function(n){var t,i,r;if(n.nalUnitType==="sei_rbsp"&&(t=rt.parseSei(n.escapedRBSP),t.payloadType===rt.USER_DATA_REGISTERED_ITU_T_T35)&&(i=rt.parseUserData(t),i)){if(n.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}if(n.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}r=rt.parseCaptionPackets(n.pts,i);this.captionPackets_=this.captionPackets_.concat(r);this.latestDts_!==n.dts&&(this.numSameDts_=0);this.numSameDts_++;this.latestDts_=n.dts}};a.prototype.flush=function(){if(!this.captionPackets_.length){this.ccStreams_.forEach(function(n){n.flush()},this);return}this.captionPackets_.forEach(function(n,t){n.presortIndex=t});this.captionPackets_.sort(function(n,t){return n.pts===t.pts?n.presortIndex-t.presortIndex:n.pts-t.pts});this.captionPackets_.forEach(function(n){n.type<2&&this.dispatchCea608Packet(n)},this);this.captionPackets_.length=0;this.ccStreams_.forEach(function(n){n.flush()},this);return};a.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=!1;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach(function(n){n.reset()})};a.prototype.dispatchCea608Packet=function(n){(this.setsChannel1Active(n)?this.activeCea608Channel_[n.type]=0:this.setsChannel2Active(n)&&(this.activeCea608Channel_[n.type]=1),this.activeCea608Channel_[n.type]!==null)&&this.ccStreams_[(n.type<<1)+this.activeCea608Channel_[n.type]].push(n)};a.prototype.setsChannel1Active=function(n){return(n.ccData&30720)==4096};a.prototype.setsChannel2Active=function(n){return(n.ccData&30720)==6144};var pe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ct=function(n){return n===null?"":(n=pe[n]||n,String.fromCharCode(n))},lt=14,we=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],p=function(){for(var n=[],t=lt+1;t--;)n.push("");return n},u=function u(n,t){u.prototype.init.call(this);this.field_=n||0;this.dataChannel_=t||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(n){var t,e,r,i,u,f;if(t=n.ccData&32639,t===this.lastControlCode_){this.lastControlCode_=null;return}((t&61440)==4096?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,i=t&255,t!==this.PADDING_)&&(t===this.RESUME_CAPTION_LOADING_?this.mode_="popOn":t===this.END_OF_CAPTION_?(this.mode_="popOn",this.clearFormatting(n.pts),this.flushDisplayed(n.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=n.pts):t===this.ROLL_UP_2_ROWS_?(this.rollUpRows_=2,this.setRollUp(n.pts)):t===this.ROLL_UP_3_ROWS_?(this.rollUpRows_=3,this.setRollUp(n.pts)):t===this.ROLL_UP_4_ROWS_?(this.rollUpRows_=4,this.setRollUp(n.pts)):t===this.CARRIAGE_RETURN_?(this.clearFormatting(n.pts),this.flushDisplayed(n.pts),this.shiftRowsUp_(),this.startPts_=n.pts):t===this.BACKSPACE_?this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1):t===this.ERASE_DISPLAYED_MEMORY_?(this.flushDisplayed(n.pts),this.displayed_=p()):t===this.ERASE_NON_DISPLAYED_MEMORY_?this.nonDisplayed_=p():t===this.RESUME_DIRECT_CAPTIONING_?(this.mode_!=="paintOn"&&(this.flushDisplayed(n.pts),this.displayed_=p()),this.mode_="paintOn",this.startPts_=n.pts):this.isSpecialCharacter(r,i)?(r=(r&3)<<8,u=ct(r|i),this[this.mode_](n.pts,u),this.column_++):this.isExtCharacter(r,i)?(this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=(r&3)<<8,u=ct(r|i),this[this.mode_](n.pts,u),this.column_++):this.isMidRowCode(r,i)?(this.clearFormatting(n.pts),this[this.mode_](n.pts," "),this.column_++,(i&14)==14&&this.addFormatting(n.pts,["i"]),(i&1)==1&&this.addFormatting(n.pts,["u"])):this.isOffsetControlCode(r,i)?this.column_+=i&3:this.isPAC(r,i)?(f=we.indexOf(t&7968),this.mode_==="rollUp"&&(f-this.rollUpRows_+1<0&&(f=this.rollUpRows_-1),this.setRollUp(n.pts,f)),f!==this.row_&&(this.clearFormatting(n.pts),this.row_=f),i&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(n.pts,["u"]),(t&16)==16&&(this.column_=((t&14)>>1)*4),this.isColorPAC(i)&&(i&14)==14&&this.addFormatting(n.pts,["i"])):this.isNormalChar(r)&&(i===0&&(i=null),u=ct(r),u+=ct(i),this[this.mode_](n.pts,u),this.column_+=u.length))}};u.prototype=new f;u.prototype.flushDisplayed=function(n){var t=this.displayed_.map(function(n){try{return n.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:n,text:t,stream:this.name_})};u.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=p();this.nonDisplayed_=p();this.lastControlCode_=null;this.column_=0;this.row_=lt;this.rollUpRows_=2;this.formatting_=[]};u.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31);this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};u.prototype.isSpecialCharacter=function(n,t){return n===this.EXT_&&t>=48&&t<=63};u.prototype.isExtCharacter=function(n,t){return(n===this.EXT_+1||n===this.EXT_+2)&&t>=32&&t<=63};u.prototype.isMidRowCode=function(n,t){return n===this.EXT_&&t>=32&&t<=47};u.prototype.isOffsetControlCode=function(n,t){return n===this.OFFSET_&&t>=33&&t<=35};u.prototype.isPAC=function(n,t){return n>=this.BASE_&&n<this.BASE_+8&&t>=64&&t<=127};u.prototype.isColorPAC=function(n){return n>=64&&n<=79||n>=96&&n<=127};u.prototype.isNormalChar=function(n){return n>=32&&n<=127};u.prototype.setRollUp=function(n,t){if(this.mode_!=="rollUp"&&(this.row_=lt,this.mode_="rollUp",this.flushDisplayed(n),this.nonDisplayed_=p(),this.displayed_=p()),t!==undefined&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";t===undefined&&(t=this.row_);this.topRow_=t-this.rollUpRows_+1};u.prototype.addFormatting=function(n,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(n,t){return n+"<"+t+">"},"");this[this.mode_](n,i)};u.prototype.clearFormatting=function(n){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(n,t){return n+"<\/"+t+">"},"");this.formatting_=[];this[this.mode_](n,t)}};u.prototype.popOn=function(n,t){var i=this.nonDisplayed_[this.row_];i+=t;this.nonDisplayed_[this.row_]=i};u.prototype.rollUp=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};u.prototype.shiftRowsUp_=function(){for(var n=0;n<this.topRow_;n++)this.displayed_[n]="";for(n=this.row_+1;n<lt+1;n++)this.displayed_[n]="";for(n=this.topRow_;n<this.row_;n++)this.displayed_[n]=this.displayed_[n+1];this.displayed_[this.row_]=""};u.prototype.paintOn=function(n,t){var i=this.displayed_[this.row_];i+=t;this.displayed_[this.row_]=i};var li={CaptionStream:a,Cea608Stream:u},o={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},be=8589934592,ke=4294967296,ai=function(n,t){var i=1;for(n>t&&(i=-1);Math.abs(t-n)>ke;)n+=i*be;return n},vi=function vi(n){var i,t;vi.prototype.init.call(this);this.type_=n;this.push=function(n){n.type===this.type_&&(t===undefined&&(t=n.dts),n.dts=ai(n.dts,t),n.pts=ai(n.pts,t),i=n.dts,this.trigger("data",n))};this.flush=function(){t=i;this.trigger("done")};this.discontinuity=function(){t=void 0;i=void 0}};vi.prototype=new f;var de={TimestampRolloverStream:vi,handleRollover:ai},nf=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},at=function(n,t,i){return decodeURIComponent(nf(n,t,i))},ge=function(n,t,i){return unescape(nf(n,t,i))},vt=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},tf={TXXX:function(n){var t;if(n.data[0]===3){for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=at(n.data,1,t);n.value=at(n.data,t+1,n.data.length).replace(/\0*$/,"");break}n.data=n.value}},WXXX:function(n){var t;if(n.data[0]===3)for(t=1;t<n.data.length;t++)if(n.data[t]===0){n.description=at(n.data,1,t);n.url=at(n.data,t+1,n.data.length);break}},PRIV:function(n){for(var t=0;t<n.data.length;t++)if(n.data[t]===0){n.owner=ge(n.data,0,t);break}n.privateData=n.data.subarray(t+1);n.data=n.privateData}},yt;yt=function(n){var r={debug:!!(n&&n.debug),descriptor:n&&n.descriptor},i=0,t=[],u=0,f;if(yt.prototype.init.call(this),this.dispatchType=o.METADATA_STREAM_TYPE.toString(16),r.descriptor)for(f=0;f<r.descriptor.length;f++)this.dispatchType+=("00"+r.descriptor[f].toString(16)).slice(-2);this.push=function(n){var f,e,c,o,h,a,s,l;if(n.type==="timed-metadata"){if(n.dataAlignmentIndicator&&(u=0,t.length=0),t.length===0&&(n.data.length<10||n.data[0]!=="I".charCodeAt(0)||n.data[1]!=="D".charCodeAt(0)||n.data[2]!=="3".charCodeAt(0))){r.debug&&console.log("Skipping unrecognized metadata packet");return}if(t.push(n),u+=n.data.byteLength,t.length===1&&(i=vt(n.data.subarray(6,10))+10),!(u<i)){for(f={data:new Uint8Array(i),frames:[],pts:t[0].pts,dts:t[0].dts},h=0;h<i;)f.data.set(t[0].data.subarray(0,i-h),h),h+=t[0].data.byteLength,u-=t[0].data.byteLength,t.shift();e=10;f.data[5]&64&&(e+=4,e+=vt(f.data.subarray(10,14)),i-=vt(f.data.subarray(16,20)));do{if(c=vt(f.data.subarray(e+4,e+8)),c<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");a=String.fromCharCode(f.data[e],f.data[e+1],f.data[e+2],f.data[e+3]);o={id:a,data:f.data.subarray(e+10,e+c+10)};o.key=o.id;tf[o.id]&&(tf[o.id](o),o.owner==="com.apple.streaming.transportStreamTimestamp"&&(s=o.data,l=(s[3]&1)<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2,l*=4,l+=s[7]&3,o.timeStamp=l,f.pts===undefined&&f.dts===undefined&&(f.pts=o.timeStamp,f.dts=o.timeStamp),this.trigger("timestamp",o)));f.frames.push(o);e+=10;e+=c}while(e<i);this.trigger("data",f)}}}};yt.prototype=new f;var no=yt,to=de.TimestampRolloverStream,pt,ut,wt,k=188,yi=71;pt=function(){var t=new Uint8Array(k),n=0;pt.prototype.init.call(this);this.push=function(i){var u=0,f=k,r;for(n?(r=new Uint8Array(i.byteLength+n),r.set(t.subarray(0,n)),r.set(i,n),n=0):r=i;f<r.byteLength;){if(r[u]===yi&&r[f]===yi){this.trigger("data",r.subarray(u,f));u+=k;f+=k;continue}u++;f++}u<r.byteLength&&(t.set(r.subarray(u),0),n=r.byteLength-u)};this.flush=function(){n===k&&t[0]===yi&&(this.trigger("data",t),n=0);this.trigger("done")}};pt.prototype=new f;ut=function(){var t,i,r,n;ut.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;t=function(n,t){var u=0;t.payloadUnitStartIndicator&&(u+=n[u]+1);t.type==="pat"?i(n.subarray(u),t):r(n.subarray(u),t)};i=function(t,i){i.section_number=t[7];i.last_section_number=t[8];n.pmtPid=(t[10]&31)<<8|t[11];i.pmtPid=n.pmtPid};r=function(t,i){var e,s,h,r,u,f;if(t[5]&1){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},e=(t[1]&15)<<8|t[2],s=3+e-4,h=(t[10]&15)<<8|t[11],r=12+h;r<s;)u=t[r],f=(t[r+1]&31)<<8|t[r+2],u===o.H264_STREAM_TYPE&&n.programMapTable.video===null?n.programMapTable.video=f:u===o.ADTS_STREAM_TYPE&&n.programMapTable.audio===null?n.programMapTable.audio=f:u===o.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][f]=u),r+=((t[r+3]&15)<<8|t[r+4])+5;i.programMapTable=n.programMapTable}};this.push=function(n){var i={},r=4;if(i.payloadUnitStartIndicator=!!(n[1]&64),i.pid=n[1]&31,i.pid<<=8,i.pid|=n[2],(n[3]&48)>>>4>1&&(r+=n[r]+1),i.pid===0)i.type="pat",t(n.subarray(r),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(n.subarray(r),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===undefined?this.packetsWaitingForPmt.push([n,r,i]):this.processPes_(n,r,i)};this.processPes_=function(n,t,i){i.streamType=i.pid===this.programMapTable.video?o.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?o.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][i.pid];i.type="pes";i.data=n.subarray(t);this.trigger("data",i)}};ut.prototype=new f;ut.STREAM_TYPES={h264:27,adts:15};wt=function(){var t=this,i={data:[],size:0},r={data:[],size:0},u={data:[],size:0},f=function(n,t){var i;t.packetLength=6+(n[4]<<8|n[5]);t.dataAlignmentIndicator=(n[6]&4)!=0;i=n[7];i&192&&(t.pts=(n[9]&14)<<27|(n[10]&255)<<20|(n[11]&254)<<12|(n[12]&255)<<5|(n[13]&254)>>>3,t.pts*=4,t.pts+=(n[13]&6)>>>1,t.dts=t.pts,i&64&&(t.dts=(n[14]&14)<<27|(n[15]&255)<<20|(n[16]&254)<<12|(n[17]&255)<<5|(n[18]&254)>>>3,t.dts*=4,t.dts+=(n[18]&6)>>>1));t.data=n.subarray(9+n[8])},n=function(n,i,r){var h=new Uint8Array(n.size),u={type:i},e=0,c=0,o=!1,s;if(n.data.length&&!(n.size<9)){for(u.trackId=n.data[0].pid,e=0;e<n.data.length;e++)s=n.data[e],h.set(s.data,c),c+=s.data.byteLength;f(h,u);o=i==="video"||u.packetLength<=n.size;(r||o)&&(n.size=0,n.data.length=0);o&&t.trigger("data",u)}};wt.prototype.init.call(this);this.push=function(f){({pat:function(){},pes:function(){var t,e;switch(f.streamType){case o.H264_STREAM_TYPE:case o.H264_STREAM_TYPE:t=i;e="video";break;case o.ADTS_STREAM_TYPE:t=r;e="audio";break;case o.METADATA_STREAM_TYPE:t=u;e="timed-metadata";break;default:return}f.payloadUnitStartIndicator&&n(t,e,!0);t.data.push(f);t.size+=f.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]},n=f.programMapTable;n.video!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"});n.audio!==null&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"});t.trigger("data",i)}})[f.type]()};this.flush=function(){n(i,"video");n(r,"audio");n(u,"timed-metadata");this.trigger("done")}};wt.prototype=new f;pi={PAT_PID:0,MP2T_PACKET_LENGTH:k,TransportPacketStream:pt,TransportParseStream:ut,ElementaryStream:wt,TimestampRolloverStream:to,CaptionStream:li.CaptionStream,Cea608Stream:li.Cea608Stream,MetadataStream:no};for(bt in o)o.hasOwnProperty(bt)&&(pi[bt]=o[bt]);h=pi;wi=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];kt=function(){var n;kt.prototype.init.call(this);this.push=function(t){var i=0,f=0,s,h,r,u,e,o;if(t.type==="audio")for(n?(u=n,n=new Uint8Array(u.byteLength+t.data.byteLength),n.set(u),n.set(t.data,u.byteLength)):n=t.data;i+5<n.length;){if(n[i]!==255||(n[i+1]&246)!=240){i++;continue}if(h=(~n[i+1]&1)*2,s=(n[i+3]&3)<<11|n[i+4]<<3|(n[i+5]&224)>>5,e=((n[i+6]&3)+1)*1024,o=e*9e4/wi[(n[i+2]&60)>>>2],r=i+s,n.byteLength<r)return;if(this.trigger("data",{pts:t.pts+f*o,dts:t.dts+f*o,sampleCount:e,audioobjecttype:(n[i+2]>>>6&3)+1,channelcount:(n[i+2]&1)<<2|(n[i+3]&192)>>>6,samplerate:wi[(n[i+2]&60)>>>2],samplingfrequencyindex:(n[i+2]&60)>>>2,samplesize:16,data:n.subarray(i+7+h,r)}),n.byteLength===r){n=undefined;return}f++;n=n.subarray(r)}};this.flush=function(){this.trigger("done")}};kt.prototype=new f;bi=kt;rf=function(n){var i=n.byteLength,r=0,t=0;this.length=function(){return 8*i};this.bitsAvailable=function(){return 8*i+t};this.loadWord=function(){var f=n.byteLength-i,e=new Uint8Array(4),u=Math.min(4,i);if(u===0)throw new Error("no bytes available");e.set(n.subarray(f,f+u));r=new DataView(e.buffer).getUint32(0);t=u*8;i-=u};this.skipBits=function(n){var u;t>n?(r<<=n,t-=n):(n-=t,u=Math.floor(n/8),n-=u*8,i-=u,this.loadWord(),r<<=n,t-=n)};this.readBits=function(n){var u=Math.min(t,n),f=r>>>32-u;return(t-=u,t>0?r<<=u:i>0&&this.loadWord(),u=n-u,u>0)?f<<u|this.readBits(u):f};this.skipLeadingZeros=function(){for(var n=0;n<t;++n)if((r&2147483648>>>n)!=0)return r<<=n,t-=n,n;return this.loadWord(),n+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var n=this.skipLeadingZeros();return this.readBits(n+1)-1};this.readExpGolomb=function(){var n=this.readUnsignedExpGolomb();return 1&n?1+n>>>1:-1*(n>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};uf=rf;ft=function(){var i=0,t,n;ft.prototype.init.call(this);this.push=function(r){var u;for(n?(u=new Uint8Array(n.byteLength+r.data.byteLength),u.set(n),u.set(r.data,n.byteLength),n=u):n=r.data;i<n.byteLength-3;i++)if(n[i+2]===1){t=i+5;break}while(t<n.byteLength)switch(n[t]){case 0:if(n[t-1]!==0){t+=2;break}else if(n[t-2]!==0){t++;break}i+3!==t-2&&this.trigger("data",n.subarray(i+3,t-2));do t++;while(n[t]!==1&&t<n.length);i=t-2;t+=3;break;case 1:if(n[t-1]!==0||n[t-2]!==0){t+=3;break}this.trigger("data",n.subarray(i+3,t-2));i=t-2;t+=3;break;default:t+=3}n=n.subarray(i);t-=i;i=0};this.flush=function(){n&&n.byteLength>3&&this.trigger("data",n.subarray(i+3));n=null;i=0;this.trigger("done")}};ft.prototype=new f;ff={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0};dt=function(){var n=new ft,t,u,f,e,i,o,r;dt.prototype.init.call(this);t=this;this.push=function(t){t.type==="video"&&(u=t.trackId,f=t.pts,e=t.dts,n.push(t))};n.on("data",function(n){var r={trackId:u,pts:f,dts:e,data:n};switch(n[0]&31){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp";r.escapedRBSP=i(n.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp";r.escapedRBSP=i(n.subarray(1));r.config=o(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",r)});n.on("done",function(){t.trigger("done")});this.flush=function(){n.flush()};r=function(n,t){for(var r=8,i=8,f,u=0;u<n;u++)i!==0&&(f=t.readExpGolomb(),i=(r+f+256)%256),r=i===0?r:i};i=function(n){for(var e=n.byteLength,i=[],t=1,u,f,r;t<e-2;)n[t]===0&&n[t+1]===0&&n[t+2]===3?(i.push(t+2),t+=2):t++;if(i.length===0)return n;for(u=e-i.length,f=new Uint8Array(u),r=0,t=0;t<u;r++,t++)r===i[0]&&(r++,i.shift()),f[t]=n[r];return f};o=function(n){var h=0,c=0,l=0,a=0,v=1,t,f,y,p,e,o,w,b,k,s,d,i,g,u;if(t=new uf(n),f=t.readUnsignedByte(),p=t.readUnsignedByte(),y=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),ff[f]&&(e=t.readUnsignedExpGolomb(),e===3&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(d=e!==3?8:12,u=0;u<d;u++)t.readBoolean()&&(u<6?r(16,t):r(64,t));if(t.skipUnsignedExpGolomb(),o=t.readUnsignedExpGolomb(),o===0)t.readUnsignedExpGolomb();else if(o===1)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),w=t.readUnsignedExpGolomb(),u=0;u<w;u++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),b=t.readUnsignedExpGolomb(),k=t.readUnsignedExpGolomb(),s=t.readBits(1),s===0&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(h=t.readUnsignedExpGolomb(),c=t.readUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),a=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){g=t.readUnsignedByte();switch(g){case 1:i=[1,1];break;case 2:i=[12,11];break;case 3:i=[10,11];break;case 4:i=[16,11];break;case 5:i=[40,33];break;case 6:i=[24,11];break;case 7:i=[20,11];break;case 8:i=[32,11];break;case 9:i=[80,33];break;case 10:i=[18,11];break;case 11:i=[15,11];break;case 12:i=[64,33];break;case 13:i=[160,99];break;case 14:i=[4,3];break;case 15:i=[3,2];break;case 16:i=[2,1];break;case 255:i=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}i&&(v=i[0]/i[1])}return{profileIdc:f,levelIdc:y,profileCompatibility:p,width:Math.ceil(((b+1)*16-h*2-c*2)*v),height:(2-s)*(k+1)*16-l*2-a*2}}};dt.prototype=new f;var io={H264Stream:dt,NalByteStream:ft},ro=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],uo=function(n){return n[0]==="I".charCodeAt(0)&&n[1]==="D".charCodeAt(0)&&n[2]==="3".charCodeAt(0)?!0:!1},ef=function(n){return n[0]<<21|n[1]<<14|n[2]<<7|n[3]},fo=function(n,t,i){for(var u="",r=t;r<i;r++)u+="%"+("00"+n[r].toString(16)).slice(-2);return u},eo=function(n,t,i){return unescape(fo(n,t,i))},oo=function(n,t){var i=n[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9],r=n[t+5],u=(r&16)>>4;return u?i+20:i+10},so=function(n,t){var i=(n[t+5]&224)>>5,r=n[t+4]<<3,u=n[t+3]&6144;return u|r|i},ho=function(n,t){return n[t]==="I".charCodeAt(0)&&n[t+1]==="D".charCodeAt(0)&&n[t+2]==="3".charCodeAt(0)?"timed-metadata":n[t]&!0&&(n[t+1]&240)==240?"audio":null},co=function(n){for(var t=0;t+5<n.length;){if(n[t]!==255||(n[t+1]&246)!=240){t++;continue}return ro[(n[t+2]&60)>>>2]}return null},lo=function(n){var t,f,u,o,r,s,i,e;t=10;n[5]&64&&(t+=4,t+=ef(n.subarray(10,14)));do{if(f=ef(n.subarray(t+4,t+8)),f<1)return null;if(o=String.fromCharCode(n[t],n[t+1],n[t+2],n[t+3]),o==="PRIV")for(u=n.subarray(t+10,t+f+10),r=0;r<u.byteLength;r++)if(u[r]===0){if(s=eo(u,0,r),s==="com.apple.streaming.transportStreamTimestamp")return i=u.subarray(r+1),e=(i[3]&1)<<30|i[4]<<22|i[5]<<14|i[6]<<6|i[7]>>>2,e*=4,e+(i[7]&3);break}t+=10;t+=f}while(t<n.byteLength);return null},ki={isLikelyAacData:uo,parseId3TagSize:oo,parseAdtsSize:so,parseType:ho,parseSampleRate:co,parseAacTimestamp:lo},gt;gt=function(){var n=new Uint8Array,t=0;gt.prototype.init.call(this);this.setTimestamp=function(n){t=n};this.push=function(i){var u=0,r=0,e,o,s,f;for(n.length?(f=n.length,n=new Uint8Array(i.byteLength+f),n.set(n.subarray(0,f)),n.set(i,f)):n=i;n.length-r>=3;){if(n[r]==="I".charCodeAt(0)&&n[r+1]==="D".charCodeAt(0)&&n[r+2]==="3".charCodeAt(0)){if(n.length-r<10)break;if(u=ki.parseId3TagSize(n,r),r+u>n.length)break;o={type:"timed-metadata",data:n.subarray(r,r+u)};this.trigger("data",o);r+=u;continue}else if((n[r]&255)==255&&(n[r+1]&240)==240){if(n.length-r<7)break;if(u=ki.parseAdtsSize(n,r),r+u>n.length)break;s={type:"audio",data:n.subarray(r,r+u),pts:t,dts:t};this.trigger("data",s);r+=u;continue}r++}e=n.length-r;n=e>0?n.subarray(r):new Uint8Array}};gt.prototype=new f;var ao=gt,vo=io.H264Stream,yo=ki.isLikelyAacData,di=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],gi=["width","height","profileIdc","levelIdc","profileCompatibility"],et,d,ni,g,of=function(n,t){var i;if(n.length!==t.length)return!1;for(i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0};d=function(n,t){var i=[],r=0,u=0,f=0,e=Infinity;t=t||{};d.prototype.init.call(this);this.push=function(t){l.collectDtsInfo(n,t);n&&di.forEach(function(i){n[i]=t[i]});i.push(t)};this.setEarliestDts=function(t){u=t-n.timelineStartInfo.baseMediaDecodeTime};this.setVideoBaseMediaDecodeTime=function(n){e=n};this.setAudioAppendStart=function(n){f=n};this.flush=function(){var o,s,c,h;if(i.length===0){this.trigger("done","AudioSegmentStream");return}o=ht.trimAdtsFramesByEarliestDts(i,n,u);n.baseMediaDecodeTime=l.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);ht.prefixWithSilence(n,o,f,e);n.samples=ht.generateSampleTable(o);c=w.mdat(ht.concatenateFrameData(o));i=[];s=w.moof(r,[n]);h=new Uint8Array(s.byteLength+c.byteLength);r++;h.set(s);h.set(c,s.byteLength);l.clearDtsInfo(n);this.trigger("data",{track:n,boxes:h});this.trigger("done","AudioSegmentStream")}};d.prototype=new f;et=function(n,t){var e=0,i=[],r=[],u,f;t=t||{};et.prototype.init.call(this);delete n.minPTS;this.gopCache_=[];this.push=function(t){l.collectDtsInfo(n,t);t.nalUnitType!=="seq_parameter_set_rbsp"||u||(u=t.config,n.sps=[t.data],gi.forEach(function(t){n[t]=u[t]},this));t.nalUnitType!=="pic_parameter_set_rbsp"||f||(f=t.data,n.pps=[t.data]);i.push(t)};this.flush=function(){for(var a,f,u,o,h,s,c;i.length;){if(i[0].nalUnitType==="access_unit_delimiter_rbsp")break;i.shift()}if(i.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}if(a=it.groupNalsIntoFrames(i),u=it.groupFramesIntoGops(a),u[0][0].keyFrame||(f=this.getGopForFusion_(i[0],n),f?(u.unshift(f),u.byteLength+=f.byteLength,u.nalCount+=f.nalCount,u.pts=f.pts,u.dts=f.dts,u.duration+=f.duration):u=it.extendFirstKeyFrame(u)),r.length){if(c=t.alignGopsAtEnd?this.alignGopsAtEnd_(u):this.alignGopsAtStart_(u),!c){this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}l.clearDtsInfo(n);u=c}l.collectDtsInfo(n,u);n.samples=it.generateSampleTable(u);h=w.mdat(it.concatenateNalData(u));n.baseMediaDecodeTime=l.calculateTrackBaseMediaDecodeTime(n,t.keepOriginalTimestamps);this.trigger("processedGopsInfo",u.map(function(n){return{pts:n.pts,dts:n.dts,byteLength:n.byteLength}}));this.gopCache_.unshift({gop:u.pop(),pps:n.pps,sps:n.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);i=[];this.trigger("baseMediaDecodeTime",n.baseMediaDecodeTime);this.trigger("timelineStartInfo",n.timelineStartInfo);o=w.moof(e,[n]);s=new Uint8Array(o.byteLength+h.byteLength);e++;s.set(o);s.set(h,o.byteLength);this.trigger("data",{track:n,boxes:s});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.resetStream_=function(){l.clearDtsInfo(n);u=undefined;f=undefined};this.getGopForFusion_=function(t){for(var o=Infinity,i,u,f,r,e=0;e<this.gopCache_.length;e++)(r=this.gopCache_[e],f=r.gop,n.pps&&of(n.pps[0],r.pps[0])&&n.sps&&of(n.sps[0],r.sps[0]))&&(f.dts<n.timelineStartInfo.dts||(i=t.dts-f.dts-f.duration,i>=-1e4&&i<=45e3&&(!u||o>i)&&(u=r,o=i)));return u?u.gop:null};this.alignGopsAtStart_=function(n){var f,i,e,u,o,s,h,t;for(o=n.byteLength,s=n.nalCount,h=n.duration,f=i=0;f<r.length&&i<n.length;){if(e=r[f],u=n[i],e.pts===u.pts)break;if(u.pts>e.pts){f++;continue}i++;o-=u.byteLength;s-=u.nalCount;h-=u.duration}return i===0?n:i===n.length?null:(t=n.slice(i),t.byteLength=o,t.duration=h,t.nalCount=s,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsAtEnd_=function(n){var u,i,s,h,f,e,c,t,o;for(u=r.length-1,i=n.length-1,f=null,e=!1;u>=0&&i>=0;){if(s=r[u],h=n[i],s.pts===h.pts){e=!0;break}if(s.pts>h.pts){u--;continue}u===r.length-1&&(f=i);i--}return!e&&f===null?null:(c=e?i:f,c===0)?n:(t=n.slice(c),o=t.reduce(function(n,t){return n.byteLength+=t.byteLength,n.duration+=t.duration,n.nalCount+=t.nalCount,n},{byteLength:0,duration:0,nalCount:0}),t.byteLength=o.byteLength,t.duration=o.duration,t.nalCount=o.nalCount,t.pts=t[0].pts,t.dts=t[0].dts,t)};this.alignGopsWith=function(n){r=n}};et.prototype=new f;g=function(n,t){this.numberOfTracks=0;this.metadataStream=t;n=n||{};this.remuxTracks=typeof n.remux!="undefined"?!!n.remux:!0;typeof n.keepOriginalTimestamps=="boolean"&&(this.keepOriginalTimestamps=n.keepOriginalTimestamps);this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;g.prototype.init.call(this);this.push=function(n){if(n.text)return this.pendingCaptions.push(n);if(n.frames)return this.pendingMetadata.push(n);this.pendingTracks.push(n.track);this.pendingBoxes.push(n.boxes);this.pendingBytes+=n.boxes.byteLength;n.track.type==="video"&&(this.videoTrack=n.track);n.track.type==="audio"&&(this.audioTrack=n.track)}};g.prototype=new f;g.prototype.flush=function(n){var o=0,i={captions:[],captionStreams:{},metadata:[],info:{}},r,u,e,f=0,t;if(this.pendingTracks.length<this.numberOfTracks){if(n!=="VideoSegmentStream"&&n!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++;this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}for(this.videoTrack?(f=this.videoTrack.timelineStartInfo.pts,gi.forEach(function(n){i.info[n]=this.videoTrack[n]},this)):this.audioTrack&&(f=this.audioTrack.timelineStartInfo.pts,di.forEach(function(n){i.info[n]=this.audioTrack[n]},this)),i.type=this.pendingTracks.length===1?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,e=w.initSegment(this.pendingTracks),i.initSegment=new Uint8Array(e.byteLength),i.initSegment.set(e),i.data=new Uint8Array(this.pendingBytes),t=0;t<this.pendingBoxes.length;t++)i.data.set(this.pendingBoxes[t],o),o+=this.pendingBoxes[t].byteLength;for(t=0;t<this.pendingCaptions.length;t++)r=this.pendingCaptions[t],r.startTime=r.startPts,this.keepOriginalTimestamps||(r.startTime-=f),r.startTime/=9e4,r.endTime=r.endPts,this.keepOriginalTimestamps||(r.endTime-=f),r.endTime/=9e4,i.captionStreams[r.stream]=!0,i.captions.push(r);for(t=0;t<this.pendingMetadata.length;t++)u=this.pendingMetadata[t],u.cueTime=u.pts,this.keepOriginalTimestamps||(u.cueTime-=f),u.cueTime/=9e4,i.metadata.push(u);i.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",i);this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)};ni=function(n){var r=this,u=!0,i,t;ni.prototype.init.call(this);n=n||{};this.baseMediaDecodeTime=n.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i;i.type="aac";i.metadataStream=new h.MetadataStream;i.aacStream=new ao;i.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");i.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");i.adtsStream=new bi;i.coalesceStream=new g(n,i.metadataStream);i.headOfPipeline=i.aacStream;i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream);i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream);i.metadataStream.on("timestamp",function(n){i.aacStream.setTimestamp(n.timeStamp)});i.aacStream.on("data",function(u){u.type!=="timed-metadata"||i.audioSegmentStream||(t=t||{timelineStartInfo:{baseMediaDecodeTime:r.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new d(t,n),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))});i.coalesceStream.on("data",this.trigger.bind(this,"data"));i.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setupTsPipeline=function(){var u={};this.transmuxPipeline_=u;u.type="ts";u.metadataStream=new h.MetadataStream;u.packetStream=new h.TransportPacketStream;u.parseStream=new h.TransportParseStream;u.elementaryStream=new h.ElementaryStream;u.videoTimestampRolloverStream=new h.TimestampRolloverStream("video");u.audioTimestampRolloverStream=new h.TimestampRolloverStream("audio");u.timedMetadataTimestampRolloverStream=new h.TimestampRolloverStream("timed-metadata");u.adtsStream=new bi;u.h264Stream=new vo;u.captionStream=new h.CaptionStream;u.coalesceStream=new g(n,u.metadataStream);u.headOfPipeline=u.packetStream;u.packetStream.pipe(u.parseStream).pipe(u.elementaryStream);u.elementaryStream.pipe(u.videoTimestampRolloverStream).pipe(u.h264Stream);u.elementaryStream.pipe(u.audioTimestampRolloverStream).pipe(u.adtsStream);u.elementaryStream.pipe(u.timedMetadataTimestampRolloverStream).pipe(u.metadataStream).pipe(u.coalesceStream);u.h264Stream.pipe(u.captionStream).pipe(u.coalesceStream);u.elementaryStream.on("data",function(f){var e;if(f.type==="metadata"){for(e=f.tracks.length;e--;)i||f.tracks[e].type!=="video"?t||f.tracks[e].type!=="audio"||(t=f.tracks[e],t.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime):(i=f.tracks[e],i.timelineStartInfo.baseMediaDecodeTime=r.baseMediaDecodeTime);if(i&&!u.videoSegmentStream){u.coalesceStream.numberOfTracks++;u.videoSegmentStream=new et(i,n);u.videoSegmentStream.on("timelineStartInfo",function(n){t&&(t.timelineStartInfo=n,u.audioSegmentStream.setEarliestDts(n.dts))});u.videoSegmentStream.on("processedGopsInfo",r.trigger.bind(r,"gopInfo"));u.videoSegmentStream.on("baseMediaDecodeTime",function(n){t&&u.audioSegmentStream.setVideoBaseMediaDecodeTime(n)});u.h264Stream.pipe(u.videoSegmentStream).pipe(u.coalesceStream)}t&&!u.audioSegmentStream&&(u.coalesceStream.numberOfTracks++,u.audioSegmentStream=new d(t,n),u.adtsStream.pipe(u.audioSegmentStream).pipe(u.coalesceStream))}});u.coalesceStream.on("data",this.trigger.bind(this,"data"));u.coalesceStream.on("done",this.trigger.bind(this,"done"))};this.setBaseMediaDecodeTime=function(r){var u=this.transmuxPipeline_;n.keepOriginalTimestamps||(this.baseMediaDecodeTime=r);t&&(t.timelineStartInfo.dts=undefined,t.timelineStartInfo.pts=undefined,l.clearDtsInfo(t),n.keepOriginalTimestamps||(t.timelineStartInfo.baseMediaDecodeTime=r),u.audioTimestampRolloverStream&&u.audioTimestampRolloverStream.discontinuity());i&&(u.videoSegmentStream&&(u.videoSegmentStream.gopCache_=[],u.videoTimestampRolloverStream.discontinuity()),i.timelineStartInfo.dts=undefined,i.timelineStartInfo.pts=undefined,l.clearDtsInfo(i),u.captionStream.reset(),n.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=r));u.timedMetadataTimestampRolloverStream&&u.timedMetadataTimestampRolloverStream.discontinuity()};this.setAudioAppendStart=function(n){t&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(n)};this.alignGopsWith=function(n){i&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(n)};this.push=function(n){if(u){var t=yo(n);t&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():t||this.transmuxPipeline_.type==="ts"||this.setupTsPipeline();u=!1}this.transmuxPipeline_.headOfPipeline.push(n)};this.flush=function(){u=!0;this.transmuxPipeline_.headOfPipeline.flush()};this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}};ni.prototype=new f;var nr={Transmuxer:ni,VideoSegmentStream:et,AudioSegmentStream:d,AUDIO_PROPERTIES:di,VIDEO_PROPERTIES:gi},e,tr,ti=v.parseType,c=function(n){return new Date(n*1e3-20828448e5)},sf=function(n){return{isLeading:(n[0]&12)>>>2,dependsOn:n[0]&3,isDependedOn:(n[1]&192)>>>6,hasRedundancy:(n[1]&48)>>>4,paddingValue:(n[1]&14)>>>1,isNonSyncSample:n[1]&1,degradationPriority:n[2]<<8|n[3]}},po=function(n){for(var u=new DataView(n.buffer,n.byteOffset,n.byteLength),t=[],r,i=0;i+4<n.length;i+=r){if(r=u.getUint32(i),i+=4,r<=0){t.push("<span style='color:red;'>MALFORMED DATA<\/span>");continue}switch(n[i]&31){case 1:t.push("slice_layer_without_partitioning_rbsp");break;case 5:t.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:t.push("sei_rbsp");break;case 7:t.push("seq_parameter_set_rbsp");break;case 8:t.push("pic_parameter_set_rbsp");break;case 9:t.push("access_unit_delimiter_rbsp");break;default:t.push("UNKNOWN NAL - "+n[i]&31)}}return t},nt={avc1:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:e(n.subarray(78,n.byteLength))}},avcC:function(n){for(var f=new DataView(n.buffer,n.byteOffset,n.byteLength),u={configurationVersion:n[0],avcProfileIndication:n[1],profileCompatibility:n[2],avcLevelIndication:n[3],lengthSizeMinusOne:n[4]&3,sps:[],pps:[]},o=n[5]&31,e,i,t=6,r=0;r<o;r++)i=f.getUint16(t),t+=2,u.sps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;for(e=n[t],t++,r=0;r<e;r++)i=f.getUint16(t),t+=2,u.pps.push(new Uint8Array(n.subarray(t,t+i))),t+=i;return u},btrt:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),esId:n[6]<<8|n[7],streamPriority:n[8]&31,decoderConfig:{objectProfileIndication:n[11],streamType:n[12]>>>2&63,bufferSize:n[13]<<16|n[14]<<8|n[15],maxBitrate:n[16]<<24|n[17]<<16|n[18]<<8|n[19],avgBitrate:n[20]<<24|n[21]<<16|n[22]<<8|n[23],decoderConfigDescriptor:{tag:n[24],length:n[25],audioObjectType:n[26]>>>3&31,samplingFrequencyIndex:(n[26]&7)<<1|n[27]>>>7&1,channelConfiguration:n[27]>>>3&15}}}},ftyp:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={majorBrand:ti(n.subarray(0,4)),minorVersion:r.getUint32(4),compatibleBrands:[]},t=8;t<n.byteLength;)i.compatibleBrands.push(ti(n.subarray(t,t+4))),t+=4;return i},dinf:function(n){return{boxes:e(n)}},dref:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),dataReferences:e(n.subarray(8))}},hdlr:function(n){for(var r=new DataView(n.buffer,n.byteOffset,n.byteLength),i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),handlerType:ti(n.subarray(8,12)),name:""},t=8,t=24;t<n.byteLength;t++){if(n[t]===0){t++;break}i.name+=String.fromCharCode(n[t])}return i.name=decodeURIComponent(escape(i.name)),i},mdat:function(n){return{byteLength:n.byteLength,nals:po(n)}},mdhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,u,i={version:r.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),language:""};return i.version===1?(t+=4,i.creationTime=c(r.getUint32(t)),t+=8,i.modificationTime=c(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=8,i.duration=r.getUint32(t)):(i.creationTime=c(r.getUint32(t)),t+=4,i.modificationTime=c(r.getUint32(t)),t+=4,i.timescale=r.getUint32(t),t+=4,i.duration=r.getUint32(t)),t+=4,u=r.getUint16(t),i.language+=String.fromCharCode((u>>10)+96),i.language+=String.fromCharCode(((u&992)>>5)+96),i.language+=String.fromCharCode((u&31)+96),i},mdia:function(n){return{boxes:e(n)}},mfhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sequenceNumber:n[4]<<24|n[5]<<16|n[6]<<8|n[7]}},minf:function(n){return{boxes:e(n)}},mp4a:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength),i={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return n.byteLength>28&&(i.streamDescriptor=e(n.subarray(28))[0]),i},moof:function(n){return{boxes:e(n)}},moov:function(n){return{boxes:e(n)}},mvex:function(n){return{boxes:e(n)}},mvhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=c(i.getUint32(t)),t+=8,r.modificationTime=c(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=8,r.duration=i.getUint32(t)):(r.creationTime=c(i.getUint32(t)),t+=4,r.modificationTime=c(i.getUint32(t)),t+=4,r.timescale=i.getUint32(t),t+=4,r.duration=i.getUint32(t)),t+=4,r.rate=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,t+=8,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,t+=24,r.nextTrackId=i.getUint32(t),r},pdin:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(n.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(n){for(var i={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},t=4;t<n.byteLength;t++)i.samples.push({dependsOn:(n[t]&48)>>4,isDependedOn:(n[t]&12)>>2,hasRedundancy:n[t]&3});return i},sidx:function(n){for(var t=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8),earliestPresentationTime:t.getUint32(12),firstOffset:t.getUint32(16)},u=t.getUint16(22),i=24;u;i+=12,u--)r.references.push({referenceType:(n[i]&128)>>>7,referencedSize:t.getUint32(i)&2147483647,subsegmentDuration:t.getUint32(i+4),startsWithSap:!!(n[i+8]&128),sapType:(n[i+8]&112)>>>4,sapDeltaTime:t.getUint32(i+8)&268435455});return r},smhd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),balance:n[4]+n[5]/256}},stbl:function(n){return{boxes:e(n)}},stco:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),chunkOffsets:[]},u=i.getUint32(4),t=8;u;t+=4,u--)r.chunkOffsets.push(i.getUint32(t));return r},stsc:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r=i.getUint32(4),u={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleToChunks:[]},t=8;r;t+=12,r--)u.sampleToChunks.push({firstChunk:i.getUint32(t),samplesPerChunk:i.getUint32(t+4),sampleDescriptionIndex:i.getUint32(t+8)});return u},stsd:function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleDescriptions:e(n.subarray(8))}},stsz:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]},t=12;t<n.byteLength;t+=4)r.entries.push(i.getUint32(t));return r},stts:function(n){for(var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),timeToSamples:[]},u=i.getUint32(4),t=8;u;t+=8,u--)r.timeToSamples.push({sampleCount:i.getUint32(t),sampleDelta:i.getUint32(t+4)});return r},styp:function(n){return nt.ftyp(n)},tfdt:function(n){var t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),baseMediaDecodeTime:n[4]<<24|n[5]<<16|n[6]<<8|n[7]};return t.version===1&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=n[8]<<24|n[9]<<16|n[10]<<8|n[11]),t},tfhd:function(n){var r=new DataView(n.buffer,n.byteOffset,n.byteLength),t={version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:r.getUint32(4)},u=t.flags[2]&1,f=t.flags[2]&2,e=t.flags[2]&8,o=t.flags[2]&16,s=t.flags[2]&32,h=t.flags[0]&65536,c=t.flags[0]&131072,i;return i=8,u&&(i+=4,t.baseDataOffset=r.getUint32(12),i+=4),f&&(t.sampleDescriptionIndex=r.getUint32(i),i+=4),e&&(t.defaultSampleDuration=r.getUint32(i),i+=4),o&&(t.defaultSampleSize=r.getUint32(i),i+=4),s&&(t.defaultSampleFlags=r.getUint32(i)),h&&(t.durationIsEmpty=!0),!u&&c&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),t=4,r={version:i.getUint8(0),flags:new Uint8Array(n.subarray(1,4))};return r.version===1?(t+=4,r.creationTime=c(i.getUint32(t)),t+=8,r.modificationTime=c(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=8,r.duration=i.getUint32(t)):(r.creationTime=c(i.getUint32(t)),t+=4,r.modificationTime=c(i.getUint32(t)),t+=4,r.trackId=i.getUint32(t),t+=4,t+=4,r.duration=i.getUint32(t)),t+=4,t+=8,r.layer=i.getUint16(t),t+=2,r.alternateGroup=i.getUint16(t),t+=2,r.volume=i.getUint8(t)+i.getUint8(t+1)/8,t+=2,t+=2,r.matrix=new Uint32Array(n.subarray(t,t+36)),t+=36,r.width=i.getUint16(t)+i.getUint16(t+2)/16,t+=4,r.height=i.getUint16(t)+i.getUint16(t+2)/16,r},traf:function(n){return{boxes:e(n)}},trak:function(n){return{boxes:e(n)}},trex:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:n[20]&3,sampleIsDependedOn:(n[21]&192)>>6,sampleHasRedundancy:(n[21]&48)>>4,samplePaddingValue:(n[21]&14)>>1,sampleIsDifferenceSample:!!(n[21]&1),sampleDegradationPriority:t.getUint16(22)}},trun:function(n){var r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),samples:[]},u=new DataView(n.buffer,n.byteOffset,n.byteLength),h=r.flags[2]&1,c=r.flags[2]&4,e=r.flags[1]&1,o=r.flags[1]&2,l=r.flags[1]&4,s=r.flags[1]&8,f=u.getUint32(4),t=8,i;for(h&&(r.dataOffset=u.getInt32(t),t+=4),c&&f&&(i={flags:sf(n.subarray(t,t+4))},t+=4,e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i),f--);f--;)i={},e&&(i.duration=u.getUint32(t),t+=4),o&&(i.size=u.getUint32(t),t+=4),l&&(i.flags=sf(n.subarray(t,t+4)),t+=4),s&&(i.compositionTimeOffset=u.getUint32(t),t+=4),r.samples.push(i);return r},"url ":function(n){return{version:n[0],flags:new Uint8Array(n.subarray(1,4))}},vmhd:function(n){var t=new DataView(n.buffer,n.byteOffset,n.byteLength);return{version:n[0],flags:new Uint8Array(n.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};e=function(n){for(var t=0,o=[],s,i,f,e,r,h=new ArrayBuffer(n.length),c=new Uint8Array(h),u=0;u<n.length;++u)c[u]=n[u];for(s=new DataView(h);t<n.byteLength;)i=s.getUint32(t),f=ti(n.subarray(t+4,t+8)),e=i>1?t+i:n.byteLength,r=(nt[f]||function(n){return{data:n}})(n.subarray(t+8,e)),r.size=i,r.type=f,o.push(r),t=e;return o};tr=function(n,t){var i;return t=t||0,i=new Array(t*2+1).join(" "),n.map(function(n){return i+n.type+"\n"+Object.keys(n).filter(function(n){return n!=="type"&&n!=="boxes"}).map(function(t){var f=i+"  "+t+": ",r=n[t],u;return r instanceof Uint8Array||r instanceof Uint32Array?(u=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map(function(n){return" "+("00"+n.toString(16)).slice(-2)}).join("").match(/.{1,24}/g),!u)?f+"<>":u.length===1?f+"<"+u.join("").slice(1)+">":f+"<\n"+u.map(function(n){return i+"  "+n}).join("\n")+"\n"+i+"  >":f+JSON.stringify(r,null,2).split("\n").map(function(n,t){return t===0?n:i+"  "+n}).join("\n")}).join("\n")+(n.boxes?"\n"+tr(n.boxes,t+1):"")}).join("\n")};var ir={inspect:e,textify:tr,parseTfdt:nt.tfdt,parseHdlr:nt.hdlr,parseTfhd:nt.tfhd,parseTrun:nt.trun},wo=rt.discardEmulationPreventionBytes,bo=li.CaptionStream,ko=function(n,t){for(var i,u=n,r=0;r<t.length;r++){if(i=t[r],u<i.size)return i;u-=i.size}return null},go=function(n,t,i){for(var c=new DataView(n.buffer,n.byteOffset,n.byteLength),h=[],u,f,o,s,e,r=0;r+4<n.length;r+=f)if(f=c.getUint32(r),r+=4,!(f<=0))switch(n[r]&31){case 6:s=n.subarray(r+1,r+1+f);e=ko(r,t);u={nalUnitType:"sei_rbsp",size:f,data:s,escapedRBSP:wo(s),trackId:i};e?(u.pts=e.pts,u.dts=e.dts,o=e):(u.pts=o.pts,u.dts=o.dts);h.push(u)}return h},ns=function(n,t,i){var r=t,f=i.defaultSampleDuration||0,e=i.defaultSampleSize||0,o=i.trackId,u=[];return n.forEach(function(n){var i=ir.parseTrun(n),t=i.samples;t.forEach(function(n){n.duration===undefined&&(n.duration=f);n.size===undefined&&(n.size=e);n.trackId=o;n.dts=r;n.compositionTimeOffset===undefined&&(n.compositionTimeOffset=0);n.pts=r+n.compositionTimeOffset;r+=n.duration});u=u.concat(t)}),u},ts=function(n,t){var u=v.findBox(n,["moof","traf"]),f=v.findBox(n,["mdat"]),i={},r=[];return f.forEach(function(n,t){var i=u[t];r.push({mdat:n,traf:i})}),r.forEach(function(n){var c=n.mdat,u=n.traf,l=v.findBox(u,["tfhd"]),f=ir.parseTfhd(l[0]),r=f.trackId,e=v.findBox(u,["tfdt"]),a=e.length>0?ir.parseTfdt(e[0]).baseMediaDecodeTime:0,o=v.findBox(u,["trun"]),s,h;t===r&&o.length>0&&(s=ns(o,a,f),h=go(c,s,r),i[r]||(i[r]=[]),i[r]=i[r].concat(h))}),i},is=function(n,t,i){var r;return t?(r=ts(n,t),{seiNals:r[t],timescale:i}):null},rs=function(){var f=!1,r,u,n,t,i;this.isInitialized=function(){return f};this.init=function(){r=new bo;f=!0;r.on("data",function(n){n.startTime=n.startPts/t;n.endTime=n.endPts/t;i.captions.push(n);i.captionStreams[n.stream]=!0})};this.isNewInit=function(i,r){return i&&i.length===0||r&&typeof r=="object"&&Object.keys(r).length===0?!1:n!==i[0]||t!==r[n]};this.parse=function(r,f,e){var o,s;if(this.isInitialized())if(f&&e){if(this.isNewInit(f,e))n=f[0],t=e[n];else if(!n||!t)return u.push(r),null}else return null;else return null;while(u.length>0)s=u.shift(),this.parse(s,f,e);return(o=is(r,n,t),o===null||!o.seiNals)?null:(this.pushNals(o.seiNals),this.flushStream(),i)};this.pushNals=function(n){if(!this.isInitialized()||!n||n.length===0)return null;n.forEach(function(n){r.push(n)})};this.flushStream=function(){if(!this.isInitialized())return null;r.flush()};this.clearParsedCaptions=function(){i.captions=[];i.captionStreams={}};this.resetCaptionStream=function(){if(!this.isInitialized())return null;r.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){u=[];n=null;t=null;i?this.clearParsedCaptions():i={captions:[],captionStreams:{}};this.resetCaptionStream()};this.reset()},us=rs,fs={generator:w,probe:v,Transmuxer:nr.Transmuxer,AudioSegmentStream:nr.AudioSegmentStream,VideoSegmentStream:nr.VideoSegmentStream,CaptionParser:us},es=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},os=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),ss=function(n,t){t.on("data",function(t){var r=t.initSegment,i;t.initSegment={data:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength};i=t.data;t.data=i.buffer;n.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])});if(t.captionStream)t.captionStream.on("data",function(t){n.postMessage({action:"caption",data:t})});t.on("done",function(){n.postMessage({action:"done"})});t.on("gopInfo",function(t){n.postMessage({action:"gopInfo",gopInfo:t})})},hf=function(){function n(t,i){es(this,n);this.options=i||{};this.self=t;this.init()}return os(n,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose();this.transmuxer=new fs.Transmuxer(this.options);ss(this.self,this.transmuxer)}},{key:"push",value:function(n){var t=new Uint8Array(n.data,n.byteOffset,n.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(n){var t=n.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(t*9e4))}},{key:"setAudioAppendStart",value:function(n){this.transmuxer.setAudioAppendStart(Math.ceil(n.appendStart*9e4))}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(n){this.transmuxer.alignGopsWith(n.gopsToAlignWith.slice())}}]),n}(),hs=function(n){n.onmessage=function(t){if(t.data.action==="init"&&t.data.options){this.messageHandlers=new hf(n,t.data.options);return}this.messageHandlers||(this.messageHandlers=new hf(n));t.data&&t.data.action&&t.data.action!=="init"&&this.messageHandlers[t.data.action]&&this.messageHandlers[t.data.action](t.data)}};return new hs(n)}()}),iut={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},rut=function(n){return n.map(function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n,t,i){var r=("00"+Number(t).toString(16)).slice(-2),u=("00"+Number(i).toString(16)).slice(-2);return"avc1."+r+"00"+u})})},de=function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"",n={codecCount:0},t=void 0;return n.codecCount=i.split(",").length,n.codecCount=n.codecCount||2,t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(i),t&&(n.videoCodec=t[2],n.videoObjectTypeIndicator=t[3]),n.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(i),n.audioProfile=n.audioProfile&&n.audioProfile[2],n},sbt=function(n){return n.replace(/avc1\.(\d+)\.(\d+)/i,function(n){return rut([n])[0]})},rp=function(n,t,i){return n+"/"+t+'; codecs="'+i.filter(function(n){return!!n}).join(", ")+'"'},hbt=function(n){return n.segments&&n.segments.length&&n.segments[0].map?"mp4":"mp2t"},cbt=function(n){var t=n.attributes||{};return t.CODECS?de(t.CODECS):iut},lbt=function(n,t){var i,u,r;if(!n.mediaGroups.AUDIO||!t||(i=n.mediaGroups.AUDIO[t],!i))return null;for(u in i)if(r=i[u],r.default&&r.playlists)return de(r.playlists[0].attributes.CODECS).audioProfile;return null},abt=function(n,t){var s=hbt(t),u=cbt(t),h=t.attributes||{},f=!0,c=!1,e,l,r;if(!t)return[];if(n.mediaGroups.AUDIO&&h.AUDIO&&(e=n.mediaGroups.AUDIO[h.AUDIO],e)){c=!0;f=!1;for(l in e)if(!e[l].uri&&!e[l].playlists){f=!0;break}}c&&!u.audioProfile&&(f||(u.audioProfile=lbt(n,h.AUDIO)),u.audioProfile||(i.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),u.audioProfile=iut.audioProfile));r={};u.videoCodec&&(r.video=""+u.videoCodec+u.videoObjectTypeIndicator);u.audioProfile&&(r.audio="mp4a.40."+u.audioProfile);var o=rp("audio",s,[r.audio]),v=rp("video",s,[r.video]),a=rp("video",s,[r.video,r.audio]);return c?!f&&r.video?[v,o]:!f&&!r.video?[o,o]:[a,o]:r.video?[a]:[o]},vbt=function(n){var t={type:"",parameters:{}},i=n.trim().split(";");return t.type=i.shift().trim(),i.forEach(function(n){var i=n.trim().split("="),r,u;i.length>1&&(r=i[0].replace(/"/g,"").trim(),u=i[1].replace(/"/g,"").trim(),t.parameters[r]=u)}),t},uut=function(n){return/mp4a\.\d+.\d+/i.test(n)},fut=function(n){return/avc1\.[\da-f]+/i.test(n)},ybt=function(n,t,i){if(typeof t=="undefined"||t===null||!n.length)return[];for(var u=Math.ceil((t-i+3)*9e4),r=void 0,r=0;r<n.length;r++)if(n[r].pts>u)break;return n.slice(r)},pbt=function(n,t,i){if(!t.length)return n;if(i)return t.slice();var u=t[0].pts,r=0;for(r;r<n.length;r++)if(n[r].pts>=u)break;return n.slice(0,r).concat(t)},wbt=function(n,t,i,r){for(var o=Math.ceil((t-r)*9e4),s=Math.ceil((i-r)*9e4),e=n.slice(),f=n.length,u;f--;)if(n[f].pts<=s)break;if(f===-1)return e;for(u=f+1;u--;)if(n[u].pts<=o)break;return u=Math.max(u,0),e.splice(u,f-u+1),e},bbt=function(n,t,r){var e=null,o=null,s=0,f=[],l=[];if(!n&&!t)return i.createTimeRange();if(!n)return t.buffered;if(!t||r)return n.buffered;if(n.buffered.length===0&&t.buffered.length===0)return i.createTimeRange();for(var h=n.buffered,c=t.buffered,u=h.length;u--;)f.push({time:h.start(u),type:"start"}),f.push({time:h.end(u),type:"end"});for(u=c.length;u--;)f.push({time:c.start(u),type:"start"}),f.push({time:c.end(u),type:"end"});for(f.sort(function(n,t){return n.time-t.time}),u=0;u<f.length;u++)f[u].type==="start"?(s++,s===2&&(e=f[u].time)):f[u].type==="end"&&(s--,s===1&&(o=f[u].time)),e!==null&&o!==null&&(l.push([e,o]),e=null,o=null);return i.createTimeRanges(l)},kbt=function(n,t){var i=n.addSourceBuffer(t),r=Object.create(null),u,f;r.updating=!1;r.realBuffer_=i;u=function(n){typeof i[n]=="function"?r[n]=function(){return i[n].apply(i,arguments)}:typeof r[n]=="undefined"&&Object.defineProperty(r,n,{get:function(){return i[n]},set:function(t){return i[n]=t}})};for(f in i)u(f);return r},dbt=function(n){function t(n,r){var u,f;return ui(this,t),u=li(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i.EventTarget)),u.timestampOffset_=0,u.pendingBuffers_=[],u.bufferUpdating_=!1,u.mediaSource_=n,u.codecs_=r,u.audioCodec_=null,u.videoCodec_=null,u.audioDisabled_=!1,u.appendAudioInitSegment_=!0,u.gopBuffer_=[],u.timeMapping_=0,u.safeAppend_=i.browser.IE_VERSION>=11,f={remux:!1,alignGopsAtEnd:u.safeAppend_},u.codecs_.forEach(function(n){uut(n)?u.audioCodec_=n:fut(n)&&(u.videoCodec_=n)}),u.transmuxer_=new obt,u.transmuxer_.postMessage({action:"init",options:f}),u.transmuxer_.onmessage=function(n){return n.data.action==="data"?u.data_(n):n.data.action==="done"?u.done_(n):n.data.action==="gopInfo"?u.appendGopInfo_(n):void 0},Object.defineProperty(u,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(n){typeof n=="number"&&n>=0&&(this.timestampOffset_=n,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n}))}}),Object.defineProperty(u,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(n){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=n);this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=n)}}),Object.defineProperty(u,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(u,"buffered",{get:function(){return bbt(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),u}return wi(t,n),oi(t,[{key:"data_",value:function(n){var t=n.data.segment;t.data=new Uint8Array(t.data,n.data.byteOffset,n.data.byteLength);t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength);tbt(this,this.mediaSource_,t);this.pendingBuffers_.push(t);return}},{key:"done_",value:function(){if(this.mediaSource_.readyState==="closed"){this.pendingBuffers_.length=0;return}this.processPendingSegments_();return}},{key:"createRealSourceBuffers_",value:function(){var n=this,t=["audio","video"];t.forEach(function(i){var r,u,f;n[i+"Codec_"]&&(n[i+"Buffer_"]||(r=null,n.mediaSource_[i+"Buffer_"]?(r=n.mediaSource_[i+"Buffer_"],r.updating=!1):(u=i+"Codec_",f=i+'/mp4;codecs="'+n[u]+'"',r=kbt(n.mediaSource_.nativeMediaSource_,f),n.mediaSource_[i+"Buffer_"]=r),n[i+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(u){r.addEventListener(u,function(){if(i!=="audio"||!n.audioDisabled_){u==="updateend"&&(n[i+"Buffer_"].updating=!1);var r=t.every(function(t){return t==="audio"&&n.audioDisabled_?!0:i!==t&&n[t+"Buffer_"]&&n[t+"Buffer_"].updating?!1:!0});if(r)return n.trigger(u)}})})))})}},{key:"appendBuffer",value:function(n){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:ybt(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)});this.transmuxer_.postMessage({action:"push",data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength},[n.buffer]);this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(n){this.gopBuffer_=pbt(this.gopBuffer_,n.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(n,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(n,t),this.gopBuffer_=wbt(this.gopBuffer_,n,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(n,t)),ef(n,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)ef(n,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var n={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]},t;n=this.pendingBuffers_.reduce(function(n,t){var i=t.type,r=t.data,u=t.initSegment;return n[i].segments.push(r),n[i].bytes+=r.byteLength,n[i].initSegment=u,t.captions&&(n.captions=n.captions.concat(t.captions)),t.info&&(n[i].info=t.info),t.metadata&&(n.metadata=n.metadata.concat(t.metadata)),n},n);this.videoBuffer_||this.audioBuffer_||(n.video.bytes===0&&(this.videoCodec_=null),n.audio.bytes===0&&(this.audioCodec_=null),this.createRealSourceBuffers_());n.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:n.audio.info});n.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:n.video.info});this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(n.audio.segments.unshift(n.audio.initSegment),n.audio.bytes+=n.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);t=!1;this.videoBuffer_&&n.video.bytes?(n.video.segments.unshift(n.video.initSegment),n.video.bytes+=n.video.initSegment.byteLength,this.concatAndAppendSegments_(n.video,this.videoBuffer_),rbt(this,n.captions,n.metadata)):this.videoBuffer_&&(this.audioDisabled_||!this.audioBuffer_)&&(t=!0);!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(n.audio,this.audioBuffer_);this.pendingBuffers_.length=0;t&&this.trigger("updateend");this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(n,t){var r=0,i=void 0;if(n.bytes){i=new Uint8Array(n.bytes);n.segments.forEach(function(n){i.set(n,r);r+=n.byteLength});try{t.updating=!0;t.appendBuffer(i)}catch(u){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:u.message,originalError:u})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort();!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort();this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"});this.pendingBuffers_.length=0;this.bufferUpdating_=!1}}]),t}(i.EventTarget),up=function(r){function u(){ui(this,u);var r=li(this,(u.__proto__||Object.getPrototypeOf(u)).call(this)),f=void 0;r.nativeMediaSource_=new t.MediaSource;for(f in r.nativeMediaSource_)f in u.prototype||typeof r.nativeMediaSource_[f]!="function"||(r[f]=r.nativeMediaSource_[f].bind(r.nativeMediaSource_));r.duration_=NaN;Object.defineProperty(r,"duration",{get:function(){return this.duration_===Infinity?this.duration_:this.nativeMediaSource_.duration},set:function(n){if(this.duration_=n,n!==Infinity){this.nativeMediaSource_.duration=n;return}}});Object.defineProperty(r,"seekable",{get:function(){return this.duration_===Infinity?i.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}});Object.defineProperty(r,"readyState",{get:function(){return this.nativeMediaSource_.readyState}});Object.defineProperty(r,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}});r.sourceBuffers=[];r.activeSourceBuffers_=[];r.updateActiveSourceBuffers_=function(){var n,u,t,i,f;if(r.activeSourceBuffers_.length=0,r.sourceBuffers.length===1){n=r.sourceBuffers[0];n.appendAudioInitSegment_=!0;n.audioDisabled_=!n.audioCodec_;r.activeSourceBuffers_.push(n);return}for(u=!1,t=!0,i=0;i<r.player_.audioTracks().length;i++)if(f=r.player_.audioTracks()[i],f.enabled&&f.kind!=="main"){u=!0;t=!1;break}r.sourceBuffers.forEach(function(n,i){if(n.appendAudioInitSegment_=!0,n.videoCodec_&&n.audioCodec_)n.audioDisabled_=u;else if(n.videoCodec_&&!n.audioCodec_)n.audioDisabled_=!0,t=!1;else if(!n.videoCodec_&&n.audioCodec_&&(n.audioDisabled_=i?t:!t,n.audioDisabled_))return;r.activeSourceBuffers_.push(n)})};r.onPlayerMediachange_=function(){r.sourceBuffers.forEach(function(n){n.appendAudioInitSegment_=!0})};r.onHlsReset_=function(){r.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.postMessage({action:"resetCaptions"})})};r.onHlsSegmentTimeMapping_=function(n){r.sourceBuffers.forEach(function(t){return t.timeMapping_=n.mapping})};["sourceopen","sourceclose","sourceended"].forEach(function(n){this.nativeMediaSource_.addEventListener(n,this.trigger.bind(this))},r);r.on("sourceopen",function(){var t=n.querySelector('[src="'+r.url_+'"]');if(t&&(r.player_=i(t.parentNode),r.player_)){r.player_.tech_.on("hls-reset",r.onHlsReset_);r.player_.tech_.on("hls-segment-time-mapping",r.onHlsSegmentTimeMapping_);if(r.player_.audioTracks&&r.player_.audioTracks()){r.player_.audioTracks().on("change",r.updateActiveSourceBuffers_);r.player_.audioTracks().on("addtrack",r.updateActiveSourceBuffers_);r.player_.audioTracks().on("removetrack",r.updateActiveSourceBuffers_)}r.player_.on("mediachange",r.onPlayerMediachange_)}});r.on("sourceended",function(){for(var i,n,u=grt(r.duration),t=0;t<r.sourceBuffers.length;t++)i=r.sourceBuffers[t],n=i.metadataTrack_&&i.metadataTrack_.cues,n&&n.length&&(n[n.length-1].endTime=u)});r.on("sourceclose",function(){(this.sourceBuffers.forEach(function(n){n.transmuxer_&&n.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_)&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))});return r}return wi(u,r),oi(u,[{key:"addSeekableRange_",value:function(n,t){var i=void 0;if(this.duration!==Infinity){i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity");i.name="InvalidStateError";i.code=11;throw i;}(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(n){var i=void 0,r=vbt(n),t;return/^(video|audio)\/mp2t$/i.test(r.type)?(t=[],r.parameters&&r.parameters.codecs&&(t=r.parameters.codecs.split(","),t=rut(t),t=t.filter(function(n){return uut(n)||fut(n)})),t.length===0&&(t=["avc1.4d400d","mp4a.40.2"]),i=new dbt(this,t),this.sourceBuffers.length!==0&&(this.sourceBuffers[0].createRealSourceBuffers_(),i.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)):i=this.nativeMediaSource_.addSourceBuffer(n),this.sourceBuffers.push(i),i}}]),u}(i.EventTarget),eut=0;i.mediaSources={};var out=function(n,t){var r=i.mediaSources[n];if(r)r.trigger({type:"sourceopen",swfId:t});else throw new Error("Media Source not found (Video.js)");},fp=function(){return!!t.MediaSource&&!!t.MediaSource.isTypeSupported&&t.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},ge=function(){if(this.MediaSource={open:out,supportsNativeMediaSources:fp},fp())return new up;throw new Error("Cannot use create a virtual MediaSource for this video");};ge.open=out;ge.supportsNativeMediaSources=fp;ep={createObjectURL:function(n){var r=void 0;return n instanceof up?(r=t.URL.createObjectURL(n.nativeMediaSource_),n.url_=r,r):(n instanceof up)?(r="blob:vjs-media-source/"+eut,eut++,i.mediaSources[r]=n,r):(r=t.URL.createObjectURL(n),n.url_=r,r)}};i.MediaSource=ge;i.URL=ep;var gbt=i.EventTarget,nkt=i.mergeOptions,sut=function(n,t){for(var u,i=nkt(n,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod}),r=0;r<t.playlists.length;r++)u=by(i,t.playlists[r]),u&&(i=u);return wy(t,function(n,t,r,u){if(n.playlists&&n.playlists.length){var e=n.playlists[0].uri,f=by(i,n.playlists[0]);f&&(i=f,i.mediaGroups[t][r][u].playlists[0]=i.playlists[e])}}),i},op=function(n){function i(n,r,u,f){ui(this,i);var e=li(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(e.hls_=r,e.withCredentials=u,!n)throw new Error("A non-empty playlist URL or playlist is required");e.on("minimumUpdatePeriod",function(){e.refreshXml_()});e.on("mediaupdatetimeout",function(){e.refreshMedia_()});return typeof n=="string"?(e.srcUrl=n,e.state="HAVE_NOTHING",li(e)):(e.masterPlaylistLoader_=f,e.state="HAVE_METADATA",e.started=!0,e.media(n),t.setTimeout(function(){e.trigger("loadedmetadata")},0),e)}return wi(i,n),oi(i,[{key:"dispose",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var n=this.request;this.request=null;n.onreadystatechange=null;n.abort()}}},{key:"media",value:function(n){var t,i;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(t=this.state,typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}(i=!this.media_||n.uri!==this.media_.uri,this.state="HAVE_METADATA",i)&&(this.media_&&this.trigger("mediachanging"),this.media_=n,this.refreshMedia_(),t!=="HAVE_MASTER"&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest();t.clearTimeout(this.mediaUpdateTimeout);this.state==="HAVE_NOTHING"&&(this.started=!1)}},{key:"load",value:function(n){var u=this,i,r;if(t.clearTimeout(this.mediaUpdateTimeout),i=this.media(),n){r=i?i.targetDuration*500:5e3;this.mediaUpdateTimeout=t.setTimeout(function(){return u.load()},r);return}if(!this.started){this.start();return}this.trigger("loadedplaylist")}},{key:"parseMasterXml",value:function(){var n=plt(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_}),t,i;for(n.uri=this.srcUrl,t=0;t<n.playlists.length;t++)i="placeholder-uri-"+t,n.playlists[t].uri=i,n.playlists[i]=n.playlists[t];return wy(n,function(t,i,r,u){if(t.playlists&&t.playlists.length){var f="placeholder-uri-"+i+"-"+r+"-"+u;t.playlists[0].uri=f;n.playlists[f]=t.playlists[0]}}),dit(n),git(n),n}},{key:"start",value:function(){var n=this;this.started=!0;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,i){if(n.request){if(n.request=null,t)return n.error={status:i.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:i.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.masterXml_=i.responseText;n.masterLoaded_=i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):Date.now();n.syncClientServerClock_(n.onClientServerClockSync_.bind(n))}})}},{key:"syncClientServerClock_",value:function(n){var i=this,t=wlt(this.masterXml_);if(t===null)return this.clientOffset_=this.masterLoaded_-Date.now(),n();if(t.method==="DIRECT")return this.clientOffset_=t.value-Date.now(),n();this.request=this.hls_.xhr({uri:pi(this.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials},function(r,u){if(i.request){if(r)return i.clientOffset_=i.masterLoaded_-Date.now(),n();var f=void 0;f=t.method==="HEAD"?u.responseHeaders&&u.responseHeaders.date?Date.parse(u.responseHeaders.date):i.masterLoaded_:Date.parse(u.responseText);i.clientOffset_=f-Date.now();n()}})}},{key:"onClientServerClockSync_",value:function(){var n=this;this.master=this.parseMasterXml();this.state="HAVE_MASTER";this.trigger("loadedplaylist");this.media_||this.media(this.master.playlists[0]);t.setTimeout(function(){n.trigger("loadedmetadata")},0);this.master.minimumUpdatePeriod&&t.setTimeout(function(){n.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var n=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,r){if(n.request){if(n.request=null,i)return n.error={status:r.status,message:"DASH playlist request error at URL: "+n.srcUrl,responseText:r.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.masterXml_=r.responseText;var u=n.parseMasterXml();n.master=sut(n.master,u);t.setTimeout(function(){n.trigger("minimumUpdatePeriod")},n.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var u=this,i=void 0,r=void 0,n;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,r=this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,r=this.parseMasterXml());n=sut(i,r);n?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=n:this.master=n,this.media_=n.playlists[this.media_.uri]):this.trigger("playlistunchanged");this.media().endList||(this.mediaUpdateTimeout=t.setTimeout(function(){u.trigger("mediaupdatetimeout")},nrt(this.media(),!!n)));this.trigger("loadedplaylist")}}]),i}(gbt),no=function(n){return i.log.debug?i.log.debug.bind(i,"VHS:",n+" >"):function(){}};var tkt=function(){function n(t,i,r,u){ui(this,n);this.callbacks_=[];this.pendingCallback_=null;this.timestampOffset_=0;this.mediaSource=t;this.processedAppend_=!1;this.type_=r;this.mimeType_=i;this.logger_=no("SourceUpdater["+r+"]["+i+"]");t.readyState==="closed"?t.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,u)):this.createSourceBuffer_(i,u)}return oi(n,[{key:"createSourceBuffer_",value:function(n,t){var i=this;if(this.sourceBuffer_=this.mediaSource.addSourceBuffer(n),this.logger_("created SourceBuffer"),t&&(t.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)){t.on("sourcebufferadded",function(){i.start_()});return}this.start_()}},{key:"start_",value:function(){var n=this;this.started_=!0;this.onUpdateendCallback_=function(){var t=n.pendingCallback_;n.pendingCallback_=null;n.logger_("buffered ["+gy(n.buffered())+"]");t&&t();n.runCallback_()};this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_);this.runCallback_()}},{key:"abort",value:function(n){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},n)}},{key:"appendBuffer",value:function(n,t){var i=this;this.processedAppend_=!0;this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(n)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:i.createTimeRanges()}},{key:"remove",value:function(n,t){var i=this,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:to;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+n+" => "+t+"]");i.sourceBuffer_.remove(n,t)},r)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(n){var t=this;return typeof n!="undefined"&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=n}),this.timestampOffset_=n),this.timestampOffset_}},{key:"queueCallback_",value:function(n,t){this.callbacks_.push([n.bind(this),t]);this.runCallback_()}},{key:"runCallback_",value:function(){var n=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(n=this.callbacks_.shift(),this.pendingCallback_=n[1],n[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_);this.sourceBuffer_&&this.mediaSource.readyState==="open"&&this.sourceBuffer_.abort()}}]),n}(),bt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},ir={FAILURE:2,TIMEOUT:-101,ABORTED:-102},ikt=function(n){var t=void 0,i=void 0;return i=n.offset+n.length-1,t=n.offset,"bytes="+t+"-"+i},hut=function(n){var t={};return n.byterange&&(t.Range=ikt(n.byterange)),t},cut=function(n){n.forEach(function(n){n.abort()})},rkt=function(n){return{bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}},ukt=function(n){var i=n.target,r=Date.now()-i.requestTime,t={bandwidth:Infinity,bytesReceived:0,roundTripTime:r||0};return t.bytesReceived=n.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8e3),t},sp=function(n,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:ir.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:ir.ABORTED,xhr:t}:n?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:ir.FAILURE,xhr:t}:null},fkt=function(n,t){return function(i,r){var f=r.response,e=sp(i,r),u;return e?t(e,n):f.byteLength!==16?t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:ir.FAILURE,xhr:r},n):(u=new DataView(f),n.key.bytes=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]),t(null,n))}},ekt=function(n,t,i){return function(r,u){var e=u.response,f=sp(r,u);return f?i(f,n):e.byteLength===0?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:ir.FAILURE,xhr:u},n):(n.map.bytes=new Uint8Array(u.response),t.isInitialized()||t.init(),n.map.timescales=gt.timescale(n.map.bytes),n.map.videoTrackIds=gt.videoTrackIds(n.map.bytes),i(null,n))}},okt=function(n,t,i){return function(r,u){var o=u.response,e=sp(r,u),f=void 0;return e?i(e,n):o.byteLength===0?i({status:u.status,message:"Empty HLS segment content at URL: "+u.uri,code:ir.FAILURE,xhr:u},n):(n.stats=rkt(u),n.key?n.encryptedBytes=new Uint8Array(u.response):n.bytes=new Uint8Array(u.response),n.map&&n.map.bytes&&(t.isInitialized()||t.init(),f=t.parse(n.bytes,n.map.videoTrackIds,n.map.timescales),f&&f.captions&&(n.captionStreams=f.captionStreams,n.fmp4Captions=f.captions)),i(null,n))}},skt=function(n,t,i){var r=function r(u){if(u.data.source===t.requestId){n.removeEventListener("message",r);var f=u.data.decrypted;return t.bytes=new Uint8Array(f.bytes,f.byteOffset,f.byteLength),i(null,t)}};n.addEventListener("message",r);n.postMessage(lrt({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},hkt=function(n,t,i){var r=0,u=!1;return function(f,e){if(!u)return f?(u=!0,cut(n),i(f,e)):(r+=1,r===n.length?(e.endOfAllRequests=Date.now(),e.encryptedBytes)?skt(t,e,i):i(null,e):void 0)}},ckt=function(n,t){return function(r){return n.stats=i.mergeOptions(n.stats,ukt(r)),!n.stats.firstBytesReceivedAt&&n.stats.bytesReceived&&(n.stats.firstBytesReceivedAt=Date.now()),t(r,n)}},lkt=function(n,t,r,u,f,e,o){var s=[],h=hkt(s,r,o);if(f.key){var l=i.mergeOptions(t,{uri:f.key.resolvedUri,responseType:"arraybuffer"}),a=fkt(f,h),v=n(l,a);s.push(v)}if(f.map&&!f.map.bytes){var y=i.mergeOptions(t,{uri:f.map.resolvedUri,responseType:"arraybuffer",headers:hut(f.map)}),p=ekt(f,u,h),w=n(y,p);s.push(w)}var b=i.mergeOptions(t,{uri:f.resolvedUri,responseType:"arraybuffer",headers:hut(f)}),k=okt(f,u,h),c=n(b,k);return c.addEventListener("progress",ckt(f,e)),s.push(c),function(){return cut(s)}},lut=function(n,i){var r=void 0;return n?(r=t.getComputedStyle(n),!r)?"":r[i]:""},io=function(n,t){var i=n.slice();n.sort(function(n,r){var u=t(n,r);return u===0?i.indexOf(n)-i.indexOf(r):u})},hp=function(n,i){var r=void 0,u=void 0;return n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||t.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(u=i.attributes.BANDWIDTH),u=u||t.Number.MAX_VALUE,r-u},akt=function(n,i){var r=void 0,u=void 0;return(n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||t.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(u=i.attributes.RESOLUTION.width),u=u||t.Number.MAX_VALUE,r===u&&n.attributes.BANDWIDTH&&i.attributes.BANDWIDTH)?n.attributes.BANDWIDTH-i.attributes.BANDWIDTH:r-u},vkt=function(n,i,r,u,f){var e=n.playlists.map(function(n){var r=void 0,u=void 0,i=void 0;return r=n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width,u=n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height,i=n.attributes.BANDWIDTH,i=i||t.Number.MAX_VALUE,{bandwidth:i,width:r,height:u,playlist:n}}),o,y,c,l,p;io(e,function(n,t){return n.bandwidth-t.bandwidth});e=e.filter(function(n){return!wt.isIncompatible(n.playlist)});o=e.filter(function(n){return wt.isEnabled(n.playlist)});o.length||(o=e.filter(function(n){return!wt.isDisabled(n.playlist)}));var h=o.filter(function(n){return n.bandwidth*bt.BANDWIDTH_VARIANCE<i}),s=h[h.length-1],w=h.filter(function(n){return n.bandwidth===s.bandwidth})[0];if(f===!1)return y=w||o[0]||e[0],y?y.playlist:null;c=h.filter(function(n){return n.width&&n.height});io(c,function(n,t){return n.width-t.width});l=c.filter(function(n){return n.width===r&&n.height===u});s=l[l.length-1];var b=l.filter(function(n){return n.bandwidth===s.bandwidth})[0],a=void 0,v=void 0,k=void 0;return b||(a=c.filter(function(n){return n.width>r||n.height>u}),v=a.filter(function(n){return n.width===a[0].width&&n.height===a[0].height}),s=v[v.length-1],k=v.filter(function(n){return n.bandwidth===s.bandwidth})[0]),p=k||b||w||o[0]||e[0],p?p.playlist:null},ykt=function(){return vkt(this.playlists.master,this.systemBandwidth,parseInt(lut(this.tech_.el(),"width"),10),parseInt(lut(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},pkt=function(n){var f=n.master,e=n.currentTime,o=n.bandwidth,s=n.duration,h=n.segmentDuration,c=n.timeUntilRebuffer,l=n.currentTimeline,a=n.syncController,u=f.playlists.filter(function(n){return!wt.isIncompatible(n)}),t=u.filter(wt.isEnabled);t.length||(t=u.filter(function(n){return!wt.isDisabled(n)}));var v=t.filter(wt.hasAttribute.bind(null,"BANDWIDTH")),i=v.map(function(n){var t=a.getSyncPoint(n,s,l,e),i=t?1:2,r=wt.estimateSegmentRequestTime(h,o,n),u=r*i-c;return{playlist:n,rebufferingImpact:u}}),r=i.filter(function(n){return n.rebufferingImpact<=0});return(io(r,function(n,t){return hp(t.playlist,n.playlist)}),r.length)?r[0]:(io(i,function(n,t){return n.rebufferingImpact-t.rebufferingImpact}),i[0]||null)},wkt=function(){var n=this.playlists.master.playlists.filter(wt.isEnabled),t;return io(n,function(n,t){return hp(n,t)}),t=n.filter(function(n){return de(n.attributes.CODECS).videoCodec}),t[0]||null},bkt=function(n,t,i){var r,u;for(r in i)n[r]||(t.trigger({type:"usage",name:"hls-608"}),u=t.textTracks().getTrackById(r),n[r]=u?u:t.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track)},kkt=function(n){var t=n.inbandTextTracks,i=n.captionArray,r=n.timestampOffset,u;i&&(u=window.WebKitDataCue||window.VTTCue,i.forEach(function(n){var i=n.stream,f=n.startTime,e=n.endTime;t[i]&&(f+=r,e+=r,t[i].addCue(new u(f,e,n.text)))}))},dkt=500,aut=function(n,t,i){if(!n||!t)return!1;var r=n.segments,u=i===r.length;return n.endList&&t.readyState==="open"&&u},vut=function(n){return typeof n=="number"&&isFinite(n)},gkt=function(n,t,i){return n!=="main"||!t||!i?null:!i.containsAudio&&!i.containsVideo?"Neither audio nor video found in segment.":t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},ndt=function(n,t,i){var r=void 0;return r=n.length&&n.start(0)>0&&n.start(0)<t?n.start(0):t-30,Math.min(r,t-i)},tdt=function(n){var i=n.segment,f=i.start,e=i.end,t=n.playlist,r=t.mediaSequence,o=t.id,u=t.segments,s=u===undefined?[]:u,h=n.mediaIndex,c=n.timeline;return["appending ["+h+"] of ["+r+", "+(r+s.length)+"] from playlist ["+o+"]","["+f+" => "+e+"] in timeline ["+c+"]"].join(" ")},cp=function(n){function r(n){ui(this,r);var t=li(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");t.bandwidth=n.bandwidth;t.throughput={rate:0,count:0};t.roundTrip=NaN;t.resetStats_();t.mediaIndex=null;t.hasPlayed_=n.hasPlayed;t.currentTime_=n.currentTime;t.seekable_=n.seekable;t.seeking_=n.seeking;t.duration_=n.duration;t.mediaSource_=n.mediaSource;t.hls_=n.hls;t.loaderType_=n.loaderType;t.startingMedia_=void 0;t.segmentMetadataTrack_=n.segmentMetadataTrack;t.goalBufferLength_=n.goalBufferLength;t.sourceType_=n.sourceType;t.inbandTextTracks_=n.inbandTextTracks;t.state_="INIT";t.checkBufferTimeout_=null;t.error_=void 0;t.currentTimeline_=-1;t.pendingSegment_=null;t.mimeType_=null;t.sourceUpdater_=null;t.xhrOptions_=null;t.activeInitSegmentId_=null;t.initSegments_={};t.captionParser_=new lyt;t.decrypter_=n.decrypter;t.syncController_=n.syncController;t.syncPoint_={segmentIndex:0,time:0};t.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")});return t.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),t.fetchAtBuffer_=!1,t.logger_=no("SegmentLoader["+t.loaderType_+"]"),Object.defineProperty(t,"state",{get:function(){return this.state_},set:function(n){n!==this.state_&&(this.logger_(this.state_+" -> "+n),this.state_=n)}}),t}return wi(r,n),oi(r,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED";this.pause();this.abort_();this.sourceUpdater_&&this.sourceUpdater_.dispose();this.resetStats_();this.captionParser_.reset()}},{key:"abort",value:function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_();this.state="READY";this.paused()||this.monitorBuffer_()}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests();this.pendingSegment_=null}},{key:"error",value:function(n){return typeof n!="undefined"&&(this.error_=n),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0;this.pause();this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():i.createTimeRanges()}},{key:"initSegment",value:function(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,i,t;return n?(i=rc(n),t=this.initSegments_[i],r&&!t&&n.bytes&&(this.initSegments_[i]=t={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,timescales:n.timescales,videoTrackIds:n.videoTrackIds}),t||n):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&this.state==="INIT")&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();this.couldBeginLoading_()&&(this.state==="READY"||this.state==="INIT")&&(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new tkt(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(n){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t,i,u,r;if(n){if(t=this.playlist_,i=this.pendingSegment_,this.playlist_=n,this.xhrOptions_=f,this.hasPlayed_()||(n.syncInfo={mediaSequence:n.mediaSequence,time:0}),u=t?t.id:null,this.logger_("playlist update ["+u+" => "+n.id+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!t||t.uri!==n.uri){this.mediaIndex!==null&&this.resyncLoader();return}r=n.mediaSequence-t.mediaSequence;this.logger_("live window shift ["+r+"]");this.mediaIndex!==null&&(this.mediaIndex-=r);i&&(i.mediaIndex-=r,i.mediaIndex>=0&&(i.segment=n.segments[i.mediaIndex]));this.syncController_.saveExpiredSegmentInfo(t,n)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return this.checkBufferTimeout_===null}},{key:"mimeType",value:function(n,t){this.mimeType_||(this.mimeType_=n,this.sourceBufferEmitter_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(n){this.ended_=!1;this.resetLoader();this.remove(0,this.duration_(),n);this.captionParser_.clearAllCaptions();this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1;this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null;this.syncPoint_=null;this.abort()}},{key:"remove",value:function(n,t,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(n,t,i),ef(n,t,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var r in this.inbandTextTracks_)ef(n,t,this.inbandTextTracks_[r])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){this.state==="READY"&&this.fillBuffer_();this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),dkt)}},{key:"fillBuffer_",value:function(){var n,t;if(!this.sourceUpdater_.updating()&&(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),n)){if(t=aut(this.playlist_,this.mediaSource_,n.mediaIndex),t){this.endOfStream();return}(n.mediaIndex!==this.playlist_.segments.length-1||this.mediaSource_.readyState!=="ended"||this.seeking_())&&((n.timeline!==this.currentTimeline_||n.startOfSegment!==null&&n.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),n.timestampOffset=n.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(n))}}},{key:"checkBuffer_",value:function(n,t,i,r,u,f){var o=0,e=void 0,h,s,c,l;return(n.length&&(o=n.end(n.length-1)),h=Math.max(0,o-u),!t.segments.length)?null:h>=this.goalBufferLength_()?null:!r&&h>=1?null:f===null?(i=this.getSyncSegmentCandidate_(t),this.generateSegmentInfo_(t,i,null,!0)):i!==null?(s=t.segments[i],e=s&&s.end?s.end:o,this.generateSegmentInfo_(t,i+1,e,!1)):(this.fetchAtBuffer_?(c=wt.getMediaInfoForTime(t,o,f.segmentIndex,f.time),i=c.mediaIndex,e=c.startTime):(l=wt.getMediaInfoForTime(t,u,f.segmentIndex,f.time),i=l.mediaIndex,e=l.startTime),this.generateSegmentInfo_(t,i,e,!1))}},{key:"getSyncSegmentCandidate_",value:function(n){var i=this,t;return this.currentTimeline_===-1?0:(t=n.segments.map(function(n,t){return{timeline:n.timeline,segmentIndex:t}}).filter(function(n){return n.timeline===i.currentTimeline_}),t.length)?t[Math.min(t.length-1,1)].segmentIndex:Math.max(n.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(n,t,i,r){if(t<0||t>=n.segments.length)return null;var u=n.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:u.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:i,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:u.duration,segment:u}}},{key:"abortRequestEarly_",value:function(n){var t;if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)return!1;var r=this.currentTime_(),u=n.bandwidth,f=this.pendingSegment_.duration,e=wt.estimateSegmentRequestTime(f,u,this.playlist_,n.bytesReceived),i=nbt(this.buffered_(),r,this.hls_.tech_.playbackRate())-1;if(e<=i)return!1;if(t=pkt({master:this.hls_.playlists.master,currentTime:r,bandwidth:u,duration:this.duration_(),segmentDuration:f,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_}),t){var s=e-i,h=s-t.rebufferingImpact,o=.5;return(i<=ff&&(o=1),!t.playlist||t.playlist.uri===this.playlist_.uri||h<o)?!1:(this.bandwidth=t.playlist.attributes.BANDWIDTH*bt.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(n,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(n){this.state="WAITING";this.pendingSegment_=n;this.trimBackBuffer_(n);n.abortRequests=lkt(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(n),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(){var n=ndt(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}},{key:"createSimplifiedSegmentObj_",value:function(n){var t=n.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:n.requestId},r;return t.key&&(r=t.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]),i.key={resolvedUri:t.key.resolvedUri,iv:r}),t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(n,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_){this.mediaRequestsAborted+=1;return}if(t.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===ir.ABORTED){this.mediaRequestsAborted+=1;return}if(this.pause(),n.code===ir.TIMEOUT){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger("bandwidthupdate");return}this.mediaRequestsErrored+=1;this.error(n);this.trigger("error");return}this.bandwidth=t.stats.bandwidth;this.roundTrip=t.stats.roundTripTime;t.map&&(t.map=this.initSegment(t.map,!0));this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(n){var t=this.pendingSegment_;t.bytes=n.bytes;n.map&&(t.segment.map.bytes=n.map.bytes);t.endOfAllRequests=n.endOfAllRequests;n.fmp4Captions&&(bkt(this.inbandTextTracks_,this.hls_.tech_,n.captionStreams),kkt({inbandTextTracks:this.inbandTextTracks_,captionArray:n.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions());this.handleSegment_()}},{key:"handleSegment_",value:function(){var o=this,r,u,f,e;if(!this.pendingSegment_){this.state="READY";return}var n=this.pendingSegment_,t=n.segment,i=this.syncController_.probeSegmentInfo(n);if(typeof this.startingMedia_=="undefined"&&i&&(i.containsAudio||i.containsVideo)&&(this.startingMedia_={containsAudio:i.containsAudio,containsVideo:i.containsVideo}),r=gkt(this.loaderType_,this.startingMedia_,i),r){this.error({message:r,blacklistDuration:Infinity});this.trigger("error");return}if(n.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}n.timestampOffset!==null&&n.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(n.timestampOffset),this.trigger("timestampoffset"));u=this.syncController_.mappingForTimeline(n.timeline);u!==null&&this.trigger({type:"segmenttimemapping",mapping:u});this.state="APPENDING";t.map&&(f=rc(t.map),this.activeInitSegmentId_&&this.activeInitSegmentId_===f||(e=this.initSegment(t.map),this.sourceUpdater_.appendBuffer(e.bytes,function(){o.activeInitSegmentId_=f})));n.byteLength=n.bytes.byteLength;this.mediaSecondsLoaded+=typeof t.start=="number"&&typeof t.end=="number"?t.end-t.start:t.duration;this.logger_(tdt(n));this.sourceUpdater_.appendBuffer(n.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){var i;if(!this.pendingSegment_){this.state="READY";this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_,t=n.segment,r=this.mediaIndex!==null;if(this.pendingSegment_=null,this.recordThroughput_(n),this.addSegmentMetadataCue_(n),this.state="READY",this.mediaIndex=n.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>n.playlist.targetDuration*3){this.resetEverything();return}r&&this.trigger("bandwidthupdate");this.trigger("progress");i=aut(n.playlist,this.mediaSource_,n.mediaIndex+1);i&&this.endOfStream();this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(n){var t=this.throughput.rate,i=Date.now()-n.endOfAllRequests+1,r=Math.floor(n.byteLength/i*8e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(n){if(this.segmentMetadataTrack_){var i=n.segment,r=i.start,u=i.end;if(vut(r)&&vut(u)){ef(r,u,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,f={dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.uri,start:r,end:u},s=JSON.stringify(f),e=new o(r,u,s);e.value=f;this.segmentMetadataTrack_.addCue(e)}}}}]),r}(i.EventTarget),yut=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},put=new Uint8Array("\n\n".split("").map(function(n){return n.charCodeAt(0)})),idt=function(n){function r(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},t;return ui(this,r),t=li(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,n,i)),t.mediaSource_=null,t.subtitlesTrack_=null,t}return wi(r,n),oi(r,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return i.createTimeRanges();var n=this.subtitlesTrack_.cues,t=n[0].startTime,r=n[n.length-1].startTime;return i.createTimeRanges([[t,r]])}},{key:"initSegment",value:function(n){var f=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1,r,t,u,i;return n?(r=rc(n),t=this.initSegments_[r],f&&!t&&n.bytes&&(u=put.byteLength+n.bytes.byteLength,i=new Uint8Array(u),i.set(n.bytes),i.set(put,n.bytes.byteLength),this.initSegments_[r]=t={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:i}),t||n):null}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(n){return typeof n=="undefined"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(n,t){ef(n,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this,n,i;if(this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_())),n=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_),n=this.skipEmptySegments_(n),n){if(this.syncController_.timestampOffsetForTimeline(n.timeline)===null){i=function(){t.state="READY";t.paused()||t.monitorBuffer_()};this.syncController_.one("timestampoffset",i);this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(n)}}},{key:"skipEmptySegments_",value:function(n){while(n&&n.segment.empty)n=this.generateSegmentInfo_(n.playlist,n.mediaIndex+1,n.startOfSegment+n.duration,n.isSyncRequest);return n}},{key:"handleSegment_",value:function(){var i=this,n,r,u;if(!this.pendingSegment_||!this.subtitlesTrack_){this.state="READY";return}if(this.state="APPENDING",n=this.pendingSegment_,r=n.segment,typeof t.WebVTT!="function"&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){u=function(){i.handleSegment_()};this.state="WAITING_ON_VTTJS";this.subtitlesTrack_.tech_.one("vttjsloaded",u);this.subtitlesTrack_.tech_.one("vttjserror",function(){i.subtitlesTrack_.tech_.off("vttjsloaded",u);i.error({message:"Error loading vtt.js"});i.state="READY";i.pause();i.trigger("error")});return}r.requested=!0;try{this.parseVTTCues_(n)}catch(f){return this.error({message:f.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}n.byteLength=n.bytes.byteLength;this.mediaSecondsLoaded+=r.duration;n.cues.length&&this.remove(n.cues[0].endTime,n.cues[n.cues.length-1].endTime);n.cues.forEach(function(n){i.subtitlesTrack_.addCue(n)});this.handleUpdateEnd_()}},{key:"parseVTTCues_",value:function(n){var e=void 0,o=!1,r,u,f;typeof t.TextDecoder=="function"?e=new t.TextDecoder("utf8"):(e=t.WebVTT.StringDecoder(),o=!0);r=new t.WebVTT.Parser(t,t.vttjs,e);n.cues=[];n.timestampmap={MPEGTS:0,LOCAL:0};r.oncue=n.cues.push.bind(n.cues);r.ontimestampmap=function(t){return n.timestampmap=t};r.onparsingerror=function(n){i.log.warn("Error encountered when parsing cues: "+n.message)};n.segment.map&&(u=n.segment.map.bytes,o&&(u=yut(u)),r.parse(u));f=n.bytes;o&&(f=yut(f));r.parse(f);r.flush()}},{key:"updateTimeMapping_",value:function(n,t,i){var f=n.segment,r,u,e,o;if(t){if(!n.cues.length){f.empty=!0;return}r=n.timestampmap;u=r.MPEGTS/9e4-r.LOCAL+t.mapping;n.cues.forEach(function(n){n.startTime+=u;n.endTime+=u});i.syncInfo||(e=n.cues[0].startTime,o=n.cues[n.cues.length-1].startTime,i.syncInfo={mediaSequence:i.mediaSequence+n.mediaIndex,time:Math.min(e,o-f.duration)})}}}]),r}(cp),rdt=function(n,t){for(var i,u=n.cues,r=0;r<u.length;r++)if(i=u[r],t>=i.adStartTime&&t<=i.adEndTime)return i;return null},udt=function(n,i){var c=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0,u,r,e,f;if(n.segments)for(u=c,r=void 0,e=0;e<n.segments.length;e++){if(f=n.segments[e],r||(r=rdt(i,u+f.duration/2)),r){if("cueIn"in f){r.endTime=u;r.adEndTime=u;u+=f.duration;r=null;continue}if(u<r.endTime){u+=f.duration;continue}r.endTime+=f.duration}else if("cueOut"in f&&(r=new t.VTTCue(u,u+f.duration,f.cueOut),r.adStartTime=u,r.adEndTime=u+parseFloat(f.cueOut),i.addCue(r)),"cueOutCont"in f){var o=void 0,s=void 0,l=f.cueOutCont.split("/").map(parseFloat),h=vpt(l,2);o=h[0];s=h[1];r=new t.VTTCue(u,u+f.duration,"");r.adStartTime=u-o;r.adEndTime=r.adStartTime+s;i.addCue(r)}u+=f.duration}},fdt=upt.inspect,wut=[{name:"VOD",run:function(n,t,i){return i!==Infinity?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(n,t,i,r,u){var f,o;if(!n.datetimeToDisplayTime)return null;var s=t.segments||[],h=null,e=null;for(u=u||0,f=0;f<s.length;f++)if(o=s[f],o.dateTimeObject){var a=o.dateTimeObject.getTime()/1e3,c=a+n.datetimeToDisplayTime,l=Math.abs(u-c);if(e!==null&&e<l)break;e=l;h={time:c,segmentIndex:f}}return h}},{name:"Segment",run:function(n,t,i,r,u){var c=t.segments||[],h=null,f=null,e,o,s;for(u=u||0,e=0;e<c.length;e++)if(o=c[e],o.timeline===r&&typeof o.start!="undefined"){if(s=Math.abs(u-o.start),f!==null&&f<s)break;(!h||f===null||f>=s)&&(f=s,h={time:o.start,segmentIndex:e})}return h}},{name:"Discontinuity",run:function(n,t,i,r,u){var s=null,f,e,o;if(u=u||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(f=null,e=0;e<t.discontinuityStarts.length;e++){var c=t.discontinuityStarts[e],l=t.discontinuitySequence+e+1,h=n.discontinuities[l];if(h){if(o=Math.abs(u-h.time),f!==null&&f<o)break;(!s||f===null||f>=o)&&(f=o,s={time:h.time,segmentIndex:c})}}return s}},{name:"Playlist",run:function(n,t){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}],edt=function(n){function t(){ui(this,t);var n=li(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.inspectCache_=undefined,n.timelines=[],n.discontinuities=[],n.datetimeToDisplayTime=null,n.logger_=no("SyncController"),n}return wi(t,n),oi(t,[{key:"getSyncPoint",value:function(n,t,i,r){var u=this.runStrategies_(n,t,i,r);return u.length?this.selectSyncPoint_(u,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(n,t){var r,i;return!n||!n.segments?null:(r=this.runStrategies_(n,t,n.discontinuitySequence,0),!r.length)?null:(i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0}),i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+ke(n,i.segmentIndex,0)))}},{key:"runStrategies_",value:function(n,t,i,r){for(var u,f,o=[],e=0;e<wut.length;e++)u=wut[e],f=u.run(this,n,t,i,r),f&&(f.strategy=u.name,o.push({strategy:u.name,syncPoint:f}));return o}},{key:"selectSyncPoint_",value:function(n,t){for(var u,r=n[0].syncPoint,f=Math.abs(n[0].syncPoint[t.key]-t.value),e=n[0].strategy,i=1;i<n.length;i++)u=Math.abs(n[i].syncPoint[t.key]-t.value),u<f&&(f=u,r=n[i].syncPoint,e=n[i].strategy);return this.logger_("syncPoint for ["+t.key+": "+t.value+"] chosen with strategy"+(" ["+e+"]: [time:"+r.time+",")+(" segmentIndex:"+r.segmentIndex+"]")),r}},{key:"saveExpiredSegmentInfo",value:function(n,t){for(var r,u=t.mediaSequence-n.mediaSequence,i=u-1;i>=0;i--)if(r=n.segments[i],r&&typeof r.start!="undefined"){t.syncInfo={mediaSequence:n.mediaSequence+i,time:r.start};this.logger_("playlist refresh sync: [time:"+t.syncInfo.time+","+(" mediaSequence: "+t.syncInfo.mediaSequence+"]"));this.trigger("syncinfoupdate");break}}},{key:"setDateTimeMapping",value:function(n){if(!this.datetimeToDisplayTime&&n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var t=n.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=undefined}},{key:"probeSegmentInfo",value:function(n){var r=n.segment,i=n.playlist,t=void 0;return t=r.map?this.probeMp4Segment_(n):this.probeTsSegment_(n),t&&this.calculateSegmentTimeMapping_(n,t)&&(this.saveDiscontinuitySyncInfo_(n),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+n.mediaIndex,time:r.start})),t}},{key:"probeMp4Segment_",value:function(n){var i=n.segment,r=gt.timescale(i.map.bytes),t=gt.startTime(r,n.bytes);return n.timestampOffset!==null&&(n.timestampOffset-=t),{start:t,end:t+i.duration}}},{key:"probeTsSegment_",value:function(n){var t=fdt(n.bytes,this.inspectCache_),i=void 0,r=void 0;return t?(t.video&&t.video.length===2?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&t.audio.length===2&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:i,end:r,containsVideo:t.video&&t.video.length===2,containsAudio:t.audio&&t.audio.length===2}):null}},{key:"timestampOffsetForTimeline",value:function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].time}},{key:"mappingForTimeline",value:function(n){return typeof this.timelines[n]=="undefined"?null:this.timelines[n].mapping}},{key:"calculateSegmentTimeMapping_",value:function(n,t){var r=n.segment,i=this.timelines[n.timeline];if(n.timestampOffset!==null)i={time:n.startOfSegment,mapping:n.startOfSegment-t.start},this.timelines[n.timeline]=i,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+i.time+"] [mapping: "+i.mapping+"]")),r.start=n.startOfSegment,r.end=t.end+i.mapping;else if(i)r.start=t.start+i.mapping,r.end=t.end+i.mapping;else return!1;return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(n){var t=n.playlist,i=n.segment,r,e;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(r=0;r<t.discontinuityStarts.length;r++){var u=t.discontinuityStarts[r],f=t.discontinuitySequence+r+1,o=u-n.mediaIndex,s=Math.abs(o);(!this.discontinuities[f]||this.discontinuities[f].accuracy>s)&&(e=void 0,e=o<0?i.start-ke(t,n.mediaIndex,u):i.end+ke(t,n.mediaIndex+1,u),this.discontinuities[f]={time:e,accuracy:s})}}}]),t}(i.EventTarget),odt=new nut("./decrypter-worker.worker.js",function(){var n=this,t=function(){function f(n){return n.subarray(0,n.byteLength-n[n.byteLength-1])}var r=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},s=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},h=function(){for(var h=[[[],[],[],[],[]],[[],[],[],[],[]]],f=h[0],e=h[1],l=f[4],p=e[4],n=void 0,i=void 0,r=void 0,u=[],a=[],c=void 0,v=void 0,y=void 0,t=void 0,o=void 0,s=void 0,n=0;n<256;n++)a[(u[n]=n<<1^(n>>7)*283)^n]=n;for(i=r=0;!l[i];i^=c||1,r=a[r]||1)for(t=r^r<<1^r<<2^r<<3^r<<4,t=t>>8^t&255^99,l[i]=t,p[t]=i,y=u[v=u[c=u[i]]],s=y*16843009^v*65537^c*257^i*16843008,o=u[t]*257^t*16843008,n=0;n<4;n++)f[n][i]=o=o<<24^o>>>8,e[n][t]=s=s<<24^s>>>8;for(n=0;n<5;n++)f[n]=f[n].slice(0),e[n]=e[n].slice(0);return h},t=null,c=function(){function n(i){r(this,n);t||(t=h());this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];var f=void 0,c=void 0,u=void 0,s=void 0,v=void 0,o=this._tables[0][4],l=this._tables[1],e=i.length,a=1;if(e!==4&&e!==6&&e!==8)throw new Error("Invalid aes key size");for(s=i.slice(0),v=[],this._key=[s,v],f=e;f<4*e+28;f++)u=s[f-1],(f%e==0||e===8&&f%e==4)&&(u=o[u>>>24]<<24^o[u>>16&255]<<16^o[u>>8&255]<<8^o[u&255],f%e==0&&(u=u<<8^u>>>24^a<<24,a=a<<1^(a>>7)*283)),s[f]=s[f-e]^u;for(c=0;f;c++,f--)u=s[c&3?f:f-4],v[c]=f<=4||c<4?u:l[0][o[u>>>24]]^l[1][o[u>>16&255]]^l[2][o[u>>8&255]]^l[3][o[u&255]]}return n.prototype.decrypt=function(n,t,i,r,u,f){for(var e=this._key[1],o=n^e[0],s=r^e[1],h=i^e[2],c=t^e[3],y=void 0,g=void 0,nt=void 0,tt=e.length/4-2,l=void 0,a=4,v=this._tables[1],p=v[0],w=v[1],b=v[2],k=v[3],d=v[4],l=0;l<tt;l++)y=p[o>>>24]^w[s>>16&255]^b[h>>8&255]^k[c&255]^e[a],g=p[s>>>24]^w[h>>16&255]^b[c>>8&255]^k[o&255]^e[a+1],nt=p[h>>>24]^w[c>>16&255]^b[o>>8&255]^k[s&255]^e[a+2],c=p[c>>>24]^w[o>>16&255]^b[s>>8&255]^k[h&255]^e[a+3],a+=4,o=y,s=g,h=nt;for(l=0;l<4;l++)u[(3&-l)+f]=d[o>>>24]<<24^d[s>>16&255]<<16^d[h>>8&255]<<8^d[c&255]^e[a++],y=o,o=s,s=h,h=c,c=y},n}(),u=function(){function n(){r(this,n);this.listeners={}}return n.prototype.on=function(n,t){this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t)},n.prototype.off=function(n,t){if(!this.listeners[n])return!1;var i=this.listeners[n].indexOf(t);return this.listeners[n].splice(i,1),i>-1},n.prototype.trigger=function(n){var t=this.listeners[n],u,i,f,e,r;if(t)if(arguments.length===2)for(u=t.length,i=0;i<u;++i)t[i].call(this,arguments[1]);else for(f=Array.prototype.slice.call(arguments,1),e=t.length,r=0;r<e;++r)t[r].apply(this,f)},n.prototype.dispose=function(){this.listeners={}},n.prototype.pipe=function(n){this.on("data",function(t){n.push(t)})},n}(),l=function(n){function t(){r(this,t);var i=s(this,n.call(this,u));return i.jobs=[],i.delay=1,i.timeout_=null,i}return o(t,n),t.prototype.processJob_=function(){this.jobs.shift()();this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},t.prototype.push=function(n){this.jobs.push(n);this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},t}(u),i=function(n){return n<<24|(n&65280)<<8|(n&16711680)>>8|n>>>24},a=function(n,t,r){var e=new Int32Array(n.buffer,n.byteOffset,n.byteLength>>2),b=new c(Array.prototype.slice.call(t)),w=new Uint8Array(n.byteLength),f=new Int32Array(w.buffer),o=void 0,s=void 0,h=void 0,l=void 0,a=void 0,v=void 0,y=void 0,p=void 0,u=void 0;for(o=r[0],s=r[1],h=r[2],l=r[3],u=0;u<e.length;u+=4)a=i(e[u]),v=i(e[u+1]),y=i(e[u+2]),p=i(e[u+3]),b.decrypt(a,v,y,p,f,u),f[u]=i(f[u]^o),f[u+1]=i(f[u+1]^s),f[u+2]=i(f[u+2]^h),f[u+3]=i(f[u+3]^l),o=a,s=v,h=y,l=p;return w},v=function(){function n(t,u,e,o){r(this,n);var c=n.STEP,h=new Int32Array(t.buffer),a=new Uint8Array(t.byteLength),s=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(h.subarray(s,s+c),u,e,a)),s=c;s<h.length;s+=c)e=new Uint32Array([i(h[s-4]),i(h[s-3]),i(h[s-2]),i(h[s-1])]),this.asyncStream_.push(this.decryptChunk_(h.subarray(s,s+c),u,e,a));this.asyncStream_.push(function(){o(null,f(a))})}return n.prototype.decryptChunk_=function(n,t,i,r){return function(){var u=a(n,t,i);r.set(u,n.byteOffset)}},e(n,null,[{key:"STEP",get:function(){return 32e3}}]),n}(),y=function(n){var t={};return Object.keys(n).forEach(function(i){var r=n[i];t[i]=ArrayBuffer.isView(r)?{bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:r}),t},p=function(n){n.onmessage=function(t){var i=t.data,r=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),u=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),f=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new v(r,u,f,function(t,r){n.postMessage(y({source:i.source,decrypted:r}),[r.buffer])})}};return new p(n)}()}),sdt=function(n){var t=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},fc=function(n,t){n.abort();n.pause();t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},lp=function(n,t){t.activePlaylistLoader=n;n.load()},hdt=function(n,t){return function(){var u=t.segmentLoaders,f=u[n],e=u.main,i=t.mediaTypes[n],o=i.activeTrack(),r=i.activeGroup(o),s=i.activePlaylistLoader;if(fc(f,i),r){if(!r.playlistLoader){s&&e.resetEverything();return}f.resyncLoader();lp(r.playlistLoader,i)}}},cdt=function(n,t){return function(){var f=t.segmentLoaders,u=f[n],o=f.main,i=t.mediaTypes[n],e=i.activeTrack(),r=i.activeGroup(e),s=i.activePlaylistLoader;if(fc(u,i),r){if(!r.playlistLoader){o.resetEverything();return}if(s===r.playlistLoader){lp(r.playlistLoader,i);return}u.track&&u.track(e);u.resetEverything();lp(r.playlistLoader,i)}}},ec={AUDIO:function(n,t){return function(){var o=t.segmentLoaders[n],r=t.mediaTypes[n],s=t.blacklistCurrentPlaylist,u;fc(o,r);var h=r.activeTrack(),f=r.activeGroup(),c=(f.filter(function(n){return n.default})[0]||f[0]).id,e=r.tracks[c];if(h===e){s({message:"Problem encountered loading the default audio track."});return}i.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(u in r.tracks)r.tracks[u].enabled=r.tracks[u]===e;r.onTrackChanged()}},SUBTITLES:function(n,t){return function(){var f=t.segmentLoaders[n],r=t.mediaTypes[n],u;i.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");fc(f,r);u=r.activeTrack();u&&(u.mode="disabled");r.onTrackChanged()}}},but={AUDIO:function(n,t,i){if(t){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);(!u.paused()||n.endList&&u.preload()!=="none")&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",ec[n](n,i))}},SUBTITLES:function(n,t,i){var u=i.tech,f=i.requestOptions,r=i.segmentLoaders[n],e=i.mediaTypes[n];t.on("loadedmetadata",function(){var n=t.media();r.playlist(n,f);r.track(e.activeTrack());(!u.paused()||n.endList&&u.preload()!=="none")&&r.load()});t.on("loadedplaylist",function(){r.playlist(t.media(),f);u.paused()||r.load()});t.on("error",ec[n](n,i))}},ldt=function(n,t){return function(i){return i.attributes[n]===t}},adt=function(n){return function(t){return t.resolvedUri===n}},vdt={AUDIO:function(n,t){var h=t.hls,b=t.sourceType,k=t.segmentLoaders[n],c=t.requestOptions.withCredentials,l=t.master,e=l.mediaGroups,d=l.playlists,a=t.mediaTypes[n],o=a.groups,v=a.tracks,g=t.masterPlaylistLoader,u,y,f,r,p,s,w;e[n]&&Object.keys(e[n]).length!==0||(e[n]={main:{"default":{"default":!0}}});for(u in e[n]){o[u]||(o[u]=[]);y=d.filter(ldt(n,u));for(f in e[n][u])r=e[n][u][f],p=y.filter(adt(r.resolvedUri)),p.length&&delete r.resolvedUri,s=void 0,s=r.resolvedUri?new tc(r.resolvedUri,h,c):r.playlists&&b==="dash"?new op(r.playlists[0],h,c,g):null,r=i.mergeOptions({id:f,playlistLoader:s},r),but[n](n,r.playlistLoader,t),o[u].push(r),typeof v[f]=="undefined"&&(w=new i.AudioTrack({id:f,kind:sdt(r),enabled:!1,language:r.language,"default":r.default,label:f}),v[f]=w)}k.on("error",ec[n](n,t))},SUBTITLES:function(n,t){var p=t.tech,h=t.hls,c=t.sourceType,w=t.segmentLoaders[n],l=t.requestOptions.withCredentials,e=t.master.mediaGroups,a=t.mediaTypes[n],s=a.groups,v=a.tracks,b=t.masterPlaylistLoader,f,u,r,o,y;for(f in e[n]){s[f]||(s[f]=[]);for(u in e[n][f])e[n][f][u].forced||(r=e[n][f][u],o=void 0,c==="hls"?o=new tc(r.resolvedUri,h,l):c==="dash"&&(o=new op(r.playlists[0],h,l,b)),r=i.mergeOptions({id:u,playlistLoader:o},r),but[n](n,r.playlistLoader,t),s[f].push(r),typeof v[u]=="undefined"&&(y=p.addRemoteTextTrack({id:u,kind:"subtitles","default":r.default&&r.autoselect,language:r.language,label:u},!1).track,v[u]=y))}w.on("error",ec[n](n,t))},"CLOSED-CAPTIONS":function(n,t){var l=t.tech,e=t.master.mediaGroups,s=t.mediaTypes[n],o=s.groups,h=s.tracks,u,f,r,c;for(u in e[n]){o[u]||(o[u]=[]);for(f in e[n][u])(r=e[n][u][f],r.instreamId.match(/CC\d/))&&(o[u].push(i.mergeOptions({id:f},r)),typeof h[f]=="undefined"&&(c=l.addRemoteTextTrack({id:r.instreamId,kind:"captions","default":r.default&&r.autoselect,language:r.language,label:f},!1).track,h[f]=c))}}},ydt=function(n,t){return function(i){var e=t.masterPlaylistLoader,f=t.mediaTypes[n].groups,u=e.media(),r;return u?(r=null,u.attributes[n]&&(r=f[u.attributes[n]]),r=r||f.main,typeof i=="undefined")?r:i===null?null:r.filter(function(n){return n.id===i.id})[0]||null:null}},pdt={AUDIO:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if(i[r].enabled)return i[r];return null}},SUBTITLES:function(n,t){return function(){var i=t.mediaTypes[n].tracks;for(var r in i)if(i[r].mode==="showing")return i[r];return null}}},wdt=function(n){var r,f,u,e;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){vdt[t](t,n)});var t=n.mediaTypes,o=n.masterPlaylistLoader,i=n.tech,s=n.hls;["AUDIO","SUBTITLES"].forEach(function(i){t[i].activeGroup=ydt(i,n);t[i].activeTrack=pdt[i](i,n);t[i].onGroupChanged=hdt(i,n);t[i].onTrackChanged=cdt(i,n)});r=t.AUDIO.activeGroup();f=(r.filter(function(n){return n.default})[0]||r[0]).id;t.AUDIO.tracks[f].enabled=!0;t.AUDIO.onTrackChanged();o.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(n){return t[n].onGroupChanged()})});u=function(){t.AUDIO.onTrackChanged();i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",u);i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged);s.on("dispose",function(){i.audioTracks().removeEventListener("change",u);i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)});i.clearTracks("audio");for(e in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[e])},bdt=function(){var n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){n[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:to,activeTrack:to,onGroupChanged:to,onTrackChanged:to}}),n},kdt=120,rr=void 0,ddt=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],gdt=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},ngt=function(n){function r(n){var u;ui(this,r);var t=li(this,(r.__proto__||Object.getPrototypeOf(r)).call(this)),f=n.url,o=n.withCredentials,e=n.tech,s=n.bandwidth,h=n.externHls,c=n.useCueTags,l=n.blacklistDuration,a=n.enableLowInitialPlaylist,v=n.sourceType,y=n.seekTo;if(!f)throw new Error("A non-empty playlist URL is required");return rr=h,t.withCredentials=o,t.tech_=e,t.hls_=e.hls,t.seekTo_=y,t.sourceType_=v,t.useCueTags_=c,t.blacklistDuration=l,t.enableLowInitialPlaylist=a,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:t.withCredentials,timeout:null},t.mediaTypes_=bdt(),t.mediaSource=new i.MediaSource,t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_.bind(t)),t.seekable_=i.createTimeRanges(),t.hasPlayed_=function(){return!1},t.syncController_=new edt(n),t.segmentMetadataTrack_=e.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new odt,t.inbandTextTracks_={},u={hls:t.hls_,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:s,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_},t.masterPlaylistLoader_=t.sourceType_==="dash"?new op(f,t.hls_,t.withCredentials):new tc(f,t.hls_,t.withCredentials),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new cp(i.mergeOptions(u,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),n),t.audioSegmentLoader_=new cp(i.mergeOptions(u,{loaderType:"audio"}),n),t.subtitleSegmentLoader_=new idt(i.mergeOptions(u,{loaderType:"vtt"}),n),t.setupSegmentLoaderListeners_(),ddt.forEach(function(n){t[n+"_"]=gdt.bind(t,n)}),t.logger_=no("MPC"),t.masterPlaylistLoader_.load(),t}return wi(r,n),oi(r,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=n.masterPlaylistLoader_.media(),r=n.masterPlaylistLoader_.targetDuration*1.5*1e3;n.requestOptions_.timeout=dy(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:r;t.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(t,n.requestOptions_),n.mainSegmentLoader_.load());wdt({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)});n.triggerPresenceUsage_(n.master(),t);try{n.setupSourceBuffers_()}catch(u){return i.log.warn("Failed to create SourceBuffers",u),n.mediaSource.endOfStream("decode")}n.setupFirstPlay();n.trigger("selectedinitialmedia")});this.masterPlaylistLoader_.on("loadedplaylist",function(){var i=n.masterPlaylistLoader_.media(),t,r,u;if(!i){n.excludeUnsupportedVariants_();t=void 0;n.enableLowInitialPlaylist&&(t=n.selectInitialPlaylist());t||(t=n.selectPlaylist());n.initialMedia_=t;n.masterPlaylistLoader_.media(n.initialMedia_);return}if(n.useCueTags_&&n.updateAdCues_(i),n.mainSegmentLoader_.playlist(i,n.requestOptions_),n.updateDuration(),n.tech_.paused()||(n.mainSegmentLoader_.load(),n.audioSegmentLoader_&&n.audioSegmentLoader_.load()),!i.endList)if(r=function(){var t=n.seekable();t.length!==0&&n.mediaSource.addSeekableRange_(t.start(0),t.end(0))},n.duration()!==Infinity){u=function u(){if(n.duration()===Infinity)r();else n.tech_.one("durationchange",u)};n.tech_.one("durationchange",u)}else r()});this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)});this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort();n.mainSegmentLoader_.pause()});this.masterPlaylistLoader_.on("mediachange",function(){var t=n.masterPlaylistLoader_.media(),i=n.masterPlaylistLoader_.targetDuration*1.5*1e3;n.requestOptions_.timeout=dy(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:i;n.mainSegmentLoader_.playlist(t,n.requestOptions_);n.mainSegmentLoader_.load();n.tech_.trigger({type:"mediachange",bubbles:!0})});this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=n.masterPlaylistLoader_.media(),i=n.stuckAtPlaylistEnd_(t);i&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))});this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})});this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(n,t){var i=n.mediaGroups||{},u=!0,f=Object.keys(i.AUDIO),r,e,o;for(r in i.AUDIO)for(e in i.AUDIO[r])o=i.AUDIO[r][e],o.uri||(u=!1);u&&this.tech_.trigger({type:"usage",name:"hls-demuxed"});Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"});rr.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"});rr.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"});f.length&&Object.keys(i.AUDIO[f[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"});this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var n=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var i=n.selectPlaylist(),r=n.masterPlaylistLoader_.media(),t=n.tech_.buffered(),u=t.length?t.end(t.length-1)-n.tech_.currentTime():0,f=n.bufferLowWaterLine();(!r.endList||n.duration()<bt.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<r.attributes.BANDWIDTH||u>=f)&&n.masterPlaylistLoader_.media(i);n.tech_.trigger("bandwidthupdate")});this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")});this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())});this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})});this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()});this.mainSegmentLoader_.on("ended",function(){n.onEndOfStream()});this.mainSegmentLoader_.on("earlyabort",function(){n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},kdt)});this.mainSegmentLoader_.on("reseteverything",function(){n.tech_.trigger("hls-reset")});this.mainSegmentLoader_.on("segmenttimemapping",function(t){n.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})});this.audioSegmentLoader_.on("ended",function(){n.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var n=this.selectPlaylist();n!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(n),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var n=this,t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything(function(){i.browser.IE_VERSION||i.browser.IS_EDGE?n.tech_.setCurrentTime(n.tech_.currentTime()+.04):n.tech_.setCurrentTime(n.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0);this.hasPlayed_()&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===Infinity&&this.tech_.currentTime()<n.start(0))return this.seekTo_(n.end(n.length-1))}}},{key:"setupFirstPlay",value:function(){var t=this,r=this.masterPlaylistLoader_.media(),n;if(!r||this.tech_.paused()||this.hasPlayed_())return!1;if(!r.endList){if(n=this.seekable(),!n.length)return!1;if(i.browser.IE_VERSION&&this.tech_.readyState()===0){this.tech_.one("loadedmetadata",function(){t.trigger("firstplay");t.seekTo_(n.end(0));t.hasPlayed_=function(){return!0}});return!1}this.trigger("firstplay");this.seekTo_(n.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return i.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var n=this.tech_.play();typeof n!="undefined"&&typeof n.then=="function"&&n.then(null,function(){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var n=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_);n&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(n){var e=this.seekable(),t,r;if(!e.length||(t=this.syncController_.getExpiredTime(n,this.mediaSource.duration),t===null))return!1;var u=rr.Playlist.playlistEnd(n,t),f=this.tech_.currentTime(),i=this.tech_.buffered();return i.length?(r=i.end(i.length-1),r-f<=gr&&u-r<=gr):u-f<=gr}},{key:"blacklistCurrentPlaylist",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1],r=void 0,f=void 0,u;if(r=n.playlist||this.masterPlaylistLoader_.media(),t=t||n.blacklistDuration||this.blacklistDuration,!r){this.error=n;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}return(u=this.masterPlaylistLoader_.master.playlists.filter(ic).length===1,u)?(i.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u)):(r.excludeUntil=Date.now()+t*1e3,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),f=this.selectPlaylist(),i.log.warn("Problem encountered with the current HLS playlist."+(n.message?" "+n.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(f))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause();this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause();this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(n){var t=brt(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(t&&t.length)return n;this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort());this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort());this.load()}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:rr.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var n=void 0,t=void 0,r,u;if(this.masterPlaylistLoader_&&(r=this.masterPlaylistLoader_.media(),r)&&(u=this.syncController_.getExpiredTime(r,this.mediaSource.duration),u!==null)&&(n=rr.Playlist.seekable(r,u),n.length!==0)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),u=this.syncController_.getExpiredTime(r,this.mediaSource.duration),u===null)return;if(t=rr.Playlist.seekable(r,u),t.length===0)return}this.seekable_=t?t.start(0)>n.end(0)||n.start(0)>t.end(0)?n:i.createTimeRanges([[t.start(0)>n.start(0)?t.start(0):n.start(0),t.end(0)<n.end(0)?t.end(0):n.end(0)]]):n;this.logger_("seekable updated ["+gy(this.seekable_)+"]");this.tech_.trigger("seekablechanged")}}},{key:"updateDuration",value:function(){var t=this,u=this.mediaSource.duration,n=rr.Playlist.duration(this.masterPlaylistLoader_.media()),i=this.tech_.buffered(),r=function r(){t.mediaSource.duration=n;t.tech_.trigger("durationchange");t.mediaSource.removeEventListener("sourceopen",r)};i.length>0&&(n=Math.max(n,i.end(i.length-1)));u!==n&&(this.mediaSource.readyState!=="open"?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();["AUDIO","SUBTITLES"].forEach(function(t){var i=n.mediaTypes_[t].groups;for(var r in i)i[r].forEach(function(n){n.playlistLoader&&n.playlistLoader.dispose()})});this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var n=this.masterPlaylistLoader_.media(),t=void 0;if(n&&this.mediaSource.readyState==="open"){if(t=abt(this.masterPlaylistLoader_.master,n),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+n.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t);this.excludeIncompatibleVariants_(n)}}},{key:"configureLoaderMimeTypes_",value:function(n){var t=n.length>1&&n[0].indexOf(",")===-1&&n[0]!==n[1]?new i.EventTarget:null;this.mainSegmentLoader_.mimeType(n[0],t);n[1]&&this.audioSegmentLoader_.mimeType(n[1],t)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(n){n.attributes.CODECS&&t.MediaSource&&t.MediaSource.isTypeSupported&&!t.MediaSource.isTypeSupported('video/mp4; codecs="'+sbt(n.attributes.CODECS)+'"')&&(n.excludeUntil=Infinity)})}},{key:"excludeIncompatibleVariants_",value:function(n){var i=2,r=null,t=void 0;n.attributes.CODECS&&(t=de(n.attributes.CODECS),r=t.videoCodec,i=t.codecCount);this.master().playlists.forEach(function(n){var t={codecCount:2,videoCodec:null};n.attributes.CODECS&&(t=de(n.attributes.CODECS));t.codecCount!==i&&(n.excludeUntil=Infinity);t.videoCodec!==r&&(n.excludeUntil=Infinity)})}},{key:"updateAdCues_",value:function(n){var t=0,i=this.seekable();i.length&&(t=i.start(0));udt(n,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),n=bt.GOAL_BUFFER_LENGTH,i=bt.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,bt.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*i,r)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),n=bt.BUFFER_LOW_WATER_LINE,i=bt.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,bt.MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*i,r)}}]),r}(i.EventTarget),tgt=function(n,t,i){return function(r){var u=n.master.playlists[t],e=ky(u),f=ic(u);return typeof r=="undefined"?f:(r?delete u.disabled:u.disabled=!0,r===f||e||(i(),r?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),r)}},kut=function kut(n,t,i){var r;ui(this,kut);var u=n.masterPlaylistController_,f=n.options_.smoothQualityChange,e=f?"smooth":"fast",o=u[e+"QualityChange_"].bind(u);t.attributes.RESOLUTION&&(r=t.attributes.RESOLUTION,this.width=r.width,this.height=r.height);this.bandwidth=t.attributes.BANDWIDTH;this.id=i;this.enabled=tgt(n.playlists,t.uri,o)},igt=function(n){var t=n.playlists;n.representations=function(){return t.master.playlists.filter(function(n){return!ky(n)}).map(function(t){return new kut(n,t,t.uri)})}},dut=["seeking","seeked","pause","playing","error"],rgt=function(){function n(i){var r=this;ui(this,n);this.tech_=i.tech;this.seekable=i.seekable;this.seekTo=i.seekTo;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=no("PlaybackWatcher");this.logger_("initialize");var u=function(){return r.monitorCurrentTime_()},f=function(){return r.techWaiting_()},e=function(){return r.cancelTimer_()},o=function(){return r.fixesBadSeeks_()};this.tech_.on("seekablechanged",o);this.tech_.on("waiting",f);this.tech_.on(dut,e);this.tech_.on("canplay",u);this.dispose=function(){r.logger_("dispose");r.tech_.off("seekablechanged",o);r.tech_.off("waiting",f);r.tech_.off(dut,e);r.tech_.off("canplay",u);r.checkCurrentTimeTimeout_&&t.clearTimeout(r.checkCurrentTimeTimeout_);r.cancelTimer_()}}return oi(n,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_();this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_);this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_()){this.consecutiveUpdates=0;this.lastRecordedTime=this.tech_.currentTime();return}if(!this.tech_.paused()&&!this.tech_.seeking()){var n=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===n&&(!t.length||n+gr>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0;this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_));this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var r=this.tech_.seeking(),n=this.seekable(),i=this.tech_.currentTime(),t=void 0,u,f;return(r&&this.afterSeekableWindow_(n,i)&&(u=n.end(n.length-1),t=u),r&&this.beforeSeekableWindow_(n,i)&&(f=n.start(0),t=f+gr),typeof t!="undefined")?(this.logger_("Trying to seek outside of seekable at time "+i+" with "+("seekable range "+gy(n)+". Seeking to ")+(t+".")),this.seekTo(t),!0):!1}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),i=this.tech_.buffered(),t=brt(i,n);if(t.length&&n+3<=t.end(0)){this.cancelTimer_();this.seekTo(n);this.logger_("Stopped at "+n+" while inside a buffered region "+("["+t.start(0)+" -> "+t.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time.");this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}}},{key:"techWaiting_",value:function(){var i=this.seekable(),n=this.tech_.currentTime(),r,u,t,f;return this.tech_.seeking()&&this.fixesBadSeeks_()?!0:this.tech_.seeking()||this.timer_!==null?!0:this.beforeSeekableWindow_(i,n)?(r=i.end(i.length-1),this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+r)),this.cancelTimer_(),this.seekTo(r),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0):(u=this.tech_.buffered(),t=krt(u,n),this.videoUnderflow_(t,u,n))?(this.cancelTimer_(),this.seekTo(n),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0):t.length>0?(f=t.start(0)-n,this.logger_("Stopped at "+n+", setting timer for "+f+", seeking "+("to "+t.start(0))),this.timer_=setTimeout(this.skipTheGap_.bind(this),f*1e3,n),!0):!1}},{key:"afterSeekableWindow_",value:function(n,t){return n.length?t>n.end(n.length-1)+gr?!0:!1:!1}},{key:"beforeSeekableWindow_",value:function(n,t){return n.length&&n.start(0)>0&&t<n.start(0)-gr?!0:!1}},{key:"videoUnderflow_",value:function(n,t,i){if(n.length===0){var r=this.gapFromVideoUnderflow_(t,i);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". "+("Seeking to current time "+i)),!0}return!1}},{key:"skipTheGap_",value:function(n){var r=this.tech_.buffered(),t=this.tech_.currentTime(),i=krt(r,t);(this.cancelTimer_(),i.length!==0&&t===n)&&(this.logger_("skipTheGap_:","currentTime:",t,"scheduled currentTime:",n,"nextRange start:",i.start(0)),this.seekTo(i.start(0)+ff),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(n,t){for(var r,f,u=gwt(n),i=0;i<u.length;i++)if(r=u.start(i),f=u.end(i),t-r<4&&t-r>2)return{start:r,end:f};return null}}]),n}(),ugt={errorInterval:30,getSource:function(n){var t=this.tech({IWillNotUseThisInPlugins:!0}),i=t.currentSource_;return n(i)}},gut=function gut(n,t){var e=0,u=0,r=i.mergeOptions(ugt,t);n.ready(function(){n.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){u&&n.currentTime(u)},h=function(t){if(t!==null&&t!==undefined){u=n.duration()!==Infinity&&n.currentTime()||0;n.one("loadedmetadata",o);n.src(t);n.trigger({type:"usage",name:"hls-error-reload"});n.play()}},s=function(){if(Date.now()-e<r.errorInterval*1e3){n.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){i.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return e=Date.now(),r.getSource.call(n,h)},f=function f(){n.off("loadedmetadata",o);n.off("error",s);n.off("dispose",f)},c=function(t){f();gut(n,t)};n.on("error",s);n.on("dispose",f);n.reloadSourceOnError=c},nft=function(n){gut(this,n)};i.use("*",function(n){return{setSource:function(n,t){t(null,n)},setCurrentTime:function(t){return n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(t),t},play:function(){n.vhs&&n.currentSource().src===n.vhs.source_.src&&n.vhs.setCurrentTime(n.currentTime())}}});ht={PlaylistLoader:tc,Playlist:wt,Decrypter:lpt,AsyncStream:bit,decrypt:kit,utils:ywt,STANDARD_PLAYLIST_SELECTOR:ykt,INITIAL_PLAYLIST_SELECTOR:wkt,comparePlaylistBandwidth:hp,comparePlaylistResolution:akt,xhr:crt()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(n){Object.defineProperty(ht,n,{get:function(){return i.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),bt[n]},set:function(t){if(i.log.warn("using Hls."+n+" is UNSAFE be sure you know what you are doing"),typeof t!="number"||t<0){i.log.warn("value of Hls."+n+" must be greater than or equal to 0");return}bt[n]=t}})});var tft="videojs-vhs",ift=function(n){var t;return/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(n)?"hls":(t=/^application\/dash\+xml/i,t.test(n))?"dash":null},rft=function(n,t){for(var u=t.media(),r=-1,i=0;i<n.length;i++)if(n[i].id===u.uri){r=i;break}n.selectedIndex_=r;n.trigger({selectedIndex:r,type:"change"})},fgt=function(n,t){t.representations().forEach(function(t){n.addQualityLevel(t)});rft(n,t.playlists)};ht.canPlaySource=function(){return i.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var egt=function(n,t,r){var f,u;if(!n)return n;f={};for(u in n)f[u]={audioContentType:'audio/mp4; codecs="'+r.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+t.attributes.CODECS+'"'},t.contentProtection&&t.contentProtection[u]&&t.contentProtection[u].pssh&&(f[u].pssh=t.contentProtection[u].pssh),typeof n[u]=="string"&&(f[u].url=n[u]);return i.mergeOptions(n,f)},ogt=function(n){var t,r;n.options_.sourceType==="dash"&&(t=i.players[n.tech_.options_.playerId],t.eme&&(r=egt(n.source_.keySystems,n.playlists.media(),n.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media()),r&&(t.currentSource().keySystems=r,t.eme.initializeMediaKeys&&t.eme.initializeMediaKeys())))},uft=function(){if(!window.localStorage)return null;var n=window.localStorage.getItem(tft);if(!n)return null;try{return JSON.parse(n)}catch(t){return null}},sgt=function(n){if(!window.localStorage)return!1;var t=uft();t=t?i.mergeOptions(t,n):n;try{window.localStorage.setItem(tft,JSON.stringify(t))}catch(r){return!1}return t};ht.supportsNativeHls=function(){var r=n.createElement("video"),t;return i.getTech("Html5").isSupported()?(t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t.some(function(n){return/maybe|probably/i.test(r.canPlayType(n))})):!1}();ht.supportsNativeDash=function(){return i.getTech("Html5").isSupported()?/maybe|probably/i.test(n.createElement("video").canPlayType("application/dash+xml")):!1}();ht.supportsTypeNatively=function(n){return n==="hls"?ht.supportsNativeHls:n==="dash"?ht.supportsNativeDash:!1};ht.isSupported=function(){return i.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var hgt=i.getComponent("Component"),fft=function(t){function r(t,u,f){var e,o;if(ui(this,r),e=li(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,u,f.hls)),u.options_&&u.options_.playerId&&(o=i(u.options_.playerId),o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return i.log.warn("player.hls is deprecated. Use player.tech().hls instead."),u.trigger({type:"usage",name:"hls-player-access"}),e},configurable:!0}),o.vhs=e,o.dash=e,e.player_=o),e.tech_=u,e.source_=t,e.stats={},e.setOptions_(),e.options_.overrideNative&&u.overrideNativeAudioTracks&&u.overrideNativeVideoTracks)u.overrideNativeAudioTracks(!0),u.overrideNativeVideoTracks(!0);else if(e.options_.overrideNative&&(u.featuresNativeVideoTracks||u.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");e.on(n,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(){var t=n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement;t&&t.contains(e.tech_.el())&&e.masterPlaylistController_.smoothQualityChange_()});e.on(e.tech_,"seeking",function(){this.tech_.seeking()&&this.tech_.currentTime()===0&&this.tech_.player_.loop()&&this.setCurrentTime(0)});e.on(e.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()});e.on(e.tech_,"play",e.play);return e}return wi(r,t),oi(r,[{key:"setOptions_",value:function(){var t=this,n;this.options_.withCredentials=this.options_.withCredentials||!1;this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions===!1?!1:!0;this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1;this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1;typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=300);typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage&&(n=uft(),n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"})));typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=bt.INITIAL_BANDWIDTH);this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===bt.INITIAL_BANDWIDTH;["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(n){typeof t.source_[n]!="undefined"&&(t.options_[n]=t.source_[n])});this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(n,t){var r=this;if(n){this.setOptions_();this.options_.url=this.source_.src;this.options_.tech=this.tech_;this.options_.externHls=ht;this.options_.sourceType=ift(t);this.options_.seekTo=function(n){r.tech_.setCurrentTime(n);r.setCurrentTime(n)};this.masterPlaylistController_=new ngt(this.options_);this.playbackWatcher_=new rgt(i.mergeOptions(this.options_,{seekable:function(){return r.seekable()}}));this.masterPlaylistController_.on("error",function(){var n=i.players[r.tech_.options_.playerId];n.error(r.masterPlaylistController_.error)});this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ht.STANDARD_PLAYLIST_SELECTOR.bind(this);this.masterPlaylistController_.selectInitialPlaylist=ht.INITIAL_PLAYLIST_SELECTOR.bind(this);this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(n){this.masterPlaylistController_.selectPlaylist=n.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=n;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(n){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=n;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),n=void 0;return n=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+n))},set:function(){i.log.error('The "systemBandwidth" property is read-only')}}});this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth);this.options_.throughput&&(this.throughput=this.options_.throughput);Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return drt(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return drt(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}});this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.tech_.on("bandwidthupdate",function(){r.options_.useBandwidthFromLocalStorage&&sgt({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})});this.masterPlaylistController_.on("selectedinitialmedia",function(){igt(r);ogt(r)});this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")});(this.tech_.ready(function(){return r.setupQualityLevels_()}),this.tech_.el())&&this.tech_.src(i.URL.createObjectURL(this.masterPlaylistController_.mediaSource))}}},{key:"setupQualityLevels_",value:function(){var n=this,t=i.players[this.tech_.options_.playerId];if(t&&t.qualityLevels){this.qualityLevels_=t.qualityLevels();this.masterPlaylistController_.on("selectedinitialmedia",function(){fgt(n.qualityLevels_,n)});this.playlists.on("mediachange",function(){rft(n.qualityLevels_,n.playlists)})}}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(n){this.masterPlaylistController_.setCurrentTime(n)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose();this.masterPlaylistController_&&this.masterPlaylistController_.dispose();this.qualityLevels_&&this.qualityLevels_.dispose();this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls);this.tech_&&this.tech_.hls&&delete this.tech_.hls;apt(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this)}},{key:"convertToStreamTime",value:function(n,t){return dwt({playlist:this.masterPlaylistController_.media(),time:n,callback:t})}},{key:"seekToStreamTime",value:function(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:2;return prt({streamTime:n,playlist:this.masterPlaylistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}}]),r}(hgt),ap={name:"videojs-http-streaming",VERSION:"1.5.1",canHandleSource:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=i.mergeOptions(i.options,t);return ap.canPlayType(n.type,r)},handleSource:function(n,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},u=i.mergeOptions(i.options,r);return t.hls=new fft(n,t,u),t.hls.xhr=crt(),t.hls.src(n.src,n.type),t.hls},canPlayType:function(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},u=i.mergeOptions(i.options,r),f=u.hls.overrideNative,t=ift(n),e=t&&(!ht.supportsTypeNatively(t)||f);return e?"maybe":""}};return(typeof i.MediaSource=="undefined"||typeof i.URL=="undefined")&&(i.MediaSource=ge,i.URL=ep),ge.supportsNativeMediaSources()&&i.getTech("Html5").registerSourceHandler(ap,0),i.HlsHandler=fft,i.HlsSourceHandler=ap,i.Hls=ht,i.use||i.registerComponent("Hls",ht),i.options.hls=i.options.hls||{},i.registerPlugin?i.registerPlugin("reloadSourceOnError",nft):i.plugin("reloadSourceOnError",nft),i});videojs.addLanguage("ar",{Play:"تشغيل",Pause:"إيقاف","Current Time":"الوقت الحالي",Duration:"مدة","Remaining Time":"الوقت المتبقي","Stream Type":"نوع التيار",LIVE:"مباشر",Loaded:"تم التحميل",Progress:"التقدم",Fullscreen:"ملء الشاشة","Non-Fullscreen":"تعطيل ملء الشاشة",Mute:"صامت",Unmute:"غير الصامت","Playback Rate":"معدل التشغيل",Subtitles:"الترجمة","subtitles off":"إيقاف الترجمة",Captions:"التعليقات","captions off":"إيقاف التعليقات",Chapters:"فصول","You aborted the media playback":"لقد ألغيت تشغيل الفيديو","A network error caused the media download to fail part-way.":"تسبب خطأ في الشبكة بفشل تحميل الفيديو بالكامل.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"لا يمكن تحميل الفيديو بسبب فشل في الخادوم أو الشبكة ، أو فشل بسبب عدم إمكانية قراءة تنسيق الفيديو.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"تم إيقاف تشغيل الفيديو بسبب مشكلة فساد أو لأن الفيديو المستخدم يستخدم ميزات غير مدعومة من متصفحك.","No compatible source was found for this media.":"فشل العثور على أي مصدر متوافق مع هذا الفيديو.","Play Video":"تشغيل الفيديو",Close:"أغلق","Modal Window":"نافذة مشروطة","This is a modal window":"هذه نافذة مشروطة","This modal can be closed by pressing the Escape key or activating the close button.":"يمكن غلق هذه النافذة المشروطة عن طريق الضغط على زر الخروج أو تفعيل زر الإغلاق",", opens captions settings dialog":", تفتح نافذة  خيارات التعليقات",", opens subtitles settings dialog":", تفتح نافذة  خيارات الترجمة",", selected":", مختار"});videojs.addLanguage("ba",{Play:"Pusti",Pause:"Pauza","Current Time":"Trenutno vrijeme",Duration:"Vrijeme trajanja","Remaining Time":"Preostalo vrijeme","Stream Type":"Način strimovanja",LIVE:"UŽIVO",Loaded:"Učitan",Progress:"Progres",Fullscreen:"Puni ekran","Non-Fullscreen":"Mali ekran",Mute:"Prigušen",Unmute:"Ne-prigušen","Playback Rate":"Stopa reprodukcije",Subtitles:"Podnaslov","subtitles off":"Podnaslov deaktiviran",Captions:"Titlovi","captions off":"Titlovi deaktivirani",Chapters:"Poglavlja","You aborted the media playback":"Isključili ste reprodukciju videa.","A network error caused the media download to fail part-way.":"Video se prestao preuzimati zbog greške na mreži.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video se ne može reproducirati zbog servera, greške u mreži ili je format ne podržan.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Reprodukcija videa je zaustavljenja zbog greške u formatu ili zbog verzije vašeg pretraživača.","No compatible source was found for this media.":"Nije nađen nijedan kompatibilan izvor ovog videa."});videojs.addLanguage("bg",{Play:"Възпроизвеждане",Pause:"Пауза","Current Time":"Текущо време",Duration:"Продължителност","Remaining Time":"Оставащо време","Stream Type":"Тип на потока",LIVE:"НА ЖИВО",Loaded:"Заредено",Progress:"Прогрес",Fullscreen:"Цял екран","Non-Fullscreen":"Спиране на цял екран",Mute:"Без звук",Unmute:"Със звук","Playback Rate":"Скорост на възпроизвеждане",Subtitles:"Субтитри","subtitles off":"Спряни субтитри",Captions:"Аудио надписи","captions off":"Спряни аудио надписи",Chapters:"Глави","You aborted the media playback":"Спряхте възпроизвеждането на видеото","A network error caused the media download to fail part-way.":"Грешка в мрежата провали изтеглянето на видеото.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Видеото не може да бъде заредено заради проблем със сървъра или мрежата или защото този формат не е поддържан.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Възпроизвеждането на видеото беше прекъснато заради проблем с файла или защото видеото използва опции които браузърът Ви не поддържа.","No compatible source was found for this media.":"Не беше намерен съвместим източник за това видео."});videojs.addLanguage("ca",{Play:"Reproducció",Pause:"Pausa","Current Time":"Temps reproduït",Duration:"Durada total","Remaining Time":"Temps restant","Stream Type":"Tipus de seqüència",LIVE:"EN DIRECTE",Loaded:"Carregat",Progress:"Progrés",Fullscreen:"Pantalla completa","Non-Fullscreen":"Pantalla no completa",Mute:"Silencia",Unmute:"Amb so","Playback Rate":"Velocitat de reproducció",Subtitles:"Subtítols","subtitles off":"Subtítols desactivats",Captions:"Llegendes","captions off":"Llegendes desactivades",Chapters:"Capítols","You aborted the media playback":"Heu interromput la reproducció del vídeo.","A network error caused the media download to fail part-way.":"Un error de la xarxa ha interromput la baixada del vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No s'ha pogut carregar el vídeo perquè el servidor o la xarxa han fallat, o bé perquè el seu format no és compatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducció de vídeo s'ha interrumput per un problema de corrupció de dades o bé perquè el vídeo demanava funcions que el vostre navegador no ofereix.","No compatible source was found for this media.":"No s'ha trobat cap font compatible amb el vídeo."});videojs.addLanguage("cs",{"Audio Player":"Audio Přehravač","Video Player":"Video Přehravač",Play:"Přehrát",Pause:"Pauza",Replay:"Spustit znovu","Current Time":"Aktuální čas",Duration:"Doba trvání","Remaining Time":"Zbývající čas","Stream Type":"Typ streamu",LIVE:"ŽIVĚ",Loaded:"Načteno",Progress:"Stav","Progress Bar":"Ukazatel průběhu","progress bar timing: currentTime={1} duration={2}":"{1} z {2}",Fullscreen:"Celá obrazovka","Non-Fullscreen":"Běžné zobrazení",Mute:"Ztlumit zvuk",Unmute:"Zapnout zvuk","Playback Rate":"Rychlost přehrávání",Subtitles:"Titulky","subtitles off":"Bez titulků",Captions:"Popisky","captions off":"Popisky vypnuty",Chapters:"Kapitoly",Descriptions:"Popisy","descriptions off":"Bez popisů","Audio Track":"Zvuková stopa","Volume Level":"Hlasitost","You aborted the media playback":"Přehrávání videa bylo přerušeno.","A network error caused the media download to fail part-way.":"Video nemohlo být načteno kvůli chybě v síti.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video nemohlo být načteno, buď kvůli chybě serveru, sítě nebo proto, že daný formát není podporován.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Váš prohlížeč nepodporuje tento formát videa.","No compatible source was found for this media.":"Nevalidní zadaný zdroj videa.","The media is encrypted and we do not have the keys to decrypt it.":"Chyba při dešifrování videa.","Play Video":"Přehrát video",Close:"Zavřit","Close Modal Dialog":"Zavřít okno","Modal Window":"Modální okno","This is a modal window":"Toto je modální okno","This modal can be closed by pressing the Escape key or activating the close button.":"Toto okno se dá zavřít křížkem nebo klávesou Esc.",", opens captions settings dialog":", otevřít okno pro nastavení popisků",", opens subtitles settings dialog":", otevřít okno pro nastavení titulků",", opens descriptions settings dialog":", otevře okno pro nastavení popisků pro nevidomé",", selected":", vybráno","captions settings":"nastavení popisků","subtitles settings":"nastavení titulků","descriptions settings":"nastavení popisků pro nevidomé",Text:"Titulky",White:"Bílé",Black:"Černé",Red:"Červené",Green:"Zelené",Blue:"Modré",Yellow:"Žluté",Magenta:"Fialové",Cyan:"Azurové",Background:"Pozadí titulků",Window:"Okno",Transparent:"Průhledné","Semi-Transparent":"Poloprůhledné",Opaque:"Neprůhledné","Font Size":"Velikost písma","Text Edge Style":"Okraje písma",None:"Bez okraje",Raised:"Zvýšený",Depressed:"Propadlý",Uniform:"Rovnoměrný",Dropshadow:"Stínovaný","Font Family":"Rodina písma","Proportional Sans-Serif":"Proporcionální bezpatkové","Monospace Sans-Serif":"Monospace bezpatkové","Proportional Serif":"Proporcionální patkové","Monospace Serif":"Monospace patkové",Casual:"Hravé",Script:"Ručně psané","Small Caps":"Malé kapitálky",Reset:"Obnovit","restore all settings to the default values":"Vrátit nastavení do výchozího stavu",Done:"Hotovo","Caption Settings Dialog":"Okno s nastavením titulků","Beginning of dialog window. Escape will cancel and close the window.":"Začátek dialogového okna. Klávesa Esc okno zavře.","End of dialog window.":"Konec dialogového okna.","{1} is loading.":"{1} se načítá."});videojs.addLanguage("cy",{"Audio Player":"Chwaraewr sain","Video Player":"Chwaraewr fideo",Play:"Chwarae",Pause:"Oedi",Replay:"Ailchwarae","Current Time":"Amser Cyfredol",Duration:"Parhad","Remaining Time":"Amser ar ôl","Stream Type":"Math o Ffrwd",LIVE:"YN FYW",Loaded:"Llwythwyd",Progress:"Cynnydd","Progress Bar":"Bar Cynnydd","progress bar timing: currentTime={1} duration={2}":"{1} o {2}",Fullscreen:"Sgrîn Lawn","Non-Fullscreen":"Ffenestr",Mute:"Pylu",Unmute:"Dad-bylu","Playback Rate":"Cyfradd Chwarae",Subtitles:"Isdeitlau","subtitles off":"Isdeitlau i ffwrdd",Captions:"Capsiynau","captions off":"Capsiynau i ffwrdd",Chapters:"Penodau",Descriptions:"Disgrifiadau","descriptions off":"disgrifiadau i ffwrdd","Audio Track":"Trac Sain","Volume Level":"Lefel Sain","You aborted the media playback":"Atalwyd y fideo gennych","A network error caused the media download to fail part-way.":"Mae gwall rhwydwaith wedi achosi methiant lawrlwytho.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Ni lwythodd y fideo, oherwydd methiant gweinydd neu rwydwaith, neu achos nid yw'r system yn cefnogi'r fformat.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Atalwyd y fideo oherwydd problem llygredd data neu oherwydd nid yw'ch porwr yn cefnogi nodweddion penodol o'r fideo.","No compatible source was found for this media.":"Nid oedd modd canfod ffynhonnell cytûn am y fideo hwn.","The media is encrypted and we do not have the keys to decrypt it.":"Mae'r fideo wedi ei amgryptio ac nid oes allweddion gennym.","Play Video":"Chwarae Fideo",Close:"Cau","Close Modal Dialog":"Cau Blwch Deialog Moddol","Modal Window":"Ffenestr Foddol","This is a modal window":"Mae hon yn ffenestr foddol","This modal can be closed by pressing the Escape key or activating the close button.":"Gallech chi gau'r ffenestr foddol hon trwy wasgu Escape neu glicio'r botwm cau.",", opens captions settings dialog":", yn agor gosodiadau capsiynau",", opens subtitles settings dialog":", yn agor gosodiadau isdeitlau",", opens descriptions settings dialog":", yn agor gosodiadau disgrifiadau",", selected":", detholwyd","captions settings":"gosodiadau capsiynau","subtitles settings":"gosodiadau isdeitlau","descriptions settings":"gosodiadau disgrifiadau",Text:"Testun",White:"Gwyn",Black:"Du",Red:"Coch",Green:"Gwyrdd",Blue:"Glas",Yellow:"Melyn",Magenta:"Piws",Cyan:"Cyan",Background:"Cefndir",Window:"Ffenestr",Transparent:"Tryloyw","Semi-Transparent":"Hanner-dryloyw",Opaque:"Di-draidd","Font Size":"Maint y Ffont","Text Edge Style":"Arddull Ymylon Testun",None:"Dim",Raised:"Uwch",Depressed:"Is",Uniform:"Unffurf",Dropshadow:"Cysgod cefn","Font Family":"Teulu y Ffont","Proportional Sans-Serif":"Heb-Seriff Cyfraneddol","Monospace Sans-Serif":"Heb-Seriff Unlled","Proportional Serif":"Seriff Gyfraneddol","Monospace Serif":"Seriff Unlled",Casual:"Llawysgrif",Script:"Sgript","Small Caps":"Prif Lythyrennau Bychain",Reset:"Ailosod","restore all settings to the default values":"Adfer yr holl osodiadau diofyn",Done:"Gorffenwyd","Caption Settings Dialog":"Blwch Gosodiadau Capsiynau","Beginning of dialog window. Escape will cancel and close the window.":"Dechrau ffenestr deialog. Bydd Escape yn canslo a chau'r ffenestr.","End of dialog window.":"Diwedd ffenestr deialog.","{1} is loading.":"{1} yn llwytho."});videojs.addLanguage("da",{Play:"Afspil",Pause:"Pause","Current Time":"Aktuel tid",Duration:"Varighed","Remaining Time":"Resterende tid","Stream Type":"Stream-type",LIVE:"LIVE",Loaded:"Indlæst",Progress:"Status",Fullscreen:"Fuldskærm","Non-Fullscreen":"Luk fuldskærm",Mute:"Uden lyd",Unmute:"Med lyd","Playback Rate":"Afspilningsrate",Subtitles:"Undertekster","subtitles off":"Uden undertekster",Captions:"Undertekster for hørehæmmede","captions off":"Uden undertekster for hørehæmmede",Chapters:"Kapitler","You aborted the media playback":"Du afbrød videoafspilningen.","A network error caused the media download to fail part-way.":"En netværksfejl fik download af videoen til at fejle.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Videoen kunne ikke indlæses, enten fordi serveren eller netværket fejlede, eller fordi formatet ikke er understøttet.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Videoafspilningen blev afbrudt på grund af ødelagte data eller fordi videoen benyttede faciliteter som din browser ikke understøtter.","No compatible source was found for this media.":"Fandt ikke en kompatibel kilde for denne media."});videojs.addLanguage("de",{Play:"Wiedergabe",Pause:"Pause",Replay:"Erneut abspielen","Current Time":"Aktueller Zeitpunkt",Duration:"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Kein Vollbild",Mute:"Ton aus",Unmute:"Ton ein","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","subtitles off":"Untertitel aus",Captions:"Untertitel","captions off":"Untertitel aus",Chapters:"Kapitel","You aborted the media playback":"Sie haben die Videowiedergabe abgebrochen.","A network error caused the media download to fail part-way.":"Der Videodownload ist aufgrund eines Netzwerkfehlers fehlgeschlagen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Das Video konnte nicht geladen werden, da entweder ein Server- oder Netzwerkfehler auftrat oder das Format nicht unterstützt wird.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Die Videowiedergabe wurde entweder wegen eines Problems mit einem beschädigten Video oder wegen verwendeten Funktionen, die vom Browser nicht unterstützt werden, abgebrochen.","No compatible source was found for this media.":"Für dieses Video wurde keine kompatible Quelle gefunden.","Play Video":"Video abspielen",Close:"Schließen","Modal Window":"Modales Fenster","This is a modal window":"Dies ist ein modales Fenster","This modal can be closed by pressing the Escape key or activating the close button.":'Durch Drücken der Esc-Taste bzw. Betätigung der Schaltfläche "Schließen" wird dieses modale Fenster geschlossen.',", opens captions settings dialog":", öffnet Einstellungen für Untertitel",", opens subtitles settings dialog":", öffnet Einstellungen für Untertitel",", selected":", ausgewählt","captions settings":"Untertiteleinstellungen","subtitles settings":"Untertiteleinstellungen","descriptions settings":"Einstellungen für Beschreibungen","Close Modal Dialog":"Modales Fenster schließen",Descriptions:"Beschreibungen","descriptions off":"Beschreibungen aus","The media is encrypted and we do not have the keys to decrypt it.":"Die Entschlüsselungsschlüssel für den verschlüsselten Medieninhalt sind nicht verfügbar.",", opens descriptions settings dialog":", öffnet Einstellungen für Beschreibungen","Audio Track":"Tonspur",Text:"Schrift",White:"Weiß",Black:"Schwarz",Red:"Rot",Green:"Grün",Blue:"Blau",Yellow:"Gelb",Magenta:"Magenta",Cyan:"Türkis",Background:"Hintergrund",Window:"Fenster",Transparent:"Durchsichtig","Semi-Transparent":"Halbdurchsichtig",Opaque:"Undurchsictig","Font Size":"Schriftgröße","Text Edge Style":"Textkantenstil",None:"Kein",Raised:"Erhoben",Depressed:"Gedrückt",Uniform:"Uniform",Dropshadow:"Schlagschatten","Font Family":"Schristfamilie","Proportional Sans-Serif":"Proportionale Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportionale Serif","Monospace Serif":"Monospace Serif",Casual:"Zwanglos",Script:"Schreibeschrift","Small Caps":"Small-Caps",Reset:"Zurücksetzen","restore all settings to the default values":"Alle Einstellungen auf die Standardwerte zurücksetzen",Done:"Fertig","Caption Settings Dialog":"Einstellungsdialog für Untertitel","Beginning of dialog window. Escape will cancel and close the window.":"Anfang des Dialogfensters. Esc bricht ab und schließt das Fenster.","End of dialog window.":"Ende des Dialogfensters.","Audio Player":"Audio-Player","Video Player":"Video-Player","Progress Bar":"Forschrittsbalken","progress bar timing: currentTime={1} duration={2}":"{1} von {2}","Volume Level":"Lautstärkestufe"});videojs.addLanguage("el",{Play:"Aναπαραγωγή",Pause:"Παύση","Current Time":"Τρέχων χρόνος",Duration:"Συνολικός χρόνος","Remaining Time":"Υπολοιπόμενος χρόνος","Stream Type":"Τύπος ροής",LIVE:"ΖΩΝΤΑΝΑ",Loaded:"Φόρτωση επιτυχής",Progress:"Πρόοδος",Fullscreen:"Πλήρης οθόνη","Non-Fullscreen":"Έξοδος από πλήρη οθόνη",Mute:"Σίγαση",Unmute:"Kατάργηση σίγασης","Playback Rate":"Ρυθμός αναπαραγωγής",Subtitles:"Υπότιτλοι","subtitles off":"απόκρυψη υπότιτλων",Captions:"Λεζάντες","captions off":"απόκρυψη λεζάντων",Chapters:"Κεφάλαια","Close Modal Dialog":"Κλείσιμο παραθύρου",Descriptions:"Περιγραφές","descriptions off":"απόκρυψη περιγραφών","Audio Track":"Ροή ήχου","You aborted the media playback":"Ακυρώσατε την αναπαραγωγή","A network error caused the media download to fail part-way.":"Ένα σφάλμα δικτύου προκάλεσε την αποτυχία μεταφόρτωσης του αρχείου προς αναπαραγωγή.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Το αρχείο προς αναπαραγωγή δεν ήταν δυνατό να φορτωθεί είτε γιατί υπήρξε σφάλμα στον διακομιστή ή το δίκτυο, είτε γιατί ο τύπος του αρχείου δεν υποστηρίζεται.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Η αναπαραγωγή ακυρώθηκε είτε λόγω κατεστραμμένου αρχείου, είτε γιατί το αρχείο απαιτεί λειτουργίες που δεν υποστηρίζονται από το πρόγραμμα περιήγησης που χρησιμοποιείτε.","No compatible source was found for this media.":"Δεν βρέθηκε συμβατή πηγή αναπαραγωγής για το συγκεκριμένο αρχείο.","The media is encrypted and we do not have the keys to decrypt it.":"Το αρχείο προς αναπαραγωγή είναι κρυπτογραφημένo και δεν υπάρχουν τα απαραίτητα κλειδιά αποκρυπτογράφησης.","Play Video":"Αναπαραγωγή βίντεο",Close:"Κλείσιμο","Modal Window":"Aναδυόμενο παράθυρο","This is a modal window":"Το παρών είναι ένα αναδυόμενο παράθυρο","This modal can be closed by pressing the Escape key or activating the close button.":"Αυτό το παράθυρο μπορεί να εξαφανιστεί πατώντας το πλήκτρο Escape ή πατώντας το κουμπί κλεισίματος.",", opens captions settings dialog":", εμφανίζει τις ρυθμίσεις για τις λεζάντες",", opens subtitles settings dialog":", εμφανίζει τις ρυθμίσεις για τους υπότιτλους",", opens descriptions settings dialog":", εμφανίζει τις ρυθμίσεις για τις περιγραφές",", selected":", επιλεγμένο"});videojs.addLanguage("en",{"Audio Player":"Audio Player","Video Player":"Video Player",Play:"Play",Pause:"Pause",Replay:"Replay","Current Time":"Current Time",Duration:"Duration","Remaining Time":"Remaining Time","Stream Type":"Stream Type",LIVE:"LIVE","Seek to live, currently behind live":"Seek to live, currently behind live","Seek to live, currently playing live":"Seek to live, currently playing live",Loaded:"Loaded",Progress:"Progress","Progress Bar":"Progress Bar","progress bar timing: currentTime={1} duration={2}":"{1} of {2}",Fullscreen:"Fullscreen","Non-Fullscreen":"Non-Fullscreen",Mute:"Mute",Unmute:"Unmute","Playback Rate":"Playback Rate",Subtitles:"Subtitles","subtitles off":"subtitles off",Captions:"Captions","captions off":"captions off",Chapters:"Chapters",Descriptions:"Descriptions","descriptions off":"descriptions off","Audio Track":"Audio Track","Volume Level":"Volume Level","You aborted the media playback":"You aborted the media playback","A network error caused the media download to fail part-way.":"A network error caused the media download to fail part-way.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"The media could not be loaded, either because the server or network failed or because the format is not supported.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.","No compatible source was found for this media.":"No compatible source was found for this media.","The media is encrypted and we do not have the keys to decrypt it.":"The media is encrypted and we do not have the keys to decrypt it.","Play Video":"Play Video",Close:"Close","Close Modal Dialog":"Close Modal Dialog","Modal Window":"Modal Window","This is a modal window":"This is a modal window","This modal can be closed by pressing the Escape key or activating the close button.":"This modal can be closed by pressing the Escape key or activating the close button.",", opens captions settings dialog":", opens captions settings dialog",", opens subtitles settings dialog":", opens subtitles settings dialog",", opens descriptions settings dialog":", opens descriptions settings dialog",", selected":", selected","captions settings":"captions settings","subtitles settings":"subititles settings","descriptions settings":"descriptions settings",Text:"Text",White:"White",Black:"Black",Red:"Red",Green:"Green",Blue:"Blue",Yellow:"Yellow",Magenta:"Magenta",Cyan:"Cyan",Background:"Background",Window:"Window",Transparent:"Transparent","Semi-Transparent":"Semi-Transparent",Opaque:"Opaque","Font Size":"Font Size","Text Edge Style":"Text Edge Style",None:"None",Raised:"Raised",Depressed:"Depressed",Uniform:"Uniform",Dropshadow:"Dropshadow","Font Family":"Font Family","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:"Casual",Script:"Script","Small Caps":"Small Caps",Reset:"Reset","restore all settings to the default values":"restore all settings to the default values",Done:"Done","Caption Settings Dialog":"Caption Settings Dialog","Beginning of dialog window. Escape will cancel and close the window.":"Beginning of dialog window. Escape will cancel and close the window.","End of dialog window.":"End of dialog window.","{1} is loading.":"{1} is loading."});videojs.addLanguage("es",{Play:"Reproducción","Play Video":"Reproducción Vídeo",Pause:"Pausa","Current Time":"Tiempo reproducido",Duration:"Duración total","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Pantalla no completa",Mute:"Silenciar",Unmute:"No silenciado","Playback Rate":"Velocidad de reproducción",Subtitles:"Subtítulos","subtitles off":"Subtítulos desactivados",Captions:"Subtítulos especiales","captions off":"Subtítulos especiales desactivados",Chapters:"Capítulos","You aborted the media playback":"Ha interrumpido la reproducción del vídeo.","A network error caused the media download to fail part-way.":"Un error de red ha interrumpido la descarga del vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vídeo debido a un fallo de red o del servidor o porque el formato es incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La reproducción de vídeo se ha interrumpido por un problema de corrupción de datos o porque el vídeo precisa funciones que su navegador no ofrece.","No compatible source was found for this media.":"No se ha encontrado ninguna fuente compatible con este vídeo."});videojs.addLanguage("fa",{"Audio Player":"پخش کننده صوتی","Video Player":"پخش کننده ویدیو",Play:"پخش",Pause:"مکث",Replay:"بازپخش","Current Time":"زمان کنونی",Duration:"مدت زمان","Remaining Time":"زمان باقیمانده","Stream Type":"نوع استریم",LIVE:"زنده",Loaded:"بارگیری شده",Progress:"پیشرفت","Progress Bar":"نوار پیشرفت","progress bar timing: currentTime={1} duration={2}":"{1} از {2}",Fullscreen:"تمام‌صفحه","Non-Fullscreen":"غیر تمام‌صفحه",Mute:"بی صدا",Unmute:"صدا دار","Playback Rate":"سرعت پخش",Subtitles:"زیرنویس","subtitles off":"بدون زیرنویس",Captions:"زیرتوضیح","captions off":"بدون زیرتوضیح",Chapters:"قسمت‌ها",Descriptions:"توصیف","descriptions off":"بدون توصیف","Audio Track":"صوت","Volume Level":"میزان صدا","You aborted the media playback":"شما پخش را قطع کردید.","A network error caused the media download to fail part-way.":"خطای شبکه باعث عدم بارگیری بخشی از رسانه شد.","The media could not be loaded, either because the server or network failed or because the format is not supported.":".رسانه قابل بارگیری نیست.   علت آن ممکن است خطا در اتصال یا عدم پشتیبانی از فرمت باشد","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"پخش  رسانه به علت اشکال در آن یا عدم پشتیبانی مرورگر شما قطع شد.","No compatible source was found for this media.":"هیچ منبع سازگاری، برای این رسانه پیدا نشد.","The media is encrypted and we do not have the keys to decrypt it.":"این رسانه رمزنگاری شده است و ما کلید رمزگشایی آن را نداریم.","Play Video":"پخش ویدیو",Close:"بستن","Close Modal Dialog":"بستن پنجره مودال","Modal Window":"پنجره مودال","This is a modal window":"این پنجره مودال","This modal can be closed by pressing the Escape key or activating the close button.":"این پنجره با دکمه اسکیپ با دکمه بستن قابل بسته شدن میباشد.",", opens captions settings dialog":", تنظیمات زیرتوضیح را باز میکند",", opens subtitles settings dialog":", تنظیمات زیرنویس را باز میکند",", opens descriptions settings dialog":", تنظیمات توصیفات را باز میکند",", selected":", انتخاب شده","captions settings":"تنظیمات زیرتوضیح","subtitles settings":"تنظیمات زیرنویس","descriptions settings":"تنظیمات توصیفات",Text:"متن",White:"سفید",Black:"سیاه",Red:"قرمز",Green:"سبز",Blue:"آبی",Yellow:"زرد",Magenta:"ارغوانی",Cyan:"سبزآبی",Background:"زمینه",Window:"پنجره",Transparent:"شفاف","Semi-Transparent":"نیمه شفاف",Opaque:"مات","Font Size":"اندازه فونت","Text Edge Style":"سبک لبه متن",None:"هیچ",Raised:"برآمده",Depressed:"فرورفته",Uniform:"یکنواخت",Dropshadow:"سایه دار","Font Family":"نوع فونت","Proportional Sans-Serif":"سنس-سریف متناسب","Monospace Sans-Serif":"سنس-سریف هم اندازه","Proportional Serif":"سریف متناسب","Monospace Serif":"سریف هم اندازه",Casual:"فانتزی",Script:"دست خط","Small Caps":"حروف کوچک به بزرگ",Reset:"باز نشاندن","restore all settings to the default values":"بازیابی همه تنظیمات به حالت اولیه",Done:"تکمیل","Caption Settings Dialog":"پنجره تنظیمات عناوین","Beginning of dialog window. Escape will cancel and close the window.":"ابتدای پنجره محاوره‌ای. دکمه اسکیپ پنجره را لغو میکند و میبندد.","End of dialog window.":"انتهای پنجره محاوره‌ای."});videojs.addLanguage("fi",{Play:"Toisto",Pause:"Tauko","Current Time":"Tämänhetkinen aika",Duration:"Kokonaisaika","Remaining Time":"Jäljellä oleva aika","Stream Type":"Lähetystyyppi",LIVE:"LIVE",Loaded:"Ladattu",Progress:"Edistyminen",Fullscreen:"Koko näyttö","Non-Fullscreen":"Koko näyttö pois",Mute:"Ääni pois",Unmute:"Ääni päällä","Playback Rate":"Toistonopeus",Subtitles:"Tekstitys","subtitles off":"Tekstitys pois",Captions:"Tekstitys","captions off":"Tekstitys pois",Chapters:"Kappaleet","You aborted the media playback":"Olet keskeyttänyt videotoiston.","A network error caused the media download to fail part-way.":"Verkkovirhe keskeytti videon latauksen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Videon lataus ei onnistunut joko palvelin- tai verkkovirheestä tai väärästä formaatista johtuen.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Videon toisto keskeytyi, koska media on vaurioitunut tai käyttää käyttää toimintoja, joita selaimesi ei tue.","No compatible source was found for this media.":"Tälle videolle ei löytynyt yhteensopivaa lähdettä."});videojs.addLanguage("fr",{"Audio Player":"Lecteur audio","Video Player":"Lecteur vidéo",Play:"Lecture",Pause:"Pause",Replay:"Revoir","Current Time":"Temps actuel",Duration:"Durée","Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:"EN DIRECT",Loaded:"Chargé",Progress:"Progression","Progress Bar":"Barre de progression","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Fullscreen:"Plein écran","Non-Fullscreen":"Fenêtré",Mute:"Sourdine",Unmute:"Son activé","Playback Rate":"Vitesse de lecture",Subtitles:"Sous-titres","subtitles off":"Sous-titres désactivés",Captions:"Sous-titres transcrits","captions off":"Sous-titres transcrits désactivés",Chapters:"Chapitres",Descriptions:"Descriptions","descriptions off":"descriptions désactivées","Audio Track":"Piste audio","Volume Level":"Niveau de volume","You aborted the media playback":"Vous avez interrompu la lecture de la vidéo.","A network error caused the media download to fail part-way.":"Une erreur de réseau a interrompu le téléchargement de la vidéo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Cette vidéo n'a pas pu être chargée, soit parce que le serveur ou le réseau a échoué ou parce que le format n'est pas reconnu.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lecture de la vidéo a été interrompue à cause d'un problème de corruption ou parce que la vidéo utilise des fonctionnalités non prises en charge par votre navigateur.","No compatible source was found for this media.":"Aucune source compatible n'a été trouvée pour cette vidéo.","The media is encrypted and we do not have the keys to decrypt it.":"Le média est chiffré et nous n'avons pas les clés pour le déchiffrer.","Play Video":"Lire la vidéo",Close:"Fermer","Close Modal Dialog":"Fermer la boîte de dialogue modale","Modal Window":"Fenêtre modale","This is a modal window":"Ceci est une fenêtre modale","This modal can be closed by pressing the Escape key or activating the close button.":"Ce modal peut être fermé en appuyant sur la touche Échap ou activer le bouton de fermeture.",", opens captions settings dialog":", ouvrir les paramètres des sous-titres transcrits",", opens subtitles settings dialog":", ouvrir les paramètres des sous-titres",", opens descriptions settings dialog":", ouvrir les paramètres des descriptions",", selected":", sélectionné","captions settings":"Paramètres des sous-titres transcrits","subtitles settings":"Paramètres des sous-titres","descriptions settings":"Paramètres des descriptions",Text:"Texte",White:"Blanc",Black:"Noir",Red:"Rouge",Green:"Vert",Blue:"Bleu",Yellow:"Jaune",Magenta:"Magenta",Cyan:"Cyan",Background:"Arrière-plan",Window:"Fenêtre",Transparent:"Transparent","Semi-Transparent":"Semi-transparent",Opaque:"Opaque","Font Size":"Taille des caractères","Text Edge Style":"Style des contours du texte",None:"Aucun",Raised:"Élevé",Depressed:"Enfoncé",Uniform:"Uniforme",Dropshadow:"Ombre portée","Font Family":"Famille de polices","Proportional Sans-Serif":"Polices à chasse variable sans empattement (Proportional Sans-Serif)","Monospace Sans-Serif":"Polices à chasse fixe sans empattement (Monospace Sans-Serif)","Proportional Serif":"Polices à chasse variable avec empattement (Proportional Serif)","Monospace Serif":"Polices à chasse fixe avec empattement (Monospace Serif)",Casual:"Manuscrite",Script:"Scripte","Small Caps":"Petites capitales",Reset:"Réinitialiser","restore all settings to the default values":"Restaurer tous les paramètres aux valeurs par défaut",Done:"Terminé","Caption Settings Dialog":"Boîte de dialogue des paramètres des sous-titres transcrits","Beginning of dialog window. Escape will cancel and close the window.":"Début de la fenêtre de dialogue. La touche d'échappement annulera et fermera la fenêtre.","End of dialog window.":"Fin de la fenêtre de dialogue."});videojs.addLanguage("gl",{Play:"Reprodución","Play Video":"Reprodución Vídeo",Pause:"Pausa","Current Time":"Tempo reproducido",Duration:"Duración total","Remaining Time":"Tempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Pantalla non completa",Mute:"Silenciar",Unmute:"Non silenciado","Playback Rate":"Velocidade de reprodución",Subtitles:"Subtítulos","subtitles off":"Subtítulos desactivados",Captions:"Subtítulos con lenda","captions off":"Subtítulos con lenda desactivados",Chapters:"Capítulos","You aborted the media playback":"Interrompeches a reprodución do vídeo.","A network error caused the media download to fail part-way.":"Un erro de rede interrompeu a descarga do vídeo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Non se puido cargar o vídeo debido a un fallo de rede ou do servidor ou porque o formato é incompatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A reproducción de vídeo interrompeuse por un problema de corrupción de datos ou porque o vídeo precisa funcións que o teu navegador non ofrece.","No compatible source was found for this media.":"Non se atopou ningunha fonte compatible con este vídeo."});videojs.addLanguage("he",{"Audio Player":"נַגָּן שמע","Video Player":"נַגָּן וידאו",Play:"נַגֵּן",Pause:"השהה",Replay:"נַגֵּן שוב","Current Time":"זמן נוכחי",Duration:"זמן כולל","Remaining Time":"זמן נותר","Stream Type":"סוג Stream",LIVE:"שידור חי",Loaded:"נטען",Progress:"התקדמות","Progress Bar":"סרגל התקדמות","progress bar timing: currentTime={1} duration={2}":"{1} מתוך {2}",Fullscreen:"מסך מלא","Non-Fullscreen":"מסך לא מלא",Mute:"השתק",Unmute:"בטל השתקה","Playback Rate":"קצב ניגון",Subtitles:"כתוביות","subtitles off":"כתוביות כבויות",Captions:"כיתובים","captions off":"כיתובים כבויים",Chapters:"פרקים",Descriptions:"תיאורים","descriptions off":"תיאורים כבויים","Audio Track":"רצועת שמע","Volume Level":"רמת ווליום","You aborted the media playback":"ביטלת את השמעת המדיה","A network error caused the media download to fail part-way.":"שגיאת רשת גרמה להורדת המדיה להיכשל באמצע.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"לא ניתן לטעון את המדיה, או מכיוון שהרשת או השרת כשלו או מכיוון שהפורמט אינו נתמך.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"השמעת המדיה בוטלה בשל בעית השחטת מידע או מכיוון שהמדיה עשתה שימוש בתכונות שהדפדפן שלך לא תמך בהן.","No compatible source was found for this media.":"לא נמצא מקור תואם עבור מדיה זו.","The media is encrypted and we do not have the keys to decrypt it.":"המדיה מוצפנת ואין בידינו את המפתח כדי לפענח אותה.","Play Video":"נַגֵּן וידאו",Close:"סְגוֹר","Close Modal Dialog":"סְגוֹר דו-שיח מודאלי","Modal Window":"חלון מודאלי","This is a modal window":"זהו חלון מודאלי","This modal can be closed by pressing the Escape key or activating the close button.":'ניתן לסגור חלון מודאלי זה ע"י לחיצה על כפתור ה-Escape או הפעלת כפתור הסגירה.',", opens captions settings dialog":", פותח חלון הגדרות כיתובים",", opens subtitles settings dialog":", פותח חלון הגדרות כתוביות",", opens descriptions settings dialog":", פותח חלון הגדרות תיאורים",", selected":", נבחר/ו","captions settings":"הגדרות כיתובים","subtitles settings":"הגדרות כתוביות","descriptions settings":"הגדרות תיאורים",Text:"טקסט",White:"לבן",Black:"שחור",Red:"אדום",Green:"ירוק",Blue:"כחול",Yellow:"צהוב",Magenta:"מַגֶ'נטָה",Cyan:"טורקיז",Background:"רקע",Window:"חלון",Transparent:"שקוף","Semi-Transparent":"שקוף למחצה",Opaque:"אָטוּם","Font Size":"גודל גופן","Text Edge Style":"סגנון קצוות טקסט",None:"ללא",Raised:"מורם",Depressed:"מורד",Uniform:"אחיד",Dropshadow:"הטלת צל","Font Family":"משפחת גופן","Proportional Sans-Serif":"פרופורציוני וללא תגיות (Proportional Sans-Serif)","Monospace Sans-Serif":"ברוחב אחיד וללא תגיות (Monospace Sans-Serif)","Proportional Serif":"פרופורציוני ועם תגיות (Proportional Serif)","Monospace Serif":"ברוחב אחיד ועם תגיות (Monospace Serif)",Casual:"אַגָבִי",Script:"תסריט","Small Caps":"אותיות קטנות",Reset:"אִפּוּס","restore all settings to the default values":"שחזר את כל ההגדרות לערכי ברירת המחדל",Done:"בוצע","Caption Settings Dialog":"דו-שיח הגדרות כיתובים","Beginning of dialog window. Escape will cancel and close the window.":"תחילת חלון דו-שיח. Escape יבטל ויסגור את החלון","End of dialog window.":"סוף חלון דו-שיח."});videojs.addLanguage("hr",{Play:"Pusti",Pause:"Pauza","Current Time":"Trenutno vrijeme",Duration:"Vrijeme trajanja","Remaining Time":"Preostalo vrijeme","Stream Type":"Način strimovanja",LIVE:"UŽIVO",Loaded:"Učitan",Progress:"Progres",Fullscreen:"Puni ekran","Non-Fullscreen":"Mali ekran",Mute:"Prigušen",Unmute:"Ne-prigušen","Playback Rate":"Stopa reprodukcije",Subtitles:"Podnaslov","subtitles off":"Podnaslov deaktiviran",Captions:"Titlovi","captions off":"Titlovi deaktivirani",Chapters:"Poglavlja","You aborted the media playback":"Isključili ste reprodukciju videa.","A network error caused the media download to fail part-way.":"Video se prestao preuzimati zbog greške na mreži.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video se ne može reproducirati zbog servera, greške u mreži ili je format ne podržan.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Reprodukcija videa je zaustavljenja zbog greške u formatu ili zbog verzije vašeg pretraživača.","No compatible source was found for this media.":"Nije nađen nijedan kompatibilan izvor ovog videa."});videojs.addLanguage("hu",{Play:"Lejátszás",Pause:"Szünet","Current Time":"Aktuális időpont",Duration:"Hossz","Remaining Time":"Hátralévő idő","Stream Type":"Adatfolyam típusa",LIVE:"ÉLŐ",Loaded:"Betöltve",Progress:"Állapot",Fullscreen:"Teljes képernyő","Non-Fullscreen":"Normál méret",Mute:"Némítás",Unmute:"Némítás kikapcsolva","Playback Rate":"Lejátszási sebesség",Subtitles:"Feliratok","subtitles off":"Feliratok kikapcsolva",Captions:"Magyarázó szöveg","captions off":"Magyarázó szöveg kikapcsolva",Chapters:"Fejezetek","You aborted the media playback":"Leállította a lejátszást","A network error caused the media download to fail part-way.":"Hálózati hiba miatt a videó részlegesen töltődött le.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"A videó nem tölthető be hálózati vagy kiszolgálói hiba miatt, vagy a formátuma nem támogatott.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A lejátszás adatsérülés miatt leállt, vagy a videó egyes tulajdonságait a böngészője nem támogatja.","No compatible source was found for this media.":"Nincs kompatibilis forrás ehhez a videóhoz."});videojs.addLanguage("it",{Play:"Play",Pause:"Pausa","Current Time":"Orario attuale",Duration:"Durata","Remaining Time":"Tempo rimanente","Stream Type":"Tipo del Streaming",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato",Fullscreen:"Schermo intero","Non-Fullscreen":"Chiudi schermo intero",Mute:"Muto",Unmute:"Audio","Playback Rate":"Tasso di riproduzione",Subtitles:"Sottotitoli","subtitles off":"Senza sottotitoli",Captions:"Sottotitoli non udenti","captions off":"Senza sottotitoli non udenti",Chapters:"Capitolo","You aborted the media playback":"La riproduzione del filmato è stata interrotta.","A network error caused the media download to fail part-way.":"Il download del filmato è stato interrotto a causa di un problema rete.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Il filmato non può essere caricato a causa di un errore nel server o nella rete o perché il formato non viene supportato.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La riproduzione del filmato è stata interrotta a causa di un file danneggiato o per l’utilizzo di impostazioni non supportate dal browser.","No compatible source was found for this media.":"Non ci sono fonti compatibili per questo filmato."});videojs.addLanguage("ja",{Play:"再生",Pause:"一時停止","Current Time":"現在の時間",Duration:"長さ","Remaining Time":"残りの時間","Stream Type":"ストリームの種類",LIVE:"ライブ",Loaded:"ロード済み",Progress:"進行状況",Fullscreen:"フルスクリーン","Non-Fullscreen":"フルスクリーン以外",Mute:"ミュート",Unmute:"ミュート解除","Playback Rate":"再生レート",Subtitles:"サブタイトル","subtitles off":"サブタイトル オフ",Captions:"キャプション","captions off":"キャプション オフ",Chapters:"チャプター","You aborted the media playback":"動画再生を中止しました","A network error caused the media download to fail part-way.":"ネットワーク エラーにより動画のダウンロードが途中で失敗しました","The media could not be loaded, either because the server or network failed or because the format is not supported.":"サーバーまたはネットワークのエラー、またはフォーマットがサポートされていないため、動画をロードできませんでした","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"破損の問題、またはお使いのブラウザがサポートしていない機能が動画に使用されていたため、動画の再生が中止されました","No compatible source was found for this media.":"この動画に対して互換性のあるソースが見つかりませんでした"});videojs.addLanguage("ko",{Play:"재생",Pause:"일시중지","Current Time":"현재 시간",Duration:"지정 기간","Remaining Time":"남은 시간","Stream Type":"스트리밍 유형",LIVE:"라이브",Loaded:"로드됨",Progress:"진행",Fullscreen:"전체 화면","Non-Fullscreen":"전체 화면 해제",Mute:"음소거",Unmute:"음소거 해제","Playback Rate":"재생 비율",Subtitles:"서브타이틀","subtitles off":"서브타이틀 끄기",Captions:"자막","captions off":"자막 끄기",Chapters:"챕터","You aborted the media playback":"비디오 재생을 취소했습니다.","A network error caused the media download to fail part-way.":"네트워크 오류로 인하여 비디오 일부를 다운로드하지 못 했습니다.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"비디오를 로드할 수 없습니다. 서버 혹은 네트워크 오류 때문이거나 지원되지 않는 형식 때문일 수 있습니다.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"비디오 재생이 취소됐습니다. 비디오가 손상되었거나 비디오가 사용하는 기능을 브라우저에서 지원하지 않는 것 같습니다.","No compatible source was found for this media.":"비디오에 호환되지 않는 소스가 있습니다."});videojs.addLanguage("nb",{Play:"Spill",Pause:"Pause","Current Time":"Aktuell tid",Duration:"Varighet","Remaining Time":"Gjenstående tid","Stream Type":"Type strøm",LIVE:"DIREKTE",Loaded:"Lastet inn",Progress:"Status",Fullscreen:"Fullskjerm","Non-Fullscreen":"Lukk fullskjerm",Mute:"Lyd av",Unmute:"Lyd på","Playback Rate":"Avspillingsrate",Subtitles:"Undertekst på","subtitles off":"Undertekst av",Captions:"Undertekst for hørselshemmede på","captions off":"Undertekst for hørselshemmede av",Chapters:"Kapitler","You aborted the media playback":"Du avbrøt avspillingen.","A network error caused the media download to fail part-way.":"En nettverksfeil avbrøt nedlasting av videoen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Videoen kunne ikke lastes ned, på grunn av nettverksfeil eller serverfeil, eller fordi formatet ikke er støttet.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Videoavspillingen ble avbrudt på grunn av ødelagte data eller fordi videoen ville gjøre noe som nettleseren din ikke har støtte for.","No compatible source was found for this media.":"Fant ikke en kompatibel kilde for dette mediainnholdet."});videojs.addLanguage("nl",{"Audio Player":"Audiospeler","Video Player":"Videospeler",Play:"Afspelen",Pause:"Pauzeren",Replay:"Opnieuw afspelen","Current Time":"Huidige tijd",Duration:"Tijdsduur","Remaining Time":"Resterende tijd","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Geladen",Progress:"Voortgang","Progress Bar":"Voortgangsbalk","progress bar timing: currentTime={1} duration={2}":"{1} van {2}",Fullscreen:"Volledig scherm","Non-Fullscreen":"Geen volledig scherm",Mute:"Dempen",Unmute:"Niet dempen","Playback Rate":"Afspeelsnelheid",Subtitles:"Ondertiteling","subtitles off":"ondertiteling uit",Captions:"Bijschriften","captions off":"bijschriften uit",Chapters:"Hoofdstukken",Descriptions:"Beschrijvingen","descriptions off":"beschrijvingen uit","Audio Track":"Audiospoor","Volume Level":"Geluidsniveau","You aborted the media playback":"U heeft het afspelen van de media afgebroken","A network error caused the media download to fail part-way.":"Een netwerkfout heeft ervoor gezorgd dat het downloaden van de media halverwege is mislukt.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"De media kon niet worden geladen, dit komt doordat of de server of het netwerk mislukt of doordat het formaat niet wordt ondersteund.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Het afspelen van de media is afgebroken door een probleem met beschadeigde gegevens of doordat de media functies gebruikt die uw browser niet ondersteund.","No compatible source was found for this media.":"Er is geen geschikte bron voor deze media gevonden.","The media is encrypted and we do not have the keys to decrypt it.":"De media is versleuteld en we hebben de sleutels niet om deze te ontsleutelen.","Play Video":"Video afspelen",Close:"Sluiten","Close Modal Dialog":"Extra venster sluiten","Modal Window":"Extra venster","This is a modal window":"Dit is een extra venster","This modal can be closed by pressing the Escape key or activating the close button.":"Dit venster kan worden gesloten door op de Escape-toets te drukken of door de sluiten-knop te activeren.",", opens captions settings dialog":", opent instellingen-venster voor bijschriften",", opens subtitles settings dialog":", opent instellingen-venster voor ondertitelingen",", opens descriptions settings dialog":", opent instellingen-venster voor beschrijvingen",", selected":", geselecteerd","captions settings":"bijschriften-instellingen","subtitles settings":"ondertiteling-instellingen","descriptions settings":"beschrijvingen-instellingen",Text:"Tekst",White:"Wit",Black:"Zwart",Red:"Rood",Green:"Groen",Blue:"Blauw",Yellow:"Geel",Magenta:"Magenta",Cyan:"Cyaan",Background:"Achtergrond",Window:"Venster",Transparent:"Transparant","Semi-Transparent":"Semi-transparant",Opaque:"Ondoorzichtig","Font Size":"Lettergrootte","Text Edge Style":"Stijl tekstrand",None:"Geen",Raised:"Verhoogd",Depressed:"Ingedrukt",Uniform:"Uniform",Dropshadow:"Schaduw","Font Family":"Lettertype","Proportional Sans-Serif":"Proportioneel sans-serif","Monospace Sans-Serif":"Monospace sans-serif","Proportional Serif":"Proportioneel serif","Monospace Serif":"Monospace serif",Casual:"Luchtig",Script:"Script","Small Caps":"Kleine hoofdletters",Reset:"Herstellen","restore all settings to the default values":"alle instellingen naar de standaardwaarden herstellen",Done:"Klaar","Caption Settings Dialog":"Venster voor bijschriften-instellingen","Beginning of dialog window. Escape will cancel and close the window.":"Begin van dialoogvenster. Escape zal annuleren en het venster sluiten.","End of dialog window.":"Einde van dialoogvenster."});videojs.addLanguage("nn",{Play:"Spel",Pause:"Pause","Current Time":"Aktuell tid",Duration:"Varigheit","Remaining Time":"Tid attende","Stream Type":"Type straum",LIVE:"DIREKTE",Loaded:"Lasta inn",Progress:"Status",Fullscreen:"Fullskjerm","Non-Fullscreen":"Stenga fullskjerm",Mute:"Ljod av",Unmute:"Ljod på","Playback Rate":"Avspelingsrate",Subtitles:"Teksting på","subtitles off":"Teksting av",Captions:"Teksting for høyrselshemma på","captions off":"Teksting for høyrselshemma av",Chapters:"Kapitel","You aborted the media playback":"Du avbraut avspelinga.","A network error caused the media download to fail part-way.":"Ein nettverksfeil avbraut nedlasting av videoen.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Videoen kunne ikkje lastas ned, på grunn av ein nettverksfeil eller serverfeil, eller av di formatet ikkje er stoda.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Videoavspelinga blei broten på grunn av øydelagde data eller av di videoen ville gjera noe som nettlesaren din ikkje stodar.","No compatible source was found for this media.":"Fant ikke en kompatibel kilde for dette mediainnholdet."});videojs.addLanguage("oc",{"Audio Player":"Lector àudio","Video Player":"Lector vidèo",Play:"Lectura",Pause:"Pausa",Replay:"Tornar legir","Current Time":"Durada passada",Duration:"Durada","Remaining Time":"Temps restant","Stream Type":"Tipe de difusion",LIVE:"DIRÈCTE",Loaded:"Cargat",Progress:"Progression","Progress Bar":"Barra de progression","progress bar timing: currentTime={1} duration={2}":"{1} sus {2}",Fullscreen:"Ecran complèt","Non-Fullscreen":"Pas en ecran complèt",Mute:"Copar lo son",Unmute:"Restablir lo son","Playback Rate":"Velocitat de lectura",Subtitles:"Sostítols","subtitles off":"Sostítols desactivats",Captions:"Legendas","captions off":"Legendas desactivadas",Chapters:"Capítols",Descriptions:"Descripcions","descriptions off":"descripcions desactivadas","Audio Track":"Pista àudio","Volume Level":"Nivèl del volum","You aborted the media playback":"Avètz copat la lectura del mèdia.","A network error caused the media download to fail part-way.":"Una error de ret a provocat un fracàs del telecargament.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Lo mèdia a pas pogut èsser cargat, siá perque lo servidor o lo ret a fracassat siá perque lo format es pas compatible.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"La lectura del mèdia es copada a causa d’un problèma de corrupcion o perque lo mèdia utiliza de foncionalitats pas suportadas pel navigador.","No compatible source was found for this media.":"Cap de font compatiblas pas trobada per aqueste mèdia.","The media is encrypted and we do not have the keys to decrypt it.":"Lo mèdia es chifrat e avèm pas las claus per lo deschifrar.","Play Video":"Legir la vidèo",Close:"Tampar","Close Modal Dialog":"Tampar la fenèstra","Modal Window":"Fenèstra","This is a modal window":"Aquò es una fenèstra","This modal can be closed by pressing the Escape key or activating the close button.":"Aquesta fenèstra pòt èsser tampada en quichar Escapar sul clavièr o en activar lo boton de tampadura.",", opens captions settings dialog":", dobrís la fenèstra de paramètres de legendas",", opens subtitles settings dialog":", dobrís la fenèstra de paramètres de sostítols",", opens descriptions settings dialog":", dobrís la fenèstra de paramètres de descripcions",", selected":", seleccionat","captions settings":"paramètres de legendas","subtitles settings":"paramètres de sostítols","descriptions settings":"paramètres de descripcions",Text:"Tèxte",White:"Blanc",Black:"Negre",Red:"Roge",Green:"Verd",Blue:"Blau",Yellow:"Jaune",Magenta:"Magenta",Cyan:"Cian",Background:"Rèireplan",Window:"Fenèstra",Transparent:"Transparent","Semi-Transparent":"Semitransparent",Opaque:"Opac","Font Size":"Talha de la polissa","Text Edge Style":"Estil dels contorn del tèxte",None:"Cap",Raised:"Naut",Depressed:"Enfonsat",Uniform:"Unifòrme",Dropshadow:"Ombrat","Font Family":"Familha de polissa","Proportional Sans-Serif":"Sans-Serif proporcionala","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Serif proporcionala","Monospace Serif":"Serif proporcionala",Casual:"Manuscrita",Script:"Script","Small Caps":"Pichonas majusculas",Reset:"Reïnicializar","restore all settings to the default values":"O restablir tot a las valors per defaut",Done:"Acabat","Caption Settings Dialog":"Fenèstra de paramètres de legenda","Beginning of dialog window. Escape will cancel and close the window.":"Debuta de la fenèstra. Escapar anullarà e tamparà la fenèstra","End of dialog window.":"Fin de la fenèstra."});videojs.addLanguage("pl",{Play:"Odtwarzaj",Pause:"Pauza","Current Time":"Aktualny czas",Duration:"Czas trwania","Remaining Time":"Pozostały czas","Stream Type":"Typ strumienia",LIVE:"NA ŻYWO",Loaded:"Załadowany",Progress:"Status",Fullscreen:"Pełny ekran","Non-Fullscreen":"Pełny ekran niedostępny",Mute:"Wyłącz dźwięk",Unmute:"Włącz dźwięk","Playback Rate":"Szybkość odtwarzania",Subtitles:"Napisy","subtitles off":"Napisy wyłączone",Captions:"Transkrypcja","captions off":"Transkrypcja wyłączona",Chapters:"Rozdziały","You aborted the media playback":"Odtwarzanie zostało przerwane","A network error caused the media download to fail part-way.":"Problemy z siecią spowodowały błąd przy pobieraniu materiału wideo.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Materiał wideo nie może być załadowany, ponieważ wystąpił problem z siecią lub format nie jest obsługiwany","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Odtwarzanie materiału wideo zostało przerwane z powodu uszkodzonego pliku wideo lub z powodu błędu funkcji, które nie są wspierane przez przeglądarkę.","No compatible source was found for this media.":"Dla tego materiału wideo nie znaleziono kompatybilnego źródła.","Play Video":"Odtwarzaj wideo",Close:"Zamknij","Modal Window":"Okno Modala","This is a modal window":"To jest okno modala","This modal can be closed by pressing the Escape key or activating the close button.":"Ten modal możesz zamknąć naciskając przycisk Escape albo wybierając przycisk Zamknij.",", opens captions settings dialog":", otwiera okno dialogowe ustawień transkrypcji",", opens subtitles settings dialog":", otwiera okno dialogowe napisów",", selected":", zaznaczone"});videojs.addLanguage("pt-BR",{"Audio Player":"Reprodutor de áudio","Video Player":"Reprodutor de vídeo",Play:"Tocar",Pause:"Pausar",Replay:"Tocar novamente","Current Time":"Tempo",Duration:"Duração","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Stream",LIVE:"AO VIVO",Loaded:"Carregado",Progress:"Progresso","Progress Bar":"Barra de progresso","progress bar timing: currentTime={1} duration={2}":"{1} de {2}",Fullscreen:"Tela Cheia","Non-Fullscreen":"Tela Normal",Mute:"Mudo",Unmute:"Habilitar Som","Playback Rate":"Velocidade",Subtitles:"Legendas","subtitles off":"Sem Legendas",Captions:"Anotações","captions off":"Sem Anotações",Chapters:"Capítulos",Descriptions:"Descrições","descriptions off":"sem descrições","Audio Track":"Faixa de áudio","Volume Level":"Nível de volume","You aborted the media playback":"Você parou a execução do vídeo.","A network error caused the media download to fail part-way.":"Um erro na rede causou falha durante o download da mídia.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"A mídia não pode ser carregada, por uma falha de rede ou servidor ou o formato não é suportado.","No compatible source was found for this media.":"Nenhuma fonte foi encontrada para esta mídia.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A reprodução foi interrompida devido à um problema de mídia corrompida ou porque a mídia utiliza funções que seu navegador não suporta.","The media is encrypted and we do not have the keys to decrypt it.":"A mídia está criptografada e não temos as chaves para descriptografar.","Play Video":"Tocar Vídeo",Close:"Fechar","Close Modal Dialog":"Fechar Diálogo Modal","Modal Window":"Janela Modal","This is a modal window":"Isso é uma janela-modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta janela pode ser fechada pressionando a tecla de Escape.",", opens captions settings dialog":", abre as configurações de legendas de comentários",", opens subtitles settings dialog":", abre as configurações de legendas",", opens descriptions settings dialog":", abre as configurações",", selected":", selecionada","captions settings":"configurações de legendas de comentários","subtitles settings":"configurações de legendas","descriptions settings":"configurações das descrições",Text:"Texto",White:"Branco",Black:"Preto",Red:"Vermelho",Green:"Verde",Blue:"Azul",Yellow:"Amarelo",Magenta:"Magenta",Cyan:"Ciano",Background:"Plano-de-Fundo",Window:"Janela",Transparent:"Transparente","Semi-Transparent":"Semi-Transparente",Opaque:"Opaco","Font Size":"Tamanho da Fonte","Text Edge Style":"Estilo da Borda",None:"Nenhum",Raised:"Elevado",Depressed:"Acachapado",Uniform:"Uniforme",Dropshadow:"Sombra de projeção","Font Family":"Família da Fonte","Proportional Sans-Serif":"Sans-Serif(Sem serifa) Proporcional","Monospace Sans-Serif":"Sans-Serif(Sem serifa) Monoespaçada","Proportional Serif":"Serifa Proporcional","Monospace Serif":"Serifa Monoespaçada",Casual:"Casual",Script:"Script","Small Caps":"Maiúsculas Pequenas",Reset:"Redefinir","restore all settings to the default values":"restaurar todas as configurações aos valores padrão",Done:"Salvar","Caption Settings Dialog":"Caíxa-de-Diálogo das configurações de Legendas","Beginning of dialog window. Escape will cancel and close the window.":"Iniciando a Janela-de-Diálogo. Pressionar Escape irá cancelar e fechar a janela.","End of dialog window.":"Fim da Janela-de-Diálogo","{1} is loading.":"{1} está carregando."});videojs.addLanguage("pt-PT",{Play:"Reproduzir",Pause:"Parar",Replay:"Reiniciar","Current Time":"Tempo Atual",Duration:"Duração","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Stream",LIVE:"EM DIRETO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Ecrã inteiro","Non-Fullscreen":"Ecrã normal",Mute:"Desativar som",Unmute:"Ativar som","Playback Rate":"Velocidade de reprodução",Subtitles:"Legendas","subtitles off":"desativar legendas",Captions:"Anotações","captions off":"desativar anotações",Chapters:"Capítulos","Close Modal Dialog":"Fechar Janela Modal",Descriptions:"Descrições","descriptions off":"desativar descrições","Audio Track":"Faixa Áudio","You aborted the media playback":"Parou a reprodução do vídeo.","A network error caused the media download to fail part-way.":"Um erro na rede fez o vídeo falhar parcialmente.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"O vídeo não pode ser carregado, ou porque houve um problema na rede ou no servidor, ou porque formato do vídeo não é compatível.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A reprodução foi interrompida por um problema com o vídeo ou porque o formato não é compatível com o seu navegador.","No compatible source was found for this media.":"Não foi encontrada uma fonte de vídeo compatível.","The media is encrypted and we do not have the keys to decrypt it.":"O vídeo está encriptado e não há uma chave para o desencriptar.","Play Video":"Reproduzir Vídeo",Close:"Fechar","Modal Window":"Janela Modal","This is a modal window":"Isto é uma janela modal","This modal can be closed by pressing the Escape key or activating the close button.":"Esta modal pode ser fechada pressionando a tecla ESC ou ativando o botão de fechar.",", opens captions settings dialog":", abre janela com definições de legendas",", opens subtitles settings dialog":", abre janela com definições de legendas",", opens descriptions settings dialog":", abre janela com definições de descrições",", selected":", seleccionado"});videojs.addLanguage("ru",{"Audio Player":"Аудио проигрыватель","Video Player":"Видео проигрыватель",Play:"Воспроизвести",Pause:"Приостановить",Replay:"Воспроизвести снова","Current Time":"Текущее время",Duration:"Продолжительность","Remaining Time":"Оставшееся время","Stream Type":"Тип потока",LIVE:"ОНЛАЙН",Loaded:"Загрузка",Progress:"Прогресс","Progress Bar":"Индикатор загрузки","progress bar timing: currentTime={1} duration={2}":"{1} из {2}",Fullscreen:"Полноэкранный режим","Non-Fullscreen":"Неполноэкранный режим",Mute:"Без звука",Unmute:"Со звуком","Playback Rate":"Скорость воспроизведения",Subtitles:"Субтитры","subtitles off":"Субтитры выкл.",Captions:"Подписи","captions off":"Подписи выкл.",Chapters:"Главы",Descriptions:"Описания","descriptions off":"Отключить описания","Audio Track":"Звуковая дорожка","Volume Level":"Уровень громкости","You aborted the media playback":"Вы прервали воспроизведение видео","A network error caused the media download to fail part-way.":"Ошибка сети вызвала сбой во время загрузки видео.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Невозможно загрузить видео из-за сетевого или серверного сбоя либо формат не поддерживается.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Воспроизведение видео было приостановлено из-за повреждения либо в связи с тем, что видео использует функции, неподдерживаемые вашим браузером.","No compatible source was found for this media.":"Совместимые источники для этого видео отсутствуют.","The media is encrypted and we do not have the keys to decrypt it.":"Видео в зашифрованном виде, и у нас нет ключей для расшифровки.","Play Video":"Воспроизвести видео",Close:"Закрыть","Close Modal Dialog":"Закрыть модальное окно","Modal Window":"Модальное окно","This is a modal window":"Это модальное окно","This modal can be closed by pressing the Escape key or activating the close button.":"Модальное окно можно закрыть нажав Esc или кнопку закрытия окна.",", opens captions settings dialog":", откроется диалог настройки подписей",", opens subtitles settings dialog":", откроется диалог настройки субтитров",", opens descriptions settings dialog":", откроется диалог настройки описаний",", selected":", выбрано","captions settings":"настройки подписей","subtitles settings":"настройки субтитров","descriptions settings":"настройки описаний",Text:"Текст",White:"Белый",Black:"Черный",Red:"Красный",Green:"Зеленый",Blue:"Синий",Yellow:"Желтый",Magenta:"Пурпурный",Cyan:"Голубой",Background:"Фон",Window:"Окно",Transparent:"Прозрачный","Semi-Transparent":"Полупрозрачный",Opaque:"Прозрачность","Font Size":"Размер шрифта","Text Edge Style":"Стиль края текста",None:"Ничего",Raised:"Поднятый",Depressed:"Пониженный",Uniform:"Одинаковый",Dropshadow:"Тень","Font Family":"Шрифт","Proportional Sans-Serif":"Пропорциональный без засечек","Monospace Sans-Serif":"Моноширинный без засечек","Proportional Serif":"Пропорциональный с засечками","Monospace Serif":"Моноширинный с засечками",Casual:"Случайный",Script:"Письменный","Small Caps":"Малые прописные",Reset:"Сбросить","restore all settings to the default values":"сбросить все найстройки по умолчанию",Done:"Готово","Caption Settings Dialog":"Диалог настроек подписи","Beginning of dialog window. Escape will cancel and close the window.":"Начало диалоговго окна. Кнопка Escape закроет или отменит окно","End of dialog window.":"Конец диалогового окна.","{1} is loading.":"{1} загружается."});videojs.addLanguage("sk",{"Audio Player":"Zvukový prehrávač","Video Player":"Video prehrávač",Play:"Prehrať",Pause:"Pozastaviť",Replay:"Prehrať znova","Current Time":"Aktuálny čas",Duration:"Čas trvania","Remaining Time":"Zostávajúci čas","Stream Type":"Typ stopy",LIVE:"NAŽIVO",Loaded:"Načítané",Progress:"Priebeh","Progress Bar":"Ukazovateľ priebehu","progress bar timing: currentTime={1} duration={2}":"časovanie ukazovateľa priebehu: currentTime={1} duration={2}",Fullscreen:"Režim celej obrazovky","Non-Fullscreen":"Režim normálnej obrazovky",Mute:"Stlmiť",Unmute:"Zrušiť stlmenie","Playback Rate":"Rýchlosť prehrávania",Subtitles:"Titulky","subtitles off":"titulky vypnuté",Captions:"Popisky","captions off":"popisky vypnuté",Chapters:"Kapitoly",Descriptions:"Opisy","descriptions off":"opisy vypnuté","Audio Track":"Zvuková stopa","Volume Level":"Úroveň hlasitosti","You aborted the media playback":"Prerušili ste prehrávanie","A network error caused the media download to fail part-way.":"Sťahovanie súboru bolo zrušené pre chybu na sieti.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Súbor sa nepodarilo načítať pre chybu servera, sieťového pripojenia, alebo je formát súboru nepodporovaný.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Prehrávanie súboru bolo prerušené pre poškodené dáta, alebo súbor používa vlastnosti, ktoré váš prehliadač nepodporuje.","No compatible source was found for this media.":"Nebol nájdený žiaden kompatibilný zdroj pre tento súbor.","The media is encrypted and we do not have the keys to decrypt it.":"Súbor je zašifrovaný a nie je k dispozícii kľúč na rozšifrovanie.","Play Video":"Prehrať video",Close:"Zatvoriť","Close Modal Dialog":"Zatvoriť modálne okno","Modal Window":"Modálne okno","This is a modal window":"Toto je modálne okno","This modal can be closed by pressing the Escape key or activating the close button.":"Toto modálne okno je možné zatvoriť stlačením klávesy Escape, alebo aktivovaním tlačidla na zatvorenie.",", opens captions settings dialog":", otvorí okno nastavení popiskov",", opens subtitles settings dialog":", otvorí okno nastavení titulkov",", opens descriptions settings dialog":", otvorí okno nastavení opisov",", selected":", označené","captions settings":"nastavenia popiskov","subtitles settings":"nastavenia titulkov","descriptions settings":"nastavenia opisov",Text:"Text",White:"Biela",Black:"Čierna",Red:"Červená",Green:"Zelená",Blue:"Modrá",Yellow:"Žltá",Magenta:"Ružová",Cyan:"Tyrkysová",Background:"Pozadie",Window:"Okno",Transparent:"Priesvitné","Semi-Transparent":"Polopriesvitné",Opaque:"Plné","Font Size":"Veľkosť písma","Text Edge Style":"Typ okrajov písma",None:"Žiadne",Raised:"Zvýšené",Depressed:"Znížené",Uniform:"Pravidelné",Dropshadow:"S tieňom","Font Family":"Typ písma","Proportional Sans-Serif":"Proporčné bezpätkové","Monospace Sans-Serif":"Pravidelné, bezpätkové","Proportional Serif":"Proporčné pätkové","Monospace Serif":"Pravidelné pätkové",Casual:"Bežné",Script:"Písané","Small Caps":"Malé kapitálky",Reset:"Resetovať","restore all settings to the default values":"všetky nastavenia na základné hodnoty",Done:"Hotovo","Caption Settings Dialog":"Okno nastavení popiskov","Beginning of dialog window. Escape will cancel and close the window.":"Začiatok okna. Klávesa Escape zruší a zavrie okno.","End of dialog window.":"Koniec okna.","{1} is loading.":"{1} sa načíta."});videojs.addLanguage("sr",{Play:"Pusti",Pause:"Pauza","Current Time":"Trenutno vreme",Duration:"Vreme trajanja","Remaining Time":"Preostalo vreme","Stream Type":"Način strimovanja",LIVE:"UŽIVO",Loaded:"Učitan",Progress:"Progres",Fullscreen:"Pun ekran","Non-Fullscreen":"Mali ekran",Mute:"Prigušen",Unmute:"Ne-prigušen","Playback Rate":"Stopa reprodukcije",Subtitles:"Podnaslov","subtitles off":"Podnaslov deaktiviran",Captions:"Titlovi","captions off":"Titlovi deaktivirani",Chapters:"Poglavlja","You aborted the media playback":"Isključili ste reprodukciju videa.","A network error caused the media download to fail part-way.":"Video se prestao preuzimati zbog greške na mreži.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video se ne može reproducirati zbog servera, greške u mreži ili format nije podržan.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Reprodukcija videa je zaustavljenja zbog greške u formatu ili zbog verzije vašeg pretraživača.","No compatible source was found for this media.":"Nije nađen nijedan kompatibilan izvor ovog videa."});videojs.addLanguage("sv",{", opens captions settings dialog":", öppnar dialogruta för textning",", opens descriptions settings dialog":", öppnar dialogruta för inställningar",", opens subtitles settings dialog":", öppnar dialogruta för undertexter",", selected":", vald","A network error caused the media download to fail part-way.":"Ett nätverksfel gjorde att nedladdningen av videon avbröts.","Audio Player":"Ljudspelare","Audio Track":"Ljudspår",Background:"Bakgrund","Beginning of dialog window. Escape will cancel and close the window.":"Början av dialogfönster. Escape avbryter och stänger fönstret.",Black:"Svart",Blue:"Blå","Caption Settings Dialog":"Dialogruta för textningsinställningar",Captions:"Text på",Casual:"Casual",Chapters:"Kapitel",Close:"Stäng","Close Modal Dialog":"Stäng dialogruta","Current Time":"Aktuell tid",Cyan:"Cyan",Depressed:"Deprimerad",Descriptions:"Beskrivningar",Done:"Klar",Dropshadow:"DropSkugga",Duration:"Total tid","End of dialog window.":"Slutet av dialogfönster.","Font Family":"Typsnittsfamilj","Font Size":"Textstorlek",Fullscreen:"Fullskärm",Green:"Grön",LIVE:"LIVE",Loaded:"Laddad",Magenta:"Magenta","Modal Window":"dialogruta","Monospace Sans-Serif":"Monospace Sans-Serif","Monospace Serif":"Monospace Serif",Mute:"Ljud av","No compatible source was found for this media.":"Det gick inte att hitta någon kompatibel källa för den här videon.","Non-Fullscreen":"Ej fullskärm",None:"Ingen",Opaque:"Opak",Pause:"Pausa",Play:"Spela","Play Video":"Spela upp video","Playback Rate":"Uppspelningshastighet",Progress:"Förlopp","Progress Bar":"förloppsmätare","Proportional Sans-Serif":"Proportionell Sans-Serif","Proportional Serif":"Proportionell Serif",Raised:"Raised",Red:"Röd","Remaining Time":"Återstående tid",Replay:"Spela upp igen",Reset:"Återställ",Script:"Manus","Semi-Transparent":"Semi-transparent","Small Caps":"Small-Caps","Stream Type":"Strömningstyp",Subtitles:"Text på",Text:"Text","Text Edge Style":"Textkantstil","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Det gick inte att ladda videon, antingen på grund av ett server- eller nätverksfel, eller för att formatet inte stöds.","The media is encrypted and we do not have the keys to decrypt it.":"Mediat är krypterat och vi har inte nycklarna för att dekryptera det.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Uppspelningen avbröts på grund av att videon är skadad, eller också för att videon använder funktioner som din webbläsare inte stöder.","This is a modal window":"Det här är ett dialogruta","This modal can be closed by pressing the Escape key or activating the close button.":"Den här dialogrutan kan stängas genom att trycka på Escape-tangenten eller stäng knappen.",Transparent:"Transparent",Uniform:"Uniform",Unmute:"Ljud på","Video Player":"Videospelare","Volume Level":"Volymnivå",White:"Vit",Window:"Fönster",Yellow:"Gul","You aborted the media playback":"Du har avbrutit videouppspelningen.","captions off":"Text av","captions settings":"textningsinställningar","descriptions off":"beskrivningar av","descriptions settings":"beskrivningsinställningar","progress bar timing: currentTime={1} duration={2}":"{1} av {2}","restore all settings to the default values":"återställ alla inställningar till standardvärden","subtitles off":"Text av","subtitles settings":"undertextsinställningar","{1} is loading.":"{1} laddar."});videojs.addLanguage("tr",{Play:"Oynat",Pause:"Duraklat",Replay:"Yeniden Oynat","Current Time":"Süre",Duration:"Toplam Süre","Remaining Time":"Kalan Süre","Stream Type":"Yayın Tipi",LIVE:"CANLI",Loaded:"Yüklendi",Progress:"Yükleniyor",Fullscreen:"Tam Ekran","Non-Fullscreen":"Küçük Ekran",Mute:"Ses Kapa",Unmute:"Ses Aç","Playback Rate":"Oynatma Hızı",Subtitles:"Altyazı","subtitles off":"Altyazı Kapalı",Captions:"Altyazı","captions off":"Altyazı Kapalı",Chapters:"Bölümler","Close Modal Dialog":"Dialogu Kapat",Descriptions:"Açıklamalar","descriptions off":"Açıklamalar kapalı","Audio Track":"Ses Dosyası","You aborted the media playback":"Video oynatmayı iptal ettiniz","A network error caused the media download to fail part-way.":"Video indirilirken bağlantı sorunu oluştu.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video oynatılamadı, ağ ya da sunucu hatası veya belirtilen format desteklenmiyor.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Tarayıcınız desteklemediği için videoda hata oluştu.","No compatible source was found for this media.":"Video için kaynak bulunamadı.","The media is encrypted and we do not have the keys to decrypt it.":"Video, şifrelenmiş bir kaynaktan geliyor ve oynatmak için gerekli anahtar bulunamadı.","Play Video":"Videoyu Oynat",Close:"Kapat","Modal Window":"Modal Penceresi","This is a modal window":"Bu bir modal penceresidir","This modal can be closed by pressing the Escape key or activating the close button.":"Bu modal ESC tuşuna basarak ya da kapata tıklanarak kapatılabilir.",", opens captions settings dialog":", altyazı ayarları menüsünü açar",", opens subtitles settings dialog":", altyazı ayarları menüsünü açar",", opens descriptions settings dialog":", açıklama ayarları menüsünü açar",", selected":", seçildi","captions settings":"altyazı ayarları","subtitles settings":"altyazı ayarları","descriptions settings":"açıklama ayarları",Text:"Yazı",White:"Beyaz",Black:"Siyah",Red:"Kırmızı",Green:"Yeşil",Blue:"Mavi",Yellow:"Sarı",Magenta:"Macenta",Cyan:"Açık Mavi (Camgöbeği)",Background:"Arka plan",Window:"Pencere",Transparent:"Saydam","Semi-Transparent":"Yarı-Saydam",Opaque:"Mat","Font Size":"Yazı Boyutu","Text Edge Style":"Yazı Kenarlıkları",None:"Hiçbiri",Raised:"Kabartılmış",Depressed:"Yassı",Uniform:"Düz",Dropshadow:"Gölgeli","Font Family":"Yazı Tipi","Proportional Sans-Serif":"Orantılı Sans-Serif","Monospace Sans-Serif":"Eşaralıklı Sans-Serif","Proportional Serif":"Orantılı Serif","Monospace Serif":"Eşaralıklı Serif",Casual:"Gündelik",Script:"El Yazısı","Small Caps":"Küçük Boyutlu Büyük Harfli",Done:"Tamam","Caption Settings Dialog":"Altyazı Ayarları Menüsü","Beginning of dialog window. Escape will cancel and close the window.":"Diyalog penceresinin başlangıcı. ESC tuşu işlemi iptal edip pencereyi kapatacaktır."});videojs.addLanguage("uk",{"Audio Player":"Аудіопрогравач","Video Player":"Відеопрогравач",Play:"Відтворити",Pause:"Призупинити",Replay:"Відтворити знову","Current Time":"Поточний час",Duration:"Тривалість","Remaining Time":"Час, що залишився","Stream Type":"Тип потоку",LIVE:"НАЖИВО",Loaded:"Завантаження",Progress:"Прогрес","Progress Bar":"Індикатор завантаження","progress bar timing: currentTime={1} duration={2}":"{1} з {2}",Fullscreen:"Повноекранний режим","Non-Fullscreen":"Неповноекранний режим",Mute:"Без звуку",Unmute:"Зі звуком","Playback Rate":"Швидкість відтворення",Subtitles:"Субтитри","subtitles off":"Без субтитрів",Captions:"Підписи","captions off":"Без підписів",Chapters:"Розділи","Close Modal Dialog":"Закрити модальний діалог",Descriptions:"Описи","descriptions off":"Без описів","Audio Track":"Аудіодоріжка","Volume Level":"Рівень гучності","You aborted the media playback":"Ви припинили відтворення відео","A network error caused the media download to fail part-way.":"Помилка мережі викликала збій під час завантаження відео.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Неможливо завантажити відео через мережевий чи серверний збій або формат не підтримується.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Відтворення відео було припинено через пошкодження або у зв'язку з тим, що відео використовує функції, які не підтримуються вашим браузером.","No compatible source was found for this media.":"Сумісні джерела для цього відео відсутні.","The media is encrypted and we do not have the keys to decrypt it.":"Відео в зашифрованому вигляді, і ми не маємо ключі для розшифровки.","Play Video":"Відтворити відео",Close:"Закрити","Modal Window":"Модальне вікно","This is a modal window":"Це модальне вікно.","This modal can be closed by pressing the Escape key or activating the close button.":"Модальне вікно можна закрити, натиснувши клавішу Esc або кнопку закриття вікна.",", opens captions settings dialog":", відкриється діалогове вікно налаштування підписів",", opens subtitles settings dialog":", відкриється діалогове вікно налаштування субтитрів",", opens descriptions settings dialog":", відкриється діалогове вікно налаштування описів",", selected":", обраний","captions settings":"налаштування підписів","subtitles settings":"налаштування субтитрів","descriptions settings":"налаштування описів",Text:"Текст",White:"Білий",Black:"Чорний",Red:"Червоний",Green:"Зелений",Blue:"Синій",Yellow:"Жовтий",Magenta:"Пурпурний",Cyan:"Блакитний",Background:"Фон",Window:"Вікно",Transparent:"Прозорий","Semi-Transparent":"Напівпрозорий",Opaque:"Прозорість","Font Size":"Розмір шрифту","Text Edge Style":"Стиль краю тексту",None:"Нічого",Raised:"Піднятий",Depressed:"Знижений",Uniform:"Однаковий",Dropshadow:"Тінь","Font Family":"Шрифт","Proportional Sans-Serif":"Пропорційний без засічок","Monospace Sans-Serif":"Моноширинний без засічок","Proportional Serif":"Пропорційний із засічками","Monospace Serif":"Моноширинний із засічками",Casual:"Випадковий",Script:"Писемний","Small Caps":"Малі прописні",Reset:"Скинути","restore all settings to the default values":"скинути всі налаштування за замовчуванням",Done:"Готово","Caption Settings Dialog":"Діалог налаштувань підпису","Beginning of dialog window. Escape will cancel and close the window.":"Початок діалоговго вікна. Кнопка Escape закриє або скасує вікно","End of dialog window.":"Кінець діалогового вікна.","{1} is loading.":"{1} завантажується."});videojs.addLanguage("vi",{"Audio Player":"Trình phát Audio","Video Player":"Trình phát Video",Play:"Phát",Pause:"Tạm dừng",Replay:"Phát lại","Current Time":"Thời gian hiện tại",Duration:"Độ dài","Remaining Time":"Thời gian còn lại","Stream Type":"Kiểu Stream",LIVE:"TRỰC TIẾP",Loaded:"Đã tải",Progress:"Tiến trình","Progress Bar":"Thanh tiến trình","progress bar timing: currentTime={1} duration={2}":"{1} của {2}",Fullscreen:"Toàn màn hình","Non-Fullscreen":"Thoát toàn màn hình",Mute:"Tắt tiếng",Unmute:"Bật âm thanh","Playback Rate":"Tỉ lệ phát lại",Subtitles:"Phụ đề","subtitles off":"tắt phụ đề",Captions:"Chú thích","captions off":"tắt chú thích",Chapters:"Chương",Descriptions:"Mô tả","descriptions off":"tắt mô tả","Audio Track":"Track âm thanh","Volume Level":"Mức âm lượng","You aborted the media playback":"Bạn đã hủy việc phát lại media.","A network error caused the media download to fail part-way.":"Một lỗi mạng dẫn đến việc tải media bị lỗi.","The media could not be loaded, either because the server or network failed or because the format is not supported.":"Video không tải được, mạng hay server có lỗi hoặc định dạng không được hỗ trợ.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"Phát media đã bị hủy do một sai lỗi hoặc media sử dụng những tính năng trình duyệt không hỗ trợ.","No compatible source was found for this media.":"Không có nguồn tương thích cho media này.","The media is encrypted and we do not have the keys to decrypt it.":"Media đã được mã hóa và chúng tôi không có để giải mã nó.","Play Video":"Phát Video",Close:"Đóng","Close Modal Dialog":"Đóng cửa sổ","Modal Window":"Cửa sổ","This is a modal window":"Đây là một cửa sổ","This modal can be closed by pressing the Escape key or activating the close button.":"Cửa sổ này có thể thoát bằng việc nhấn phím Esc hoặc kích hoạt nút đóng.",", opens captions settings dialog":", mở hộp thoại cài đặt chú thích",", opens subtitles settings dialog":", mở hộp thoại cài đặt phụ đề",", opens descriptions settings dialog":", mở hộp thoại cài đặt mô tả",", selected":", đã chọn","captions settings":"cài đặt chú thích","subtitles settings":"cài đặt phụ đề","descriptions settings":"cài đặt mô tả",Text:"Văn bản",White:"Trắng",Black:"Đen",Red:"Đỏ",Green:"Xanh lá cây",Blue:"Xanh da trời",Yellow:"Vàng",Magenta:"Đỏ tươi",Cyan:"Lam",Background:"Nền",Window:"Cửa sổ",Transparent:"Trong suốt","Semi-Transparent":"Bán trong suốt",Opaque:"Mờ","Font Size":"Kích cỡ phông chữ","Text Edge Style":"Dạng viền văn bản",None:"None",Raised:"Raised",Depressed:"Depressed",Uniform:"Uniform",Dropshadow:"Dropshadow","Font Family":"Phông chữ","Proportional Sans-Serif":"Proportional Sans-Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Serif":"Proportional Serif","Monospace Serif":"Monospace Serif",Casual:"Casual",Script:"Script","Small Caps":"Small Caps",Reset:"Đặt lại","restore all settings to the default values":"khôi phục lại tất cả các cài đặt về giá trị mặc định",Done:"Xong","Caption Settings Dialog":"Hộp thoại cài đặt chú thích","Beginning of dialog window. Escape will cancel and close the window.":"Bắt đầu cửa sổ hộp thoại. Esc sẽ thoát và đóng cửa sổ.","End of dialog window.":"Kết thúc cửa sổ hộp thoại."});videojs.addLanguage("zh-CN",{Play:"播放",Pause:"暂停","Current Time":"当前时间",Duration:"时长","Remaining Time":"剩余时间","Stream Type":"媒体流类型",LIVE:"直播",Loaded:"加载完毕",Progress:"进度",Fullscreen:"全屏","Non-Fullscreen":"退出全屏",Mute:"静音",Unmute:"取消静音","Playback Rate":"播放速度",Subtitles:"字幕","subtitles off":"关闭字幕",Captions:"内嵌字幕","captions off":"关闭内嵌字幕",Chapters:"节目段落","Close Modal Dialog":"关闭弹窗",Descriptions:"描述","descriptions off":"关闭描述","Audio Track":"音轨","You aborted the media playback":"视频播放被终止","A network error caused the media download to fail part-way.":"网络错误导致视频下载中途失败。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"视频因格式不支持或者服务器或网络的问题无法加载。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由于视频文件损坏或是该视频使用了你的浏览器不支持的功能，播放终止。","No compatible source was found for this media.":"无法找到此视频兼容的源。","The media is encrypted and we do not have the keys to decrypt it.":"视频已加密，无法解密。","Play Video":"播放视频",Close:"关闭","Modal Window":"弹窗","This is a modal window":"这是一个弹窗","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按键或启用关闭按钮来关闭此弹窗。",", opens captions settings dialog":", 开启标题设置弹窗",", opens subtitles settings dialog":", 开启字幕设置弹窗",", opens descriptions settings dialog":", 开启描述设置弹窗",", selected":", 选择","captions settings":"字幕设定","Audio Player":"音频播放器","Video Player":"视频播放器",Replay:"重播","Progress Bar":"进度小节","Volume Level":"音量","subtitles settings":"字幕设定","descriptions settings":"描述设定",Text:"文字",White:"白",Black:"黑",Red:"红",Green:"绿",Blue:"蓝",Yellow:"黄",Magenta:"紫红",Cyan:"青",Background:"背景",Window:"视窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字体尺寸","Text Edge Style":"字体边缘样式",None:"无",Raised:"浮雕",Depressed:"压低",Uniform:"均匀",Dropshadow:"下阴影","Font Family":"字体库","Proportional Sans-Serif":"比例无细体","Monospace Sans-Serif":"单间隔无细体","Proportional Serif":"比例细体","Monospace Serif":"单间隔细体",Casual:"舒适",Script:"手写体","Small Caps":"小型大写字体",Reset:"重启","restore all settings to the default values":"恢复全部设定至预设值",Done:"完成","Caption Settings Dialog":"字幕设定视窗","Beginning of dialog window. Escape will cancel and close the window.":"开始对话视窗。离开会取消及关闭视窗","End of dialog window.":"结束对话视窗"});videojs.addLanguage("zh-TW",{Play:"播放",Pause:"暫停","Current Time":"目前時間",Duration:"總共時間","Remaining Time":"剩餘時間","Stream Type":"串流類型",LIVE:"直播",Loaded:"載入完畢",Progress:"進度",Fullscreen:"全螢幕","Non-Fullscreen":"退出全螢幕",Mute:"靜音",Unmute:"取消靜音","Playback Rate":" 播放速率",Subtitles:"字幕","subtitles off":"關閉字幕",Captions:"內嵌字幕","captions off":"關閉內嵌字幕",Chapters:"章節","Close Modal Dialog":"關閉彈窗",Descriptions:"描述","descriptions off":"關閉描述","Audio Track":"音軌","You aborted the media playback":"影片播放已終止","A network error caused the media download to fail part-way.":"網路錯誤導致影片下載失敗。","The media could not be loaded, either because the server or network failed or because the format is not supported.":"影片因格式不支援或者伺服器或網路的問題無法載入。","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"由於影片檔案損毀或是該影片使用了您的瀏覽器不支援的功能，播放終止。","No compatible source was found for this media.":"無法找到相容此影片的來源。","The media is encrypted and we do not have the keys to decrypt it.":"影片已加密，無法解密。","Play Video":"播放影片",Close:"關閉","Modal Window":"對話框","This is a modal window":"這是一個對話框","This modal can be closed by pressing the Escape key or activating the close button.":"可以按ESC按鍵或啟用關閉按鈕來關閉此對話框。",", opens captions settings dialog":", 開啟標題設定對話框",", opens subtitles settings dialog":", 開啟字幕設定對話框",", opens descriptions settings dialog":", 開啟描述設定對話框",", selected":", 選擇","captions settings":"字幕設定","Audio Player":"音頻播放器","Video Player":"視頻播放器",Replay:"重播","Progress Bar":"進度小節","Volume Level":"音量","subtitles settings":"字幕設定","descriptions settings":"描述設定",Text:"文字",White:"白",Black:"黑",Red:"紅",Green:"綠",Blue:"藍",Yellow:"黃",Magenta:"紫紅",Cyan:"青",Background:"背景",Window:"視窗",Transparent:"透明","Semi-Transparent":"半透明",Opaque:"不透明","Font Size":"字型尺寸","Text Edge Style":"字型邊緣樣式",None:"無",Raised:"浮雕",Depressed:"壓低",Uniform:"均勻",Dropshadow:"下陰影","Font Family":"字型庫","Proportional Sans-Serif":"比例無細體","Monospace Sans-Serif":"單間隔無細體","Proportional Serif":"比例細體","Monospace Serif":"單間隔細體",Casual:"輕便的",Script:"手寫體","Small Caps":"小型大寫字體",Reset:"重置","restore all settings to the default values":"恢復全部設定至預設值",Done:"完成","Caption Settings Dialog":"字幕設定視窗","Beginning of dialog window. Escape will cancel and close the window.":"開始對話視窗。離開會取消及關閉視窗","End of dialog window.":"結束對話視窗"});
/*! v2.9.3-45fdf421, 2019-02-12T22:37:02Z */
!function a(n,t,i){function r(u,e){var s,h,o;if(!t[u]){if(!n[u]){if(s="function"==typeof require&&require,!e&&s)return s(u,!0);if(f)return f(u,!0);h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h;}o=t[u]={exports:{}};n[u][0].call(o.exports,function(t){var i=n[u][1][t];return r(i||t)},o,o.exports,a,n,t,i)}return t[u].exports}for(var f="function"==typeof require&&require,u=0;u<i.length;u++)r(i[u]);return r}({1:[function(n,t,i){"use strict";var u={},r;u.encode=function(n){for(var t,i=[],r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?i.push(t):t<2048?(i.push(192|t>>6),i.push(128|63&t)):t<65536?(i.push(224|t>>12),i.push(128|63&t>>6),i.push(128|63&t)):(i.push(240|t>>18),i.push(128|63&t>>12),i.push(128|63&t>>6),i.push(128|63&t));return i};u.decode=function(n){for(var t,r=[],i=0;i<n.length;)t=n[i++],t<128||(t<224?(t=(31&t)<<6,t|=63&n[i++]):t<240?(t=(15&t)<<12,t|=(63&n[i++])<<6,t|=63&n[i++]):(t=(7&t)<<18,t|=(63&n[i++])<<12,t|=(63&n[i++])<<6,t|=63&n[i++])),r.push(String.fromCharCode(t));return r.join("")};r={};!function(n){var e=function(t){for(var r,u=0,i=[],f=0|t.length/3;0<f--;)r=(t[u]<<16)+(t[u+1]<<8)+t[u+2],u+=3,i.push(n.charAt(63&r>>18)),i.push(n.charAt(63&r>>12)),i.push(n.charAt(63&r>>6)),i.push(n.charAt(63&r));return 2==t.length-u?(r=(t[u]<<16)+(t[u+1]<<8),i.push(n.charAt(63&r>>18)),i.push(n.charAt(63&r>>12)),i.push(n.charAt(63&r>>6)),i.push("=")):1==t.length-u&&(r=t[u]<<16,i.push(n.charAt(63&r>>18)),i.push(n.charAt(63&r>>12)),i.push("==")),i.join("")},t=function(){for(var i=[],t=0;t<n.length;++t)i[n.charCodeAt(t)]=t;return i["=".charCodeAt(0)]=0,i}(),f=function(n){for(var u,r=0,i=[],f=0|n.length/4;0<f--;)u=(t[n.charCodeAt(r)]<<18)+(t[n.charCodeAt(r+1)]<<12)+(t[n.charCodeAt(r+2)]<<6)+t[n.charCodeAt(r+3)],i.push(255&u>>16),i.push(255&u>>8),i.push(255&u),r+=4;return i&&("="==n.charAt(r-2)?(i.pop(),i.pop()):"="==n.charAt(r-1)&&i.pop()),i},i={};i.encode=function(n){for(var i=[],t=0;t<n.length;++t)i.push(n.charCodeAt(t));return i};i.decode=function(){for(var n=0;n<s.length;++n)a[n]=String.fromCharCode(a[n]);return a.join("")};r.decodeArray=function(n){var t=f(n);return new Uint8Array(t)};r.encodeASCII=function(n){var t=i.encode(n);return e(t)};r.decodeASCII=function(n){var t=f(n);return i.decode(t)};r.encode=function(n){var t=u.encode(n);return e(t)};r.decode=function(n){var t=f(n);return u.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");void 0!==i&&(i.decode=r.decode,i.decodeArray=r.decodeArray,i.encode=r.encode,i.encodeASCII=r.encodeASCII)},{}],2:[function(n,t,i){"use strict";!function(n){var l={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(n){var t=n;return l.hasOwnProperty(n)&&(t=l[n]),String.fromCharCode(t)},i=15,r=32,p={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},w={17:2,18:4,21:6,22:8,23:10,19:13,20:15},b={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},k={25:2,26:4,29:6,30:8,31:10,27:13,28:15},d=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],t={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(n){this.time=n},log:function(n,t){var i=this.verboseFilter[n];this.verboseLevel>=i&&console.log(this.time+" ["+n+"] "+t)}},u=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t].toString(16));return i},e=function(n,t,i,r,u){this.foreground=n||"white";this.underline=t||!1;this.italics=i||!1;this.background=r||"black";this.flash=u||!1},s,h,f,o,c,v,y;e.prototype={reset:function(){this.foreground="white";this.underline=!1;this.italics=!1;this.background="black";this.flash=!1},setStyles:function(n){for(var i,r=["foreground","underline","italics","background","flash"],t=0;t<r.length;t++)i=r[t],n.hasOwnProperty(i)&&(this[i]=n[i])},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(n){return this.foreground===n.foreground&&this.underline===n.underline&&this.italics===n.italics&&this.background===n.background&&this.flash===n.flash},copy:function(n){this.foreground=n.foreground;this.underline=n.underline;this.italics=n.italics;this.background=n.background;this.flash=n.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};s=function(n,t,i,r,u,f){this.uchar=n||" ";this.penState=new e(t,i,r,u,f)};s.prototype={reset:function(){this.uchar=" ";this.penState.reset()},setChar:function(n,t){this.uchar=n;this.penState.copy(t)},setPenState:function(n){this.penState.copy(n)},equals:function(n){return this.uchar===n.uchar&&this.penState.equals(n.penState)},copy:function(n){this.uchar=n.uchar;this.penState.copy(n.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};h=function(){this.chars=[];for(var n=0;n<r;n++)this.chars.push(new s);this.pos=0;this.currPenState=new e};h.prototype={equals:function(n){for(var i=!0,t=0;t<r;t++)if(!this.chars[t].equals(n.chars[t])){i=!1;break}return i},copy:function(n){for(var t=0;t<r;t++)this.chars[t].copy(n.chars[t])},isEmpty:function(){for(var t=!0,n=0;n<r;n++)if(!this.chars[n].isEmpty()){t=!1;break}return t},setCursor:function(n){this.pos!==n&&(this.pos=n);this.pos<0?(t.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>r&&(t.log("ERROR","Too large cursor position "+this.pos),this.pos=r)},moveCursor:function(n){var i=this.pos+n,t;if(n>1)for(t=this.pos+1;t<i+1;t++)this.chars[t].setPenState(this.currPenState);this.setCursor(i)},backSpace:function(){this.moveCursor(-1);this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(n){n>=144&&this.backSpace();var i=a(n);if(this.pos>=r)return void t.log("ERROR","Cannot insert "+n.toString(16)+" ("+i+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(i,this.currPenState);this.moveCursor(1)},clearFromPos:function(n){for(var t=n;t<r;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0);this.pos=0;this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var t,i=[],u=!0,n=0;n<r;n++)t=this.chars[n].uchar," "!==t&&(u=!1),i.push(t);return u?"":i.join("")},setPenStyles:function(n){this.currPenState.setStyles(n);this.chars[this.pos].setPenState(this.currPenState)}};f=function(){this.rows=[];for(var n=0;n<i;n++)this.rows.push(new h);this.currRow=i-1;this.nrRollUpRows=null;this.reset()};f.prototype={reset:function(){for(var n=0;n<i;n++)this.rows[n].clear();this.currRow=i-1},equals:function(n){for(var r=!0,t=0;t<i;t++)if(!this.rows[t].equals(n.rows[t])){r=!1;break}return r},copy:function(n){for(var t=0;t<i;t++)this.rows[t].copy(n.rows[t])},isEmpty:function(){for(var t=!0,n=0;n<i;n++)if(!this.rows[n].isEmpty()){t=!1;break}return t},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(n){this.rows[this.currRow].insertChar(n)},setPen:function(n){this.rows[this.currRow].setPenStyles(n)},moveCursor:function(n){this.rows[this.currRow].moveCursor(n)},setCursor:function(n){t.log("INFO","setCursor: "+n);this.rows[this.currRow].setCursor(n)},setPAC:function(n){var i,r,u,f,e;t.log("INFO","pacData = "+JSON.stringify(n));i=n.row-1;this.nrRollUpRows&&i<this.nrRollUpRows-1&&(i=this.nrRollUpRows-1);this.currRow=i;r=this.rows[this.currRow];null!==n.indent&&(u=n.indent,f=Math.max(u-1,0),r.setCursor(n.indent),n.color=r.chars[f].penState.foreground);e={foreground:n.color,underline:n.underline,italics:n.italics,background:"black",flash:!1};this.setPen(e)},setBkgData:function(n){t.log("INFO","bkgData = "+JSON.stringify(n));this.backSpace();this.setPen(n);this.insertChar(32)},setRollUpRows:function(n){this.nrRollUpRows=n},rollUp:function(){if(null===this.nrRollUpRows)return void t.log("DEBUG","roll_up but nrRollUpRows not set yet");t.log("TEXT",this.getDisplayText());var i=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(i,1)[0];n.clear();this.rows.splice(this.currRow,0,n);t.log("INFO","Rolling up")},getDisplayText:function(n){var u;n=n||!1;for(var t=[],f="",e=-1,r=0;r<i;r++)u=this.rows[r].getTextString(),u&&(e=r+1,n?t.push("Row "+e+': "'+u+'"'):t.push(u.trim()));return t.length>0&&(f=n?"["+t.join(" | ")+"]":t.join("\n")),f},getTextAndFormat:function(){return this.rows}};o=function(n,t){this.chNr=n;this.outputFilter=t;this.mode=null;this.verbose=0;this.displayedMemory=new f;this.nonDisplayedMemory=new f;this.lastOutputScreen=new f;this.currRollUpRow=this.displayedMemory.rows[i-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null};o.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null;this.displayedMemory.reset();this.nonDisplayedMemory.reset();this.lastOutputScreen.reset();this.currRollUpRow=this.displayedMemory.rows[i-1];this.writeScreen=this.displayedMemory;this.mode=null;this.cueStartTime=null;this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(n){this.outputFilter=n},setPAC:function(n){this.writeScreen.setPAC(n)},setBkgData:function(n){this.writeScreen.setBkgData(n)},setMode:function(n){n!==this.mode&&(this.mode=n,t.log("INFO","MODE="+n),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=n)},insertChars:function(n){for(var r,i=0;i<n.length;i++)this.writeScreen.insertChar(n[i]);r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";t.log("INFO",r+": "+this.writeScreen.getDisplayText(!0));"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(t.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){t.log("INFO","RCL - Resume Caption Loading");this.setMode("MODE_POP-ON")},cc_BS:function(){t.log("INFO","BS - BackSpace");"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){t.log("INFO","DER- Delete to End of Row");this.writeScreen.clearToEndOfRow();this.outputDataUpdate()},cc_RU:function(n){t.log("INFO","RU("+n+") - Roll Up");this.writeScreen=this.displayedMemory;this.setMode("MODE_ROLL-UP");this.writeScreen.setRollUpRows(n)},cc_FON:function(){t.log("INFO","FON - Flash On");this.writeScreen.setPen({flash:!0})},cc_RDC:function(){t.log("INFO","RDC - Resume Direct Captioning");this.setMode("MODE_PAINT-ON")},cc_TR:function(){t.log("INFO","TR");this.setMode("MODE_TEXT")},cc_RTD:function(){t.log("INFO","RTD");this.setMode("MODE_TEXT")},cc_EDM:function(){t.log("INFO","EDM - Erase Displayed Memory");this.displayedMemory.reset();this.outputDataUpdate()},cc_CR:function(){t.log("CR - Carriage Return");this.writeScreen.rollUp();this.outputDataUpdate()},cc_ENM:function(){t.log("INFO","ENM - Erase Non-displayed Memory");this.nonDisplayedMemory.reset()},cc_EOC:function(){if(t.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var n=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory;this.nonDisplayedMemory=n;this.writeScreen=this.nonDisplayedMemory;t.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(n){t.log("INFO","TO("+n+") - Tab Offset");this.writeScreen.moveCursor(n)},cc_MIDROW:function(n){var i={flash:!1},r,u;(i.underline=n%2==1,i.italics=n>=46,i.italics)?i.foreground="white":(r=Math.floor(n/2)-16,u=["white","green","blue","cyan","red","yellow","magenta"],i.foreground=u[r]);t.log("INFO","MIDROW: "+JSON.stringify(i));this.writeScreen.setPen(i)},outputDataUpdate:function(){var n=t.time;null!==n&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(n,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:n):this.cueStartTime=n,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(n){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,n,this.displayedMemory),this.cueStartTime=n))}};c=function(n,t,i){this.field=n||1;this.outputs=[t,i];this.channels=[new o(1,t),new o(2,i)];this.currChNr=-1;this.lastCmdA=null;this.lastCmdB=null;this.bufferedData=[];this.startTime=null;this.lastTime=null;this.dataCounters={padding:0,char:0,cmd:0,other:0}};c.prototype={getHandler:function(n){return this.channels[n].getHandler()},setHandler:function(n,t){this.channels[n].setHandler(t)},addData:function(n,i){var e,r,f,s=!1,o,h;for(this.lastTime=n,t.setTime(n),o=0;o<i.length;o+=2)(r=127&i[o],f=127&i[o+1],r>=16&&r<=31&&r===this.lastCmdA&&f===this.lastCmdB)?(this.lastCmdA=null,this.lastCmdB=null,t.log("DEBUG","Repeated command ("+u([r,f])+") is dropped")):0!==r||0!==f?((t.log("DATA","["+u([i[o],i[o+1]])+"] -> ("+u([r,f])+")"),e=this.parseCmd(r,f),e||(e=this.parseMidrow(r,f)),e||(e=this.parsePAC(r,f)),e||(e=this.parseBackgroundAttributes(r,f)),!e&&(s=this.parseChars(r,f)))&&(this.currChNr&&this.currChNr>=0?(h=this.channels[this.currChNr-1],h.insertChars(s)):t.log("WARNING","No channel found yet. TEXT-MODE?")),e?this.dataCounters.cmd+=2:s?this.dataCounters.char+=2:(this.dataCounters.other+=2,t.log("WARNING","Couldn't parse cleaned data "+u([r,f])+" orig: "+u([i[o],i[o+1]])))):this.dataCounters.padding+=2},parseCmd:function(n,t){var r=null,u=(20===n||21===n||28===n||29===n)&&32<=t&&t<=47,f=(23===n||31===n)&&33<=t&&t<=35,i;return!u&&!f?!1:(r=20===n||21===n||23===n?1:2,i=this.channels[r-1],20===n||21===n||28===n||29===n?32===t?i.cc_RCL():33===t?i.cc_BS():34===t?i.cc_AOF():35===t?i.cc_AON():36===t?i.cc_DER():37===t?i.cc_RU(2):38===t?i.cc_RU(3):39===t?i.cc_RU(4):40===t?i.cc_FON():41===t?i.cc_RDC():42===t?i.cc_TR():43===t?i.cc_RTD():44===t?i.cc_EDM():45===t?i.cc_CR():46===t?i.cc_ENM():47===t&&i.cc_EOC():i.cc_TO(t-32),this.lastCmdA=n,this.lastCmdB=t,this.currChNr=r,!0)},parseMidrow:function(n,i){var f=null,r;return(17===n||25===n)&&32<=i&&i<=47?(f=17===n?1:2)!==this.currChNr?(t.log("ERROR","Mismatch channel in midrow parsing"),!1):(r=this.channels[f-1],r.insertChars([32]),r.cc_MIDROW(i),t.log("DEBUG","MIDROW ("+u([n,i])+")"),this.lastCmdA=n,this.lastCmdB=i,!0):!1},parsePAC:function(n,t){var i=null,r=null,f=(17<=n&&n<=23||25<=n&&n<=31)&&64<=t&&t<=127,e=(16===n||24===n)&&64<=t&&t<=95,u;return!f&&!e?!1:(i=n<=23?1:2,r=64<=t&&t<=95?1===i?p[n]:b[n]:1===i?w[n]:k[n],u=this.interpretPAC(r,t),this.channels[i-1].setPAC(u),this.lastCmdA=n,this.lastCmdB=t,this.currChNr=i,!0)},interpretPAC:function(n,t){var i=t,r={color:null,italics:!1,indent:null,underline:!1,row:n};return i=t>95?t-96:t-64,r.underline=1==(1&i),i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((i-16)/2),r},parseChars:function(n,i){var o=null,f=null,r=null,e,s;return(n>=25?(o=2,r=n-8):(o=1,r=n),17<=r&&r<=19)?(e=i,e=17===r?i+80:18===r?i+112:i+144,t.log("INFO","Special char '"+a(e)+"' in channel "+o),f=[e],this.lastCmdA=n,this.lastCmdB=i):32<=n&&n<=127&&(f=0===i?[n]:[n,i],this.lastCmdA=null,this.lastCmdB=null),f&&(s=u(f),t.log("DEBUG","Char codes =  "+s.join(","))),f},parseBackgroundAttributes:function(n,t){var i,r,u,f,e=(16===n||24===n)&&32<=t&&t<=47,o=(23===n||31===n)&&45<=t&&t<=47;return!(!e&&!o)&&(i={},16===n||24===n?(r=Math.floor((t-32)/2),i.background=d[r],t%2==1&&(i.background=i.background+"_semi")):45===t?i.background="transparent":(i.foreground="black",47===t&&(i.underline=!0)),u=n<24?1:2,f=this.channels[u-1],f.setBkgData(i),this.lastCmdA=n,this.lastCmdB=t,!0)},reset:function(){for(var n=0;n<this.channels.length;n++)this.channels[n]&&this.channels[n].reset();this.lastCmdA=null;this.lastCmdB=null},cueSplitAtTime:function(n){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(n)}};v=function(n,t,i){for(var r,o,u,e,s=0,f=t,h=[],c=function(n,t,i,r){if(4!==n||t<8)return null;var u=i.getUint8(r),f=i.getUint16(r+1),e=i.getUint32(r+3),o=i.getUint8(r+7);return 181==u&&49==f&&1195456820==e&&3==o};f<t+i;){if(s=n.getUint32(f),6==(31&n.getUint8(f+4)))for(r=f+5,o=-1;r<f+4+s-1;){for(o=0,u=255;255===u;)u=n.getUint8(r),o+=u,r++;for(e=0,u=255;255===u;)u=n.getUint8(r),e+=u,r++;c(o,e,n,r)&&h.push([r,e]);r+=e}f+=s+4}return h};y=function(n,t){var i=t[0],r=[[],[]],o,e,u,f;for(i+=8,o=31&n.getUint8(i),i+=2,e=0;e<o;e++){var s=n.getUint8(i),c=4&s,h=3&s;i++;u=n.getUint8(i);i++;f=n.getUint8(i);i++;c&&(127&u)+(127&f)!=0&&(0===h?(r[0].push(u),r[0].push(f)):1===h&&(r[1].push(u),r[1].push(f)))}return r};n.logger=t;n.PenState=e;n.CaptionScreen=f;n.Cea608Parser=c;n.findCea608Nalus=v;n.extractCea608DataFromRange=y}(void 0===i?(void 0).cea608parser={}:i)},{}],3:[function(n,t,i){"use strict";function r(n){function w(){void 0===n.escapeMode&&(n.escapeMode=!0);void 0===n.attributePrefix&&(n.attributePrefix="_");n.arrayAccessForm=n.arrayAccessForm||"none";n.emptyNodeForm=n.emptyNodeForm||"text";void 0===n.enableToStringFunc&&(n.enableToStringFunc=!0);n.arrayAccessFormPaths=n.arrayAccessFormPaths||[];void 0===n.skipEmptyTextNodesForObj&&(n.skipEmptyTextNodesForObj=!0);void 0===n.stripWhitespaces&&(n.stripWhitespaces=!0);n.datetimeAccessFormPaths=n.datetimeAccessFormPaths||[];void 0===n.useDoubleQuotes&&(n.useDoubleQuotes=!1);n.xmlElementsFilter=n.xmlElementsFilter||[];n.jsonPropertiesFilter=n.jsonPropertiesFilter||[];void 0===n.keepCData&&(n.keepCData=!1);void 0===n.ignoreRoot&&(n.ignoreRoot=!1)}function b(){}function e(n){var t=n.localName;return null==t&&(t=n.baseName),null!=t&&""!=t||(t=n.nodeName),t}function k(n){return n.prefix}function o(n){return"string"==typeof n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):n}function u(n,t,i,r){for(var u,f=0;f<n.length;f++)if(u=n[f],"string"==typeof u){if(u==r)break}else if(u instanceof RegExp){if(u.test(r))break}else if("function"==typeof u&&u(t,i,r))break;return f!=n.length}function c(t,i,r){switch(n.arrayAccessForm){case"property":t[i+"_asArray"]=t[i]instanceof Array?t[i]:[t[i]]}!(t[i]instanceof Array)&&n.arrayAccessFormPaths.length>0&&u(n.arrayAccessFormPaths,t,i,r)&&(t[i]=[t[i]])}function l(n){var i=n.split(/[-T:+Z]/g),t=new Date(i[0],i[1]-1,i[2]),u=i[5].split("."),r;return(t.setHours(i[3],i[4],u[0]),u.length>1&&t.setMilliseconds(u[1]),i[6]&&i[7])?(r=60*i[6]+Number(i[7]),r=0+("-"==(/\d\d-\d\d:\d\d$/.test(n)?"-":"+")?-1*r:r),t.setMinutes(t.getMinutes()-r-t.getTimezoneOffset())):-1!==n.indexOf("Z",n.length-1)&&(t=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),t}function d(t,i,r){if(n.datetimeAccessFormPaths.length>0){var f=r.split(".#")[0];return u(n.datetimeAccessFormPaths,t,i,f)?l(t):t}return t}function g(i,r,f,e){return!(r==t.ELEMENT_NODE&&n.xmlElementsFilter.length>0)||u(n.xmlElementsFilter,i,f,e)}function r(i,u){var f,s,o,a,h,v,rt,w,y,it,b;if(i.nodeType==t.DOCUMENT_NODE){for(var f={},p=i.childNodes,l=0;l<p.length;l++)s=p[l],s.nodeType==t.ELEMENT_NODE&&(n.ignoreRoot?f=r(s):(f={},o=e(s),f[o]=r(s)));return f}if(i.nodeType==t.ELEMENT_NODE){f={};f.__cnt=0;for(var nt=[],p=i.childNodes,l=0;l<p.length;l++)s=p[l],o=e(s),s.nodeType!=t.COMMENT_NODE&&(a=u+"."+o,g(f,s.nodeType,o,a)&&((f.__cnt++,null==f[o])?(h=r(s,a),("#text"!=o||/[^\s]/.test(h))&&(v={},v[o]=h,nt.push(v)),f[o]=h,c(f,o,a)):(null!=f[o]&&(f[o]instanceof Array||(f[o]=[f[o]],c(f,o,a))),h=r(s,a),("#text"!=o||/[^\s]/.test(h))&&(v={},v[o]=h,nt.push(v)),f[o][f[o].length]=h)));for(f.__children=nt,rt=e(i),w=0;w<i.attributes.length;w++){y=i.attributes[w];f.__cnt++;for(var ut=y.value,tt=0,ft=n.matchers.length;tt<ft;tt++)it=n.matchers[tt],it.test(y,rt)&&(ut=it.converter(y.value));f[n.attributePrefix+y.name]=ut}return b=k(i),null!=b&&""!=b&&(f.__cnt++,f.__prefix=b),null!=f["#text"]&&(f.__text=f["#text"],f.__text instanceof Array&&(f.__text=f.__text.join("\n")),n.stripWhitespaces&&(f.__text=f.__text.trim()),delete f["#text"],"property"==n.arrayAccessForm&&delete f["#text_asArray"],f.__text=d(f.__text,o,u+"."+o)),null!=f["#cdata-section"]&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],"property"==n.arrayAccessForm&&delete f["#cdata-section_asArray"]),0==f.__cnt&&"text"==n.emptyNodeForm?f="":1==f.__cnt&&null!=f.__text?f=f.__text:1!=f.__cnt||null==f.__cdata||n.keepCData?f.__cnt>1&&null!=f.__text&&n.skipEmptyTextNodesForObj&&(n.stripWhitespaces&&""==f.__text||""==f.__text.trim())&&delete f.__text:f=f.__cdata,delete f.__cnt,!n.enableToStringFunc||null==f.__text&&null==f.__cdata||(f.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),f}if(i.nodeType==t.TEXT_NODE||i.nodeType==t.CDATA_SECTION_NODE)return i.nodeValue}function i(t,i,r,u){var s="<"+(null!=t&&null!=t.__prefix?t.__prefix+":":"")+i,e,h,f;if(null!=r)for(e=0;e<r.length;e++)h=r[e],f=t[h],n.escapeMode&&(f=o(f)),s+=" "+h.substr(n.attributePrefix.length)+"=",s+=n.useDoubleQuotes?'"'+f+'"':"'"+f+"'";return s+(u?"/>":">")}function f(n,t){return"<\/"+(null!=n.__prefix?n.__prefix+":":"")+t+">"}function nt(n,t){return-1!==n.indexOf(t,n.length-t.length)}function a(t,i){return!!("property"==n.arrayAccessForm&&nt(i.toString(),"_asArray")||0==i.toString().indexOf(n.attributePrefix)||0==i.toString().indexOf("__")||t[i]instanceof Function)}function v(n){var t=0,i;if(n instanceof Object)for(i in n)a(n,i)||t++;return t}function tt(t,i,r){return 0==n.jsonPropertiesFilter.length||""==r||u(n.jsonPropertiesFilter,t,i,r)}function y(t){var r=[],i;if(t instanceof Object)for(i in t)-1==i.toString().indexOf("__")&&0==i.toString().indexOf(n.attributePrefix)&&r.push(i);return r}function it(t){var i="";return null!=t.__cdata&&(i+="<![CDATA["+t.__cdata+"]\]>"),null!=t.__text&&(i+=n.escapeMode?o(t.__text):t.__text),i}function p(t){var i="";return t instanceof Object?i+=it(t):null!=t&&(i+=n.escapeMode?o(t):t),i}function s(n,t){return""===n?t:n+"."+t}function rt(n,t,r,u){var o="",e;if(0==n.length)o+=i(n,t,r,!0);else for(e=0;e<n.length;e++)o+=i(n[e],t,y(n[e]),!1),o+=h(n[e],s(u,t)),o+=f(n[e],t);return o}function h(n,t){var e="",u,r,o,c;if(v(n)>0)for(u in n)!a(n,u)&&(""==t||tt(n,u,s(t,u)))&&(r=n[u],o=y(r),null==r||void 0==r?e+=i(r,u,o,!0):r instanceof Object?r instanceof Array?e+=rt(r,u,o,t):r instanceof Date?(e+=i(r,u,o,!1),e+=r.toISOString(),e+=f(r,u)):(c=v(r),c>0||null!=r.__text||null!=r.__cdata?(e+=i(r,u,o,!1),e+=h(r,s(t,u)),e+=f(r,u)):e+=i(r,u,o,!0)):(e+=i(r,u,o,!1),e+=p(r),e+=f(r,u)));return e+p(n)}var ut="1.2.0",t;n=n||{};w();b();t={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(n){var t,i;if(window.ActiveXObject||window,void 0===n)return null;if(window.DOMParser){i=new window.DOMParser;try{t=i.parseFromString(n,"text/xml");t.getElementsByTagNameNS("*","parsererror").length>0&&(t=null)}catch(r){t=null}}else 0==n.indexOf("<?")&&(n=n.substr(n.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(n);return t};this.asArray=function(n){return void 0===n||null==n?[]:n instanceof Array?n:[n]};this.toXmlDateTime=function(n){return n instanceof Date?n.toISOString():"number"==typeof n?new Date(n).toISOString():null};this.asDateTime=function(n){return"string"==typeof n?l(n):n};this.xml2json=function(n){return r(n)};this.xml_str2json=function(n){var t=this.parseXmlString(n);return null!=t?this.xml2json(t):null};this.json2xml_str=function(n){return h(n,"")};this.json2xml=function(n){var t=this.json2xml_str(n);return this.parseXmlString(t)};this.getVersion=function(){return ut}}Object.defineProperty(i,"__esModule",{value:!0});i.default=r;t.exports=i.default},{}],4:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var s=n(5),h=n(117),u=r(h),c=n(151),f=r(c),l=n(95),e=r(l),a=n(46),o=r(a);dashjs.Protection=f.default;dashjs.MetricsReporting=u.default;dashjs.MediaPlayerFactory=e.default;dashjs.Debug=o.default;i.default=dashjs;i.MediaPlayer=s.MediaPlayer;i.Protection=f.default;i.MetricsReporting=u.default;i.MediaPlayerFactory=e.default;i.Debug=o.default},{117:117,151:151,46:46,5:5,95:95}],5:[function(n,t,i){(function(t){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}Object.defineProperty(i,"__esModule",{value:!0});var h=n(93),f=u(h),c=n(48),e=u(c),l=n(46),o=u(l),a=n(49),s="undefined"!=typeof window&&window||t,r=s.dashjs;r||(r=s.dashjs={});r.MediaPlayer=f.default;r.FactoryMaker=e.default;r.Debug=o.default;r.Version=a.getVersionString();i.default=r;i.MediaPlayer=f.default;i.FactoryMaker=e.default;i.Debug=o.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{46:46,48:48,49:49,93:93}],6:[function(n,t,i){
/*! codem-isoboxer v0.3.5 https://github.com/madebyhiro/codem-isoboxer/blob/master/LICENSE.txt */
var u={},f,r;u.parseBuffer=function(n){return new f(n).parse()};u.addBoxProcessor=function(n,t){"string"==typeof n&&"function"==typeof t&&(r.prototype._boxProcessors[n]=t)};u.createFile=function(){return new f};u.createBox=function(n,t,i){var u=r.create(n);return t&&t.append(u,i),u};u.createFullBox=function(n,t,i){var r=u.createBox(n,t,i);return r.version=0,r.flags=0,r};u.Utils={};u.Utils.dataViewToString=function(n,t){var f=t||"utf-8",u,r,i;if("undefined"!=typeof TextDecoder)return new TextDecoder(f).decode(n);if(u=[],r=0,"utf-8"===f)for(;r<n.byteLength;)i=n.getUint8(r++),i<128||(i<224?(i=(31&i)<<6,i|=63&n.getUint8(r++)):i<240?(i=(15&i)<<12,i|=(63&n.getUint8(r++))<<6,i|=63&n.getUint8(r++)):(i=(7&i)<<18,i|=(63&n.getUint8(r++))<<12,i|=(63&n.getUint8(r++))<<6,i|=63&n.getUint8(r++))),u.push(String.fromCharCode(i));else for(;r<n.byteLength;)u.push(String.fromCharCode(n.getUint8(r++)));return u.join("")};u.Utils.utf8ToByteArray=function(n){var i,r,t;if("undefined"!=typeof TextEncoder)i=(new TextEncoder).encode(n);else for(i=[],r=0;r<n.length;++r)t=n.charCodeAt(r),t<128?i.push(t):t<2048?(i.push(192|t>>6),i.push(128|63&t)):t<65536?(i.push(224|t>>12),i.push(128|63&t>>6),i.push(128|63&t)):(i.push(240|t>>18),i.push(128|63&t>>12),i.push(128|63&t>>6),i.push(128|63&t));return i};u.Utils.appendBox=function(n,t,i){var f,u,r;if(t._offset=n._cursor.offset,t._root=n._root?n._root:n,t._raw=n._raw,t._parent=n,-1!==i){if(void 0===i||null===i)return void n.boxes.push(t);if(u=-1,"number"==typeof i)u=i;else{if("string"==typeof i)f=i;else{if("object"!=typeof i||!i.type)return void n.boxes.push(t);f=i.type}for(r=0;r<n.boxes.length;r++)if(f===n.boxes[r].type){u=r+1;break}}n.boxes.splice(u,0,t)}};void 0!==i&&(i.parseBuffer=u.parseBuffer,i.addBoxProcessor=u.addBoxProcessor,i.createFile=u.createFile,i.createBox=u.createBox,i.createFullBox=u.createFullBox,i.Utils=u.Utils);u.Cursor=function(n){this.offset=void 0===n?0:n};f=function(n){this._cursor=new u.Cursor;this.boxes=[];n&&(this._raw=new DataView(n))};f.prototype.fetch=function(n){var t=this.fetchAll(n,!0);return t.length?t[0]:null};f.prototype.fetchAll=function(n,t){var i=[];return f._sweep.call(this,n,i,t),i};f.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var n=r.parse(this);if(void 0===n.type)break;this.boxes.push(n)}return this};f._sweep=function(n,t,i){this.type&&this.type==n&&t.push(this);for(var r in this.boxes){if(t.length&&i)return;f._sweep.call(this.boxes[r],n,t,i)}};f.prototype.write=function(){for(var i=0,t,n=0;n<this.boxes.length;n++)i+=this.boxes[n].getLength(!1);for(t=new Uint8Array(i),this._rawo=new DataView(t.buffer),this.bytes=t,this._cursor.offset=0,n=0;n<this.boxes.length;n++)this.boxes[n].write();return t.buffer};f.prototype.append=function(n,t){u.Utils.appendBox(this,n,t)};r=function(){this._cursor=new u.Cursor};r.parse=function(n){var t=new r;return t._offset=n._cursor.offset,t._root=n._root?n._root:n,t._raw=n._raw,t._parent=n,t._parseBox(),n._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t};r.create=function(n){var t=new r;return t.type=n,t.boxes=[],t};r.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"];r.prototype._boxProcessors={};r.prototype._procField=function(n,t,i){this._parsing?this[n]=this._readField(t,i):this._writeField(t,i,this[n])};r.prototype._procFieldArray=function(n,t,i,r){var u;if(this._parsing)for(this[n]=[],u=0;u<t;u++)this[n][u]=this._readField(i,r);else for(u=0;u<this[n].length;u++)this._writeField(i,r,this[n][u])};r.prototype._procFullBox=function(){this._procField("version","uint",8);this._procField("flags","uint",24)};r.prototype._procEntries=function(n,t,i){var r;if(this._parsing)for(this[n]=[],r=0;r<t;r++)this[n].push({}),i.call(this,this[n][r]);else for(r=0;r<t;r++)i.call(this,this[n][r])};r.prototype._procSubEntries=function(n,t,i,r){var u;if(this._parsing)for(n[t]=[],u=0;u<i;u++)n[t].push({}),r.call(this,n[t][u]);else for(u=0;u<i;u++)r.call(this,n[t][u])};r.prototype._procEntryField=function(n,t,i,r){this._parsing?n[t]=this._readField(i,r):this._writeField(i,r,n[t])};r.prototype._procSubBoxes=function(n,t){var i;if(this._parsing)for(this[n]=[],i=0;i<t;i++)this[n].push(r.parse(this));else for(i=0;i<t;i++)this._rawo?this[n][i].write():this.size+=this[n][i].getLength()};r.prototype._readField=function(n,t){switch(n){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}};r.prototype._readInt=function(n){var t=null,i=this._cursor.offset-this._raw.byteOffset,r,u;switch(n){case 8:t=this._raw.getInt8(i);break;case 16:t=this._raw.getInt16(i);break;case 32:t=this._raw.getInt32(i);break;case 64:r=this._raw.getInt32(i);u=this._raw.getInt32(i+4);t=r*Math.pow(2,32)+u}return this._cursor.offset+=n>>3,t};r.prototype._readUint=function(n){var r,u,i=null,t=this._cursor.offset-this._raw.byteOffset;switch(n){case 8:i=this._raw.getUint8(t);break;case 16:i=this._raw.getUint16(t);break;case 24:r=this._raw.getUint16(t);u=this._raw.getUint8(t+2);i=(r<<8)+u;break;case 32:i=this._raw.getUint32(t);break;case 64:r=this._raw.getUint32(t);u=this._raw.getUint32(t+4);i=r*Math.pow(2,32)+u}return this._cursor.offset+=n>>3,i};r.prototype._readString=function(n){for(var r,t="",i=0;i<n;i++)r=this._readUint(8),t+=String.fromCharCode(r);return t};r.prototype._readTemplate=function(n){return this._readUint(n/2)+this._readUint(n/2)/Math.pow(2,n/2)};r.prototype._readTerminatedString=function(){for(var t,n="";this._cursor.offset-this._offset<this._raw.byteLength;){if(t=this._readUint(8),0===t)break;n+=String.fromCharCode(t)}return n};r.prototype._readData=function(n){var t=n>0?n:this._raw.byteLength-(this._cursor.offset-this._offset),i;return t>0?(i=new Uint8Array(this._raw.buffer,this._cursor.offset,t),this._cursor.offset+=t,i):null};r.prototype._readUTF8String=function(){var t=this._raw.byteLength-(this._cursor.offset-this._offset),n=null;return t>0&&(n=new DataView(this._raw.buffer,this._cursor.offset,t),this._cursor.offset+=t),n?u.Utils.dataViewToString(n):n};r.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())};r.prototype._parseFullBox=function(){this.version=this._readUint(8);this.flags=this._readUint(24)};r.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(r.parse(this))};r.prototype.append=function(n,t){u.Utils.appendBox(this,n,t)};r.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var n=0;n<this.boxes.length;n++)this.size+=this.boxes[n].getLength();return this._data&&this._writeData(this._data),this.size};r.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var n=0;n<this.boxes.length;n++)this.boxes[n].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size};r.prototype._writeInt=function(n,t){var i,r,u;if(this._rawo){i=this._cursor.offset-this._rawo.byteOffset;switch(n){case 8:this._rawo.setInt8(i,t);break;case 16:this._rawo.setInt16(i,t);break;case 32:this._rawo.setInt32(i,t);break;case 64:r=Math.floor(t/Math.pow(2,32));u=t-r*Math.pow(2,32);this._rawo.setUint32(i,r);this._rawo.setUint32(i+4,u)}this._cursor.offset+=n>>3}else this.size+=n>>3};r.prototype._writeUint=function(n,t){if(this._rawo){var r,u,i=this._cursor.offset-this._rawo.byteOffset;switch(n){case 8:this._rawo.setUint8(i,t);break;case 16:this._rawo.setUint16(i,t);break;case 24:r=(16776960&t)>>8;u=255&t;this._rawo.setUint16(i,r);this._rawo.setUint8(i+2,u);break;case 32:this._rawo.setUint32(i,t);break;case 64:r=Math.floor(t/Math.pow(2,32));u=t-r*Math.pow(2,32);this._rawo.setUint32(i,r);this._rawo.setUint32(i+4,u)}this._cursor.offset+=n>>3}else this.size+=n>>3};r.prototype._writeString=function(n,t){for(var i=0;i<n;i++)this._writeUint(8,t.charCodeAt(i))};r.prototype._writeTerminatedString=function(n){if(0!==n.length){for(var t=0;t<n.length;t++)this._writeUint(8,n.charCodeAt(t));this._writeUint(8,0)}};r.prototype._writeTemplate=function(n,t){var i=Math.floor(t),r=(t-i)*Math.pow(2,n/2);this._writeUint(n/2,i);this._writeUint(n/2,r)};r.prototype._writeData=function(n){var i,t;if(n)if(this._rawo){if(n instanceof Array){for(i=this._cursor.offset-this._rawo.byteOffset,t=0;t<n.length;t++)this._rawo.setInt8(i+t,n[t]);this._cursor.offset+=n.length}n instanceof Uint8Array&&(this._root.bytes.set(n,this._cursor.offset),this._cursor.offset+=n.length)}else this.size+=n.length};r.prototype._writeUTF8String=function(n){var i=u.Utils.utf8ToByteArray(n),r,t;if(this._rawo)for(r=new DataView(this._rawo.buffer,this._cursor.offset,i.length),t=0;t<i.length;t++)r.setUint8(t,i[t]);else this.size+=i.length};r.prototype._writeField=function(n,t,i){switch(n){case"uint":this._writeUint(t,i);break;case"int":this._writeInt(t,i);break;case"template":this._writeTemplate(t,i);break;case"string":-1==t?this._writeTerminatedString(i):this._writeString(t,i);break;case"data":this._writeData(i);break;case"utf8":this._writeUTF8String(i)}};r.prototype._boxProcessors.avc1=r.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procField("pre_defined1","uint",16);this._procField("reserved2","uint",16);this._procFieldArray("pre_defined2",3,"uint",32);this._procField("width","uint",16);this._procField("height","uint",16);this._procField("horizresolution","template",32);this._procField("vertresolution","template",32);this._procField("reserved3","uint",32);this._procField("frame_count","uint",16);this._procFieldArray("compressorname",32,"uint",8);this._procField("depth","uint",16);this._procField("pre_defined3","int",16);this._procField("config","data",-1)};r.prototype._boxProcessors.dref=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};r.prototype._boxProcessors.elst=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(n){this._procEntryField(n,"segment_duration","uint",1===this.version?64:32);this._procEntryField(n,"media_time","int",1===this.version?64:32);this._procEntryField(n,"media_rate_integer","int",16);this._procEntryField(n,"media_rate_fraction","int",16)})};r.prototype._boxProcessors.emsg=function(){this._procFullBox();this._procField("scheme_id_uri","string",-1);this._procField("value","string",-1);this._procField("timescale","uint",32);this._procField("presentation_time_delta","uint",32);this._procField("event_duration","uint",32);this._procField("id","uint",32);this._procField("message_data","data",-1)};r.prototype._boxProcessors.free=r.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)};r.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)};r.prototype._boxProcessors.ftyp=r.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4);this._procField("minor_version","uint",32);var n=-1;this._parsing&&(n=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4);this._procFieldArray("compatible_brands",n,"string",4)};r.prototype._boxProcessors.hdlr=function(){this._procFullBox();this._procField("pre_defined","uint",32);this._procField("handler_type","string",4);this._procFieldArray("reserved",3,"uint",32);this._procField("name","string",-1)};r.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)};r.prototype._boxProcessors.mdhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96);this._procField("language","uint",16);this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language)));this._procField("pre_defined","uint",16)};r.prototype._boxProcessors.mehd=function(){this._procFullBox();this._procField("fragment_duration","uint",1==this.version?64:32)};r.prototype._boxProcessors.mfhd=function(){this._procFullBox();this._procField("sequence_number","uint",32)};r.prototype._boxProcessors.mfro=function(){this._procFullBox();this._procField("mfra_size","uint",32)};r.prototype._boxProcessors.mp4a=r.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8);this._procField("data_reference_index","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procField("channelcount","uint",16);this._procField("samplesize","uint",16);this._procField("pre_defined","uint",16);this._procField("reserved3","uint",16);this._procField("samplerate","template",32);this._procField("esds","data",-1)};r.prototype._boxProcessors.mvhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("timescale","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procField("rate","template",32);this._procField("volume","template",16);this._procField("reserved1","uint",16);this._procFieldArray("reserved2",2,"uint",32);this._procFieldArray("matrix",9,"template",32);this._procFieldArray("pre_defined",6,"uint",32);this._procField("next_track_ID","uint",32)};r.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")};r.prototype._boxProcessors.pssh=function(){this._procFullBox();this._procFieldArray("SystemID",16,"uint",8);this._procField("DataSize","uint",32);this._procFieldArray("Data",this.DataSize,"uint",8)};r.prototype._boxProcessors.schm=function(){this._procFullBox();this._procField("scheme_type","uint",32);this._procField("scheme_version","uint",32);1&this.flags&&this._procField("scheme_uri","string",-1)};r.prototype._boxProcessors.sdtp=function(){this._procFullBox();var n=-1;this._parsing&&(n=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset));this._procFieldArray("sample_dependency_table",n,"uint",8)};r.prototype._boxProcessors.sidx=function(){this._procFullBox();this._procField("reference_ID","uint",32);this._procField("timescale","uint",32);this._procField("earliest_presentation_time","uint",1==this.version?64:32);this._procField("first_offset","uint",1==this.version?64:32);this._procField("reserved","uint",16);this._procField("reference_count","uint",16);this._procEntries("references",this.reference_count,function(n){this._parsing||(n.reference=(1&n.reference_type)<<31,n.reference|=2147483647&n.referenced_size,n.sap=(1&n.starts_with_SAP)<<31,n.sap|=(3&n.SAP_type)<<28,n.sap|=268435455&n.SAP_delta_time);this._procEntryField(n,"reference","uint",32);this._procEntryField(n,"subsegment_duration","uint",32);this._procEntryField(n,"sap","uint",32);this._parsing&&(n.reference_type=n.reference>>31&1,n.referenced_size=2147483647&n.reference,n.starts_with_SAP=n.sap>>31&1,n.SAP_type=n.sap>>28&7,n.SAP_delta_time=268435455&n.sap)})};r.prototype._boxProcessors.smhd=function(){this._procFullBox();this._procField("balance","uint",16);this._procField("reserved","uint",16)};r.prototype._boxProcessors.ssix=function(){this._procFullBox();this._procField("subsegment_count","uint",32);this._procEntries("subsegments",this.subsegment_count,function(n){this._procEntryField(n,"ranges_count","uint",32);this._procSubEntries(n,"ranges",n.ranges_count,function(n){this._procEntryField(n,"level","uint",8);this._procEntryField(n,"range_size","uint",24)})})};r.prototype._boxProcessors.stsd=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procSubBoxes("entries",this.entry_count)};r.prototype._boxProcessors.subs=function(){this._procFullBox();this._procField("entry_count","uint",32);this._procEntries("entries",this.entry_count,function(n){this._procEntryField(n,"sample_delta","uint",32);this._procEntryField(n,"subsample_count","uint",16);this._procSubEntries(n,"subsamples",n.subsample_count,function(n){this._procEntryField(n,"subsample_size","uint",1===this.version?32:16);this._procEntryField(n,"subsample_priority","uint",8);this._procEntryField(n,"discardable","uint",8);this._procEntryField(n,"codec_specific_parameters","uint",32)})})};r.prototype._boxProcessors.tenc=function(){this._procFullBox();this._procField("default_IsEncrypted","uint",24);this._procField("default_IV_size","uint",8);this._procFieldArray("default_KID",16,"uint",8)};r.prototype._boxProcessors.tfdt=function(){this._procFullBox();this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)};r.prototype._boxProcessors.tfhd=function(){this._procFullBox();this._procField("track_ID","uint",32);1&this.flags&&this._procField("base_data_offset","uint",64);2&this.flags&&this._procField("sample_description_offset","uint",32);8&this.flags&&this._procField("default_sample_duration","uint",32);16&this.flags&&this._procField("default_sample_size","uint",32);32&this.flags&&this._procField("default_sample_flags","uint",32)};r.prototype._boxProcessors.tfra=function(){this._procFullBox();this._procField("track_ID","uint",32);this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num);this._procField("reserved","uint",32);this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved);this._procField("number_of_entry","uint",32);this._procEntries("entries",this.number_of_entry,function(n){this._procEntryField(n,"time","uint",1===this.version?64:32);this._procEntryField(n,"moof_offset","uint",1===this.version?64:32);this._procEntryField(n,"traf_number","uint",8*(this.length_size_of_traf_num+1));this._procEntryField(n,"trun_number","uint",8*(this.length_size_of_trun_num+1));this._procEntryField(n,"sample_number","uint",8*(this.length_size_of_sample_num+1))})};r.prototype._boxProcessors.tkhd=function(){this._procFullBox();this._procField("creation_time","uint",1==this.version?64:32);this._procField("modification_time","uint",1==this.version?64:32);this._procField("track_ID","uint",32);this._procField("reserved1","uint",32);this._procField("duration","uint",1==this.version?64:32);this._procFieldArray("reserved2",2,"uint",32);this._procField("layer","uint",16);this._procField("alternate_group","uint",16);this._procField("volume","template",16);this._procField("reserved3","uint",16);this._procFieldArray("matrix",9,"template",32);this._procField("width","template",32);this._procField("height","template",32)};r.prototype._boxProcessors.trex=function(){this._procFullBox();this._procField("track_ID","uint",32);this._procField("default_sample_description_index","uint",32);this._procField("default_sample_duration","uint",32);this._procField("default_sample_size","uint",32);this._procField("default_sample_flags","uint",32)};r.prototype._boxProcessors.trun=function(){this._procFullBox();this._procField("sample_count","uint",32);1&this.flags&&this._procField("data_offset","int",32);4&this.flags&&this._procField("first_sample_flags","uint",32);this._procEntries("samples",this.sample_count,function(n){256&this.flags&&this._procEntryField(n,"sample_duration","uint",32);512&this.flags&&this._procEntryField(n,"sample_size","uint",32);1024&this.flags&&this._procEntryField(n,"sample_flags","uint",32);2048&this.flags&&this._procEntryField(n,"sample_composition_time_offset",1===this.version?"int":"uint",32)})};r.prototype._boxProcessors["url "]=r.prototype._boxProcessors["urn "]=function(){this._procFullBox();"urn "===this.type&&this._procField("name","string",-1);this._procField("location","string",-1)};r.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")};r.prototype._boxProcessors.vmhd=function(){this._procFullBox();this._procField("graphicsmode","uint",16);this._procFieldArray("opcolor",3,"uint",16)};r.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")};r.prototype._boxProcessors.vtte=function(){}},{}],7:[function(n,t){"use strict";var i=Array.isArray,r=Object.keys,u=Object.prototype.hasOwnProperty;t.exports=function n(t,f){var e,o,h,c,l,a,v,y,p,s;if(t===f)return!0;if(c=i(t),l=i(f),c&&l){if((o=t.length)!=f.length)return!1;for(e=0;e<o;e++)if(!n(t[e],f[e]))return!1;return!0}if(c!=l||(a=t instanceof Date,v=f instanceof Date,a!=v))return!1;if(a&&v)return t.getTime()==f.getTime();if(y=t instanceof RegExp,p=f instanceof RegExp,y!=p)return!1;if(y&&p)return t.toString()==f.toString();if(t instanceof Object&&f instanceof Object){if(s=r(t),(o=s.length)!==r(f).length)return!1;for(e=0;e<o;e++)if(!u.call(f,s[e]))return!1;for(e=0;e<o;e++)if(h=s[e],!n(t[h],f[h]))return!1;return!0}return!1}},{}],8:[function(n,t,i){!function(n){"use strict";function t(n){var t=n.charCodeAt(0);return t===s||t===c?62:t===h||t===l?63:t<i?-1:t<i+10?t-i+26+26:t<u+26?t-u:t<r+26?t-r+26:void 0}function f(n){function u(n){e[l++]=n}var i,h,c,r,f,e,s,l;if(n.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");for(s=n.length,f="="===n.charAt(s-2)?2:"="===n.charAt(s-1)?1:0,e=new o(3*n.length/4-f),c=f>0?n.length-4:n.length,l=0,i=0,h=0;i<c;i+=4,h+=3)r=t(n.charAt(i))<<18|t(n.charAt(i+1))<<12|t(n.charAt(i+2))<<6|t(n.charAt(i+3)),u((16711680&r)>>16),u((65280&r)>>8),u(255&r);return 2===f?(r=t(n.charAt(i))<<2|t(n.charAt(i+1))>>4,u(255&r)):1===f&&(r=t(n.charAt(i))<<10|t(n.charAt(i+1))<<4|t(n.charAt(i+2))>>2,u(r>>8&255),u(255&r)),e}function e(n){function t(n){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(n)}function o(n){return t(n>>18&63)+t(n>>12&63)+t(n>>6&63)+t(63&n)}for(var i,e=n.length%3,r="",u=0,f=n.length-e;u<f;u+=3)i=(n[u]<<16)+(n[u+1]<<8)+n[u+2],r+=o(i);switch(e){case 1:i=n[n.length-1];r+=t(i>>2);r+=t(i<<4&63);r+="==";break;case 2:i=(n[n.length-2]<<8)+n[n.length-1];r+=t(i>>10);r+=t(i>>4&63);r+=t(i<<2&63);r+="="}return r}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),r="a".charCodeAt(0),u="A".charCodeAt(0),c="-".charCodeAt(0),l="_".charCodeAt(0);n.toByteArray=f;n.fromByteArray=e}(void 0===i?this.base64js={}:i)},{}],9:[function(){},{}],10:[function(n,t,i){(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function st(){function t(){}try{var n=new Uint8Array(1);return n.foo=function(){return 42},n.constructor=t,42===n.foo()&&n.constructor===t&&"function"==typeof n.subarray&&0===n.subarray(1,1).byteLength}catch(i){return!1}}function k(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(n){return this instanceof r?(r.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof n?ht(this,n):"string"==typeof n?ct(this,n,arguments.length>1?arguments[1]:"utf8"):lt(this,n)):arguments.length>1?new r(n,arguments[1]):new r(n)}function ht(n,t){if(n=o(n,t<0?0:0|s(t)),!r.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;i++)n[i]=0;return n}function ct(n,t,i){return"string"==typeof i&&""!==i||(i="utf8"),n=o(n,0|g(t,i)),n.write(t,i),n}function lt(n,t){if(r.isBuffer(t))return at(n,t);if(w(t))return vt(n,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return d(n,t);if(t instanceof ArrayBuffer)return yt(n,t)}return t.length?pt(n,t):wt(n,t)}function at(n,t){var i=0|s(t.length);return n=o(n,i),t.copy(n,0,0,i),n}function vt(n,t){var r=0|s(t.length),i;for(n=o(n,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function d(n,t){var r=0|s(t.length),i;for(n=o(n,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function yt(n,t){return r.TYPED_ARRAY_SUPPORT?(t.byteLength,n=r._augment(new Uint8Array(t))):n=d(n,new Uint8Array(t)),n}function pt(n,t){var r=0|s(t.length),i;for(n=o(n,r),i=0;i<r;i+=1)n[i]=255&t[i];return n}function wt(n,t){var r,u=0,i;for("Buffer"===t.type&&w(t.data)&&(r=t.data,u=0|s(r.length)),n=o(n,u),i=0;i<u;i+=1)n[i]=255&r[i];return n}function o(n,t){return r.TYPED_ARRAY_SUPPORT?(n=r._augment(new Uint8Array(t)),n.__proto__=r.prototype):(n.length=t,n._isBuffer=!0),0!==t&&t<=r.poolSize>>>1&&(n.parent=et),n}function s(n){if(n>=k())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+k().toString(16)+" bytes");return 0|n}function y(n,t){if(!(this instanceof y))return new y(n,t);var i=new r(n,t);return delete i.parent,i}function g(n,t){var i,r;if("string"!=typeof n&&(n=""+n),i=n.length,0===i)return 0;for(r=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return i;case"utf8":case"utf-8":return a(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return ft(n).length;default:if(r)return a(n).length;t=(""+t).toLowerCase();r=!0}}function bt(n,t,i){var r=!1;if(t|=0,i=void 0===i||i===1/0?this.length:0|i,n||(n="utf8"),t<0&&(t=0),i>this.length&&(i=this.length),i<=t)return"";for(;;)switch(n){case"hex":return ei(this,t,i);case"utf8":case"utf-8":return tt(this,t,i);case"ascii":return ui(this,t,i);case"binary":return fi(this,t,i);case"base64":return ii(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oi(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();r=!0}}function kt(n,t,i,r){var f,e,u,o;if(i=Number(i)||0,f=n.length-i,r?(r=Number(r))>f&&(r=f):r=f,e=t.length,e%2!=0)throw new Error("Invalid hex string");for(r>e/2&&(r=e/2),u=0;u<r;u++){if(o=parseInt(t.substr(2*u,2),16),isNaN(o))throw new Error("Invalid hex string");n[i+u]=o}return u}function dt(n,t,i,r){return v(a(t,n.length-i),n,i,r)}function nt(n,t,i,r){return v(li(t),n,i,r)}function gt(n,t,i,r){return nt(n,t,i,r)}function ni(n,t,i,r){return v(ft(t),n,i,r)}function ti(n,t,i,r){return v(ai(t,n.length-i),n,i,r)}function ii(n,t,i){return 0===t&&i===n.length?p.fromByteArray(n):p.fromByteArray(n.slice(t,i))}function tt(n,t,i){var h,u,f,s,l,e;for(i=Math.min(n.length,i),h=[],u=t;u<i;){var o=n[u],r=null,c=o>239?4:o>223?3:o>191?2:1;if(u+c<=i)switch(c){case 1:o<128&&(r=o);break;case 2:f=n[u+1];128==(192&f)&&(e=(31&o)<<6|63&f)>127&&(r=e);break;case 3:f=n[u+1];s=n[u+2];128==(192&f)&&128==(192&s)&&(e=(15&o)<<12|(63&f)<<6|63&s)>2047&&(e<55296||e>57343)&&(r=e);break;case 4:f=n[u+1];s=n[u+2];l=n[u+3];128==(192&f)&&128==(192&s)&&128==(192&l)&&(e=(15&o)<<18|(63&f)<<12|(63&s)<<6|63&l)>65535&&e<1114112&&(r=e)}null===r?(r=65533,c=1):r>65535&&(r-=65536,h.push(r>>>10&1023|55296),r=56320|1023&r);h.push(r);u+=c}return ri(h)}function ri(n){var r=n.length,i,t;if(r<=b)return String.fromCharCode.apply(String,n);for(i="",t=0;t<r;)i+=String.fromCharCode.apply(String,n.slice(t,t+=b));return i}function ui(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;r++)u+=String.fromCharCode(127&n[r]);return u}function fi(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;r++)u+=String.fromCharCode(n[r]);return u}function ei(n,t,i){var f=n.length,u,r;for((!t||t<0)&&(t=0),(!i||i<0||i>f)&&(i=f),u="",r=t;r<i;r++)u+=ci(n[r]);return u}function oi(n,t,i){for(var u=n.slice(t,i),f="",r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+256*u[r+1]);return f}function f(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length");}function e(n,t,i,u,f,e){if(!r.isBuffer(n))throw new TypeError("buffer must be a Buffer instance");if(t>f||t<e)throw new RangeError("value is out of bounds");if(i+u>n.length)throw new RangeError("index out of range");}function c(n,t,i,r){t<0&&(t=65535+t+1);for(var u=0,f=Math.min(n.length-i,2);u<f;u++)n[i+u]=(t&255<<8*(r?u:1-u))>>>8*(r?u:1-u)}function l(n,t,i,r){t<0&&(t=4294967295+t+1);for(var u=0,f=Math.min(n.length-i,4);u<f;u++)n[i+u]=t>>>8*(r?u:3-u)&255}function it(n,t,i,r,u,f){if(t>u||t<f)throw new RangeError("value is out of bounds");if(i+r>n.length)throw new RangeError("index out of range");if(i<0)throw new RangeError("index out of range");}function rt(n,t,i,r,u){return u||it(n,t,i,4,34028234663852886e22,-34028234663852886e22),h.write(n,t,i,r,23,4),i+4}function ut(n,t,i,r,u){return u||it(n,t,i,8,17976931348623157e292,-17976931348623157e292),h.write(n,t,i,r,52,8),i+8}function si(n){if(n=hi(n).replace(ot,""),n.length<2)return"";for(;n.length%4!=0;)n+="=";return n}function hi(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function ci(n){return n<16?"0"+n.toString(16):n.toString(16)}function a(n,t){t=t||1/0;for(var i,e=n.length,u=null,r=[],f=0;f<e;f++){if((i=n.charCodeAt(f))>55295&&i<57344){if(!u){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(f+1===e){(t-=3)>-1&&r.push(239,191,189);continue}u=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189);u=i;continue}i=65536+(u-55296<<10|i-56320)}else u&&(t-=3)>-1&&r.push(239,191,189);if(u=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return r}function li(n){for(var i=[],t=0;t<n.length;t++)i.push(255&n.charCodeAt(t));return i}function ai(n,t){for(var i,f,e,r=[],u=0;u<n.length&&!((t-=2)<0);u++)i=n.charCodeAt(u),f=i>>8,e=i%256,r.push(e),r.push(f);return r}function ft(n){return p.toByteArray(si(n))}function v(n,t,i,r){for(var u=0;u<r&&!(u+i>=t.length||u>=n.length);u++)t[u+i]=n[u];return u}var et,b,u,ot;"use strict";var p=n(8),h=n(14),w=n(11);i.Buffer=r;i.SlowBuffer=y;i.INSPECT_MAX_BYTES=50;r.poolSize=8192;et={};r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:st();r.TYPED_ARRAY_SUPPORT?(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array):(r.prototype.length=void 0,r.prototype.parent=void 0);r.isBuffer=function(n){return!(null==n||!n._isBuffer)};r.compare=function(n,t){if(!r.isBuffer(n)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(n===t)return 0;for(var u=n.length,f=t.length,i=0,e=Math.min(u,f);i<e&&n[i]===t[i];)++i;return i!==e&&(u=n[i],f=t[i]),u<f?-1:f<u?1:0};r.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};r.concat=function(n,t){var i,u,f,e;if(!w(n))throw new TypeError("list argument must be an Array of Buffers.");if(0===n.length)return new r(0);if(void 0===t)for(t=0,i=0;i<n.length;i++)t+=n[i].length;for(u=new r(t),f=0,i=0;i<n.length;i++)e=n[i],e.copy(u,f),f+=e.length;return u};r.byteLength=g;r.prototype.toString=function(){var n=0|this.length;return 0===n?"":0===arguments.length?tt(this,0,n):bt.apply(this,arguments)};r.prototype.equals=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===r.compare(this,n)};r.prototype.inspect=function(){var n="",t=i.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(n+=" ... ")),"<Buffer "+n+">"};r.prototype.compare=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?0:r.compare(this,n)};r.prototype.indexOf=function(n,t){function i(n,t,i){for(var r=-1,u=0;i+u<n.length;u++)if(n[i+u]===t[-1===r?0:u-r]){if(-1===r&&(r=u),u-r+1===t.length)return i+r}else r=-1;return-1}if((t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t>>=0,0===this.length)||t>=this.length)return-1;if(t<0&&(t=Math.max(this.length+t,0)),"string"==typeof n)return 0===n.length?-1:String.prototype.indexOf.call(this,n,t);if(r.isBuffer(n))return i(this,n,t);if("number"==typeof n)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,n,t):i(this,[n],t);throw new TypeError("val must be string, number or Buffer");};r.prototype.get=function(n){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(n)};r.prototype.set=function(n,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(n,t)};r.prototype.write=function(n,t,i,r){var e,u,f;if(void 0===t?(r="utf8",i=this.length,t=0):void 0===i&&"string"==typeof t?(r=t,i=this.length,t=0):isFinite(t)?(t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)):(e=r,r=t,t=0|i,i=e),u=this.length-t,(void 0===i||i>u)&&(i=u),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");for(r||(r="utf8"),f=!1;;)switch(r){case"hex":return kt(this,n,t,i);case"utf8":case"utf-8":return dt(this,n,t,i);case"ascii":return nt(this,n,t,i);case"binary":return gt(this,n,t,i);case"base64":return ni(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ti(this,n,t,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();f=!0}};r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};b=4096;r.prototype.slice=function(n,t){var i=this.length,u,e,f;if(n=~~n,t=void 0===t?i:~~t,n<0?(n+=i)<0&&(n=0):n>i&&(n=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<n&&(t=n),r.TYPED_ARRAY_SUPPORT)u=r._augment(this.subarray(n,t));else for(e=t-n,u=new r(e,void 0),f=0;f<e;f++)u[f]=this[f+n];return u.length&&(u.parent=this.parent||this),u};r.prototype.readUIntLE=function(n,t,i){n|=0;t|=0;i||f(n,t,this.length);for(var r=this[n],u=1,e=0;++e<t&&(u*=256);)r+=this[n+e]*u;return r};r.prototype.readUIntBE=function(n,t,i){n|=0;t|=0;i||f(n,t,this.length);for(var r=this[n+--t],u=1;t>0&&(u*=256);)r+=this[n+--t]*u;return r};r.prototype.readUInt8=function(n,t){return t||f(n,1,this.length),this[n]};r.prototype.readUInt16LE=function(n,t){return t||f(n,2,this.length),this[n]|this[n+1]<<8};r.prototype.readUInt16BE=function(n,t){return t||f(n,2,this.length),this[n]<<8|this[n+1]};r.prototype.readUInt32LE=function(n,t){return t||f(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]};r.prototype.readUInt32BE=function(n,t){return t||f(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])};r.prototype.readIntLE=function(n,t,i){n|=0;t|=0;i||f(n,t,this.length);for(var r=this[n],u=1,e=0;++e<t&&(u*=256);)r+=this[n+e]*u;return u*=128,r>=u&&(r-=Math.pow(2,8*t)),r};r.prototype.readIntBE=function(n,t,i){n|=0;t|=0;i||f(n,t,this.length);for(var e=t,r=1,u=this[n+--e];e>0&&(r*=256);)u+=this[n+--e]*r;return r*=128,u>=r&&(u-=Math.pow(2,8*t)),u};r.prototype.readInt8=function(n,t){return t||f(n,1,this.length),128&this[n]?-1*(256-this[n]):this[n]};r.prototype.readInt16LE=function(n,t){t||f(n,2,this.length);var i=this[n]|this[n+1]<<8;return 32768&i?4294901760|i:i};r.prototype.readInt16BE=function(n,t){t||f(n,2,this.length);var i=this[n+1]|this[n]<<8;return 32768&i?4294901760|i:i};r.prototype.readInt32LE=function(n,t){return t||f(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};r.prototype.readInt32BE=function(n,t){return t||f(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};r.prototype.readFloatLE=function(n,t){return t||f(n,4,this.length),h.read(this,n,!0,23,4)};r.prototype.readFloatBE=function(n,t){return t||f(n,4,this.length),h.read(this,n,!1,23,4)};r.prototype.readDoubleLE=function(n,t){return t||f(n,8,this.length),h.read(this,n,!0,52,8)};r.prototype.readDoubleBE=function(n,t){return t||f(n,8,this.length),h.read(this,n,!1,52,8)};r.prototype.writeUIntLE=function(n,t,i,r){n=+n;t|=0;i|=0;r||e(this,n,t,i,Math.pow(2,8*i),0);var u=1,f=0;for(this[t]=255&n;++f<i&&(u*=256);)this[t+f]=n/u&255;return t+i};r.prototype.writeUIntBE=function(n,t,i,r){n=+n;t|=0;i|=0;r||e(this,n,t,i,Math.pow(2,8*i),0);var u=i-1,f=1;for(this[t+u]=255&n;--u>=0&&(f*=256);)this[t+u]=n/f&255;return t+i};r.prototype.writeUInt8=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[t]=255&n,t+1};r.prototype.writeUInt16LE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeUInt16BE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=255&n):c(this,n,t,!1),t+2};r.prototype.writeUInt32LE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=255&n):l(this,n,t,!0),t+4};r.prototype.writeUInt32BE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=255&n):l(this,n,t,!1),t+4};r.prototype.writeIntLE=function(n,t,i,r){var u;(n=+n,t|=0,r)||(u=Math.pow(2,8*i-1),e(this,n,t,i,u-1,-u));var f=0,o=1,s=n<0?1:0;for(this[t]=255&n;++f<i&&(o*=256);)this[t+f]=(n/o>>0)-s&255;return t+i};r.prototype.writeIntBE=function(n,t,i,r){var u;(n=+n,t|=0,r)||(u=Math.pow(2,8*i-1),e(this,n,t,i,u-1,-u));var f=i-1,o=1,s=n<0?1:0;for(this[t+f]=255&n;--f>=0&&(o*=256);)this[t+f]=(n/o>>0)-s&255;return t+i};r.prototype.writeInt8=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[t]=255&n,t+1};r.prototype.writeInt16LE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8):c(this,n,t,!0),t+2};r.prototype.writeInt16BE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>8,this[t+1]=255&n):c(this,n,t,!1),t+2};r.prototype.writeInt32LE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&n,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24):l(this,n,t,!0),t+4};r.prototype.writeInt32BE=function(n,t,i){return n=+n,t|=0,i||e(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),r.TYPED_ARRAY_SUPPORT?(this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=255&n):l(this,n,t,!1),t+4};r.prototype.writeFloatLE=function(n,t,i){return rt(this,n,t,!0,i)};r.prototype.writeFloatBE=function(n,t,i){return rt(this,n,t,!1,i)};r.prototype.writeDoubleLE=function(n,t,i){return ut(this,n,t,!0,i)};r.prototype.writeDoubleBE=function(n,t,i){return ut(this,n,t,!1,i)};r.prototype.copy=function(n,t,i,u){if((i||(i=0),u||0===u||(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i)||0===n.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length);n.length-t<u-i&&(u=n.length-t+i);var f,e=u-i;if(this===n&&i<t&&t<u)for(f=e-1;f>=0;f--)n[f+t]=this[f+i];else if(e<1e3||!r.TYPED_ARRAY_SUPPORT)for(f=0;f<e;f++)n[f+t]=this[f+i];else n._set(this.subarray(i,i+e),t);return e};r.prototype.fill=function(n,t,i){var r,u,f;if(n||(n=0),t||(t=0),i||(i=this.length),i<t)throw new RangeError("end < start");if(i!==t&&0!==this.length){if(t<0||t>=this.length)throw new RangeError("start out of bounds");if(i<0||i>this.length)throw new RangeError("end out of bounds");if("number"==typeof n)for(r=t;r<i;r++)this[r]=n;else for(u=a(n.toString()),f=u.length,r=t;r<i;r++)this[r]=u[r%f];return this}};r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;n<i;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser");};u=r.prototype;r._augment=function(n){return n.constructor=r,n._isBuffer=!0,n._set=n.set,n.get=u.get,n.set=u.set,n.write=u.write,n.toString=u.toString,n.toLocaleString=u.toString,n.toJSON=u.toJSON,n.equals=u.equals,n.compare=u.compare,n.indexOf=u.indexOf,n.copy=u.copy,n.slice=u.slice,n.readUIntLE=u.readUIntLE,n.readUIntBE=u.readUIntBE,n.readUInt8=u.readUInt8,n.readUInt16LE=u.readUInt16LE,n.readUInt16BE=u.readUInt16BE,n.readUInt32LE=u.readUInt32LE,n.readUInt32BE=u.readUInt32BE,n.readIntLE=u.readIntLE,n.readIntBE=u.readIntBE,n.readInt8=u.readInt8,n.readInt16LE=u.readInt16LE,n.readInt16BE=u.readInt16BE,n.readInt32LE=u.readInt32LE,n.readInt32BE=u.readInt32BE,n.readFloatLE=u.readFloatLE,n.readFloatBE=u.readFloatBE,n.readDoubleLE=u.readDoubleLE,n.readDoubleBE=u.readDoubleBE,n.writeUInt8=u.writeUInt8,n.writeUIntLE=u.writeUIntLE,n.writeUIntBE=u.writeUIntBE,n.writeUInt16LE=u.writeUInt16LE,n.writeUInt16BE=u.writeUInt16BE,n.writeUInt32LE=u.writeUInt32LE,n.writeUInt32BE=u.writeUInt32BE,n.writeIntLE=u.writeIntLE,n.writeIntBE=u.writeIntBE,n.writeInt8=u.writeInt8,n.writeInt16LE=u.writeInt16LE,n.writeInt16BE=u.writeInt16BE,n.writeInt32LE=u.writeInt32LE,n.writeInt32BE=u.writeInt32BE,n.writeFloatLE=u.writeFloatLE,n.writeFloatBE=u.writeFloatBE,n.writeDoubleLE=u.writeDoubleLE,n.writeDoubleBE=u.writeDoubleBE,n.fill=u.fill,n.inspect=u.inspect,n.toArrayBuffer=u.toArrayBuffer,n};ot=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{11:11,14:14,8:8}],11:[function(n,t){var i={}.toString;t.exports=Array.isArray||function(n){return"[object Array]"==i.call(n)}},{}],12:[function(n,t,i){(function(n){function r(n){return Array.isArray?Array.isArray(n):"[object Array]"===t(n)}function u(n){return"boolean"==typeof n}function f(n){return null===n}function e(n){return null==n}function o(n){return"number"==typeof n}function s(n){return"string"==typeof n}function h(n){return"symbol"==typeof n}function c(n){return void 0===n}function l(n){return"[object RegExp]"===t(n)}function a(n){return"object"==typeof n&&null!==n}function v(n){return"[object Date]"===t(n)}function y(n){return"[object Error]"===t(n)||n instanceof Error}function p(n){return"function"==typeof n}function w(n){return null===n||"boolean"==typeof n||"number"==typeof n||"string"==typeof n||"symbol"==typeof n||void 0===n}function t(n){return Object.prototype.toString.call(n)}i.isArray=r;i.isBoolean=u;i.isNull=f;i.isNullOrUndefined=e;i.isNumber=o;i.isString=s;i.isSymbol=h;i.isUndefined=c;i.isRegExp=l;i.isObject=a;i.isDate=v;i.isError=y;i.isFunction=p;i.isPrimitive=w;i.isBuffer=n.isBuffer}).call(this,{isBuffer:n(16)})},{16:16}],13:[function(n,t){function i(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function r(n){return"function"==typeof n}function e(n){return"number"==typeof n}function u(n){return"object"==typeof n&&null!==n}function f(n){return void 0===n}t.exports=i;i.EventEmitter=i;i.prototype._events=void 0;i.prototype._maxListeners=void 0;i.defaultMaxListeners=10;i.prototype.setMaxListeners=function(n){if(!e(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this};i.prototype.emit=function(n){var h,i,e,o,t,s;if(this._events||(this._events={}),"error"===n&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if((h=arguments[1])instanceof Error)throw h;throw TypeError('Uncaught, unspecified "error" event.');}if(i=this._events[n],f(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,o=new Array(e-1),t=1;t<e;t++)o[t-1]=arguments[t];i.apply(this,o)}else if(u(i)){for(e=arguments.length,o=new Array(e-1),t=1;t<e;t++)o[t-1]=arguments[t];for(s=i.slice(),e=s.length,t=0;t<e;t++)s[t].apply(this,o)}return!0};i.prototype.addListener=function(n,t){var e;if(!r(t))throw TypeError("listener must be a function");return(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",n,r(t.listener)?t.listener:t),this._events[n]?u(this._events[n])?this._events[n].push(t):this._events[n]=[this._events[n],t]:this._events[n]=t,u(this._events[n])&&!this._events[n].warned)&&(e=f(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[n].length>e&&(this._events[n].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[n].length),"function"==typeof console.trace&&console.trace())),this};i.prototype.on=i.prototype.addListener;i.prototype.once=function(n,t){function i(){this.removeListener(n,i);u||(u=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var u=!1;return i.listener=t,this.on(n,i),this};i.prototype.removeListener=function(n,t){var i,e,o,f;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[n])return this;if(i=this._events[n],o=i.length,e=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[n],this._events.removeListener&&this.emit("removeListener",n,t);else if(u(i)){for(f=o;f-->0;)if(i[f]===t||i[f].listener&&i[f].listener===t){e=f;break}if(e<0)return this;1===i.length?(i.length=0,delete this._events[n]):i.splice(e,1);this._events.removeListener&&this.emit("removeListener",n,t)}return this};i.prototype.removeAllListeners=function(n){var i,t;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[n]&&delete this._events[n],this;if(0===arguments.length){for(i in this._events)"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[n],r(t))this.removeListener(n,t);else for(;t.length;)this.removeListener(n,t[t.length-1]);return delete this._events[n],this};i.prototype.listeners=function(n){return this._events&&this._events[n]?r(this._events[n])?[this._events[n]]:this._events[n].slice():[]};i.listenerCount=function(n,t){return n._events&&n._events[t]?r(n._events[t])?1:n._events[t].length:0}},{}],14:[function(n,t,i){i.read=function(n,t,i,r,u){var f,o,l=8*u-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=256*f+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=256*o+n[t+s],s+=c,e-=8);if(0===f)f=1-v;else{if(f===a)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r);f-=v}return(h?-1:1)*o*Math.pow(2,f-r)};i.write=function(n,t,i,r,u,f){var e,o,s,l=8*f-u-1,a=(1<<l)-1,h=a>>1,y=23===u?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=255&o,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=255&e,c+=v,e/=256,l-=8);n[i+c-v]|=128*p}},{}],15:[function(n,t){t.exports="function"==typeof Object.create?function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:function(n,t){n.super_=t;var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n}},{}],16:[function(n,t){function i(n){return!!n.constructor&&"function"==typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}function r(n){return"function"==typeof n.readFloatLE&&"function"==typeof n.slice&&i(n.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(n){return null!=n&&(i(n)||r(n)||!!n._isBuffer)}},{}],17:[function(n,t){(function(n){"use strict";function i(t,i,r,u){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var f,e,o=arguments.length;switch(o){case 0:case 1:return n.nextTick(t);case 2:return n.nextTick(function(){t.call(null,i)});case 3:return n.nextTick(function(){t.call(null,i,r)});case 4:return n.nextTick(function(){t.call(null,i,r,u)});default:for(f=new Array(o-1),e=0;e<f.length;)f[e++]=arguments[e];return n.nextTick(function(){t.apply(null,f)})}}t.exports=!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?{nextTick:i}:n}).call(this,n(18))},{18:18}],18:[function(n,t){function c(){throw new Error("setTimeout has not been defined");}function l(){throw new Error("clearTimeout has not been defined");}function a(n){if(u===setTimeout)return setTimeout(n,0);if((u===c||!u)&&setTimeout)return u=setTimeout,setTimeout(n,0);try{return u(n,0)}catch(t){try{return u.call(null,n,0)}catch(t){return u.call(this,n,0)}}}function p(n){if(f===clearTimeout)return clearTimeout(n);if((f===l||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(n);try{return f(n)}catch(t){try{return f.call(null,n)}catch(t){return f.call(this,n)}}}function w(){s&&o&&(s=!1,o.length?e=o.concat(e):h=-1,e.length&&v())}function v(){var t,n;if(!s){for(t=a(w),s=!0,n=e.length;n;){for(o=e,e=[];++h<n;)o&&o[h].run();h=-1;n=e.length}o=null;s=!1;p(t)}}function y(n,t){this.fun=n;this.array=t}function r(){}var u,f,i=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:c}catch(n){u=c}try{f="function"==typeof clearTimeout?clearTimeout:l}catch(n){f=l}}();var o,e=[],s=!1,h=-1;i.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];e.push(new y(n,i));1!==e.length||s||a(v)};y.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=!0;i.env={};i.argv=[];i.version="";i.versions={};i.on=r;i.addListener=r;i.once=r;i.off=r;i.removeListener=r;i.removeAllListeners=r;i.emit=r;i.prependListener=r;i.prependOnceListener=r;i.listeners=function(){return[]};i.binding=function(){throw new Error("process.binding is not supported");};i.cwd=function(){return"/"};i.chdir=function(){throw new Error("process.chdir is not supported");};i.umask=function(){return 0}},{}],19:[function(n,t){t.exports=n(20)},{20:20}],20:[function(n,t){"use strict";function i(n){if(!(this instanceof i))return new i(n);o.call(this,n);r.call(this,n);n&&!1===n.readable&&(this.readable=!1);n&&!1===n.writable&&(this.writable=!1);this.allowHalfOpen=!0;n&&!1===n.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||h.nextTick(l,this)}function l(n){n.end()}var h=n(17),a=Object.keys||function(n){var t=[];for(var i in n)t.push(i);return t},e,o,r,s,u,f;for(t.exports=i,e=n(12),e.inherits=n(15),o=n(22),r=n(24),e.inherits(i,o),s=a(r.prototype),u=0;u<s.length;u++)f=s[u],i.prototype[f]||(i.prototype[f]=r.prototype[f]);Object.defineProperty(i.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}});i.prototype._destroy=function(n,t){this.push(null);this.end();h.nextTick(t,n)}},{12:12,15:15,17:17,22:22,24:24}],21:[function(n,t){"use strict";function i(n){if(!(this instanceof i))return new i(n);r.call(this,n)}t.exports=i;var r=n(23),u=n(12);u.inherits=n(15);u.inherits(i,r);i.prototype._transform=function(n,t,i){i(null,n)}},{12:12,15:15,23:23}],22:[function(n,t){(function(i,r){"use strict";function ht(n){return h.from(n)}function ct(n){return h.isBuffer(n)||n instanceof ui}function lt(n,t,i){if("function"==typeof n.prependListener)return n.prependListener(t,i);n._events&&n._events[t]?ft(n._events[t])?n._events[t].unshift(i):n._events[t]=[i,n._events[t]]:n.on(t,i)}function d(t,i){var r;s=s||n(20);t=t||{};r=i instanceof s;this.objectMode=!!t.objectMode;r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var u=t.highWaterMark,f=t.readableHighWaterMark,e=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:r&&(f||0===f)?f:e;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new st;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=!1;this.endEmitted=!1;this.reading=!1;this.sync=!0;this.needReadable=!1;this.emittedReadable=!1;this.readableListening=!1;this.resumeScheduled=!1;this.destroyed=!1;this.defaultEncoding=t.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.decoder=null;this.encoding=null;t.encoding&&(o||(o=n(29).StringDecoder),this.decoder=new o(t.encoding),this.encoding=t.encoding)}function f(t){if(s=s||n(20),!(this instanceof f))return new f(t);this._readableState=new d(t,this);this.readable=!0;t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy));w.call(this)}function g(n,t,i,r,u){var f=n._readableState,e;return null===t?(f.reading=!1,pt(n,f)):(u||(e=at(f,t)),e?n.emit("error",e):f.objectMode||t&&t.length>0?("string"==typeof t||f.objectMode||Object.getPrototypeOf(t)===h.prototype||(t=ht(t)),r?f.endEmitted?n.emit("error",new Error("stream.unshift() after end event")):v(n,f,t,!0):f.ended?n.emit("error",new Error("stream.push() after EOF")):(f.reading=!1,f.decoder&&!i?(t=f.decoder.write(t),f.objectMode||0!==t.length?v(n,f,t,!1):it(n,f)):v(n,f,t,!1))):r||(f.reading=!1)),vt(f)}function v(n,t,i,r){t.flowing&&0===t.length&&!t.sync?(n.emit("data",i),n.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&c(n));it(n,t)}function at(n,t){var i;return ct(t)||"string"==typeof t||void 0===t||n.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}function vt(n){return!n.ended&&(n.needReadable||n.length<n.highWaterMark||0===n.length)}function yt(n){return n>=k?n=k:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}function nt(n,t){return n<=0||0===t.length&&t.ended?0:t.objectMode?1:n!==n?t.flowing&&t.length?t.buffer.head.data.length:t.length:(n>t.highWaterMark&&(t.highWaterMark=yt(n)),n<=t.length?n:t.ended?t.length:(t.needReadable=!0,0))}function pt(n,t){if(!t.ended){if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0;c(n)}}function c(n){var t=n._readableState;t.needReadable=!1;t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?e.nextTick(tt,n):tt(n))}function tt(n){u("emit readable");n.emit("readable");y(n)}function it(n,t){t.readingMore||(t.readingMore=!0,e.nextTick(wt,n,t))}function wt(n,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(u("maybeReadMore read 0"),n.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function bt(n){return function(){var t=n._readableState;u("pipeOnDrain",t.awaitDrain);t.awaitDrain&&t.awaitDrain--;0===t.awaitDrain&&et(n,"data")&&(t.flowing=!0,y(n))}}function kt(n){u("readable nexttick read 0");n.read(0)}function dt(n,t){t.resumeScheduled||(t.resumeScheduled=!0,e.nextTick(gt,n,t))}function gt(n,t){t.reading||(u("resume read 0"),n.read(0));t.resumeScheduled=!1;t.awaitDrain=0;n.emit("resume");y(n);t.flowing&&!t.reading&&n.read(0)}function y(n){var t=n._readableState;for(u("flow",t.flowing);t.flowing&&null!==n.read(););}function rt(n,t){if(0===t.length)return null;var i;return t.objectMode?i=t.buffer.shift():!n||n>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=ni(n,t.buffer,t.decoder),i}function ni(n,t,i){var r;return n<t.head.data.length?(r=t.head.data.slice(0,n),t.head.data=t.head.data.slice(n)):r=n===t.head.data.length?t.shift():i?ti(n,t):ii(n,t),r}function ti(n,t){var i=t.head,f=1,e=i.data,r,u;for(n-=e.length;i=i.next;){if(r=i.data,u=n>r.length?r.length:n,e+=u===r.length?r:r.slice(0,n),0==(n-=u)){u===r.length?(++f,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=r.slice(u));break}++f}return t.length-=f,e}function ii(n,t){var f=h.allocUnsafe(n),i=t.head,e=1,r,u;for(i.data.copy(f),n-=i.data.length;i=i.next;){if(r=i.data,u=n>r.length?r.length:n,r.copy(f,f.length-n,0,u),0==(n-=u)){u===r.length?(++e,t.head=i.next?i.next:t.tail=null):(t.head=i,i.data=r.slice(u));break}++e}return t.length-=e,f}function p(n){var t=n._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,e.nextTick(ri,t,n))}function ri(n,t){n.endEmitted||0!==n.length||(n.endEmitted=!0,t.readable=!1,t.emit("end"))}function ut(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}var e=n(17),s,ft,l,u,o,st,b,a,k;t.exports=f;ft=n(28);f.ReadableState=d;var et=(n(13).EventEmitter,function(n,t){return n.listeners(t).length}),w=n(27),h=n(34).Buffer,ui=r.Uint8Array||function(){},ot=n(12);ot.inherits=n(15);l=n(9);u=void 0;u=l&&l.debuglog?l.debuglog("stream"):function(){};st=n(25);b=n(26);ot.inherits(f,w);a=["error","close","destroy","pause","resume"];Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(n){this._readableState&&(this._readableState.destroyed=n)}});f.prototype.destroy=b.destroy;f.prototype._undestroy=b.undestroy;f.prototype._destroy=function(n,t){this.push(null);t(n)};f.prototype.push=function(n,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"==typeof n&&(t=t||r.defaultEncoding,t!==r.encoding&&(n=h.from(n,t),t=""),i=!0),g(this,n,t,!1,i)};f.prototype.unshift=function(n){return g(this,n,null,!0,!1)};f.prototype.isPaused=function(){return!1===this._readableState.flowing};f.prototype.setEncoding=function(t){return o||(o=n(29).StringDecoder),this._readableState.decoder=new o(t),this._readableState.encoding=t,this};k=8388608;f.prototype.read=function(n){var t,f,i,r;return(u("read",n),n=parseInt(n,10),t=this._readableState,f=n,0!==n&&(t.emittedReadable=!1),0===n&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))?(u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?p(this):c(this),null):0===(n=nt(n,t))&&t.ended?(0===t.length&&p(this),null):(i=t.needReadable,u("need readable",i),(0===t.length||t.length-n<t.highWaterMark)&&(i=!0,u("length less than watermark",i)),t.ended||t.reading?(i=!1,u("reading or ended",i)):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(n=nt(f,t))),r=n>0?rt(n,t):null,null===r?(t.needReadable=!0,n=0):t.length-=n,0===t.length&&(t.ended||(t.needReadable=!0),f!==n&&t.ended&&p(this)),null!==r&&this.emit("data",r),r)};f.prototype._read=function(){this.emit("error",new Error("_read() is not implemented"))};f.prototype.pipe=function(n,t){function p(n,t){u("onunpipe");n===f&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function w(){u("onend");n.end()}function d(){u("cleanup");n.removeListener("close",l);n.removeListener("finish",a);n.removeListener("drain",s);n.removeListener("error",c);n.removeListener("unpipe",p);f.removeListener("end",w);f.removeListener("end",o);f.removeListener("data",b);y=!0;!r.awaitDrain||n._writableState&&!n._writableState.needDrain||s()}function b(t){u("ondata");h=!1;!1!==n.write(t)||h||((1===r.pipesCount&&r.pipes===n||r.pipesCount>1&&-1!==ut(r.pipes,n))&&!y&&(u("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,h=!0),f.pause())}function c(t){u("onerror",t);o();n.removeListener("error",c);0===et(n,"error")&&n.emit("error",t)}function l(){n.removeListener("finish",a);o()}function a(){u("onfinish");n.removeListener("close",l);o()}function o(){u("unpipe");f.unpipe(n)}var f=this,r=this._readableState,k,v,s,y,h;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n)}r.pipesCount+=1;u("pipe count=%d opts=%j",r.pipesCount,t);k=(!t||!1!==t.end)&&n!==i.stdout&&n!==i.stderr;v=k?w:o;r.endEmitted?e.nextTick(v):f.once("end",v);n.on("unpipe",p);s=bt(f);n.on("drain",s);return y=!1,h=!1,f.on("data",b),lt(n,"error",c),n.once("close",l),n.once("finish",a),n.emit("pipe",f),r.flowing||(u("pipe resume"),f.resume()),n};f.prototype.unpipe=function(n){var t=this._readableState,r={hasUnpiped:!1},f,e,i,u;if(0===t.pipesCount)return this;if(1===t.pipesCount)return n&&n!==t.pipes?this:(n||(n=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,n&&n.emit("unpipe",this,r),this);if(!n){for(f=t.pipes,e=t.pipesCount,t.pipes=null,t.pipesCount=0,t.flowing=!1,i=0;i<e;i++)f[i].emit("unpipe",this,r);return this}return u=ut(t.pipes,n),-1===u?this:(t.pipes.splice(u,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),n.emit("unpipe",this,r),this)};f.prototype.on=function(n,t){var r=w.prototype.on.call(this,n,t),i;return"data"===n?!1!==this._readableState.flowing&&this.resume():"readable"===n&&(i=this._readableState,i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&c(this):e.nextTick(kt,this))),r};f.prototype.addListener=f.prototype.on;f.prototype.resume=function(){var n=this._readableState;return n.flowing||(u("resume"),n.flowing=!0,dt(this,n)),this};f.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this};f.prototype.wrap=function(n){var f=this,t=this._readableState,e=!1,i,r;n.on("end",function(){if(u("wrapped end"),t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&f.push(n)}f.push(null)});n.on("data",function(i){(u("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length))&&(f.push(i)||(e=!0,n.pause()))});for(i in n)void 0===this[i]&&"function"==typeof n[i]&&(this[i]=function(t){return function(){return n[t].apply(n,arguments)}}(i));for(r=0;r<a.length;r++)n.on(a[r],this.emit.bind(this,a[r]));return this._read=function(t){u("wrapped _read",t);e&&(e=!1,n.resume())},this};Object.defineProperty(f.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});f._fromList=rt}).call(this,n(18),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12,13:13,15:15,17:17,18:18,20:20,25:25,26:26,27:27,28:28,29:29,34:34,9:9}],23:[function(n,t){"use strict";function e(n,t){var r=this._transformState,u,i;if(r.transforming=!1,u=r.writecb,!u)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null;r.writecb=null;null!=t&&this.push(t);u(n);i=this._readableState;i.reading=!1;(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(n){if(!(this instanceof i))return new i(n);r.call(this,n);this._transformState={afterTransform:e.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;n&&("function"==typeof n.transform&&(this._transform=n.transform),"function"==typeof n.flush&&(this._flush=n.flush));this.on("prefinish",o)}function o(){var n=this;"function"==typeof this._flush?this._flush(function(t,i){u(n,t,i)}):u(this,null,null)}function u(n,t,i){if(t)return n.emit("error",t);if(null!=i&&n.push(i),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}t.exports=i;var r=n(20),f=n(12);f.inherits=n(15);f.inherits(i,r);i.prototype.push=function(n,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,n,t)};i.prototype._transform=function(){throw new Error("_transform() is not implemented");};i.prototype._write=function(n,t,i){var r=this._transformState,u;(r.writecb=i,r.writechunk=n,r.writeencoding=t,r.transforming)||(u=this._readableState,(r.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark))};i.prototype._read=function(){var n=this._transformState;null!==n.writechunk&&n.writecb&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0};i.prototype._destroy=function(n,t){var i=this;r.prototype._destroy.call(this,n,function(n){t(n);i.emit("close")})}},{12:12,15:15,20:20}],24:[function(n,t){(function(i,r){"use strict";function v(n){var t=this;this.next=null;this.entry=null;this.finish=function(){vt(t,n)}}function g(n){return h.from(n)}function nt(n){return h.isBuffer(n)||n instanceof pt}function tt(){}function o(t,i){var r,o;e=e||n(20);t=t||{};r=i instanceof e;this.objectMode=!!t.objectMode;r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var u=t.highWaterMark,f=t.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:r&&(f||0===f)?f:s;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=!1;this.needDrain=!1;this.ending=!1;this.ended=!1;this.finished=!1;this.destroyed=!1;o=!1===t.decodeStrings;this.decodeStrings=!o;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(n){st(i,n)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=!1;this.errorEmitted=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new v(this)}function u(t){if(e=e||n(20),!(c.call(u,this)||this instanceof e))return new u(t);this._writableState=new o(t,this);this.writable=!0;t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final));k.call(this)}function it(n,t){var i=new Error("write after end");n.emit("error",i);f.nextTick(t,i)}function rt(n,t,i,r){var e=!0,u=!1;return null===i?u=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||t.objectMode||(u=new TypeError("Invalid non-string/buffer chunk")),u&&(n.emit("error",u),f.nextTick(r,u),e=!1),e}function ut(n,t,i){return n.objectMode||!1===n.decodeStrings||"string"!=typeof t||(t=h.from(t,i)),t}function ft(n,t,i,r,u,f){var e,o,s,h;return i||(e=ut(t,r,u),r!==e&&(i=!0,u="buffer",r=e)),o=t.objectMode?1:r.length,t.length+=o,s=t.length<t.highWaterMark,(s||(t.needDrain=!0),t.writing||t.corked)?(h=t.lastBufferedRequest,t.lastBufferedRequest={chunk:r,encoding:u,isBuf:i,callback:f,next:null},h?h.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):l(n,t,!1,o,r,u,f),s}function l(n,t,i,r,u,f,e){t.writelen=r;t.writecb=e;t.writing=!0;t.sync=!0;i?n._writev(u,t.onwrite):n._write(u,f,t.onwrite);t.sync=!1}function et(n,t,i,r,u){--t.pendingcb;i?(f.nextTick(u,r),f.nextTick(s,n,t),n._writableState.errorEmitted=!0,n.emit("error",r)):(u(r),n._writableState.errorEmitted=!0,n.emit("error",r),s(n,t))}function ot(n){n.writing=!1;n.writecb=null;n.length-=n.writelen;n.writelen=0}function st(n,t){var i=n._writableState,f=i.sync,u=i.writecb,r;(ot(i),t)?et(n,i,f,t,u):(r=w(i),r||i.corked||i.bufferProcessing||!i.bufferedRequest||p(n,i),f?b(y,n,i,r,u):y(n,i,r,u))}function y(n,t,i,r){i||ht(n,t);t.pendingcb--;r();s(n,t)}function ht(n,t){0===t.length&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))}function p(n,t){var i,f,e;if(t.bufferProcessing=!0,i=t.bufferedRequest,n._writev&&i&&i.next){var s=t.bufferedRequestCount,u=new Array(s),r=t.corkedRequestsFree;for(r.entry=i,f=0,e=!0;i;)u[f]=i,i.isBuf||(e=!1),i=i.next,f+=1;u.allBuffers=e;l(n,t,!0,t.length,u,"",r.finish);t.pendingcb++;t.lastBufferedRequest=null;r.next?(t.corkedRequestsFree=r.next,r.next=null):t.corkedRequestsFree=new v(t);t.bufferedRequestCount=0}else{for(;i;){var o=i.chunk,h=i.encoding,c=i.callback;if(l(n,t,!1,t.objectMode?1:o.length,o,h,c),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i;t.bufferProcessing=!1}function w(n){return n.ending&&0===n.length&&null===n.bufferedRequest&&!n.finished&&!n.writing}function ct(n,t){n._final(function(i){t.pendingcb--;i&&n.emit("error",i);t.prefinished=!0;n.emit("prefinish");s(n,t)})}function lt(n,t){t.prefinished||t.finalCalled||("function"==typeof n._final?(t.pendingcb++,t.finalCalled=!0,f.nextTick(ct,n,t)):(t.prefinished=!0,n.emit("prefinish")))}function s(n,t){var i=w(t);return i&&(lt(n,t),0===t.pendingcb&&(t.finished=!0,n.emit("finish"))),i}function at(n,t,i){t.ending=!0;s(n,t);i&&(t.finished?f.nextTick(i):n.once("finish",i));t.ended=!0;n.writable=!1}function vt(n,t,i){var r=n.entry,u;for(n.entry=null;r;)u=r.callback,t.pendingcb--,u(i),r=r.next;t.corkedRequestsFree?t.corkedRequestsFree.next=n:t.corkedRequestsFree=n}var f=n(17),e,b,a,c;t.exports=u;b=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?setImmediate:f.nextTick;u.WritableState=o;a=n(12);a.inherits=n(15);var yt={deprecate:n(37)},k=n(27),h=n(34).Buffer,pt=r.Uint8Array||function(){},d=n(26);a.inherits(u,k);o.prototype.getBuffer=function(){for(var n=this.bufferedRequest,t=[];n;)t.push(n),n=n.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:yt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(n){}}();"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(u,Symbol.hasInstance,{value:function(n){return!!c.call(this,n)||this===u&&n&&n._writableState instanceof o}})):c=function(n){return n instanceof this};u.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};u.prototype.write=function(n,t,i){var r=this._writableState,f=!1,u=!r.objectMode&&nt(n);return u&&!h.isBuffer(n)&&(n=g(n)),"function"==typeof t&&(i=t,t=null),u?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof i&&(i=tt),r.ended?it(this,i):(u||rt(this,r,n,i))&&(r.pendingcb++,f=ft(this,r,u,n,t,i)),f};u.prototype.cork=function(){this._writableState.corked++};u.prototype.uncork=function(){var n=this._writableState;n.corked&&(n.corked--,n.writing||n.corked||n.finished||n.bufferProcessing||!n.bufferedRequest||p(this,n))};u.prototype.setDefaultEncoding=function(n){if("string"==typeof n&&(n=n.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((n+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+n);return this._writableState.defaultEncoding=n,this};Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});u.prototype._write=function(n,t,i){i(new Error("_write() is not implemented"))};u.prototype._writev=null;u.prototype.end=function(n,t,i){var r=this._writableState;"function"==typeof n?(i=n,n=null,t=null):"function"==typeof t&&(i=t,t=null);null!==n&&void 0!==n&&this.write(n,t);r.corked&&(r.corked=1,this.uncork());r.ending||r.finished||at(this,r,i)};Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(n){this._writableState&&(this._writableState.destroyed=n)}});u.prototype.destroy=d.destroy;u.prototype._undestroy=d.undestroy;u.prototype._destroy=function(n,t){this.end();t(n)}}).call(this,n(18),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{12:12,15:15,17:17,18:18,20:20,26:26,27:27,34:34,37:37}],25:[function(n,t){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t,i){n.copy(t,i)}var r=n(34).Buffer,i=n(9);t.exports=function(){function n(){u(this,n);this.head=null;this.tail=null;this.length=0}return n.prototype.push=function(n){var t={data:n,next:null};this.length>0?this.tail.next=t:this.head=t;this.tail=t;++this.length},n.prototype.unshift=function(n){var t={data:n,next:this.head};0===this.length&&(this.tail=t);this.head=t;++this.length},n.prototype.shift=function(){if(0!==this.length){var n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}},n.prototype.clear=function(){this.head=this.tail=null;this.length=0},n.prototype.join=function(n){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=n+t.data;return i},n.prototype.concat=function(n){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var i=r.allocUnsafe(n>>>0),t=this.head,u=0;t;)f(t.data,i,u),u+=t.data.length,t=t.next;return i},n}();i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var n=i.inspect({length:this.length});return this.constructor.name+" "+n})},{34:34,9:9}],26:[function(n,t){"use strict";function u(n,t){var u=this,f=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return f||e?(t?t(n):!n||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,n),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(n){!t&&n?(r.nextTick(i,u,n),u._writableState&&(u._writableState.errorEmitted=!0)):t&&t(n)}),this)}function f(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(n,t){n.emit("error",t)}var r=n(17);t.exports={destroy:u,undestroy:f}},{17:17}],27:[function(n,t){t.exports=n(13).EventEmitter},{13:13}],28:[function(n,t,i){arguments[4][11][0].apply(i,arguments)},{11:11}],29:[function(n,t,i){"use strict";function o(n){if(!n)return"utf8";for(var t;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(t)return;n=(""+n).toLowerCase();t=!0}}function s(n){var t=o(n);if("string"!=typeof t&&(f.isEncoding===e||!e(n)))throw new Error("Unknown encoding: "+n);return t||n}function r(n){this.encoding=s(n);var t;switch(this.encoding){case"utf16le":this.text=y;this.end=p;t=4;break;case"utf8":this.fillLast=l;t=4;break;case"base64":this.text=w;this.end=b;t=3;break;default:return this.write=k,void(this.end=d)}this.lastNeed=0;this.lastTotal=0;this.lastChar=f.allocUnsafe(t)}function u(n){return n<=127?0:n>>5==6?2:n>>4==14?3:n>>3==30?4:n>>6==2?-1:-2}function h(n,t,i){var f=t.length-1,r;return f<i?0:(r=u(t[f]),r>=0?(r>0&&(n.lastNeed=r-1),r):--f<i||-2===r?0:(r=u(t[f]))>=0?(r>0&&(n.lastNeed=r-2),r):--f<i||-2===r?0:(r=u(t[f]),r>=0?(r>0&&(2===r?r=0:n.lastNeed=r-3),r):0))}function c(n,t){if(128!=(192&t[0]))return n.lastNeed=0,"�";if(n.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return n.lastNeed=1,"�";if(n.lastNeed>2&&t.length>2&&128!=(192&t[2]))return n.lastNeed=2,"�"}}function l(n){var t=this.lastTotal-this.lastNeed,i=c(this,n,t);return void 0!==i?i:this.lastNeed<=n.length?(n.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(n.copy(this.lastChar,t,0,n.length),void(this.lastNeed-=n.length))}function a(n,t){var r=h(this,n,t),i;return this.lastNeed?(this.lastTotal=r,i=n.length-(r-this.lastNeed),n.copy(this.lastChar,0,i),n.toString("utf8",t,i)):n.toString("utf8",t)}function v(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+"�":t}function y(n,t){var i,r;return(n.length-t)%2==0?(i=n.toString("utf16le",t),i&&(r=i.charCodeAt(i.length-1),r>=55296&&r<=56319))?(this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],i.slice(0,-1)):i:(this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",t,n.length-1))}function p(n){var t=n&&n.length?this.write(n):"",i;return this.lastNeed?(i=this.lastTotal-this.lastNeed,t+this.lastChar.toString("utf16le",0,i)):t}function w(n,t){var i=(n.length-t)%3;return 0===i?n.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",t,n.length-i))}function b(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function k(n){return n.toString(this.encoding)}function d(n){return n&&n.length?this.write(n):""}var f=n(34).Buffer,e=f.isEncoding||function(n){switch((n=""+n)&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};i.StringDecoder=r;r.prototype.write=function(n){if(0===n.length)return"";var i,t;if(this.lastNeed){if(void 0===(i=this.fillLast(n)))return"";t=this.lastNeed;this.lastNeed=0}else t=0;return t<n.length?i?i+this.text(n,t):this.text(n,t):i||""};r.prototype.end=v;r.prototype.text=a;r.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length);this.lastNeed-=n.length}},{34:34}],30:[function(n,t){t.exports=n(31).PassThrough},{31:31}],31:[function(n,t,i){i=t.exports=n(22);i.Stream=i;i.Readable=i;i.Writable=n(24);i.Duplex=n(20);i.Transform=n(23);i.PassThrough=n(21)},{20:20,21:21,22:22,23:23,24:24}],32:[function(n,t){t.exports=n(31).Transform},{31:31}],33:[function(n,t){t.exports=n(24)},{24:24}],34:[function(n,t,i){function e(n,t){for(var i in n)t[i]=n[i]}function u(n,t,i){return r(n,t,i)}var f=n(10),r=f.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=f:(e(f,i),i.Buffer=u);e(r,u);u.from=function(n,t,i){if("number"==typeof n)throw new TypeError("Argument must not be a number");return r(n,t,i)};u.alloc=function(n,t,i){if("number"!=typeof n)throw new TypeError("Argument must be a number");var u=r(n);return void 0!==t?"string"==typeof i?u.fill(t,i):u.fill(t):u.fill(0),u};u.allocUnsafe=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return r(n)};u.allocUnsafeSlow=function(n){if("number"!=typeof n)throw new TypeError("Argument must be a number");return f.SlowBuffer(n)}},{10:10}],35:[function(n,t){function i(){r.call(this)}t.exports=i;var r=n(13).EventEmitter;n(15)(i,r);i.Readable=n(31);i.Writable=n(33);i.Duplex=n(19);i.Transform=n(32);i.PassThrough=n(30);i.Stream=i;i.prototype.pipe=function(n,t){function o(t){n.writable&&!1===n.write(t)&&i.pause&&i.pause()}function s(){i.readable&&i.resume&&i.resume()}function h(){f||(f=!0,n.end())}function c(){f||(f=!0,"function"==typeof n.destroy&&n.destroy())}function e(n){if(u(),0===r.listenerCount(this,"error"))throw n;}function u(){i.removeListener("data",o);n.removeListener("drain",s);i.removeListener("end",h);i.removeListener("close",c);i.removeListener("error",e);n.removeListener("error",e);i.removeListener("end",u);i.removeListener("close",u);n.removeListener("close",u)}var i=this,f;return i.on("data",o),n.on("drain",s),n._isStdio||t&&!1===t.end||(i.on("end",h),i.on("close",c)),f=!1,i.on("error",e),n.on("error",e),i.on("end",u),i.on("close",u),n.on("close",u),n.emit("pipe",i),n}},{13:13,15:15,19:19,30:30,31:31,32:32,33:33}],36:[function(n,t,i){function f(n){if(n&&!h(n))throw new Error("Unknown encoding: "+n);}function e(n){return n.toString(this.encoding)}function o(n){this.charReceived=n.length%2;this.charLength=this.charReceived?2:0}function s(n){this.charReceived=n.length%3;this.charLength=this.charReceived?3:0}var u=n(10).Buffer,h=u.isEncoding||function(n){switch(n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},r=i.StringDecoder=function(n){switch(this.encoding=(n||"utf8").toLowerCase().replace(/[-_]/,""),f(n),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2;this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3;this.detectIncompleteChar=s;break;default:return void(this.write=e)}this.charBuffer=new u(6);this.charReceived=0;this.charLength=0};r.prototype.write=function(n){for(var f,i,r,u,t="";this.charLength;){if(f=n.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:n.length,n.copy(this.charBuffer,this.charReceived,0,f),this.charReceived+=f,this.charReceived<this.charLength)return"";if(n=n.slice(f,n.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding),r=t.charCodeAt(t.length-1),!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===n.length)return t;break}this.charLength+=this.surrogateSize;t=""}return(this.detectIncompleteChar(n),i=n.length,this.charLength&&(n.copy(this.charBuffer,0,n.length-this.charReceived,i),i-=this.charReceived),t+=n.toString(this.encoding,0,i),i=t.length-1,r=t.charCodeAt(i),r>=55296&&r<=56319)?(u=this.surrogateSize,this.charLength+=u,this.charReceived+=u,this.charBuffer.copy(this.charBuffer,u,0,u),n.copy(this.charBuffer,0,0,u),t.substring(0,i)):t};r.prototype.detectIncompleteChar=function(n){for(var i,t=n.length>=3?3:n.length;t>0;t--){if(i=n[n.length-t],1==t&&i>>5==6){this.charLength=2;break}if(t<=2&&i>>4==14){this.charLength=3;break}if(t<=3&&i>>3==30){this.charLength=4;break}}this.charReceived=t};r.prototype.end=function(n){var t="";if(n&&n.length&&(t=this.write(n)),this.charReceived){var i=this.charReceived,r=this.charBuffer,u=this.encoding;t+=r.slice(0,i).toString(u)}return t}},{10:10}],37:[function(n,t){(function(n){function r(n,t){function u(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t);r=!0}return n.apply(this,arguments)}if(i("noDeprecation"))return n;var r=!1;return u}function i(t){try{if(!n.localStorage)return!1}catch(r){return!1}var i=n.localStorage[t];return null!=i&&"true"===String(i).toLowerCase()}t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(n,t,i){!function(n,t,i,r,u){function y(n){this.node=n}function c(){this.events=[];this.head=null;this.body=null}function b(){this.styling=null;this.layout=null}function g(){this.styles={}}function nt(){this.id=null;this.styleAttrs=null;this.styleRefs=null}function tt(){this.regions={}}function e(n){this.kind=n;this.begin=null;this.end=null;this.styleAttrs=null;this.regionID=null;this.sets=null;this.timeContainer=null}function k(){e.call(this,"body")}function p(){e.call(this,"div")}function l(){e.call(this,"p")}function h(){e.call(this,"span");this.space=null}function w(){e.call(this,"span");this.space=null;this.text=null}function it(){e.call(this,"br")}function a(){this.id=null;this.begin=null;this.end=null;this.styleAttrs=null;this.sets=null}function ot(){this.begin=null;this.end=null;this.qname=null;this.value=null}function st(n){return n&&"xml:id"in n.attributes?n.attributes["xml:id"].value||null:null}function at(n){return n&&"region"in n.attributes?n.attributes.region.value:""}function vt(n,t){var i=n&&"timeContainer"in n.attributes?n.attributes.timeContainer.value:null;return i&&"par"!==i?"seq"===i?"seq":(s(t,"Illegal value of timeContainer (assuming 'par')"),"par"):"par"}function rt(n){return n&&"style"in n.attributes?n.attributes.style.value.split(" "):[]}function d(n,t){var h={},i,u,f,e;if(null!==n)for(i in n.attributes)u=n.attributes[i].uri+" "+n.attributes[i].local,f=r.byQName[u],void 0!==f&&(e=f.parse(n.attributes[i].value),null!==e?(h[u]=e,f===r.byName.zIndex&&o(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):s(t,"Cannot parse styling attribute "+u+" --> "+n.attributes[i].value));return h}function v(n,t,i){for(var r in n.attributes)if(n.attributes[r].uri===t&&n.attributes[r].local===i)return n.attributes[r].value;return null}function yt(n,t){var e=v(n,i.ns_ittp,"aspectRatio"),o=null,h,r,u,f;return null!==e&&(h=/(\d+) (\d+)/,r=h.exec(e),null!==r?(u=parseInt(r[1]),f=parseInt(r[2]),0!==u&&0!==f?o=u/f:s(t,"Illegal aspectRatio values (ignoring)")):s(t,"Malformed aspectRatio attribute (ignoring)")),o}function pt(n,t){var u=v(n,i.ns_ttp,"cellResolution"),f=15,e=32,s,r;return null!==u&&(s=/(\d+) (\d+)/,r=s.exec(u),null!==r?(e=parseInt(r[1]),f=parseInt(r[2])):o(t,"Malformed cellResolution value (using initial value instead)")),{w:e,h:f}}function wt(n,t){var r,u=v(n,i.ns_ttp,"frameRate"),h=30,f,e;null!==u&&(r=/(\d+)/.exec(u),null!==r?h=parseInt(r[1]):o(t,"Malformed frame rate attribute (using initial value instead)"));f=v(n,i.ns_ttp,"frameRateMultiplier");e=1;null!==f&&(r=/(\d+) (\d+)/.exec(f),null!==r?e=parseInt(r[1])/parseInt(r[2]):o(t,"Malformed frame rate multiplier attribute (using initial value instead)"));var c=e*h,s=1,l=v(n,i.ns_ttp,"tickRate");return null===l?null!==u&&(s=c):(r=/(\d+)/.exec(l),null!==r?s=parseInt(r[1]):o(t,"Malformed tick rate attribute (using initial value instead)")),{effectiveFrameRate:c,tickRate:s}}function bt(n,t){var s=v(n,i.ns_tts,"extent"),r,f,e;return null===s?null:(r=s.split(" "),2!==r.length)?(o(t,"Malformed extent (ignoring)"),null):(f=u.parseLength(r[0]),e=u.parseLength(r[1]),e&&f?{h:e,w:f}:(o(t,"Malformed extent values (ignoring)"),null))}function ut(n,t,i){var r,u=null;return null!==(r=/^(\d+(?:\.\d+)?)f$/.exec(i))?null!==t&&(u=parseFloat(r[1])/t):null!==(r=/^(\d+(?:\.\d+)?)t$/.exec(i))?null!==n&&(u=parseFloat(r[1])/n):null!==(r=/^(\d+(?:\.\d+)?)ms$/.exec(i))?u=parseFloat(r[1])/1e3:null!==(r=/^(\d+(?:\.\d+)?)s$/.exec(i))?u=parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)h$/.exec(i))?u=3600*parseFloat(r[1]):null!==(r=/^(\d+(?:\.\d+)?)m$/.exec(i))?u=60*parseFloat(r[1]):null!==(r=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(i))?u=3600*parseInt(r[1])+60*parseInt(r[2])+parseFloat(r[3]):null!==(r=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(i))&&null!==t&&(u=3600*parseInt(r[1])+60*parseInt(r[2])+parseInt(r[3])+(null===r[4]?0:parseInt(r[4])/t)),u}function ft(n,t,i,r){var h=t&&"seq"===t.timeContainer,f=0,e,u,s,c;return i&&"begin"in i.attributes&&null===(f=ut(n.tickRate,n.effectiveFrameRate,i.attributes.begin.value))&&(o(r,"Malformed begin value "+i.attributes.begin.value+" (using 0)"),f=0),e=h?0:null,i&&"dur"in i.attributes&&null===(e=ut(n.tickRate,n.effectiveFrameRate,i.attributes.dur.value))&&o(r,"Malformed dur value "+i.attributes.dur.value+" (ignoring)"),u=null,i&&"end"in i.attributes&&null===(u=ut(n.tickRate,n.effectiveFrameRate,i.attributes.end.value))&&o(r,"Malformed end value (ignoring)"),s=0,(t&&(s=h&&"contents"in t&&t.contents.length>0?t.contents[t.contents.length-1].end:t.begin||0),f+=s,null!==e)?u=f+e:(c=t&&"end"in t?t.end:Number.POSITIVE_INFINITY,u=null!==u?u+s:c),{begin:f,end:u}}function ht(n,t,i){for(;t.styleRefs.length>0;){var r=t.styleRefs.pop();r in n.styles?(ht(n,n.styles[r],i),et(n.styles[r].styleAttrs,t.styleAttrs)):s(i,"Non-existant style id referenced")}}function ct(n,t,i,r){for(var f,u=t.length-1;u>=0;u--)f=t[u],f in n.styles?et(n.styles[f].styleAttrs,i):s(r,"Non-existant style id referenced")}function et(n,t){for(var i in n)i in t||(t[i]=n[i])}function o(n,t){if(n&&n.warn&&n.warn(t))throw t;}function s(n,t){if(n&&n.error&&n.error(t))throw t;}function f(n,t){throw n&&n.fatal&&n.fatal(t),t;}function lt(n,t){for(var i,f,r=0,u=n.length-1;r<=u;)if(i=Math.floor((r+u)/2),f=n[i],f<t)r=i+1;else{if(!(f>t))return{found:!0,index:i};u=i-1}return{found:!1,index:r}}n.fromXML=function(n,r,u){var ut=t.parser(!0,{xmlns:!0}),e=[],d=[],v=[],rt=0,o=null,ft,ct,st;ut.onclosetag=function(){var f,t,n;if(e[0]instanceof g)for(f in e[0].styles)ht(e[0],e[0].styles[f],r);else if(e[0]instanceof l||e[0]instanceof h){if(e[0].contents.length>1){for(n=[e[0].contents[0]],t=1;t<e[0].contents.length;t++)e[0].contents[t]instanceof w&&n[n.length-1]instanceof w?n[n.length-1].text+=e[0].contents[t].text:n.push(e[0].contents[t]);e[0].contents=n}e[0]instanceof h&&1===e[0].contents.length&&e[0].contents[0]instanceof w&&null===e[0].text&&(e[0].text=e[0].contents[0].text,delete e[0].contents)}else e[0]instanceof y&&(e[0].node.uri===i.ns_tt&&"metadata"===e[0].node.local?rt--:rt>0&&u&&"onCloseTag"in u&&u.onCloseTag());v.shift();d.shift();e.shift()};ut.ontext=function(n){if(void 0!==e[0])if(e[0]instanceof h||e[0]instanceof l){var t=new w;t.initFromText(o,e[0],n,v[0],r);e[0].contents.push(t)}else e[0]instanceof y&&rt>0&&u&&"onText"in u&&u.onText(n)};ut.onopentag=function(n){var pt=n.attributes["xml:space"],vt,t,w,ft,st,ht,ct,lt,at,yt,ut;if(pt?v.unshift(pt.value):0===v.length?v.unshift("default"):v.unshift(v[0]),vt=n.attributes["xml:lang"],(vt?d.unshift(vt.value):0===d.length?d.unshift(""):d.unshift(d[0]),n.uri===i.ns_tt)?"tt"===n.local?(null!==o&&f("Two <tt> elements at ("+this.line+","+this.column+")"),o=new c,o.initFromNode(n,r),e.unshift(o)):"head"===n.local?(e[0]instanceof c||f("Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==o.head&&f("Second <head> element at ("+this.line+","+this.column+")"),o.head=new b,e.unshift(o.head)):"styling"===n.local?(e[0]instanceof b||f("Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==o.head.styling&&f("Second <styling> element at ("+this.line+","+this.column+")"),o.head.styling=new g,e.unshift(o.head.styling)):"style"===n.local?e[0]instanceof g?(t=new nt,t.initFromNode(n,r),t.id?o.head.styling.styles[t.id]=t:s("<style> element missing @id attribute"),e.unshift(t)):e[0]instanceof a?(t=new nt,t.initFromNode(n,r),et(t.styleAttrs,e[0].styleAttrs),e.unshift(t)):f(r,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")"):"layout"===n.local?(e[0]instanceof b||f(r,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==o.head.layout&&f(r,"Second <layout> element at "+this.line+","+this.column+")"),o.head.layout=new tt,e.unshift(o.head.layout)):"region"===n.local?(e[0]instanceof tt||f(r,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),w=new a,w.initFromNode(o,n,r),!w.id||w.id in o.head.layout.regions?s(r,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):(o.head.layout.regions[w.id]=w,o._registerEvent(w)),e.unshift(w)):"body"===n.local?(e[0]instanceof c||f(r,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==o.body&&f(r,"Second <body> element at "+this.line+","+this.column+")"),ft=new k,ft.initFromNode(o,n,r),o._registerEvent(ft),o.body=ft,e.unshift(ft)):"div"===n.local?(e[0]instanceof p||e[0]instanceof k||f(r,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),st=new p,st.initFromNode(o,e[0],n,r),o._registerEvent(st),e[0].contents.push(st),e.unshift(st)):"p"===n.local?(e[0]instanceof p||f(r,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),ht=new l,ht.initFromNode(o,e[0],n,r),o._registerEvent(ht),e[0].contents.push(ht),e.unshift(ht)):"span"===n.local?(e[0]instanceof h||e[0]instanceof l||f(r,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),ct=new h,ct.initFromNode(o,e[0],n,v[0],r),o._registerEvent(ct),e[0].contents.push(ct),e.unshift(ct)):"br"===n.local?(e[0]instanceof h||e[0]instanceof l||f(r,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),lt=new it,lt.initFromNode(o,e[0],n,r),o._registerEvent(lt),e[0].contents.push(lt),e.unshift(lt)):"set"===n.local?(e[0]instanceof h||e[0]instanceof l||e[0]instanceof p||e[0]instanceof k||e[0]instanceof a||e[0]instanceof it||f(r,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),at=new ot,at.initFromNode(o,e[0],n,r),o._registerEvent(at),e[0].sets.push(at),e.unshift(at)):e.unshift(new y(n)):e.unshift(new y(n)),e[0]instanceof y)if(n.uri===i.ns_tt&&"metadata"===n.local)rt++;else if(rt>0&&u&&"onOpenTag"in u){yt=[];for(ut in n.attributes)yt[n.attributes[ut].uri+" "+n.attributes[ut].local]={uri:n.attributes[ut].uri,local:n.attributes[ut].local,value:n.attributes[ut].value};u.onOpenTag(n.uri,n.local,yt)}};ut.write(n).close();null!==o.head?delete o.head.styling:o.head=new b;null===o.head.layout&&(o.head.layout=new tt);ft=!1;for(ct in o.head.layout.regions){ft=!0;break}return ft||(st=a.createDefaultRegion(),o.head.layout.regions[st.id]=st),o};c.prototype.initFromNode=function(n,t){var u,e,r;this.cellResolution=pt(n,t);u=wt(n,t);this.effectiveFrameRate=u.effectiveFrameRate;this.tickRate=u.tickRate;this.aspectRatio=yt(n,t);e=v(n,i.ns_ttp,"timeBase");null!==e&&"media"!==e&&f(t,"Unsupported time base");r=bt(n,t);null===r?this.pxDimensions={h:480,w:640}:("px"===r.h.unit&&"px"===r.w.unit||f(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:r.h.value,w:r.w.value})};c.prototype._registerEvent=function(n){var t,i;n.end<=n.begin||(t=lt(this.events,n.begin),(t.found||this.events.splice(t.index,0,n.begin),n.end!==Number.POSITIVE_INFINITY)&&(i=lt(this.events,n.end),i.found||this.events.splice(i.index,0,n.end)))};c.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]};c.prototype.getMediaTimeEvents=function(){return this.events};nt.prototype.initFromNode=function(n,t){this.id=st(n);this.styleAttrs=d(n,t);this.styleRefs=rt(n)};e.prototype.initFromNode=function(n,t,i,r){var u=ft(n,t,i,r);this.begin=u.begin;this.end=u.end;this.styleAttrs=d(i,r);null!==n.head&&null!==n.head.styling&&ct(n.head.styling,rt(i),this.styleAttrs,r);this.regionID=at(i);this.sets=[];this.timeContainer=vt(i,r)};k.prototype.initFromNode=function(n,t,i){e.prototype.initFromNode.call(this,n,null,t,i);this.contents=[]};p.prototype.initFromNode=function(n,t,i,r){e.prototype.initFromNode.call(this,n,t,i,r);this.contents=[]};l.prototype.initFromNode=function(n,t,i,r){e.prototype.initFromNode.call(this,n,t,i,r);this.contents=[]};h.prototype.initFromNode=function(n,t,i,r,u){e.prototype.initFromNode.call(this,n,t,i,u);this.space=r;this.contents=[]};w.prototype.initFromText=function(n,t,i,r,u){e.prototype.initFromNode.call(this,n,t,null,u);this.text=i;this.space=r};it.prototype.initFromNode=function(n,t,i,r){e.prototype.initFromNode.call(this,n,t,i,r)};a.createDefaultRegion=function(){var n=new a;return n.id="",n.begin=0,n.end=Number.POSITIVE_INFINITY,n.styleAttrs={},n.sets=[],n};a.prototype.initFromNode=function(n,t,i){this.id=st(t);var r=ft(n,null,t,i);this.begin=r.begin;this.end=r.end;this.styleAttrs=d(t,i);this.sets=[];null!==n.head&&null!==n.head.styling&&ct(n.head.styling,rt(t),this.styleAttrs,i)};ot.prototype.initFromNode=function(n,t,i,r){var e=ft(n,t,i,r),u,f;this.begin=e.begin;this.end=e.end;u=d(i,r);for(f in u){if(this.qname){s(r,"More than one style specified on set");break}this.qname=f;this.value=u[f]}}}(void 0===i?this.imscDoc={}:i,"undefined"==typeof sax?n(45):sax,"undefined"==typeof imscNames?n(42):imscNames,"undefined"==typeof imscStyles?n(43):imscStyles,"undefined"==typeof imscUtils?n(44):imscUtils)},{42:42,43:43,44:44,45:45}],39:[function(n,t,i){!function(n,t,i){function o(n,t,r){var f,ut,k,nt,c,v,y,d,g,tt,ft,it,rt,p,et,e,b;if("region"===r.kind?(f=document.createElement("div"),f.style.position="absolute"):"body"===r.kind?f=document.createElement("div"):"div"===r.kind?f=document.createElement("div"):"p"===r.kind?f=document.createElement("p"):"span"===r.kind?f=document.createElement("span"):"br"===r.kind&&(f=document.createElement("br")),!f)return void w(n.errorHandler,"Error processing ISD element kind: "+r.kind);f.style.margin="0";for(ut in u)k=u[ut],nt=r.styleAttrs[k.qname],void 0!==nt&&null!==k.map&&k.map(n,f,r,nt);if(c=f,v=r.styleAttrs[i.byName.multiRowAlign.qname],v&&"auto"!==v&&(y=document.createElement("span"),y.style.display="inline-block",y.style.textAlign=v,f.appendChild(y),c=y,n.mra=v),d=r.styleAttrs[i.byName.linePadding.qname],d&&d>0&&(n.lp=d),"span"===r.kind&&r.text)if(n.lp||n.mra)for(g=0;g<r.text.length;g++)tt=document.createElement("span"),tt.textContent=r.text.charAt(g),f.appendChild(tt);else f.textContent=r.text;t.appendChild(f);for(ft in r.contents)o(n,c,r.contents[ft]);(n.lp||n.mra)&&"p"===r.kind&&(it=[],s(c,it,"red"),a(it,n.lp*n.h),n.lp&&delete n.lp,n.mra&&delete n.mra);"region"===r.kind&&(rt=[],h(c,rt),p=r.styleAttrs[i.byName.writingMode.qname],("lrtb"===p||"lr"===p||"rltb"===p||"rl"===p)&&n.enableRollUp&&r.contents.length>0&&"after"===r.styleAttrs[i.byName.displayAlign.qname]&&(et=""===r.id?"_":r.id,e=new l(et,rt),(n.currentISDState[e.id]=e,n.previousISDState&&e.id in n.previousISDState&&n.previousISDState[e.id].plist.length>0&&e.plist.length>1&&e.plist[e.plist.length-2].text===n.previousISDState[e.id].plist[n.previousISDState[e.id].plist.length-1].text)&&(b=f.firstElementChild,b.style.bottom="-"+e.plist[e.plist.length-1].height+"px",b.style.transition="transform 0.4s",b.style.position="relative",b.style.transform="translateY(-"+e.plist[e.plist.length-1].height+"px)")))}function l(n,t){this.id=n;this.plist=t}function s(n,t,i){if(0===n.childElementCount)t.push({element:n,bgcolor:i});else for(var u=n.style.backgroundColor||i,r=n.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&s(r,t,u),r=r.nextSibling}function h(n,t){var i,r;if(0===n.childElementCount&&"span"===n.localName)i=n.getBoundingClientRect(),0!==t.length&&f(i.top,i.height,t[t.length-1].top,t[t.length-1].height)?(i.top<t[t.length-1].top&&(t[t.length-1].top=i.top),i.height>t[t.length-1].height&&(t[t.length-1].height=i.height),t[t.length-1].text+=n.textContent):t.push({top:i.top,height:i.height,text:n.textContent});else for(r=n.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&h(r,t),r=r.nextSibling}function f(n,t,i,r){return n+t<i+r&&n>i||i+r<=n+t&&i>=n}function a(n,t){for(var o,r=null,e=!0,u=!1,i=0;i<=n.length;i++)if(i===n.length||"br"!==n[i].element.localName){if(null===r||i===n.length||!f(n[i].element.getBoundingClientRect().top,n[i].element.getBoundingClientRect().height,n[r].element.getBoundingClientRect().top,n[r].element.getBoundingClientRect().height)){if(t&&!e){for(;--i>=0;)if(0!==n[i].element.getBoundingClientRect().width){if(y(n[i].element,n[i].color,t),0!==n[i].element.getBoundingClientRect().width&&f(n[i].element.getBoundingClientRect().top,n[i].element.getBoundingClientRect().height,n[r].element.getBoundingClientRect().top,n[r].element.getBoundingClientRect().height))break;p(n[i].element)}e=!0;continue}if(i!==n.length&&null!==r&&!u){o=document.createElement("br");n[i].element.parentElement.insertBefore(o,n[i].element);n.splice(i,0,{element:o});u=!0;continue}if(i!==n.length&&t)for(;i<n.length;i++)if(0!==n[i].element.getBoundingClientRect().width){v(n[i].element,n[i].color,t);break}e=!1;u=!1;r=i}}else u=!0}function v(n,t,i){n.style.paddingLeft=i+"px";n.style.backgroundColor=t}function y(n,t,i){n.style.paddingRight=i+"px";n.style.backgroundColor=t}function p(n){n.style.paddingRight=null}function r(n,t){this.qname=n;this.map=t}function w(n,t){if(n&&n.error&&n.error(t))throw t;}var u,c,e;n.render=function(n,t,i,r,u,f,e,s,h){var a=r||t.clientHeight,l=u||t.clientWidth,v,c,y,p;null!==n.aspectRatio&&(v=a*n.aspectRatio,v>l?a=Math.round(l/n.aspectRatio):l=v);c=document.createElement("div");c.style.position="relative";c.style.width=l+"px";c.style.height=a+"px";c.style.margin="auto";c.style.top=0;c.style.bottom=0;c.style.left=0;c.style.right=0;c.style.zIndex=0;y={h:a,w:l,regionH:null,regionW:null,imgResolver:i,displayForcedOnlyMode:f||!1,isd:n,errorHandler:e,previousISDState:s,enableRollUp:h||!1,currentISDState:{}};t.appendChild(c);for(p in n.contents)o(y,c,n.contents[p]);return y.currentISDState};u=[new r("http://www.w3.org/ns/ttml#styling backgroundColor",function(n,t,i,r){t.style.backgroundColor="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"}),new r("http://www.w3.org/ns/ttml#styling color",function(n,t,i,r){t.style.color="rgba("+r[0].toString()+","+r[1].toString()+","+r[2].toString()+","+(r[3]/255).toString()+")"}),new r("http://www.w3.org/ns/ttml#styling direction",function(n,t,i,r){t.style.direction=r}),new r("http://www.w3.org/ns/ttml#styling display",function(){}),new r("http://www.w3.org/ns/ttml#styling displayAlign",function(n,t,i,r){t.style.display="flex";t.style.flexDirection="column";"before"===r?t.style.justifyContent="flex-start":"center"===r?t.style.justifyContent="center":"after"===r&&(t.style.justifyContent="flex-end")}),new r("http://www.w3.org/ns/ttml#styling extent",function(n,t,i,r){n.regionH=r.h*n.h;n.regionW=r.w*n.w;var f=0,e=0,u=i.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];u&&(f=(u[0]+u[2])*n.h,e=(u[1]+u[3])*n.w);t.style.height=n.regionH-f+"px";t.style.width=n.regionW-e+"px"}),new r("http://www.w3.org/ns/ttml#styling fontFamily",function(n,t,i,r){var u=[];for(var f in r)"monospaceSerif"===r[f]?(u.push("Courier New"),u.push('"Liberation Mono"'),u.push("Courier"),u.push("monospace")):"proportionalSansSerif"===r[f]?(u.push("Arial"),u.push("Helvetica"),u.push('"Liberation Sans"'),u.push("sans-serif")):"monospace"===r[f]?u.push("monospace"):"sansSerif"===r[f]?u.push("sans-serif"):"serif"===r[f]?u.push("serif"):"monospaceSansSerif"===r[f]?(u.push("Consolas"),u.push("monospace")):"proportionalSerif"===r[f]?u.push("serif"):u.push(r[f]);t.style.fontFamily=u.join(",")}),new r("http://www.w3.org/ns/ttml#styling fontSize",function(n,t,i,r){t.style.fontSize=r*n.h+"px"}),new r("http://www.w3.org/ns/ttml#styling fontStyle",function(n,t,i,r){t.style.fontStyle=r}),new r("http://www.w3.org/ns/ttml#styling fontWeight",function(n,t,i,r){t.style.fontWeight=r}),new r("http://www.w3.org/ns/ttml#styling lineHeight",function(n,t,i,r){t.style.lineHeight="normal"===r?"normal":r*n.h+"px"}),new r("http://www.w3.org/ns/ttml#styling opacity",function(n,t,i,r){t.style.opacity=r}),new r("http://www.w3.org/ns/ttml#styling origin",function(n,t,i,r){t.style.top=r.h*n.h+"px";t.style.left=r.w*n.w+"px"}),new r("http://www.w3.org/ns/ttml#styling overflow",function(n,t,i,r){t.style.overflow=r}),new r("http://www.w3.org/ns/ttml#styling padding",function(n,t,i,r){var u=[];u[0]=r[0]*n.h+"px";u[1]=r[3]*n.w+"px";u[2]=r[2]*n.h+"px";u[3]=r[1]*n.w+"px";t.style.padding=u.join(" ")}),new r("http://www.w3.org/ns/ttml#styling showBackground",null),new r("http://www.w3.org/ns/ttml#styling textAlign",function(n,t,r,u){var f,e=r.styleAttrs[i.byName.direction.qname];f="start"===u?"rtl"===e?"right":"left":"end"===u?"rtl"===e?"left":"right":u;t.style.textAlign=f}),new r("http://www.w3.org/ns/ttml#styling textDecoration",function(n,t,i,r){t.style.textDecoration=r.join(" ").replace("lineThrough","line-through")}),new r("http://www.w3.org/ns/ttml#styling textOutline",function(n,t,i,r){t.style.textShadow="none"===r?"":"rgba("+r.color[0].toString()+","+r.color[1].toString()+","+r.color[2].toString()+","+(r.color[3]/255).toString()+") 0px 0px "+r.thickness*n.h+"px"}),new r("http://www.w3.org/ns/ttml#styling unicodeBidi",function(n,t,i,r){var u;u="bidiOverride"===r?"bidi-override":r;t.style.unicodeBidi=u}),new r("http://www.w3.org/ns/ttml#styling visibility",function(n,t,i,r){t.style.visibility=r}),new r("http://www.w3.org/ns/ttml#styling wrapOption",function(n,t,i,r){t.style.whiteSpace="wrap"===r?"preserve"===i.space?"pre-wrap":"normal":"preserve"===i.space?"pre":"noWrap"}),new r("http://www.w3.org/ns/ttml#styling writingMode",function(n,t,i,r){"lrtb"===r||"lr"===r?t.style.writingMode="horizontal-tb":"rltb"===r||"rl"===r?t.style.writingMode="horizontal-tb":"tblr"===r?t.style.writingMode="vertical-lr":"tbrl"!==r&&"tb"!==r||(t.style.writingMode="vertical-rl")}),new r("http://www.w3.org/ns/ttml#styling zIndex",function(n,t,i,r){t.style.zIndex=r}),new r("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(n,t,i,r){if(null!==n.imgResolver&&null!==r){var u=document.createElement("img"),f=n.imgResolver(r,u);f&&(u.src=f);u.height=n.regionH;u.width=n.regionW;t.appendChild(u)}}),new r("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(n,t,i,r){n.displayForcedOnlyMode&&!1===r&&(t.style.visibility="hidden")})];c={};for(e in u)c[u[e].qname]=u[e]}(void 0===i?this.imscHTML={}:i,"undefined"==typeof imscNames?n(42):imscNames,"undefined"==typeof imscStyles?n(43):imscStyles)},{42:42,43:43}],40:[function(n,t,i){!function(n,t,i){function r(n,t,e,h,c,l,a,v){var it,y,rt,ft,et,ut,vt,b,yt,d,pt,g,ct,st,wt,lt,at,bt,w;if(t<a.begin||t>=a.end||(it="regionID"in a&&""!==a.regionID?a.regionID:l,null!==c&&it!==e.id&&(!("contents"in a)||"contents"in a&&0===a.contents.length||""!==it)))return null;y=new o(a);for(rt in a.sets)t<a.sets[rt].begin||t>=a.sets[rt].end||(y.styleAttrs[a.sets[rt].qname]=a.sets[rt].value);ft={};for(et in y.styleAttrs)(ft[et]=!0,et!==i.byName.writingMode.qname||i.byName.direction.qname in y.styleAttrs)||(ut=y.styleAttrs[et],"lrtb"===ut||"lr"===ut?y.styleAttrs[i.byName.direction.qname]="ltr":"rltb"!==ut&&"rl"!==ut||(y.styleAttrs[i.byName.direction.qname]="rtl"));if(null!==c)for(vt in i.all)if(b=i.all[vt],b.qname===i.byName.textDecoration.qname){var ot=c.styleAttrs[b.qname],k=y.styleAttrs[b.qname],tt=[];void 0===k?tt=ot:-1===k.indexOf("none")?((-1===k.indexOf("noUnderline")&&-1!==ot.indexOf("underline")||-1!==k.indexOf("underline"))&&tt.push("underline"),(-1===k.indexOf("noLineThrough")&&-1!==ot.indexOf("lineThrough")||-1!==k.indexOf("lineThrough"))&&tt.push("lineThrough"),(-1===k.indexOf("noOverline")&&-1!==ot.indexOf("overline")||-1!==k.indexOf("overline"))&&tt.push("overline")):tt.push("none");y.styleAttrs[b.qname]=tt}else b.inherit&&b.qname in c.styleAttrs&&!(b.qname in y.styleAttrs)&&(y.styleAttrs[b.qname]=c.styleAttrs[b.qname]);for(yt in i.all)d=i.all[yt],d.qname in y.styleAttrs||("region"===y.kind||!1===d.inherit&&null!==d.initial)&&(y.styleAttrs[d.qname]=d.parse(d.initial),ft[d.qname]=!0);for(pt in i.all)g=i.all[pt],g.qname in ft&&null!==g.compute&&(ct=g.compute(n,c,y,y.styleAttrs[g.qname]),null!==ct?y.styleAttrs[g.qname]=ct:s(v,"Style '"+g.qname+"' on element '"+y.kind+"' cannot be computed"));if("none"===y.styleAttrs[i.byName.display.qname])return null;null===c?st=null===h?[]:[h]:"contents"in a&&(st=a.contents);for(wt in st)lt=r(n,t,e,h,y,it,st[wt]),null!==lt&&y.contents.push(lt.element);for(at in y.styleAttrs)-1===i.byQName[at].applies.indexOf(y.kind)&&delete y.styleAttrs[at];if("span"===y.kind&&y.text&&"default"===y.space&&(bt=y.text.replace(/\s+/g," "),y.text=bt),"p"===y.kind){w=[];u(y,w);for(var p=0,nt="after_br",ht=0;;)if("after_br"===nt)p>=w.length||"br"===w[p].kind?(nt="before_br",ht=p,p--):("preserve"!==w[p].space&&(w[p].text=w[p].text.replace(/^\s+/g,"")),w[p].text.length>0?(nt="looking_br",p++):w.splice(p,1));else if("before_br"===nt)if(p<0||"br"===w[p].kind){if(nt="after_br",(p=ht+1)>=w.length)break}else if("preserve"!==w[p].space&&(w[p].text=w[p].text.replace(/\s+$/g,"")),w[p].text.length>0){if(nt="after_br",(p=ht+1)>=w.length)break}else w.splice(p,1),p--;else p>=w.length||"br"===w[p].kind?(nt="before_br",ht=p,p--):p++;f(y)}return"div"===y.kind&&i.byName.backgroundImage.qname in y.styleAttrs||"br"===y.kind||"contents"in y&&y.contents.length>0||"span"===y.kind&&null!==y.text||"region"===y.kind&&"always"===y.styleAttrs[i.byName.showBackground.qname]?{region_id:it,element:y}:null}function u(n,t){if("contents"in n)for(var i in n.contents)u(n.contents[i],t);else t.push(n)}function f(n){if("br"===n.kind)return!1;if("text"in n)return 0===n.text.length;if("contents"in n){for(var t=n.contents.length;t--;)f(n.contents[t])&&n.contents.splice(t,1);return 0===n.contents.length}}function e(n){this.contents=[];this.aspectRatio=n.aspectRatio}function o(n){this.kind=n.kind||"region";n.id&&(this.id=n.id);this.styleAttrs={};for(var t in n.styleAttrs)this.styleAttrs[t]=n.styleAttrs[t];"text"in n?this.text=n.text:"br"!==n.kind&&(this.contents=[]);"space"in n&&(this.space=n.space)}function s(n,t){if(n&&n.error&&n.error(t))throw t;}n.generateISD=function(n,t,i){var o=new e(n),u,f;for(u in n.head.layout.regions)f=r(n,t,n.head.layout.regions[u],n.body,null,"",n.head.layout.regions[u],i),null!==f&&o.contents.push(f.element);return o}}(void 0===i?this.imscISD={}:i,"undefined"==typeof imscNames?n(42):imscNames,"undefined"==typeof imscStyles?n(43):imscStyles)},{42:42,43:43}],41:[function(n,t,i){i.generateISD=n(40).generateISD;i.fromXML=n(38).fromXML;i.renderHTML=n(39).render},{38:38,39:39,40:40}],42:[function(n,t,i){!function(n){n.ns_tt="http://www.w3.org/ns/ttml";n.ns_tts="http://www.w3.org/ns/ttml#styling";n.ns_ttp="http://www.w3.org/ns/ttml#parameter";n.ns_xml="http://www.w3.org/XML/1998/namespace";n.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling";n.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";n.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";n.ns_ebutts="urn:ebu:tt:style"}(void 0===i?this.imscNames={}:i)},{}],43:[function(n,t,i){!function(n,t,i){function r(n,t,i,r,u,f,e,o){this.name=t;this.ns=n;this.qname=n+" "+t;this.inherit=u;this.animatable=f;this.initial=i;this.applies=r;this.parse=e;this.compute=o}var u,f;n.all=[new r(t.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,i.parseColor,null),new r(t.ns_tts,"color","white",["span"],!0,!0,i.parseColor,null),new r(t.ns_tts,"direction","ltr",["p","span"],!0,!0,function(n){return n},null),new r(t.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(n){return n},null),new r(t.ns_tts,"displayAlign","before",["region"],!1,!0,function(n){return n},null),new r(t.ns_tts,"extent","auto",["tt","region"],!1,!0,function(n){var t,r,u;return"auto"===n?n:(t=n.split(" "),2!==t.length)?null:(r=i.parseLength(t[0]),u=i.parseLength(t[1]),u&&r?{h:u,w:r}:null)},function(n,t,i,r){var u,f;if("auto"===r)u=1;else if("%"===r.h.unit)u=r.h.value/100;else{if("px"!==r.h.unit)return null;u=r.h.value/n.pxDimensions.h}if("auto"===r)f=1;else if("%"===r.w.unit)f=r.w.value/100;else{if("px"!==r.w.unit)return null;f=r.w.value/n.pxDimensions.w}return{h:u,w:f}}),new r(t.ns_tts,"fontFamily","default",["span"],!0,!0,function(n){var t=n.split(","),r=[];for(var i in t)"'"!==t[i].charAt(0)&&'"'!==t[i].charAt(0)&&"default"===t[i]?r.push("monospaceSerif"):r.push(t[i]);return r},null),new r(t.ns_tts,"fontSize","1c",["span"],!0,!0,i.parseLength,function(t,i,r,u){var f;if("%"===u.unit)f=null!==i?i.styleAttrs[n.byName.fontSize.qname]*u.value/100:u.value/100/t.cellResolution.h;else if("em"===u.unit)f=null!==i?i.styleAttrs[n.byName.fontSize.qname]*u.value:u.value/t.cellResolution.h;else if("c"===u.unit)f=u.value/t.cellResolution.h;else{if("px"!==u.unit)return null;f=u.value/t.pxDimensions.h}return f}),new r(t.ns_tts,"fontStyle","normal",["span"],!0,!0,function(n){return n},null),new r(t.ns_tts,"fontWeight","normal",["span"],!0,!0,function(n){return n},null),new r(t.ns_tts,"lineHeight","normal",["p"],!0,!0,function(n){return"normal"===n?n:i.parseLength(n)},function(t,i,r,u){var f;if("normal"===u)f=u;else if("%"===u.unit)f=r.styleAttrs[n.byName.fontSize.qname]*u.value/100;else if("em"===u.unit)f=r.styleAttrs[n.byName.fontSize.qname]*u.value;else if("c"===u.unit)f=u.value/t.cellResolution.h;else{if("px"!==u.unit)return null;f=u.value/t.pxDimensions.h}return f}),new r(t.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new r(t.ns_tts,"origin","auto",["region"],!1,!0,function(n){var t,r,u;return"auto"===n?n:(t=n.split(" "),2!==t.length)?null:(r=i.parseLength(t[0]),u=i.parseLength(t[1]),u&&r?{h:u,w:r}:null)},function(n,t,i,r){var u,f;if("auto"===r)u=0;else if("%"===r.h.unit)u=r.h.value/100;else{if("px"!==r.h.unit)return null;u=r.h.value/n.pxDimensions.h}if("auto"===r)f=0;else if("%"===r.w.unit)f=r.w.value/100;else{if("px"!==r.w.unit)return null;f=r.w.value/n.pxDimensions.w}return{h:u,w:f}}),new r(t.ns_tts,"overflow","hidden",["region"],!1,!0,function(n){return n},null),new r(t.ns_tts,"padding","0px",["region"],!1,!0,function(n){var t=n.split(" "),r,f,u;if(t.length>4)return null;r=[];for(f in t){if(u=i.parseLength(t[f]),!u)return null;r.push(u)}return r},function(t,i,r,u){var f,o,s,e;if(1===u.length)f=[u[0],u[0],u[0],u[0]];else if(2===u.length)f=[u[0],u[1],u[0],u[1]];else if(3===u.length)f=[u[0],u[1],u[2],u[1]];else{if(4!==u.length)return null;f=[u[0],u[1],u[2],u[3]]}if(o=r.styleAttrs[n.byName.writingMode.qname],"lrtb"===o||"lr"===o)f=[f[0],f[3],f[2],f[1]];else if("rltb"===o||"rl"===o)f=[f[0],f[1],f[2],f[3]];else if("tblr"===o)f=[f[3],f[0],f[1],f[2]];else{if("tbrl"!==o&&"tb"!==o)return null;f=[f[3],f[2],f[1],f[0]]}s=[];for(e in f)if(0===f[e].value)s[e]=0;else if("%"===f[e].unit)s[e]="0"===e||"2"===e?r.styleAttrs[n.byName.extent.qname].h*f[e].value/100:r.styleAttrs[n.byName.extent.qname].w*f[e].value/100;else if("em"===f[e].unit)s[e]=r.styleAttrs[n.byName.fontSize.qname]*f[e].value;else if("c"===f[e].unit)s[e]=f[e].value/t.cellResolution.h;else{if("px"!==f[e].unit)return null;s[e]=f[e].value/t.pxDimensions.h}return s}),new r(t.ns_tts,"showBackground","always",["region"],!1,!0,function(n){return n},null),new r(t.ns_tts,"textAlign","start",["p"],!0,!0,function(n){return n},function(n,t,i,r){return"left"===r?"start":"right"===r?"end":r}),new r(t.ns_tts,"textDecoration","none",["span"],!0,!0,function(n){return n.split(" ")},null),new r(t.ns_tts,"textOutline","none",["span"],!0,!0,function(n){var r,t,u,f;return"none"===n?n:(r={},t=n.split(" "),0===t.length||t.length>2)?null:(u=i.parseColor(t[0]),r.color=u,null!==u&&t.shift(),1!==t.length)?null:(f=i.parseLength(t[0]),f?(r.thickness=f,r):null)},function(t,i,r,u){if("none"===u)return u;var f={};if(f.color=null===u.color?r.styleAttrs[n.byName.color.qname]:u.color,"%"===u.thickness.unit)f.thickness=r.styleAttrs[n.byName.fontSize.qname]*u.thickness.value/100;else if("em"===u.thickness.unit)f.thickness=r.styleAttrs[n.byName.fontSize.qname]*u.thickness.value;else if("c"===u.thickness.unit)f.thickness=u.thickness.value/t.cellResolution.h;else{if("px"!==u.thickness.unit)return null;f.thickness=u.thickness.value/t.pxDimensions.h}return f}),new r(t.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(n){return n},null),new r(t.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(n){return n},null),new r(t.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(n){return n},null),new r(t.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(n){return n},null),new r(t.ns_tts,"zIndex","auto",["region"],!1,!0,function(n){var t;return"auto"===n?t=n:(t=parseInt(n),isNaN(t)&&(t=null)),t},null),new r(t.ns_ebutts,"linePadding","0c",["p"],!0,!1,i.parseLength,function(n,t,i,r){return"c"===r.unit?r.value/n.cellResolution.h:null}),new r(t.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(n){return n},null),new r(t.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(n){return n},null),new r(t.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(n){return"true"===n},null)];n.byQName={};for(u in n.all)n.byQName[n.all[u].qname]=n.all[u];n.byName={};for(f in n.all)n.byName[n.all[f].name]=n.all[f]}(void 0===i?this.imscStyles={}:i,"undefined"==typeof imscNames?n(42):imscNames,"undefined"==typeof imscUtils?n(44):imscUtils)},{42:42,44:44}],44:[function(n,t,i){!function(n){var r=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,u=/rgb\((\d+),(\d+),(\d+)\)/,f=/rgba\((\d+),(\d+),(\d+),(\d+)\)/,t={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]},i;n.parseColor=function(n){var i,e=null;return n in t?e=t[n]:null!==(i=r.exec(n))?e=[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),void 0!==i[4]?parseInt(i[4],16):255]:null!==(i=u.exec(n))?e=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),255]:null!==(i=f.exec(n))&&(e=[parseInt(i[1]),parseInt(i[2]),parseInt(i[3]),parseInt(i[4])]),e};i=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/;n.parseLength=function(n){var t,r=null;return null!==(t=i.exec(n))&&(r={value:parseFloat(t[1]),unit:t[2]}),r}}(void 0===i?this.imscUtils={}:i)},{}],45:[function(n,t,i){(function(t){!function(i){function h(n,t){if(!(this instanceof h))return new h(n,t);var u=this;pt(u);u.q=u.c="";u.bufferCheckPosition=i.MAX_BUFFER_LENGTH;u.opt=t||{};u.opt.lowercase=u.opt.lowercase||u.opt.lowercasetags;u.looseCase=u.opt.lowercase?"toLowerCase":"toUpperCase";u.tags=[];u.closed=u.closedRoot=u.sawRoot=!1;u.tag=u.error=null;u.strict=!!n;u.noscript=!(!n&&!u.opt.noscript);u.state=r.BEGIN;u.strictEntities=u.opt.strictEntities;u.ENTITIES=u.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES);u.attribList=[];u.opt.xmlns&&(u.ns=Object.create(ri));u.trackPosition=!1!==u.opt.position;u.trackPosition&&(u.position=u.line=u.column=0);p(u,"onready")}function yt(n){for(var u,f,o=Math.max(i.MAX_BUFFER_LENGTH,10),r=0,t=0,s=l.length;t<s;t++){if(u=n[l[t]].length,u>o)switch(l[t]){case"textNode":w(n);break;case"cdata":e(n,"oncdata",n.cdata);n.cdata="";break;case"script":e(n,"onscript",n.script);n.script="";break;default:d(n,"Max buffer length exceeded: "+l[t])}r=Math.max(r,u)}f=i.MAX_BUFFER_LENGTH-r;n.bufferCheckPosition=f+n.position}function pt(n){for(var t=0,i=l.length;t<i;t++)n[l[t]]=""}function wt(n){w(n);""!==n.cdata&&(e(n,"oncdata",n.cdata),n.cdata="");""!==n.script&&(e(n,"onscript",n.script),n.script="")}function bt(n,t){return new s(n,t)}function s(n,t){if(!(this instanceof s))return new s(n,t);b.apply(this);this._parser=new h(n,t);this.writable=!0;this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")};this._parser.onerror=function(n){i.emit("error",n);i._parser.error=null};this._decoder=null;it.forEach(function(n){Object.defineProperty(i,"on"+n,{get:function(){return i._parser["on"+n]},set:function(t){if(!t)return i.removeAllListeners(n),i._parser["on"+n]=t,t;i.on(n,t)},enumerable:!0,configurable:!1})})}function y(n){return n.split("").reduce(function(n,t){return n[t]=!0,n},{})}function kt(n){return"[object RegExp]"===Object.prototype.toString.call(n)}function f(n,t){return kt(n)?!!t.match(n):n[t]}function a(n,t){return!f(n,t)}function p(n,t,i){n[t]&&n[t](i)}function e(n,t,i){n.textNode&&w(n);p(n,t,i)}function w(n){n.textNode=st(n.opt,n.textNode);n.textNode&&p(n,"ontext",n.textNode);n.textNode=""}function st(n,t){return n.trim&&(t=t.trim()),n.normalize&&(t=t.replace(/\s+/g," ")),t}function d(n,t){return w(n),n.trackPosition&&(t+="\nLine: "+n.line+"\nColumn: "+n.column+"\nChar: "+n.c),t=new Error(t),n.error=t,p(n,"onerror",t),n}function ht(n){return n.sawRoot&&!n.closedRoot&&u(n,"Unclosed root tag"),n.state!==r.BEGIN&&n.state!==r.BEGIN_WHITESPACE&&n.state!==r.TEXT&&d(n,"Unexpected end"),w(n),n.c="",n.closed=!0,p(n,"onend"),h.call(n,n.strict,n.opt),n}function u(n,t){if("object"!=typeof n||!(n instanceof h))throw new Error("bad call to strictFail");n.strict&&d(n,t)}function dt(n){n.strict||(n.tagName=n.tagName[n.looseCase]());var i=n.tags[n.tags.length-1]||n,t=n.tag={name:n.tagName,attributes:{}};n.opt.xmlns&&(t.ns=i.ns);n.attribList.length=0;e(n,"onopentagstart",t)}function g(n,t){var f=n.indexOf(":"),i=f<0?["",n]:n.split(":"),r=i[0],u=i[1];return t&&"xmlns"===n&&(r="xmlns",u=""),{prefix:r,local:u}}function nt(n){var t,r;if(n.strict||(n.attribName=n.attribName[n.looseCase]()),-1!==n.attribList.indexOf(n.attribName)||n.tag.attributes.hasOwnProperty(n.attribName))return void(n.attribName=n.attribValue="");if(n.opt.xmlns){var f=g(n.attribName,!0),o=f.prefix,i=f.local;"xmlns"===o&&("xml"===i&&n.attribValue!==ut?u(n,"xml: prefix must be bound to "+ut+"\nActual: "+n.attribValue):"xmlns"===i&&n.attribValue!==ft?u(n,"xmlns: prefix must be bound to "+ft+"\nActual: "+n.attribValue):(t=n.tag,r=n.tags[n.tags.length-1]||n,t.ns===r.ns&&(t.ns=Object.create(r.ns)),t.ns[i]=n.attribValue));n.attribList.push([n.attribName,n.attribValue])}else n.tag.attributes[n.attribName]=n.attribValue,e(n,"onattribute",{name:n.attribName,value:n.attribValue});n.attribName=n.attribValue=""}function c(n,t){var i,o,l,s,a;if(n.opt.xmlns){for(i=n.tag,o=g(n.tagName),i.prefix=o.prefix,i.local=o.local,i.uri=i.ns[o.prefix]||"",i.prefix&&!i.uri&&(u(n,"Unbound namespace prefix: "+JSON.stringify(n.tagName)),i.uri=o.prefix),l=n.tags[n.tags.length-1]||n,i.ns&&l.ns!==i.ns&&Object.keys(i.ns).forEach(function(t){e(n,"onopennamespace",{prefix:t,uri:i.ns[t]})}),s=0,a=n.attribList.length;s<a;s++){var v=n.attribList[s],h=v[0],w=v[1],y=g(h,!0),f=y.prefix,b=y.local,p=""===f?"":i.ns[f]||"",c={name:h,value:w,prefix:f,local:b,uri:p};f&&"xmlns"!==f&&!p&&(u(n,"Unbound namespace prefix: "+JSON.stringify(f)),c.uri=f);n.tag.attributes[h]=c;e(n,"onattribute",c)}n.attribList.length=0}n.tag.isSelfClosing=!!t;n.sawRoot=!0;n.tags.push(n.tag);e(n,"onopentag",n.tag);t||(n.state=n.noscript||"script"!==n.tagName.toLowerCase()?r.TEXT:r.SCRIPT,n.tag=null,n.tagName="");n.attribName=n.attribValue="";n.attribList.length=0}function tt(n){var t,f,s,h,i,c,o,l;if(!n.tagName)return u(n,"Weird empty close tag."),n.textNode+="<\/>",void(n.state=r.TEXT);if(n.script){if("script"!==n.tagName)return n.script+="<\/"+n.tagName+">",n.tagName="",void(n.state=r.SCRIPT);e(n,"onscript",n.script);n.script=""}for(t=n.tags.length,f=n.tagName,n.strict||(f=f[n.looseCase]()),s=f;t--;){if(n.tags[t].name===s)break;u(n,"Unexpected close tag")}if(t<0)return u(n,"Unmatched closing tag: "+n.tagName),n.textNode+="<\/"+n.tagName+">",void(n.state=r.TEXT);for(n.tagName=f,h=n.tags.length;h-->t;){i=n.tag=n.tags.pop();n.tagName=n.tag.name;e(n,"onclosetag",n.tagName);c={};for(o in i.ns)c[o]=i.ns[o];l=n.tags[n.tags.length-1]||n;n.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach(function(t){var r=i.ns[t];e(n,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(n.closedRoot=!0);n.tagName=n.attribValue=n.attribName="";n.attribList.length=0;n.state=r.TEXT}function gt(n){var i,t=n.entity,r=t.toLowerCase(),f="";return n.ENTITIES[t]?n.ENTITIES[t]:n.ENTITIES[r]?n.ENTITIES[r]:(t=r,"#"===t.charAt(0)&&("x"===t.charAt(1)?(t=t.slice(2),i=parseInt(t,16),f=i.toString(16)):(t=t.slice(1),i=parseInt(t,10),f=i.toString(10))),t=t.replace(/^0+/,""),f.toLowerCase()!==t?(u(n,"Invalid character entity"),"&"+n.entity+";"):String.fromCodePoint(i))}function ct(n,t){"<"===t?(n.state=r.OPEN_WAKA,n.startTagPosition=n.position):a(o,t)&&(u(n,"Non-whitespace before first tag."),n.textNode=t,n.state=r.TEXT)}function lt(n,t){var i="";return t<n.length&&(i=n.charAt(t)),i}function ni(n){var t=this,s,i,y,p,h,l;if(this.error)throw this.error;if(t.closed)return d(t,"Cannot write after close. Assign an onready handler.");if(null===n)return ht(t);for("object"==typeof n&&(n=n.toString()),s=0,i="";;){if(i=lt(n,s++),t.c=i,!i)break;switch(t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++),t.state){case r.BEGIN:if(t.state=r.BEGIN_WHITESPACE,"﻿"===i)continue;ct(t,i);continue;case r.BEGIN_WHITESPACE:ct(t,i);continue;case r.TEXT:if(t.sawRoot&&!t.closedRoot){for(y=s-1;i&&"<"!==i&&"&"!==i;)(i=lt(n,s++))&&t.trackPosition&&(t.position++,"\n"===i?(t.line++,t.column=0):t.column++);t.textNode+=n.substring(y,s-1)}"<"!==i||t.sawRoot&&t.closedRoot&&!t.strict?(!a(o,i)||t.sawRoot&&!t.closedRoot||u(t,"Text data outside of root node."),"&"===i?t.state=r.TEXT_ENTITY:t.textNode+=i):(t.state=r.OPEN_WAKA,t.startTagPosition=t.position);continue;case r.SCRIPT:"<"===i?t.state=r.SCRIPT_ENDING:t.script+=i;continue;case r.SCRIPT_ENDING:"/"===i?t.state=r.CLOSE_TAG:(t.script+="<"+i,t.state=r.SCRIPT);continue;case r.OPEN_WAKA:"!"===i?(t.state=r.SGML_DECL,t.sgmlDecl=""):f(o,i)||(f(k,i)?(t.state=r.OPEN_TAG,t.tagName=i):"/"===i?(t.state=r.CLOSE_TAG,t.tagName=""):"?"===i?(t.state=r.PROC_INST,t.procInstName=t.procInstBody=""):((u(t,"Unencoded <"),t.startTagPosition+1<t.position)&&(p=t.position-t.startTagPosition,i=new Array(p).join(" ")+i),t.textNode+="<"+i,t.state=r.TEXT));continue;case r.SGML_DECL:(t.sgmlDecl+i).toUpperCase()===ti?(e(t,"onopencdata"),t.state=r.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+i==="--"?(t.state=r.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+i).toUpperCase()===ii?(t.state=r.DOCTYPE,(t.doctype||t.sawRoot)&&u(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===i?(e(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=r.TEXT):f(v,i)?(t.state=r.SGML_DECL_QUOTED,t.sgmlDecl+=i):t.sgmlDecl+=i;continue;case r.SGML_DECL_QUOTED:i===t.q&&(t.state=r.SGML_DECL,t.q="");t.sgmlDecl+=i;continue;case r.DOCTYPE:">"===i?(t.state=r.TEXT,e(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=i,"["===i?t.state=r.DOCTYPE_DTD:f(v,i)&&(t.state=r.DOCTYPE_QUOTED,t.q=i));continue;case r.DOCTYPE_QUOTED:t.doctype+=i;i===t.q&&(t.q="",t.state=r.DOCTYPE);continue;case r.DOCTYPE_DTD:t.doctype+=i;"]"===i?t.state=r.DOCTYPE:f(v,i)&&(t.state=r.DOCTYPE_DTD_QUOTED,t.q=i);continue;case r.DOCTYPE_DTD_QUOTED:t.doctype+=i;i===t.q&&(t.state=r.DOCTYPE_DTD,t.q="");continue;case r.COMMENT:"-"===i?t.state=r.COMMENT_ENDING:t.comment+=i;continue;case r.COMMENT_ENDING:"-"===i?(t.state=r.COMMENT_ENDED,t.comment=st(t.opt,t.comment),t.comment&&e(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+i,t.state=r.COMMENT);continue;case r.COMMENT_ENDED:">"!==i?(u(t,"Malformed comment"),t.comment+="--"+i,t.state=r.COMMENT):t.state=r.TEXT;continue;case r.CDATA:"]"===i?t.state=r.CDATA_ENDING:t.cdata+=i;continue;case r.CDATA_ENDING:"]"===i?t.state=r.CDATA_ENDING_2:(t.cdata+="]"+i,t.state=r.CDATA);continue;case r.CDATA_ENDING_2:">"===i?(t.cdata&&e(t,"oncdata",t.cdata),e(t,"onclosecdata"),t.cdata="",t.state=r.TEXT):"]"===i?t.cdata+="]":(t.cdata+="]]"+i,t.state=r.CDATA);continue;case r.PROC_INST:"?"===i?t.state=r.PROC_INST_ENDING:f(o,i)?t.state=r.PROC_INST_BODY:t.procInstName+=i;continue;case r.PROC_INST_BODY:if(!t.procInstBody&&f(o,i))continue;"?"===i?t.state=r.PROC_INST_ENDING:t.procInstBody+=i;continue;case r.PROC_INST_ENDING:">"===i?(e(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=r.TEXT):(t.procInstBody+="?"+i,t.state=r.PROC_INST_BODY);continue;case r.OPEN_TAG:f(et,i)?t.tagName+=i:(dt(t),">"===i?c(t):"/"===i?t.state=r.OPEN_TAG_SLASH:(a(o,i)&&u(t,"Invalid character in tag name"),t.state=r.ATTRIB));continue;case r.OPEN_TAG_SLASH:">"===i?(c(t,!0),tt(t)):(u(t,"Forward-slash in opening tag not followed by >"),t.state=r.ATTRIB);continue;case r.ATTRIB:if(f(o,i))continue;">"===i?c(t):"/"===i?t.state=r.OPEN_TAG_SLASH:f(k,i)?(t.attribName=i,t.attribValue="",t.state=r.ATTRIB_NAME):u(t,"Invalid attribute name");continue;case r.ATTRIB_NAME:"="===i?t.state=r.ATTRIB_VALUE:">"===i?(u(t,"Attribute without value"),t.attribValue=t.attribName,nt(t),c(t)):f(o,i)?t.state=r.ATTRIB_NAME_SAW_WHITE:f(et,i)?t.attribName+=i:u(t,"Invalid attribute name");continue;case r.ATTRIB_NAME_SAW_WHITE:if("="===i)t.state=r.ATTRIB_VALUE;else{if(f(o,i))continue;u(t,"Attribute without value");t.tag.attributes[t.attribName]="";t.attribValue="";e(t,"onattribute",{name:t.attribName,value:""});t.attribName="";">"===i?c(t):f(k,i)?(t.attribName=i,t.state=r.ATTRIB_NAME):(u(t,"Invalid attribute name"),t.state=r.ATTRIB)}continue;case r.ATTRIB_VALUE:if(f(o,i))continue;f(v,i)?(t.q=i,t.state=r.ATTRIB_VALUE_QUOTED):(u(t,"Unquoted attribute value"),t.state=r.ATTRIB_VALUE_UNQUOTED,t.attribValue=i);continue;case r.ATTRIB_VALUE_QUOTED:if(i!==t.q){"&"===i?t.state=r.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=i;continue}nt(t);t.q="";t.state=r.ATTRIB_VALUE_CLOSED;continue;case r.ATTRIB_VALUE_CLOSED:f(o,i)?t.state=r.ATTRIB:">"===i?c(t):"/"===i?t.state=r.OPEN_TAG_SLASH:f(k,i)?(u(t,"No whitespace between attributes"),t.attribName=i,t.attribValue="",t.state=r.ATTRIB_NAME):u(t,"Invalid attribute name");continue;case r.ATTRIB_VALUE_UNQUOTED:if(a(rt,i)){"&"===i?t.state=r.ATTRIB_VALUE_ENTITY_U:t.attribValue+=i;continue}nt(t);">"===i?c(t):t.state=r.ATTRIB;continue;case r.CLOSE_TAG:if(t.tagName)">"===i?tt(t):f(et,i)?t.tagName+=i:t.script?(t.script+="<\/"+t.tagName,t.tagName="",t.state=r.SCRIPT):(a(o,i)&&u(t,"Invalid tagname in closing tag"),t.state=r.CLOSE_TAG_SAW_WHITE);else{if(f(o,i))continue;a(k,i)?t.script?(t.script+="<\/"+i,t.state=r.SCRIPT):u(t,"Invalid tagname in closing tag."):t.tagName=i}continue;case r.CLOSE_TAG_SAW_WHITE:if(f(o,i))continue;">"===i?tt(t):u(t,"Invalid characters in closing tag");continue;case r.TEXT_ENTITY:case r.ATTRIB_VALUE_ENTITY_Q:case r.ATTRIB_VALUE_ENTITY_U:switch(t.state){case r.TEXT_ENTITY:h=r.TEXT;l="textNode";break;case r.ATTRIB_VALUE_ENTITY_Q:h=r.ATTRIB_VALUE_QUOTED;l="attribValue";break;case r.ATTRIB_VALUE_ENTITY_U:h=r.ATTRIB_VALUE_UNQUOTED;l="attribValue"}";"===i?(t[l]+=gt(t),t.entity="",t.state=h):f(t.entity.length?fi:ui,i)?t.entity+=i:(u(t,"Invalid character in entity name"),t[l]+="&"+t.entity+i,t.entity="",t.state=h);continue;default:throw new Error(t,"Unknown state: "+t.state);}}return t.position>=t.bufferCheckPosition&&yt(t),t}var l,b,it,r,ot;i.parser=function(n,t){return new h(n,t)};i.SAXParser=h;i.SAXStream=s;i.createStream=bt;i.MAX_BUFFER_LENGTH=65536;l=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];Object.create||(Object.create=function(n){function t(){}return t.prototype=n,new t});Object.keys||(Object.keys=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t});h.prototype={end:function(){ht(this)},write:ni,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){wt(this)}};try{b=n(35).Stream}catch(ei){b=function(){}}it=i.EVENTS.filter(function(n){return"error"!==n&&"end"!==n});s.prototype=Object.create(b.prototype,{constructor:{value:s}});s.prototype.write=function(i){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(i)){if(!this._decoder){var r=n(36).StringDecoder;this._decoder=new r("utf8")}i=this._decoder.write(i)}return this._parser.write(i.toString()),this.emit("data",i),!0};s.prototype.end=function(n){return n&&n.length&&this.write(n),this._parser.end(),!0};s.prototype.on=function(n,t){var i=this;return i._parser["on"+n]||-1===it.indexOf(n)||(i._parser["on"+n]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,n);i.emit.apply(i,t)}),b.prototype.on.call(i,n,t)};var o="\r\n\t ",at="0124356789",vt="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",v="'\"",rt=o+">",ti="[CDATA[",ii="DOCTYPE",ut="http://www.w3.org/XML/1998/namespace",ft="http://www.w3.org/2000/xmlns/",ri={xml:ut,xmlns:ft};o=y(o);at=y(at);vt=y(vt);var k=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,et=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,ui=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,fi=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;v=y(v);rt=y(rt);r=0;i.STATE={BEGIN:r++,BEGIN_WHITESPACE:r++,TEXT:r++,TEXT_ENTITY:r++,OPEN_WAKA:r++,SGML_DECL:r++,SGML_DECL_QUOTED:r++,DOCTYPE:r++,DOCTYPE_QUOTED:r++,DOCTYPE_DTD:r++,DOCTYPE_DTD_QUOTED:r++,COMMENT_STARTING:r++,COMMENT:r++,COMMENT_ENDING:r++,COMMENT_ENDED:r++,CDATA:r++,CDATA_ENDING:r++,CDATA_ENDING_2:r++,PROC_INST:r++,PROC_INST_BODY:r++,PROC_INST_ENDING:r++,OPEN_TAG:r++,OPEN_TAG_SLASH:r++,ATTRIB:r++,ATTRIB_NAME:r++,ATTRIB_NAME_SAW_WHITE:r++,ATTRIB_VALUE:r++,ATTRIB_VALUE_QUOTED:r++,ATTRIB_VALUE_CLOSED:r++,ATTRIB_VALUE_UNQUOTED:r++,ATTRIB_VALUE_ENTITY_Q:r++,ATTRIB_VALUE_ENTITY_U:r++,CLOSE_TAG:r++,CLOSE_TAG_SAW_WHITE:r++,SCRIPT:r++,SCRIPT_ENDING:r++};i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(i.ENTITIES).forEach(function(n){var t=i.ENTITIES[n],r="number"==typeof t?String.fromCharCode(t):t;i.ENTITIES[n]=r});for(ot in i.STATE)i.STATE[i.STATE[ot]]=ot;r=i.STATE;String.fromCodePoint||function(){var t=String.fromCharCode,i=Math.floor,n=function(){var o,s,r=[],u=-1,f=arguments.length,e,n;if(!f)return"";for(e="";++u<f;){if(n=Number(arguments[u]),!isFinite(n)||n<0||n>1114111||i(n)!==n)throw RangeError("Invalid code point: "+n);n<=65535?r.push(n):(n-=65536,o=55296+(n>>10),s=n%1024+56320,r.push(o,s));(u+1===f||r.length>16384)&&(e+=t.apply(null,r),r.length=0)}return e};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(void 0===i?this.sax={}:i)}).call(this,n(10).Buffer)},{10:10,35:35,36:36}],46:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(){function p(){e=!0;o=!0;t=u;v=(new Date).getTime();"undefined"!=typeof window&&window.console&&(n[h]=i(window.console.error),n[c]=i(window.console.error),n[u]=i(window.console.warn),n[l]=i(window.console.info),n[f]=i(window.console.debug))}function i(n){return n&&n.bind?n.bind(window.console):window.console.log.bind(window.console)}function b(n){return{fatal:rt.bind(n),error:ut.bind(n),warn:ft.bind(n),info:et.bind(n),debug:ot.bind(n)}}function k(n){t=n}function d(){return t}function g(n){e=n}function nt(n){o=n}function tt(n){t=n?f:s}function it(){return t!==s}function rt(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(void 0,[h,this].concat(i))}function ut(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(void 0,[c,this].concat(i))}function ft(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(void 0,[u,this].concat(i))}function et(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(void 0,[l,this].concat(i))}function ot(){for(var t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(void 0,[f,this].concat(i))}function r(i,r){var u="",h=null;e&&(h=(new Date).getTime(),u+="["+(h-v)+"]");o&&r&&r.getClassName&&(u+="["+r.getClassName()+"]",r.getType&&(u+="["+r.getType()+"]"));u.length>0&&(u+=" ");for(var s=arguments.length,c=Array(s>2?s-2:0),f=2;f<s;f++)c[f-2]=arguments[f];Array.apply(null,c).forEach(function(n){u+=n+" "});n[i]&&t>=i&&n[i](u);ht.trigger(w.default.LOG,{message:u,level:i})}var st=this.context,ht=y.default(st).getInstance(),n=[],a=void 0,e=void 0,o=void 0,v=void 0,t=void 0;return a={getLogger:b,setLogTimestampVisible:g,setCalleeNameVisible:nt,setLogToBrowserConsole:tt,getLogToBrowserConsole:it,setLogLevel:k,getLogLevel:d},p(),a}var r;Object.defineProperty(i,"__esModule",{value:!0});var v=n(47),y=e(v),p=n(53),w=e(p),b=n(48),a=e(b),s=0,h=1,c=2,u=3,l=4,f=5;o.__dashjs_factory_name="Debug";r=a.default.getSingletonFactory(o);r.LOG_LEVEL_NONE=s;r.LOG_LEVEL_FATAL=h;r.LOG_LEVEL_ERROR=c;r.LOG_LEVEL_WARNING=u;r.LOG_LEVEL_INFO=l;r.LOG_LEVEL_DEBUG=f;a.default.updateSingletonFactory(o.__dashjs_factory_name,r);i.default=r;t.exports=i.default},{47:47,48:48,53:53}],47:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function u(){function i(i,r,u){var o=arguments.length<=3||void 0===arguments[3]?e:arguments[3],f;if(!i)throw new Error("event type cannot be null or undefined");if(!r||"function"!=typeof r)throw new Error("listener must be a function: "+r);t(i,r,u)>=0||(n[i]=n[i]||[],f={callback:r,scope:u,priority:o},n[i].some(function(t,r){if(t&&o>t.priority)return n[i].splice(r,0,f),!0})||n[i].push(f))}function r(i,r,u){if(i&&r&&n[i]){var f=t(i,r,u);f<0||(n[i][f]=null)}}function u(t,i){if(t&&n[t]){if(i=i||{},i.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");i.type=t;n[t]=n[t].filter(function(n){return n});n[t].forEach(function(n){return n&&n.callback.call(n.scope,i)})}}function t(t,i,r){var u=-1;return n[t]?(n[t].some(function(n,t){if(n&&n.callback===i&&(!r||r===n.scope))return u=t,!0}),u):u}function f(){n={}}var n={};return{on:i,off:r,trigger:u,reset:f}}var r;Object.defineProperty(i,"__esModule",{value:!0});var s=n(48),f=o(s),e=0;u.__dashjs_factory_name="EventBus";r=f.default.getSingletonFactory(u);r.EVENT_PRIORITY_LOW=e;r.EVENT_PRIORITY_HIGH=5e3;f.default.updateSingletonFactory(u.__dashjs_factory_name,r);i.default=r;t.exports=i.default},{48:48}],48:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function s(n,t,i,r){!r[n]&&t&&(r[n]={instance:t,override:i})}function f(t,i){var u,r;for(u in n)if(r=n[u],r.context===t&&r.name===i)return r.instance;return null}function h(t,i,r){var u,f;for(u in n)if(f=n[u],f.context===t&&f.name===i)return void(n[u].instance=r);n.push({name:i,context:t,instance:r})}function t(n,t){return t[n]}function e(n,t,i){n in i&&(i[n]=t)}function c(n,t){e(n,t,r)}function l(n){return t(n,r)}function a(n){var i=t(n.__dashjs_factory_name,r);return i||(i=function(t){return void 0===t&&(t={}),{create:function(){return o(n,t,arguments)}}},r[n.__dashjs_factory_name]=i),i}function v(n,t){e(n,t,i)}function y(n){return t(n,i)}function p(r){var u=t(r.__dashjs_factory_name,i);return u||(u=function(t){var i=void 0;return void 0===t&&(t={}),{getInstance:function(){return i||(i=f(t,r.__dashjs_factory_name)),i||(i=o(r,t,arguments),n.push({name:r.__dashjs_factory_name,context:t,instance:i})),i}}},i[r.__dashjs_factory_name]=u),u}function o(n,t,i){var r=void 0,s=n.__dashjs_factory_name,o=t[s],f,e;if(o){if(f=o.instance,!o.override)return f.apply({context:t,factory:u},i);r=n.apply({context:t},i);f=f.apply({context:t,factory:u,parent:r},i);for(e in f)r.hasOwnProperty(e)&&(r[e]=f[e])}else r=n.apply({context:t},i);return r.getClassName=function(){return s},r}var u=void 0,n=[],i={},r={};return u={extend:s,getSingletonInstance:f,setSingletonInstance:h,getSingletonFactory:p,getSingletonFactoryByName:y,updateSingletonFactory:v,getClassFactory:a,getClassFactoryByName:l,updateClassFactory:c}}();i.default=r;t.exports=i.default},{}],49:[function(n,t,i){"use strict";function r(){return u}Object.defineProperty(i,"__esModule",{value:!0});i.getVersionString=r;var u="2.9.3"},{}],50:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(51),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10;this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11;this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12;this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13;this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14;this.SEGMENT_BASE_LOADER_ERROR_CODE=15;this.TIME_SYNC_FAILED_ERROR_CODE=16;this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17;this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18;this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19;this.APPEND_ERROR_CODE=20;this.REMOVE_ERROR_CODE=21;this.DATA_UPDATE_FAILED_ERROR_CODE=22;this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23;this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24;this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25;this.DOWNLOAD_ERROR_ID_MANIFEST="manifest";this.DOWNLOAD_ERROR_ID_SIDX_CODE=26;this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27;this.DOWNLOAD_ERROR_ID_CONTENT="content";this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28;this.DOWNLOAD_ERROR_ID_INITIALIZATION="initialization";this.DOWNLOAD_ERROR_ID_XLINK_CODE=29;this.DOWNLOAD_ERROR_ID_XLINK="xlink";this.MANIFEST_ERROR_ID_CODEC_CODE=30;this.MANIFEST_ERROR_ID_PARSE_CODE=31;this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32;this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33;this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34;this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35;this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ";this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ";this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ";this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed";this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet";this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments";this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time";this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null";this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL";this.APPEND_ERROR_MESSAGE="chunk is not defined";this.REMOVE_ERROR_MESSAGE="buffer is not defined";this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed";this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported";this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported";this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :";this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{51:51}],51:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n)}return u(n,[{key:"extend",value:function(n,t){var r,u,i;if(n){r=!!t&&t.override;u=!!t&&t.publicOnly;for(i in n)!n.hasOwnProperty(i)||this[i]&&!r||u&&-1===n[i].indexOf("public_")||(this[i]=n[i])}}}]),n}();i.default=f;t.exports=i.default},{}],52:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(54),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.BUFFERING_COMPLETED="bufferingCompleted";this.BUFFER_CLEARED="bufferCleared";this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated";this.BYTES_APPENDED="bytesAppended";this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment";this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted";this.CURRENT_TRACK_CHANGED="currentTrackChanged";this.DATA_UPDATE_COMPLETED="dataUpdateCompleted";this.DATA_UPDATE_STARTED="dataUpdateStarted";this.INITIALIZATION_LOADED="initializationLoaded";this.INIT_FRAGMENT_LOADED="initFragmentLoaded";this.INIT_REQUESTED="initRequested";this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded";this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted";this.LOADING_COMPLETED="loadingCompleted";this.LOADING_PROGRESS="loadingProgress";this.LOADING_DATA_PROGRESS="loadingDataProgress";this.LOADING_ABANDONED="loadingAborted";this.MANIFEST_UPDATED="manifestUpdated";this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded";this.QUOTA_EXCEEDED="quotaExceeded";this.REPRESENTATION_UPDATED="representationUpdated";this.SEGMENTS_LOADED="segmentsLoaded";this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd";this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged";this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted";this.STREAMS_COMPOSED="streamsComposed";this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted";this.STREAM_COMPLETED="streamCompleted";this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized";this.TIMED_TEXT_REQUESTED="timedTextRequested";this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete";this.URL_RESOLUTION_FAILED="urlResolutionFailed";this.VIDEO_CHUNK_RECEIVED="videoChunkReceived";this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated";this.XLINK_ELEMENT_LOADED="xlinkElementLoaded";this.XLINK_READY="xlinkReady"}return f(t,n),t}(s.default);i.default=h;t.exports=i.default},{54:54}],53:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(52),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{52:52}],54:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n)}return u(n,[{key:"extend",value:function(n,t){var r,u,i;if(n){r=!!t&&t.override;u=!!t&&t.publicOnly;for(i in n)!n.hasOwnProperty(i)||this[i]&&!r||u&&-1===n[i].indexOf("public_")||(this[i]=n[i])}}}]),n}();i.default=f;t.exports=i.default},{}],55:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function ft(){rt()}function et(t){t&&t.dashManifestModel&&(n=t.dashManifestModel)}function w(n,t){return t&&n?t.getRepresentationForQuality(n.quality):null}function v(n){return n&&n.streamInfo&&void 0!==n.streamInfo.id&&i[n.streamInfo.id]?i[n.streamInfo.id][n.index]:null}function l(n,t){for(var r,u=t.length,i=0;i<u;i++)if(r=t[i],n.id===r.id)return r;return null}function k(t){var i=new e.default,r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],u=n.getRepresentationFor(t.index,r);return i.id=t.id,i.quality=t.index,i.bandwidth=n.getBandwidth(u),i.DVRWindow=t.segmentAvailabilityRange,i.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),i.MSETimeOffset=t.MSETimeOffset,i.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,i.mediaInfo=c(t.adaptation),i}function c(t){var i=new o.default,r=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index],u=void 0;return i.id=t.id,i.index=t.index,i.type=t.type,i.streamInfo=g(t.period),i.representationCount=n.getRepresentationCount(r),i.labels=n.getLabelsForAdaptation(r),i.lang=n.getLanguageForAdaptation(r),u=n.getViewpointForAdaptation(r),i.viewpoint=u?u.value:void 0,i.accessibility=n.getAccessibilityForAdaptation(r).map(function(n){var t=n.value,r=t;return n.schemeIdUri&&n.schemeIdUri.search("cea-608")>=0&&void 0!==it.default&&(r=t?"cea-608:"+t:"cea-608",i.embeddedCaptions=!0),r}),i.audioChannelConfiguration=n.getAudioChannelConfigurationForAdaptation(r).map(function(n){return n.value}),i.roles=n.getRolesForAdaptation(r).map(function(n){return n.value}),i.codec=n.getCodec(r),i.mimeType=n.getMimeType(r),i.contentProtection=n.getContentProtectionData(r),i.bitrateList=n.getBitrateListForAdaptation(r),i.contentProtection&&i.contentProtection.forEach(function(t){t.KID=n.getKID(t)}),i.isText=n.getIsTextTrack(i.mimeType),i}function y(n,t,i){n.id=t;n.index=100+parseInt(t.substring(2,3));n.type=u.default.EMBEDDED_TEXT;n.codec="cea-608-in-SEI";n.isText=!0;n.isEmbedded=!0;n.lang=i;n.roles=["caption"]}function ot(n){n.type=u.default.IMAGE}function g(n){var t=new s.default;return t.id=n.id,t.index=n.index,t.start=n.start,t.duration=n.duration,t.manifestInfo=st(n.mpd),t.isLast=1===n.mpd.manifest.Period_asArray.length||Math.abs(t.start+t.duration-t.manifestInfo.duration)<1,t}function st(t){var i=new b.default;return i.DVRWindowSize=t.timeShiftBufferDepth,i.loadedTime=t.manifest.loadedTime,i.availableFrom=t.availabilityStartTime,i.minBufferTime=t.manifest.minBufferTime,i.maxFragmentDuration=t.maxSegmentDuration,i.duration=n.getDuration(t.manifest),i.isDynamic=n.getIsDynamic(t.manifest),i}function ht(r,u){var f,e;if(0===t.length||(f=t[0].mpd.manifest,e=nt(f,r.index,u,r),!e))return null;var s=l(r,t),o=s.id,h=n.getIndexForAdaptation(e,f,r.index);return i[o]=i[o]||n.getAdaptationsForPeriod(s),c(i[o][h])}function ct(t){return n.getRolesForAdaptation(t).filter(function(n){return n.value===a.default.MAIN})[0]}function nt(t,i,u,f){var o=n.getAdaptationsForType(t,i,u),h,e,s;if(!o||0===o.length)return null;if(o.length>1&&f){if(h=tt(f,u),r[f.id]&&r[f.id][u])for(e=0,s=o.length;e<s;e++)if(r[f.id][u].isMediaInfoEqual(h[e]))return o[e];for(e=0,s=o.length;e<s;e++)if(ct(o[e]))return o[e]}return o[0]}function tt(r,f,e){var nt=t,v=e,h=[],tt=void 0,o=void 0,b=void 0,k=void 0,s=void 0,it=void 0,rt,ft,d,et,a;if(v)p(),rt=n.getMpd(v),nt=n.getRegularPeriods(rt);else{if(!(t.length>0))return h;v=t[0].mpd.manifest}var ut=l(r,nt),w=ut.id,g=n.getAdaptationsForType(v,r.index,f!==u.default.EMBEDDED_TEXT?f:u.default.VIDEO);if(!g)return h;for(i[w]=i[w]||n.getAdaptationsForPeriod(ut),k=0,it=g.length;k<it;k++)if(tt=g[k],b=n.getIndexForAdaptation(tt,v,r.index),o=c(i[w][b]),f===u.default.EMBEDDED_TEXT){for(ft=o.accessibility.length,s=0;s<ft;s++)if(o)if(d=o.accessibility[s],0===d.indexOf("cea-608:"))if(et=d.substring(8),a=et.split(";"),"CC"===a[0].substring(0,2))for(s=0;s<a.length;s++)o||(o=c.call(this,i[w][b])),y(o,a[s].substring(0,3),a[s].substring(4)),h.push(o),o=null;else for(s=0;s<a.length;s++)o||(o=c.call(this,i[w][b])),y(o,"CC"+(s+1),a[s]),h.push(o),o=null;else 0===d.indexOf("cea-608")&&(y(o,u.default.CC1,"eng"),h.push(o),o=null)}else f===u.default.IMAGE?(ot(o),h.push(o),o=null):o&&h.push(o);return h}function p(){if(!n||!n.hasOwnProperty("getMpd")||!n.hasOwnProperty("getRegularPeriods"))throw new Error("setConfig function has to be called previously");}function lt(r){if(!r)return null;p();var u=n.getMpd(r);t=n.getRegularPeriods(u);i={}}function at(i,r){var e=[],f=t,o,u;for(i&&(p(),o=n.getMpd(i),f=n.getRegularPeriods(o)),r||(r=f.length),u=0;u<r;u++)e.push(g(f[u]));return e}function f(n){if(!(n&&n.hasOwnProperty("getRepresentationController")&&n.hasOwnProperty("getIndexHandler")&&n.hasOwnProperty("getMediaInfo")&&n.hasOwnProperty("getType")&&n.hasOwnProperty("getStreamInfo")))throw new Error("streamProcessor parameter is missing or malformed!");}function vt(n){if(!n||!n.hasOwnProperty("getRepresentationForQuality")||!n.hasOwnProperty("getCurrentRepresentation"))throw new Error("representationController parameter is missing or malformed!");}function yt(n,t){var i=void 0,u=void 0,r=void 0;return f(n),h.checkInteger(t),i=n.getRepresentationController(),r=n.getIndexHandler(),u=i?i.getRepresentationForQuality(t):null,r?r.getInitRequest(u):null}function pt(n,t,i,r){var o=void 0,e=void 0,u=void 0,s=null;return f(n),o=n.getRepresentationController(),e=w(t,o),u=n.getIndexHandler(),u&&(s=void 0!==i&&void 0!==r?u.getSegmentRequestForTime(e,i,r):u.getNextSegmentRequest(e)),s}function wt(n){f(n);var t=n.getIndexHandler();return t?t.getCurrentTime():NaN}function bt(n,t){f(n);var i=n.getIndexHandler();i&&i.setCurrentTime(t)}function kt(n){f(n);var t=n.getIndexHandler();t&&t.resetIndex()}function dt(i){f(i);var e=l(i.getStreamInfo(),t),r=i.getMediaInfo(),s=v(r),h=i.getType(),u=void 0,o=void 0;u=r?r.id:null;t.length>0&&(o=u?n.getAdaptationForId(u,t[0].mpd.manifest,e.index):n.getAdaptationForIndex(r.index,t[0].mpd.manifest,e.index),i.getRepresentationController().updateData(o,s,h))}function gt(n,t){vt(n);var i=void 0;return void 0!==t?(h.checkInteger(t),i=n.getRepresentationForQuality(t)):i=n.getCurrentRepresentation(),i?k(i):null}function ni(n,t,i){if(!n||!t)return null;var r=new d.default,f=n.scheme_id_uri,u=n.value,e=n.timescale,o=n.presentation_time_delta,s=n.event_duration,h=n.id,c=n.message_data,l=i*e+o;return t[f+"/"+u]?(r.eventStream=t[f+"/"+u],r.eventStream.value=u,r.eventStream.timescale=e,r.duration=s,r.id=h,r.presentationTime=l,r.messageData=c,r.presentationTimeDelta=o,r):null}function ti(i,r){var u=[],f;return 0===t.length?u:(f=t[0].mpd.manifest,i instanceof s.default?u=n.getEventsForPeriod(l(i,t)):i instanceof o.default?u=n.getEventStreamForAdaptationSet(f,v(i)):i instanceof e.default&&(u=n.getEventStreamForRepresentation(f,w(i,r.getRepresentationController()))),u)}function ii(n,t,i){r[n]=r[n]||{};r[n][t]=r[n][t]||{};r[n][t]=i}function rt(){t=[];i={};r={}}var ut=void 0,n=void 0,t=void 0,i=void 0,r=void 0;return ut={convertDataToRepresentationInfo:k,getDataForMedia:v,getStreamsInfo:at,getMediaInfoForType:ht,getAllMediaInfoForType:tt,getRepresentationInfo:gt,getAdaptationForType:nt,updateData:dt,getInitRequest:yt,getFragmentRequest:pt,getIndexHandlerTime:wt,setIndexHandlerTime:bt,getEventsFor:ti,getEvent:ni,setConfig:et,updatePeriods:lt,reset:rt,resetIndexHandler:kt,setCurrentMediaInfo:ii},ft(),ut}Object.defineProperty(i,"__esModule",{value:!0});var c=n(101),u=r(c),l=n(60),a=r(l),v=n(224),e=r(v),y=n(222),o=r(y),p=n(225),s=r(p),w=n(221),b=r(w),k=n(83),d=r(k),g=n(48),nt=r(g),tt=n(2),it=r(tt),h=n(208);f.__dashjs_factory_name="DashAdapter";i.default=nt.default.getSingletonFactory(f);t.exports=i.default},{101:101,2:2,208:208,221:221,222:222,224:224,225:225,48:48,60:60,83:83}],56:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function s(n){function ri(){i=ut.default(w).getInstance().getLogger(y);yt();d=ui(n.mimeType)?vt.default(w).getInstance():lt.default(w).getInstance();d.setConfig({baseURLController:ii,metricsModel:st,mediaPlayerModel:ti,errHandler:wi});a.on(f.default.INITIALIZATION_LOADED,gt,y);a.on(f.default.SEGMENTS_LOADED,ni,y)}function ui(n){return"webm"===n.split("/")[1].toLowerCase()}function fi(t){r=t;d.initialize();at=ht.default(w).create(n,s())}function p(){return r?r.getType():null}function s(){var n=r?r.getStreamInfo():null;return n?n.manifestInfo.isDynamic:null}function it(){return r?r.getMediaInfo():null}function ei(){return r}function oi(n){ct=n}function si(){return ct}function rt(){t=-1}function yt(){rt();ct=0;tt=null;r=null;at=null}function hi(){yt();a.off(f.default.INITIALIZATION_LOADED,gt,y);a.off(f.default.SEGMENTS_LOADED,ni,y)}function pt(n,t,i){var u=ii.resolve(i.path),r=void 0,f=void 0;return u&&t!==u.url&&ot.isRelative(t)?(r=u.url,f=u.serviceLocation,t&&(r=ot.resolve(t,r))):r=t,!ot.isRelative(r)&&(n.url=r,n.serviceLocation=f,!0)}function ci(n,t){var i=new e.default,r=n.adaptation.period,u=r.start,f=s();if(i.mediaType=t,i.type=c.HTTPRequest.INIT_SEGMENT_TYPE,i.range=n.range,i.availabilityStartTime=nt.calcAvailabilityStartTimeFromPresentationTime(u,r.mpd,f),i.availabilityEndTime=nt.calcAvailabilityEndTimeFromPresentationTime(u+r.duration,r.mpd,f),i.quality=n.index,i.mediaInfo=it(),i.representationId=n.id,pt(i,n.initialization,n))return i}function li(n){return n?ci(n,p()):null}function wt(n){var r=!1,c=s(),f,e,o;return c||t!==n.availableSegmentsNumber?(f=u.getSegmentByIndex(t,n),f?(e=parseFloat((f.presentationStartTime-n.adaptation.period.start).toFixed(5)),o=n.adaptation.period.duration,i.debug(n.segmentInfoType+": "+e+" / "+o),r=(n.segmentInfoType!==h.default.SEGMENT_TIMELINE||!c)&&e>=o):i.debug("isMediaFinished - no segment found")):r=!0,r}function k(n){at.getSegments(n,tt,t,bt)}function bt(n,t){if(n.segments=t,t&&t.length>0&&s()){var r=t[t.length-1],i=r.presentationStartTime,u=st.getMetricsFor(v.default.STREAM);nt.setExpectedLiveEdge(i);st.updateManifestUpdateInfo(pi.getCurrentManifestUpdate(u),{presentationStartTime:i})}}function ft(n){if(!n)throw new Error("no representation");n.segments=null;k(n)}function ai(n,t){var i=o.default.hasInitialization(n),r=o.default.hasSegments(n),u=void 0;if(n.segmentDuration||n.segments||ft(n),n.segmentAvailabilityRange=nt.calcSegmentAvailabilityRange(n,s()),n.segmentAvailabilityRange.end<n.segmentAvailabilityRange.start&&!n.useCalculatedLiveEdgeTime)return u=new b.default(l.default.SEGMENTS_UNAVAILABLE_ERROR_CODE,l.default.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:n.segmentAvailabilityRange.start-n.segmentAvailabilityRange.end}),void a.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:n,error:u});t||rt();n.segmentDuration&&ft(n);i||d.loadInitialization(n);r||d.loadSegments(n,p(),n.indexRange);i&&r&&a.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:n})}function kt(n,t,i){var r=t.segments,h=r?r.length:null,c=-1,e=void 0,u=void 0,o=void 0,s=void 0,f=void 0;if(r&&h>0)for(i=void 0===i||null===i?ti.getSegmentOverlapToleranceTime():i,f=0;f<h;f++)if(u=r[f],o=u.presentationStartTime,s=u.duration,e=void 0===i||null===i?s/2:i,n+e>=o&&n-e<o+s){c=u.availabilityIdx;break}return c}function dt(n){if(null===n||void 0===n)return null;var t=new e.default,r=n.representation,f=r.adaptation.period.mpd.manifest.Period_asArray[r.adaptation.period.index].AdaptationSet_asArray[r.adaptation.index].Representation_asArray[r.index].bandwidth,i=n.media;return i=u.replaceTokenForTemplate(i,"Number",n.replacementNumber),i=u.replaceTokenForTemplate(i,"Time",n.replacementTime),i=u.replaceTokenForTemplate(i,"Bandwidth",f),i=u.replaceIDForTemplate(i,r.id),i=u.unescapeDollarsInTemplate(i),t.mediaType=p(),t.type=c.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=n.mediaRange,t.startTime=n.presentationStartTime,t.duration=n.duration,t.timescale=r.timescale,t.availabilityStartTime=n.availabilityStartTime,t.availabilityEndTime=n.availabilityEndTime,t.wallStartTime=n.wallStartTime,t.quality=r.index,t.index=n.availabilityIdx,t.mediaInfo=it(),t.adaptationIndex=r.adaptation.index,t.representationId=r.id,pt(t,i,r)?t:void 0}function vi(n,r,f){var o=void 0,l=void 0,a=void 0;if(!n)return null;var c=p(),v=t,w=!!f&&f.keepIdx,y=f?f.timeThreshold:null,b=!(!f||!f.ignoreIsFinished);return tt!==r&&(tt=r,i.debug("Getting the request for "+c+" time : "+r)),k(n),t=kt(r,n,y),t<0&&(k(n),t=kt(r,n,y)),t>=0&&i.debug("Index for "+c+" time "+r+" is "+t),a=!b&&wt(n),a?(o=new e.default,o.action=e.default.ACTION_COMPLETE,o.index=t,o.mediaType=c,o.mediaInfo=it(),i.debug("Signal complete in getSegmentRequestForTime -",c)):(l=u.getSegmentByIndex(t,n),o=dt(l)),w&&v>=0&&(t=n.segmentInfoType===h.default.SEGMENT_TIMELINE&&s()?t:v),o}function yi(n){var r=void 0,o=void 0,c=void 0,f,h;return!n||-1===t?null:(f=p(),h=s(),tt=null,t++,i.debug("Getting the next request at index: "+t+", type: "+f),!u.getSegmentByIndex(t,n)&&h?(i.debug("No segment found at index: "+t+". Wait for next loop"),k(n),t--,null):(c=wt(n),c?(r=new e.default,r.action=e.default.ACTION_COMPLETE,r.index=t,r.mediaType=f,r.mediaInfo=it(),i.debug("Signal complete -",f)):(k(n),o=u.getSegmentByIndex(t,n),r=dt(o),!o&&h&&t--),r))}function gt(n){var t=n.representation;t.segments&&a.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}function ni(n){if(!n.error&&p()===n.mediaType){for(var l=n.segments,t=n.representation,r=[],v=0,e=void 0,h=void 0,i=void 0,c=void 0,e=0,h=l.length;e<h;e++)i=l[e],c=u.getTimeBasedSegment(nt,s(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,v),r.push(c),c=null,v++;t.segmentAvailabilityRange={start:r[0].presentationStartTime,end:r[h-1].presentationStartTime};t.availableSegmentsNumber=h;bt(t,r);o.default.hasInitialization(t)&&a.trigger(f.default.REPRESENTATION_UPDATED,{sender:this,representation:t})}}n=n||{};var w=this.context,a=g.default(w).getInstance(),ot=et.default(w).getInstance(),d=void 0,nt=n.timelineConverter,pi=n.dashMetrics,st=n.metricsModel,ti=n.mediaPlayerModel,wi=n.errHandler,ii=n.baseURLController,y=void 0,i=void 0,t=void 0,tt=void 0,ct=void 0,r=void 0,at=void 0;return y={initialize:fi,getStreamProcessor:ei,getInitRequest:li,getSegmentRequestForTime:vi,getNextSegmentRequest:yi,updateRepresentation:ai,updateSegmentList:ft,setCurrentTime:oi,getCurrentTime:si,reset:hi,resetIndex:rt},ri(),y}Object.defineProperty(i,"__esModule",{value:!0});var a=n(101),v=r(a),y=n(60),h=r(y),p=n(217),e=r(p),w=n(215),b=r(w),c=n(235),k=n(53),f=r(k),d=n(47),g=r(d),nt=n(50),l=r(nt),tt=n(48),it=r(tt),rt=n(46),ut=r(rt),ft=n(210),et=r(ft),ot=n(87),o=r(ot),u=n(77),st=n(76),ht=r(st),ct=n(58),lt=r(ct),at=n(59),vt=r(at);s.__dashjs_factory_name="DashHandler";i.default=it.default.getClassFactory(s);t.exports=i.default},{101:101,210:210,215:215,217:217,235:235,46:46,47:47,48:48,50:50,53:53,58:58,59:59,60:60,76:76,77:77,87:87}],57:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function i(n){var t=et.getValue();return t?t.Period_asArray[n]:-1}function c(n,t){var r=void 0;return r=h(i(t),n),null===r?null:r.bandwidth}function a(n,t){return it(i(t),n)}function v(n,t){return ut(i(t),n)}function y(n){return t(n,r.default.TRACK_SWITCH)}function u(n){return t(n,r.default.BUFFER_LEVEL)}function p(n){var t=u(n);return t?l.default.round10(t.level/1e3,-3):0}function w(n){return n?n.RequestsQueue:null}function f(n){if(!n)return null;var t=n.HttpList,r=null,u=void 0,i=void 0;if(!t||t.length<=0)return null;for(u=t.length,i=u-1;i>=0;){if(t[i].responsecode){r=t[i];break}i--}return r}function o(n){return n&&n.HttpList?n.HttpList:[]}function t(n,t){if(!n)return null;var i=n[t];return!i||i.length<=0?null:i[i.length-1]}function b(n){return t(n,r.default.DROPPED_FRAMES)}function k(n){return t(n,r.default.SCHEDULING_INFO)}function d(n){return t(n,r.default.MANIFEST_UPDATE)}function g(n){return t(n,r.default.DVR_INFO)}function nt(n,t){for(var r={},u=void 0,f=void 0,i=void 0,u=o(n),i=u.length-1;i>=0;i--)if(f=u[i],f.type===e.HTTPRequest.MPD_TYPE){r=s(f._responseHeaders);break}return void 0===r[t]?null:r[t]}function tt(n,t){var i={},r=f(n);return r&&(i=s(r._responseHeaders)),void 0===i[t]?null:i[t]}function s(n){var r={},t,i;if(!n)return r;for(var f=n.trim().split("\r\n"),u=0,e=f.length;u<e;u++)t=f[u],i=t.indexOf(": "),i>0&&(r[t.substring(0,i)]=t.substring(i+2));return r}function it(n,t){var i=h(n,t,!0);return null!==i?i:-1}function h(n,t,i){var s=void 0,f=void 0,e=void 0,o=void 0,u=void 0,r=void 0;if(n)for(f=n.AdaptationSet_asArray,u=0;u<f.length;u+=1)for(s=f[u],o=s.Representation_asArray,r=0;r<o.length;r+=1)if(e=o[r],t===e.id)return i?r:e;return null}function rt(n,t){return ft.getIsTypeOf(n,t)}function ut(n,t){var r=void 0,u=void 0,f=void 0,i=void 0;if(!n||!t)return-1;for(u=n.AdaptationSet_asArray,i=0;i<u.length;i+=1)if(r=u[i],f=r.Representation_asArray,rt(r,t))return f.length;return-1}n=n||{};var ft=n.dashManifestModel,et=n.manifestModel;return{getBandwidthForRepresentation:c,getIndexForRepresentation:a,getMaxIndexForBufferType:v,getCurrentRepresentationSwitch:y,getLatestBufferLevelVO:u,getCurrentBufferLevel:p,getCurrentHttpRequest:f,getHttpRequests:o,getCurrentDroppedFrames:b,getCurrentSchedulingInfo:k,getCurrentDVRInfo:g,getCurrentManifestUpdate:d,getLatestFragmentRequestHeaderValueByID:tt,getLatestMPDRequestHeaderValueByID:nt,getRequestsQueue:w}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(235),o=n(48),s=u(o),h=n(102),r=u(h),c=n(75),l=u(c);f.__dashjs_factory_name="DashMetrics";i.default=s.default.getSingletonFactory(f);t.exports=i.default},{102:102,235:235,48:48,75:75}],58:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function ut(){n=tt.default(t).getInstance().getLogger(a)}function et(){s=k.default(t).getInstance();p=h.default(t).getInstance();i=ft.default(t).create({errHandler:y,metricsModel:nt,mediaPlayerModel:it,requestModifier:p})}function ot(n){n.baseURLController&&(r=n.baseURLController);n.metricsModel&&(nt=n.metricsModel);n.mediaPlayerModel&&(it=n.mediaPlayerModel);n.errHandler&&(y=n.errHandler)}function b(){if(!r||!r.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously");}function d(t,e){b();var h=null,c=r.resolve(t.path),o=e||{init:!0,url:c?c.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500};n.debug("Start searching for initialization.");var l=g(o),a=function(n){o.bytesLoaded=o.range.end;h=s.findInitRange(n);h?(t.range=h,f.trigger(u.default.INITIALIZATION_LOADED,{representation:t})):(o.range.end=o.bytesLoaded+o.bytesToLoad,d(t,o))},v=function(){f.trigger(u.default.INITIALIZATION_LOADED,{representation:t})};i.load({request:l,success:a,error:v});n.debug("Perform init search: "+o.url)}function c(t,u,f,e,o){var a;(b(),f&&(void 0===f.start||void 0===f.end))&&(a=f?f.toString().split("-"):null,f=a?{start:parseFloat(a[0]),end:parseFloat(a[1])}:null);o=o||ct;var v=null,l=null,y=!!f,p=r.resolve(t.path),h={init:!1,url:p?p.url:void 0,range:y?f:{start:0,end:1500},searching:!y,bytesLoaded:e?e.bytesLoaded:0,bytesToLoad:1500},w=g(h),k=function(i){var e=h.bytesToLoad,p=i.byteLength,f;if(h.bytesLoaded=h.range.end-h.range.start,v=s.parse(i),(l=v.getBox("sidx"))&&l.isComplete){var r=l.references,a=void 0,y=void 0;null!==r&&void 0!==r&&r.length>0&&(a=1===r[0].reference_type);a?function(){n.debug("Initiate multiple SIDX load.");h.range.end=h.range.start+l.size;for(var i=void 0,f=void 0,a=void 0,v=void 0,y=void 0,e=[],p=0,s=(l.offset||h.range.start)+l.size,w=function(n){n?(e=e.concat(n),++p>=f&&o(e,t,u)):o(null,t,u)},i=0,f=r.length;i<f;i++)a=s,v=s+r[i].referenced_size-1,s+=r[i].referenced_size,y={start:a,end:v},c(t,null,y,h,w)}():(n.debug("Parsing segments from SIDX."),y=ht(l,h),o(y,t,u))}else{if(l)h.range.start=l.offset||h.range.start,h.range.end=h.range.start+(l.size||e);else{if(p<h.bytesLoaded)return void o(null,t,u);f=v.getLastBox();f&&f.size?(h.range.start=f.offset+f.size,h.range.end=h.range.start+e):h.range.end+=e}c(t,u,h.range,h,o)}},d=function(){o(null,t,u)};i.load({request:w,success:k,error:d});n.debug("Perform SIDX load: "+h.url)}function st(){i.abort();i=null;y=null;s=null;p=null}function ht(n,t){for(var u=n.references,a=u.length,v=n.timescale,s=n.earliest_presentation_time,f=t.range.start+n.offset+n.first_offset+n.size,h=[],i=void 0,c=void 0,e=void 0,o=void 0,r=0;r<a;r++)e=u[r].subsegment_duration,o=u[r].referenced_size,i=new l.default,i.duration=e,i.startTime=s,i.timescale=v,c=f+o-1,i.mediaRange=f+"-"+c,h.push(i),s+=e,f+=o;return h}function g(n){if(n.url){var t=new rt.default;return t.type=n.init?e.HTTPRequest.INIT_SEGMENT_TYPE:e.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=n.url,t.range=n.range.start+"-"+n.range.end,t}}function ct(n,t,i){n?f.trigger(u.default.SEGMENTS_LOADED,{segments:n,representation:t,mediaType:i}):f.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:i,error:new v.default(o.default.SEGMENT_BASE_LOADER_ERROR_CODE,o.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}var t=this.context,f=w.default(t).getInstance(),a=void 0,n=void 0,y=void 0,s=void 0,p=void 0,nt=void 0,it=void 0,i=void 0,r=void 0;return a={setConfig:ot,initialize:et,loadInitialization:d,loadSegments:c,reset:st},ut(),a}Object.defineProperty(i,"__esModule",{value:!0});var s=n(207),h=r(s),c=n(88),l=r(c),a=n(215),v=r(a),y=n(53),u=r(y),p=n(47),w=r(p),b=n(197),k=r(b),d=n(48),g=r(d),nt=n(46),tt=r(nt),e=n(235),it=n(217),rt=r(it),ut=n(148),ft=r(ut),et=n(50),o=r(et);f.__dashjs_factory_name="SegmentBaseLoader";i.default=g.default.getSingletonFactory(f);t.exports=i.default},{148:148,197:197,207:207,215:215,217:217,235:235,46:46,47:47,48:48,50:50,53:53,88:88}],59:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function nt(){t=k.default(i).getInstance().getLogger(a);n={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}}}function it(){p=g.default(i).getInstance();h=ft.default(i).create({errHandler:v,metricsModel:b,mediaPlayerModel:d,requestModifier:p})}function ut(n){if(!(n.baseURLController&&n.metricsModel&&n.mediaPlayerModel&&n.errHandler))throw new Error(y.default.MISSING_CONFIG_ERROR);r=n.baseURLController;b=n.metricsModel;d=n.mediaPlayerModel;v=n.errHandler}function et(t){var o=[],u=void 0,f=void 0,r=e.default(i).create({data:t}),s,h;for(r.consumeTagAndSize(n.Segment.Cues);r.moreData()&&r.consumeTagAndSize(n.Segment.Cues.CuePoint,!0);){for(u={},u.CueTime=r.parseTag(n.Segment.Cues.CuePoint.CueTime),u.CueTracks=[];r.moreData()&&r.consumeTag(n.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(s=r.getMatroskaCodedNum(),h=r.getPos(),f={},f.Track=r.parseTag(n.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===f.Track)throw new Error("Cue track cannot be 0");f.ClusterPosition=r.parseTag(n.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition);u.CueTracks.push(f);r.setPos(h+s)}if(0===u.CueTracks.length)throw new Error("Mandatory cuetrack not found");o.push(u)}if(0===o.length)throw new Error("mandatory cuepoint not found");return o}function st(n,i,r,u){var h=void 0,e=void 0,s=void 0,o=void 0,f=void 0,c=void 0,l=void 0,a=void 0;for(e=et(n),s=[],f=0,c=e.length;f<c;f+=1)o=new tt.default,h=0,h=f<e.length-1?e[f+1].CueTime-e[f].CueTime:u-e[f].CueTime,o.duration=h,o.startTime=e[f].CueTime,o.timescale=1e3,l=e[f].CueTracks[0].ClusterPosition+i,a=f<e.length-1?e[f+1].CueTracks[0].ClusterPosition+i-1:r-1,o.mediaRange=l+"-"+a,s.push(o);return t.debug("Parsed cues: "+s.length+" cues."),s}function ht(r,u,f,o){var s=e.default(i).create({data:r}),a=void 0,w=void 0,b=f.split("-"),v=null,l={url:u,range:{start:parseFloat(b[0]),end:parseFloat(b[1])},request:v},y=void 0,k=void 0,d,p,g,nt;for(t.debug("Parse EBML header: "+l.url),s.skipOverElement(n.EBML),s.consumeTag(n.Segment),y=s.getMatroskaCodedNum(),y+=s.getPos(),k=s.getPos();s.moreData()&&!s.consumeTagAndSize(n.Segment.Info,!0);)if(!(s.skipOverElement(n.Segment.SeekHead,!0)||s.skipOverElement(n.Segment.Tracks,!0)||s.skipOverElement(n.Segment.Cues,!0)||s.skipOverElement(n.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){d=s.getMatroskaCodedNum(!0);p=s.getMatroskaCodedNum();switch(d){case n.Segment.Info.Duration.tag:a=s[n.Segment.Info.Duration.parse](p);break;default:s.setPos(s.getPos()+p)}}v=c(l);g=function(n){w=st(n,k,y,a);o(w)};nt=function(){t.error("Download Error: Cues "+l.url);o(null)};h.load({request:v,success:g,error:nt});t.debug("Perform cues load: "+l.url+" bytes="+l.range.start+"-"+l.range.end)}function w(){if(!r||!r.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously");}function ct(n,i){var a,v;w();var e=null,o=r.resolve(n.path),y=o?o.url:void 0,s=n.range.split("-"),l=i||{range:{start:parseFloat(s[0]),end:parseFloat(s[1])},request:e,url:y,init:!0};t.info("Start loading initialization.");e=c(l);a=function(){f.trigger(u.default.INITIALIZATION_LOADED,{representation:n})};v=function(){f.trigger(u.default.INITIALIZATION_LOADED,{representation:n})};h.load({request:e,success:a,error:v});t.debug("Perform init load: "+l.url)}function lt(n,i,u,f){var a,v;w();var e=null,o=r.resolve(n.path),s=o?o.url:void 0,l=8192,y={bytesLoaded:0,bytesToLoad:l,range:{start:0,end:l},request:e,url:s,init:!1};f=f||at;e=c(y);t.debug("Parsing ebml header");a=function(t){ht(t,s,u,function(t){f(t,n,i)})};v=function(){f(null,n,i)};h.load({request:e,success:a,error:v})}function at(n,t,i){n?f.trigger(u.default.SEGMENTS_LOADED,{segments:n,representation:t,mediaType:i}):f.trigger(u.default.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:i,error:new ot.default(s.default.SEGMENT_BASE_LOADER_ERROR_CODE,s.default.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function c(n){var t=new rt.default;return t.type=n.init?o.HTTPRequest.INIT_SEGMENT_TYPE:o.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=n.url,t.range=n.range.start+"-"+n.range.end,t}function vt(){v=null;p=null}var i=this.context,f=l.default(i).getInstance(),a=void 0,t=void 0,n=void 0,v=void 0,p=void 0,b=void 0,d=void 0,h=void 0,r=void 0;return a={setConfig:ut,initialize:it,loadInitialization:ct,loadSegments:lt,reset:vt},nt(),a}Object.defineProperty(i,"__esModule",{value:!0});var h=n(53),u=r(h),c=n(47),l=r(c),a=n(201),e=r(a),v=n(101),y=r(v),p=n(48),w=r(p),b=n(46),k=r(b),d=n(207),g=r(d),nt=n(88),tt=r(nt),o=n(235),it=n(217),rt=r(it),ut=n(148),ft=r(ut),et=n(215),ot=r(et),st=n(50),s=r(st);f.__dashjs_factory_name="WebmSegmentBaseLoader";i.default=w.default.getSingletonFactory(f);t.exports=i.default},{101:101,148:148,201:201,207:207,215:215,217:217,235:235,46:46,47:47,48:48,50:50,53:53,88:88}],60:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n);this.init()}return u(n,[{key:"init",value:function(){this.BASE_URL="BaseURL";this.SEGMENT_BASE="SegmentBase";this.SEGMENT_TEMPLATE="SegmentTemplate";this.SEGMENT_LIST="SegmentList";this.SEGMENT_URL="SegmentURL";this.SEGMENT_TIMELINE="SegmentTimeline";this.SEGMENT_PROFILES="segmentProfiles";this.ADAPTATION_SET="AdaptationSet";this.REPRESENTATION="Representation";this.REPRESENTATION_INDEX="RepresentationIndex";this.SUB_REPRESENTATION="SubRepresentation";this.INITIALIZATION="Initialization";this.INITIALIZATION_MINUS="initialization";this.MPD="MPD";this.PERIOD="Period";this.ASSET_IDENTIFIER="AssetIdentifier";this.EVENT_STREAM="EventStream";this.ID="id";this.PROFILES="profiles";this.SERVICE_LOCATION="serviceLocation";this.RANGE="range";this.INDEX="index";this.MEDIA="media";this.BYTE_RANGE="byteRange";this.INDEX_RANGE="indexRange";this.MEDIA_RANGE="mediaRange";this.VALUE="value";this.CONTENT_TYPE="contentType";this.MIME_TYPE="mimeType";this.BITSTREAM_SWITCHING="BitstreamSwitching";this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching";this.CODECS="codecs";this.DEPENDENCY_ID="dependencyId";this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId";this.METRICS="Metrics";this.METRICS_MINUS="metrics";this.REPORTING="Reporting";this.WIDTH="width";this.HEIGHT="height";this.SAR="sar";this.FRAMERATE="frameRate";this.AUDIO_SAMPLING_RATE="audioSamplingRate";this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod";this.START_WITH_SAP="startWithSAP";this.MAX_PLAYOUT_RATE="maxPlayoutRate";this.CODING_DEPENDENCY="codingDependency";this.SCAN_TYPE="scanType";this.FRAME_PACKING="FramePacking";this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration";this.CONTENT_PROTECTION="ContentProtection";this.ESSENTIAL_PROPERTY="EssentialProperty";this.SUPPLEMENTAL_PROPERTY="SupplementalProperty";this.INBAND_EVENT_STREAM="InbandEventStream";this.ACCESSIBILITY="Accessibility";this.ROLE="Role";this.RATING="Rating";this.CONTENT_COMPONENT="ContentComponent";this.SUBSET="Subset";this.LANG="lang";this.VIEWPOINT="Viewpoint";this.ROLE_ASARRAY="Role_asArray";this.ACCESSIBILITY_ASARRAY="Accessibility_asArray";this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray";this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray";this.MAIN="main";this.DYNAMIC="dynamic";this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration";this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod";this.CODEC_PRIVATE_DATA="codecPrivateData";this.BANDWITH="bandwidth";this.SOURCE_URL="sourceURL";this.TIMESCALE="timescale";this.DURATION="duration";this.START_NUMBER="startNumber";this.PRESENTATION_TIME_OFFSET="presentationTimeOffset";this.AVAILABILITY_START_TIME="availabilityStartTime";this.AVAILABILITY_END_TIME="availabilityEndTime";this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth";this.MAX_SEGMENT_DURATION="maxSegmentDuration";this.PRESENTATION_TIME="presentationTime";this.MIN_BUFFER_TIME="minBufferTime";this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration";this.START="start";this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset";this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete";this.CENC_DEFAULT_KID="cenc:default_KID";this.DVB_PRIORITY="dvb:priority";this.DVB_WEIGHT="dvb:weight"}}]),n}(),e=new f;i.default=e;t.exports=i.default},{}],61:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(){function yt(){ft();t.on(r.default.QUALITY_CHANGE_REQUESTED,lt,u);t.on(r.default.REPRESENTATION_UPDATED,st,u);t.on(r.default.WALLCLOCK_TIME_UPDATED,ht,u);t.on(r.default.BUFFER_LEVEL_UPDATED,ct,u);t.on(r.default.MANIFEST_VALIDITY_CHANGED,at,u)}function pt(n){n.abrController&&(h=n.abrController);n.domStorage&&(ut=n.domStorage);n.metricsModel&&(l=n.metricsModel);n.dashMetrics&&(d=n.dashMetrics);n.dashManifestModel&&(k=n.dashManifestModel);n.playbackController&&(y=n.playbackController);n.timelineConverter&&(b=n.timelineConverter);n.manifestModel&&(vt=n.manifestModel);n.streamProcessor&&(i=n.streamProcessor)}function wt(){rt=i.getIndexHandler()}function bt(){return i}function kt(){return c}function dt(){return it}function nt(){return a}function w(){return o}function ft(){c=null;it=-1;a=!0;n=[];h=null;y=null;l=null;ut=null;b=null;k=null;d=null}function gt(){t.off(r.default.QUALITY_CHANGE_REQUESTED,lt,u);t.off(r.default.REPRESENTATION_UPDATED,st,u);t.off(r.default.WALLCLOCK_TIME_UPDATED,ht,u);t.off(r.default.BUFFER_LEVEL_UPDATED,ct,u);t.off(r.default.MANIFEST_VALIDITY_CHANGED,at,u);ft()}function ni(u,e,s){var y=i.getStreamInfo(),w=h.getTopQualityIndexFor(s,y.id),p=h.getMinAllowedIndexFor(s),l=void 0,b=void 0,k=null,v;if(a=!0,t.trigger(r.default.DATA_UPDATE_STARTED,{sender:this}),n=ri(e),null!==c&&c.id==u.id||s===f.default.FRAGMENTED_TEXT?l=h.getQualityFor(s,y):(b=h.getThroughputHistory().getAverageThroughput(s),k=b||h.getInitialBitrateFor(s,y),l=h.getQualityForBitrate(i.getMediaInfo(),k)),void 0!==p&&l<p&&(l=p),l>w&&(l=w),o=tt(l),c=u,s!==f.default.VIDEO&&s!==f.default.AUDIO&&s!==f.default.FRAGMENTED_TEXT)return a=!1,void t.trigger(r.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:o});for(v=0;v<n.length;v++)rt.updateRepresentation(n[v],!0)}function et(){var t=new Date,n=w(),i=1e3*y.getTime();l.addRepresentationSwitch(n.adaptation.type,t,i,n.id)}function ot(){var t=i.getStreamInfo(),n=t?t.manifestInfo:null,r=n?n.isDynamic:null,u=b.calcSegmentAvailabilityRange(o,r);l.addDVRInfo(i.getType(),y.getTime(),n,u)}function tt(t){return null===t||void 0===t||t>=n.length?null:n[t]}function ti(t){return n.indexOf(t)}function ii(){for(var i,t=0,r=n.length;t<r;t++)if(i=n[t].segmentInfoType,null===n[t].segmentAvailabilityRange||!g.default.hasInitialization(n[t])||(i===e.default.SEGMENT_BASE||i===e.default.BASE_URL)&&!n[t].segments)return!1;return!0}function ri(n){return it=k.getIndexForAdaptation(c,n.period.mpd.manifest,n.period.index),k.getRepresentationsForAdaptation(n)}function ui(t){for(var i=void 0,r=0,u=n.length;r<u;r++)i=n[r],i.segmentAvailabilityRange=b.calcSegmentAvailabilityRange(i,t)}function fi(){n.forEach(function(n){n.segmentAvailabilityRange=null})}function ei(i){var f=i,e=function(){if(!nt()){a=!0;t.trigger(r.default.DATA_UPDATE_STARTED,{sender:u});fi();for(var i=0;i<n.length;i++)rt.updateRepresentation(n[i],!0)}};a=!1;t.trigger(r.default.AST_IN_FUTURE,{delay:f});setTimeout(e,f)}function st(n){var ut,b;if(n.sender.getStreamProcessor()===i&&nt()){var u=n.representation,ft=l.getMetricsFor(f.default.STREAM),st=l.getMetricsFor(w().adaptation.type),p=d.getCurrentManifestUpdate(ft),tt=!1,k=0,g=void 0,it=void 0,rt=void 0;if(u.adaptation.period.mpd.manifest.type!==e.default.DYNAMIC||u.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(ut=u.segmentAvailabilityRange.end-u.segmentAvailabilityRange.start,k=1e3*(y.computeLiveDelay(o.segmentDuration,i.getStreamInfo().manifestInfo.DVRWindowSize)-ut)),k>0)return ot(),ei(k),it=new v.default(s.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE,s.default.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE),void t.trigger(r.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:o,error:it});if(p){for(b=0;b<p.representationInfo.length;b++)if(g=p.representationInfo[b],g.index===u.index&&g.mediaType===i.getType()){tt=!0;break}tt||l.addManifestUpdateRepresentationInfo(p,u.id,u.index,u.adaptation.period.index,i.getType(),u.presentationTimeOffset,u.startNumber,u.segmentInfoType)}ii()&&(a=!1,h.setPlaybackQuality(i.getType(),i.getStreamInfo(),ti(o)),l.updateManifestUpdateInfo(p,{latency:o.segmentAvailabilityRange.end-y.getTime()}),rt=d.getCurrentRepresentationSwitch(st),rt||et(),t.trigger(r.default.DATA_UPDATE_COMPLETED,{sender:this,data:c,currentRepresentation:o}))}}function ht(n){n.isDynamic&&ui(n.isDynamic)}function ct(n){n.sender.getStreamProcessor()===i&&(vt.getValue().doNotUpdateDVRWindowOnBufferUpdated||ot())}function lt(n){if(n.mediaType===i.getType()&&i.getStreamInfo().id===n.streamInfo.id&&n.oldQuality!==n.newQuality){o=tt(n.newQuality);var t=h.getThroughputHistory().getAverageThroughput(n.mediaType);isNaN(t)||ut.setSavedBitrateSettings(n.mediaType,t);et()}}function at(n){if(n.newDuration){var t=w();t&&t.adaptation.period&&(t.adaptation.period.duration=n.newDuration)}}var oi=this.context,t=p.default(oi).getInstance(),u=void 0,c=void 0,it=void 0,a=void 0,n=void 0,o=void 0,h=void 0,rt=void 0,y=void 0,l=void 0,ut=void 0,b=void 0,k=void 0,d=void 0,i=void 0,vt=void 0;return u={initialize:wt,setConfig:pt,getData:kt,getDataIndex:dt,isUpdating:nt,updateData:ni,getStreamProcessor:bt,getCurrentRepresentation:w,getRepresentationForQuality:tt,reset:gt},yt(),u}Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),f=u(h),c=n(50),s=u(c),l=n(60),e=u(l),a=n(215),v=u(a),y=n(47),p=u(y),w=n(53),r=u(w),b=n(48),k=u(b),d=n(87),g=u(d);o.__dashjs_factory_name="RepresentationController";i.default=k.default.getClassFactory(o);t.exports=i.default},{101:101,215:215,47:47,48:48,50:50,53:53,60:60,87:87}],62:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function o(n){function st(){ut=lt.default(v).getInstance().getLogger(l)}function i(n,t){var e=void 0,a=void 0,h=void 0,i=void 0,c=void 0,l=void 0,o=!1,f=!1,s;if(!n)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(n.hasOwnProperty("ContentComponent_asArray")&&(i=n.ContentComponent_asArray),c=t!==u.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),n.Representation_asArray&&n.Representation_asArray.length&&n.Representation_asArray.length>0){if(s=k(n.Representation_asArray[0]),s&&s.length>0&&wt.THUMBNAILS_SCHEME_ID_URIS.indexOf(s[0].schemeIdUri)>=0)return t===u.default.IMAGE;if(n.Representation_asArray[0].hasOwnProperty(r.default.CODECS)&&(l=n.Representation_asArray[0].codecs,0===l.search(u.default.STPP)||0===l.search(u.default.WVTT)))return t===u.default.FRAGMENTED_TEXT}if(i){if(i.length>1)return t===u.default.MUXED;i[0]&&i[0].contentType===t&&(o=!0,f=!0)}if(n.hasOwnProperty(r.default.MIME_TYPE)&&(o=c.test(n.mimeType),f=!0),!f)for(e=0,a=n.Representation_asArray&&n.Representation_asArray.length?n.Representation_asArray.length:0;!f&&e<a;)h=n.Representation_asArray[e],h.hasOwnProperty(r.default.MIME_TYPE)&&(o=c.test(h.mimeType),f=!0),e++;return o}function ht(n){return i(n,u.default.AUDIO)}function ct(n){return i(n,u.default.VIDEO)}function at(n){return i(n,u.default.FRAGMENTED_TEXT)}function yt(n){return i(n,u.default.MUXED)}function bt(n){return i(n,u.default.IMAGE)}function p(n){return"text/vtt"===n||"application/ttml+xml"===n}function kt(n){var t="";return n&&n.hasOwnProperty(r.default.LANG)&&(t=n.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function dt(n){return n&&n.hasOwnProperty(r.default.VIEWPOINT)?n.Viewpoint:null}function gt(n){return n&&n.hasOwnProperty(r.default.ROLE_ASARRAY)?n.Role_asArray:[]}function ni(n){return n&&n.hasOwnProperty(r.default.ACCESSIBILITY_ASARRAY)?n.Accessibility_asArray:[]}function ti(n){return n&&n.hasOwnProperty(r.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?n.AudioChannelConfiguration_asArray:[]}function w(){return function(n,t){return n.bandwidth-t.bandwidth}}function c(n){return n&&void 0!==n.Representation_asArray&&null!==n.Representation_asArray&&n.Representation_asArray.sort(w()),n}function f(n,i){return n&&n.Period_asArray&&t(i)&&n.Period_asArray[i]?n.Period_asArray[i].AdaptationSet_asArray:[]}function ii(n,t,i){for(var e=f(t,i),u=void 0,o=void 0,u=0,o=e.length;u<o;u++)if(e[u].hasOwnProperty(r.default.ID)&&e[u].id===n)return e[u];return null}function ri(n,i,r){var u=f(i,r);return u.length>0&&t(n)?u[n]:null}function ui(n,t,i){var u=f(t,i),o=u.length,r,e;if(n)for(r=0;r<o;r++)if(e=ft.default(v).getInstance(),e.areEqual(u[r],n))return r;return-1}function fi(n,t,r){for(var e=f(n,t),u=void 0,o=void 0,s=[],u=0,o=e.length;u<o;u++)i(e[u],r)&&s.push(c(e[u]));return s}function ei(n,i,r){var f=null,u;return n&&n.Representation_asArray&&n.Representation_asArray.length>0&&(u=t(i)&&i>=0&&i<n.Representation_asArray.length?n.Representation_asArray[i]:n.Representation_asArray[0],u&&(f=u.mimeType+';codecs="'+u.codecs+'"',r&&void 0!==u.width&&(f+=';width="'+u.width+'";height="'+u.height+'"'))),f}function oi(n){return n&&n.Representation_asArray&&n.Representation_asArray.length>0?n.Representation_asArray[0].mimeType:null}function si(n){return n&&n.hasOwnProperty(r.default.CENC_DEFAULT_KID)?n[r.default.CENC_DEFAULT_KID]:null}function hi(n){if(!n.Label_asArray||!n.Label_asArray.length)return[];for(var i=[],t=0;t<n.Label_asArray.length;t++)i.push({lang:n.Label_asArray[t].lang,text:n.Label_asArray[t].__text||n.Label_asArray[t]});return i}function ci(n){return n&&n.hasOwnProperty(r.default.CONTENTPROTECTION_ASARRAY)&&0!==n.ContentProtection_asArray.length?n.ContentProtection_asArray:null}function o(n){var t=!1;return n&&n.hasOwnProperty("type")&&(t=n.type===r.default.DYNAMIC),t}function li(n,t){var i=!1;return n&&n.profiles&&n.profiles.length>0&&(i=-1!==n.profiles.indexOf(t)),i}function ai(n){return li(n,vr)}function vi(n){return n&&n.hasOwnProperty(r.default.MEDIA_PRESENTATION_DURATION)?n.mediaPresentationDuration:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE}function yi(n){return n&&n.bandwidth?n.bandwidth:NaN}function pi(n){var i=arguments.length<=1||void 0===arguments[1]?0:arguments[1],t=NaN;return n&&n.hasOwnProperty(r.default.MINIMUM_UPDATE_PERIOD)&&(t=n.minimumUpdatePeriod),isNaN(t)?t:Math.max(t-i,1)}function wi(n){return n&&n.Representation_asArray&&n.Representation_asArray.length?n.Representation_asArray.length:0}function bi(n){return n&&n.Representation_asArray&&n.Representation_asArray.length?c(n).Representation_asArray.map(function(n){return{bandwidth:n.bandwidth,width:n.width||0,height:n.height||0,scanType:n.scanType||null}}):null}function k(n){return n&&n.EssentialProperty_asArray&&n.EssentialProperty_asArray.length?n.EssentialProperty_asArray.map(function(n){return{schemeIdUri:n.schemeIdUri,value:n.value}}):null}function ki(n,i){return i&&i.Representation_asArray&&i.Representation_asArray.length>0&&t(n)?i.Representation_asArray[n]:null}function g(n){if(n&&n.period&&t(n.period.index)){var i=n.period.mpd.manifest.Period_asArray[n.period.index];if(i&&i.AdaptationSet_asArray&&t(n.index))return c(i.AdaptationSet_asArray[n.index])}}function h(n){var t=n.S_asArray[n.S_asArray.length-1];return!t.hasOwnProperty("r")||t.r>=0}function di(n){var i=g(n).Representation_asArray[0],t=void 0;return i.hasOwnProperty(r.default.SEGMENT_LIST)?(t=i.SegmentList,!t.hasOwnProperty(r.default.SEGMENT_TIMELINE)||h(t.SegmentTimeline)):!(!i.hasOwnProperty(r.default.SEGMENT_TEMPLATE)||(t=i.SegmentTemplate,!t.hasOwnProperty(r.default.SEGMENT_TIMELINE)))&&h(t.SegmentTimeline)}function gi(n){var v=[],c=g(n),u=void 0,e=void 0,l,o,y,f,i,s;if(n&&n.period&&t(n.period.index)&&(l=rt(n.period.mpd.manifest),l&&(e=l[0])),c&&c.Representation_asArray)for(o=0,y=c.Representation_asArray.length;o<y;++o)f=c.Representation_asArray[o],i=new a.default,(i.index=o,i.adaptation=n,f.hasOwnProperty(r.default.ID)&&(i.id=f.id),f.hasOwnProperty(r.default.CODECS)&&(i.codecs=f.codecs),f.hasOwnProperty(r.default.CODEC_PRIVATE_DATA)&&(i.codecPrivateData=f.codecPrivateData),f.hasOwnProperty(r.default.BANDWITH)&&(i.bandwidth=f.bandwidth),f.hasOwnProperty(r.default.WIDTH)&&(i.width=f.width),f.hasOwnProperty(r.default.HEIGHT)&&(i.height=f.height),f.hasOwnProperty(r.default.SCAN_TYPE)&&(i.scanType=f.scanType),f.hasOwnProperty(r.default.MAX_PLAYOUT_RATE)&&(i.maxPlayoutRate=f.maxPlayoutRate),f.hasOwnProperty(r.default.SEGMENT_BASE)?(u=f.SegmentBase,i.segmentInfoType=r.default.SEGMENT_BASE):f.hasOwnProperty(r.default.SEGMENT_LIST)?(u=f.SegmentList,u.hasOwnProperty(r.default.SEGMENT_TIMELINE)?(i.segmentInfoType=r.default.SEGMENT_TIMELINE,i.useCalculatedLiveEdgeTime=h(u.SegmentTimeline)):(i.segmentInfoType=r.default.SEGMENT_LIST,i.useCalculatedLiveEdgeTime=!0)):f.hasOwnProperty(r.default.SEGMENT_TEMPLATE)?(u=f.SegmentTemplate,u.hasOwnProperty(r.default.SEGMENT_TIMELINE)?(i.segmentInfoType=r.default.SEGMENT_TIMELINE,i.useCalculatedLiveEdgeTime=h(u.SegmentTimeline)):i.segmentInfoType=r.default.SEGMENT_TEMPLATE,u.hasOwnProperty(r.default.INITIALIZATION_MINUS)&&(i.initialization=u.initialization.split("$Bandwidth$").join(f.bandwidth).split("$RepresentationID$").join(f.id))):i.segmentInfoType=r.default.BASE_URL,i.essentialProperties=k(f),u)&&(u.hasOwnProperty(r.default.INITIALIZATION)?(s=u.Initialization,s.hasOwnProperty(r.default.SOURCE_URL)?i.initialization=s.sourceURL:s.hasOwnProperty(r.default.RANGE)&&(i.range=s.range)):f.hasOwnProperty(r.default.MIME_TYPE)&&p(f.mimeType)&&(i.range=0),u.hasOwnProperty(r.default.TIMESCALE)&&(i.timescale=u.timescale),u.hasOwnProperty(r.default.DURATION)&&(i.segmentDuration=u.duration/i.timescale),u.hasOwnProperty(r.default.MEDIA)&&(i.media=u.media),u.hasOwnProperty(r.default.START_NUMBER)&&(i.startNumber=u.startNumber),u.hasOwnProperty(r.default.INDEX_RANGE)&&(i.indexRange=u.indexRange),u.hasOwnProperty(r.default.PRESENTATION_TIME_OFFSET)&&(i.presentationTimeOffset=u.presentationTimeOffset/i.timescale),u.hasOwnProperty(r.default.AVAILABILITY_TIME_OFFSET)?i.availabilityTimeOffset=u.availabilityTimeOffset:e&&void 0!==e.availabilityTimeOffset&&(i.availabilityTimeOffset=e.availabilityTimeOffset),u.hasOwnProperty(r.default.AVAILABILITY_TIME_COMPLETE)?i.availabilityTimeComplete="false"!==u.availabilityTimeComplete:e&&void 0!==e.availabilityTimeComplete&&(i.availabilityTimeComplete=e.availabilityTimeComplete)),i.MSETimeOffset=cr.calcMSETimeOffset(i),i.path=[n.period.index,n.index,o],v.push(i);return v}function nr(n){var o=n&&t(n.index)?n.mpd.manifest.Period_asArray[n.index]:null,s=[],f=void 0,i=void 0,e=void 0;if(o&&o.AdaptationSet_asArray)for(e=0;e<o.AdaptationSet_asArray.length;e++)i=o.AdaptationSet_asArray[e],f=new y.default,i.hasOwnProperty(r.default.ID)&&(f.id=i.id),f.index=e,f.period=n,f.type=yt(i)?u.default.MUXED:ht(i)?u.default.AUDIO:ct(i)?u.default.VIDEO:at(i)?u.default.FRAGMENTED_TEXT:bt(i)?u.default.IMAGE:u.default.TEXT,s.push(f);return s}function tr(n){for(var l=!!n&&o(n.manifest),s=[],h=null,u=null,i=null,t=null,c=void 0,f=void 0,f=0,c=n&&n.manifest&&n.manifest.Period_asArray?n.manifest.Period_asArray.length:0;f<c;f++)u=n.manifest.Period_asArray[f],u.hasOwnProperty(r.default.START)?(t=new e.default,t.start=u.start):null!==h&&h.hasOwnProperty(r.default.DURATION)&&null!==i?(t=new e.default,t.start=parseFloat((i.start+i.duration).toFixed(5))):0!==f||l||(t=new e.default,t.start=0),null!==i&&isNaN(i.duration)&&(null!==t?i.duration=parseFloat((t.start-i.start).toFixed(5)):ut.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==t&&(t.id=ir(u,f),t.index=f,t.mpd=n,u.hasOwnProperty(r.default.DURATION)&&(t.duration=u.duration),s.push(t),h=u,i=t),u=null,t=null;return 0===s.length?s:(null!==i&&isNaN(i.duration)&&(i.duration=parseFloat((ur(i)-i.start).toFixed(5))),s)}function ir(n,t){if(!n)throw new Error("Period cannot be null or undefined");var i=e.default.DEFAULT_ID+"_"+t;return n.hasOwnProperty(r.default.ID)&&n.id.length>0&&"__proto__"!==n.id&&(i=n.id),i}function rr(n){var t=new b.default;return n&&(t.manifest=n,t.availabilityStartTime=n.hasOwnProperty(r.default.AVAILABILITY_START_TIME)?new Date(n.availabilityStartTime.getTime()):new Date(n.loadedTime.getTime()),n.hasOwnProperty(r.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(n.availabilityEndTime.getTime())),n.hasOwnProperty(r.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=n.minimumUpdatePeriod),n.hasOwnProperty(r.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=n.mediaPresentationDuration),n.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=n.suggestedPresentationDelay),n.hasOwnProperty(r.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=n.timeShiftBufferDepth),n.hasOwnProperty(r.default.MAX_SEGMENT_DURATION)&&(t.maxSegmentDuration=n.maxSegmentDuration)),t}function ur(n){var i=o(n.mpd.manifest),t=void 0;return n.mpd.manifest.mediaPresentationDuration?t=n.mpd.manifest.mediaPresentationDuration:n.duration?t=n.duration:i?t=Number.POSITIVE_INFINITY:lr.error(new vt.default(pt.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",n)),t}function fr(n){var c=n&&n.mpd&&n.mpd.manifest?n.mpd.manifest:null,l=c?c.Period_asArray:null,f=l&&n&&t(n.index)?l[n.index].EventStream_asArray:null,a=[],i=void 0,e=void 0,h,o;if(f)for(i=0;i<f.length;i++){if(h=new s.default,h.period=n,h.timescale=1,!f[i].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(h.schemeIdUri=f[i].schemeIdUri,f[i].hasOwnProperty(r.default.TIMESCALE)&&(h.timescale=f[i].timescale),f[i].hasOwnProperty(r.default.VALUE)&&(h.value=f[i].value),e=0;f[i].Event_asArray&&e<f[i].Event_asArray.length;e++)o=new nt.default,o.presentationTime=0,o.eventStream=h,f[i].Event_asArray[e].hasOwnProperty(r.default.PRESENTATION_TIME)&&(o.presentationTime=f[i].Event_asArray[e].presentationTime),f[i].Event_asArray[e].hasOwnProperty(r.default.DURATION)&&(o.duration=f[i].Event_asArray[e].duration),f[i].Event_asArray[e].hasOwnProperty(r.default.ID)&&(o.id=f[i].Event_asArray[e].id),o.messageData=f[i].Event_asArray[e].Signal&&f[i].Event_asArray[e].Signal.Binary?ar.decodeArray(f[i].Event_asArray[e].Signal.Binary):f[i].Event_asArray[e].messageData||f[i].Event_asArray[e].__text,a.push(o)}return a}function tt(n,t){var e=[],i=void 0,f;if(!n)return e;for(i=0;i<n.length;i++){if(f=new s.default,f.timescale=1,f.representation=t,!n[i].hasOwnProperty(u.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");f.schemeIdUri=n[i].schemeIdUri;n[i].hasOwnProperty(r.default.TIMESCALE)&&(f.timescale=n[i].timescale);n[i].hasOwnProperty(r.default.VALUE)&&(f.value=n[i].value);e.push(f)}return e}function er(n,i){var u=void 0,r=void 0,f=void 0;return n&&n.Period_asArray&&i&&i.period&&t(i.period.index)&&(r=n.Period_asArray[i.period.index])&&r.AdaptationSet_asArray&&t(i.index)&&(f=r.AdaptationSet_asArray[i.index])&&(u=f.InbandEventStream_asArray),tt(u,null)}function or(n,i){var f=void 0,r=void 0,u=void 0,e=void 0;return n&&n.Period_asArray&&i&&i.adaptation&&i.adaptation.period&&t(i.adaptation.period.index)&&(r=n.Period_asArray[i.adaptation.period.index])&&r.AdaptationSet_asArray&&t(i.adaptation.index)&&(u=r.AdaptationSet_asArray[i.adaptation.index])&&u.Representation_asArray&&t(i.index)&&(e=u.Representation_asArray[i.index])&&(f=e.InbandEventStream_asArray),tt(f,i)}function sr(n){var f=o(n),e=!!n&&n.hasOwnProperty(r.default.AVAILABILITY_START_TIME),t=n?n.UTCTiming_asArray:null,i=[];return(f||e)&&t&&t.forEach(function(n){var t=new d.default;n.hasOwnProperty(u.default.SCHEME_ID_URI)&&(t.schemeIdUri=n.schemeIdUri,n.hasOwnProperty(r.default.VALUE)&&(t.value=n.value.toString(),i.push(t)))}),i}function rt(n){var t=[],u=n.BaseURL_asArray||[n.baseUri],i=!1;return u.some(function(u){if(u){var f=new it.default,e=u.__text||u;return et.isRelative(e)&&(i=!0,n.baseUri&&(e=et.resolve(e,n.baseUri))),f.url=e,f.serviceLocation=u.hasOwnProperty(r.default.SERVICE_LOCATION)&&u.serviceLocation.length?u.serviceLocation:e,u.hasOwnProperty(r.default.DVB_PRIORITY)&&(f.dvb_priority=u[r.default.DVB_PRIORITY]),u.hasOwnProperty(r.default.DVB_WEIGHT)&&(f.dvb_weight=u[r.default.DVB_WEIGHT]),u.hasOwnProperty(r.default.AVAILABILITY_TIME_OFFSET)&&(f.availabilityTimeOffset=u[r.default.AVAILABILITY_TIME_OFFSET]),u.hasOwnProperty(r.default.AVAILABILITY_TIME_COMPLETE)&&(f.availabilityTimeComplete="false"!==u[r.default.AVAILABILITY_TIME_COMPLETE]),t.push(f),i}}),t}function hr(n){if(n&&n.hasOwnProperty(u.default.LOCATION))return n.Location=n.Location_asArray[0],n.Location}n=n||{};var l=void 0,ut=void 0,v=this.context,et=ot.default(v).getInstance(),cr=n.timelineConverter,lr=n.errHandler,ar=n.BASE64,vr="urn:dvb:dash:profile:dvb-dash:2014",t=Number.isInteger||function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n};return l={getIsTypeOf:i,getIsTextTrack:p,getLanguageForAdaptation:kt,getViewpointForAdaptation:dt,getRolesForAdaptation:gt,getAccessibilityForAdaptation:ni,getAudioChannelConfigurationForAdaptation:ti,getAdaptationForIndex:ri,getIndexForAdaptation:ui,getAdaptationForId:ii,getAdaptationsForType:fi,getCodec:ei,getMimeType:oi,getKID:si,getLabelsForAdaptation:hi,getContentProtectionData:ci,getIsDynamic:o,getIsDVB:ai,getDuration:vi,getBandwidth:yi,getManifestUpdatePeriod:pi,getRepresentationCount:wi,getBitrateListForAdaptation:bi,getRepresentationFor:ki,getRepresentationsForAdaptation:gi,getAdaptationsForPeriod:nr,getRegularPeriods:tr,getMpd:rr,getEventsForPeriod:fr,getEventStreamForAdaptationSet:er,getEventStreamForRepresentation:or,getUTCTimingSources:sr,getBaseURLsFromElement:rt,getRepresentationSortFunction:w,getLocation:hr,getUseCalculatedLiveEdgeTimeForAdaptation:di},st(),l}Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),u=f(h),c=n(60),r=f(c),l=n(87),a=f(l),v=n(81),y=f(v),p=n(86),e=f(p),w=n(85),b=f(w),k=n(89),d=f(k),g=n(83),nt=f(g),tt=n(82),it=f(tt),rt=n(84),s=f(rt),ut=n(206),ft=f(ut),et=n(210),ot=f(et),st=n(48),ht=f(st),ct=n(46),lt=f(ct),at=n(215),vt=f(at),yt=n(50),pt=f(yt),wt=n(195);o.__dashjs_factory_name="DashManifestModel";i.default=ht.default.getSingletonFactory(o);t.exports=i.default},{101:101,195:195,206:206,210:210,215:215,46:46,48:48,50:50,60:60,81:81,82:82,83:83,84:84,85:85,86:86,87:87,89:89}],63:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function e(){u=s.default(r).getInstance().getLogger(n);t=[new w.default,new k.default,new g.default,new y.default];f=new a.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:t});i=c.default(r).create({adaptationset:new tt.default,period:new rt.default})}function o(){return t}function h(){return i}function l(n){var t=void 0,o=window.performance.now(),r,e;if(!(t=f.xml_str2json(n)))throw new Error("parsing the manifest failed");return r=window.performance.now(),i.run(t),e=window.performance.now(),u.info("Parsing complete: ( xml2json: "+(r-o).toPrecision(3)+"ms, objectiron: "+(e-r).toPrecision(3)+"ms, total: "+((e-o)/1e3).toPrecision(3)+"s)"),t}var r=this.context,n=void 0,u=void 0,t=void 0,f=void 0,i=void 0;return n={parse:l,getMatchers:o,getIron:h},e(),n}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(46),s=r(o),h=n(73),c=r(h),l=n(3),a=r(l),v=n(72),y=r(v),p=n(70),w=r(p),b=n(69),k=r(b),d=n(71),g=r(d),nt=n(66),tt=r(nt),it=n(67),rt=r(it);u.__dashjs_factory_name="DashParser";i.default=e.default.getClassFactory(u);t.exports=i.default},{3:3,46:46,48:48,66:66,67:67,69:69,70:70,71:71,72:72,73:73}],64:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(t){r(this,n);var i=function(n){return n&&n.length&&n.charAt(0)===n.charAt(0).toUpperCase()};this._name=t;this._merge=i(t)}return u(n,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),n}();i.default=f;t.exports=i.default},{}],65:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=n(64),o=r(e),s=function(){function n(t,i,r){var f=this;u(this,n);this._name=t||"";this._properties=[];this._children=r||[];Array.isArray(i)&&i.forEach(function(n){f._properties.push(new o.default(n))})}return f(n,[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),n}();i.default=s;t.exports=i.default},{64:64}],66:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},h=n(65),u=f(h),c=n(60),r=f(c),l=function(n){function t(){e(this,t);var n=[r.default.PROFILES,r.default.WIDTH,r.default.HEIGHT,r.default.SAR,r.default.FRAMERATE,r.default.AUDIO_SAMPLING_RATE,r.default.MIME_TYPE,r.default.SEGMENT_PROFILES,r.default.CODECS,r.default.MAXIMUM_SAP_PERIOD,r.default.START_WITH_SAP,r.default.MAX_PLAYOUT_RATE,r.default.CODING_DEPENDENCY,r.default.SCAN_TYPE,r.default.FRAME_PACKING,r.default.AUDIO_CHANNEL_CONFIGURATION,r.default.CONTENT_PROTECTION,r.default.ESSENTIAL_PROPERTY,r.default.SUPPLEMENTAL_PROPERTY,r.default.INBAND_EVENT_STREAM];s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r.default.ADAPTATION_SET,n,[new u.default(r.default.REPRESENTATION,n,[new u.default(r.default.SUB_REPRESENTATION,n)])])}return o(t,n),t}(u.default);i.default=l;t.exports=i.default},{60:60,65:65}],67:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},h=n(65),u=f(h),c=n(60),r=f(c),l=function(n){function t(){e(this,t);var n=[r.default.SEGMENT_BASE,r.default.SEGMENT_TEMPLATE,r.default.SEGMENT_LIST];s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,r.default.PERIOD,n,[new u.default(r.default.ADAPTATION_SET,n,[new u.default(r.default.REPRESENTATION,n)])])}return o(t,n),t}(u.default);i.default=l;t.exports=i.default},{60:60,65:65}],68:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(t,i){r(this,n);this._test=t;this._converter=i}return u(n,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),n}();i.default=f;t.exports=i.default},{}],69:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},h=n(68),c=f(h),l=60,a=60,r=1e3,u=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,v=function(n){function t(){e(this,t);s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(n){return u.test(n.value)},function(n){var t=u.exec(n),i=void 0,f;return(i=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*r||0),t[9]&&t[10])&&(f=parseInt(t[9],10)*a+parseInt(t[10],10),i+=("+"===t[8]?-1:1)*f*l*r),new Date(i)})}return o(t,n),t}(c.default);i.default=v;t.exports=i.default},{68:68}],70:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var h=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},c=n(68),l=u(c),a=n(101),f=u(a),v=n(60),r=u(v),e=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,y=31536e3,p=2592e3,w=86400,b=3600,k=60,d=function(n){function t(){o(this,t);h(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(n){for(var i=[r.default.MIN_BUFFER_TIME,r.default.MEDIA_PRESENTATION_DURATION,r.default.MINIMUM_UPDATE_PERIOD,r.default.TIMESHIFT_BUFFER_DEPTH,r.default.MAX_SEGMENT_DURATION,r.default.MAX_SUBSEGMENT_DURATION,f.default.SUGGESTED_PRESENTATION_DELAY,r.default.START,f.default.START_TIME,r.default.DURATION],u=i.length,t=0;t<u;t++)if(n.nodeName===i[t])return e.test(n.value);return!1},function(n){var t=e.exec(n),i=parseFloat(t[2]||0)*y+parseFloat(t[4]||0)*p+parseFloat(t[6]||0)*w+parseFloat(t[8]||0)*b+parseFloat(t[10]||0)*k+parseFloat(t[12]||0);return void 0!==t[1]&&(i=-i),i})}return s(t,n),t}(l.default);i.default=d;t.exports=i.default},{101:101,60:60,68:68}],71:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(68),s=r(o),h=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(n){return h.test(n.value)},function(n){return parseFloat(n)})}return f(t,n),t}(s.default);i.default=c;t.exports=i.default},{68:68}],72:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function u(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},h=n(68),c=f(h),l=n(60),r=f(l),a=function(n){function t(){e(this,t);s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(n,t){var i,e=(i={},u(i,r.default.MPD,[r.default.ID,r.default.PROFILES]),u(i,r.default.PERIOD,[r.default.ID]),u(i,r.default.BASE_URL,[r.default.SERVICE_LOCATION,r.default.BYTE_RANGE]),u(i,r.default.SEGMENT_BASE,[r.default.INDEX_RANGE]),u(i,r.default.INITIALIZATION,[r.default.RANGE]),u(i,r.default.REPRESENTATION_INDEX,[r.default.RANGE]),u(i,r.default.SEGMENT_LIST,[r.default.INDEX_RANGE]),u(i,r.default.BITSTREAM_SWITCHING,[r.default.RANGE]),u(i,r.default.SEGMENT_URL,[r.default.MEDIA_RANGE,r.default.INDEX_RANGE]),u(i,r.default.SEGMENT_TEMPLATE,[r.default.INDEX_RANGE,r.default.MEDIA,r.default.INDEX,r.default.INITIALIZATION_MINUS,r.default.BITSTREAM_SWITCHING_MINUS]),u(i,r.default.ASSET_IDENTIFIER,[r.default.VALUE,r.default.ID]),u(i,r.default.EVENT_STREAM,[r.default.VALUE]),u(i,r.default.ADAPTATION_SET,[r.default.PROFILES,r.default.MIME_TYPE,r.default.SEGMENT_PROFILES,r.default.CODECS,r.default.CONTENT_TYPE]),u(i,r.default.FRAME_PACKING,[r.default.VALUE,r.default.ID]),u(i,r.default.AUDIO_CHANNEL_CONFIGURATION,[r.default.VALUE,r.default.ID]),u(i,r.default.CONTENT_PROTECTION,[r.default.VALUE,r.default.ID]),u(i,r.default.ESSENTIAL_PROPERTY,[r.default.VALUE,r.default.ID]),u(i,r.default.SUPPLEMENTAL_PROPERTY,[r.default.VALUE,r.default.ID]),u(i,r.default.INBAND_EVENT_STREAM,[r.default.VALUE,r.default.ID]),u(i,r.default.ACCESSIBILITY,[r.default.VALUE,r.default.ID]),u(i,r.default.ROLE,[r.default.VALUE,r.default.ID]),u(i,r.default.RATING,[r.default.VALUE,r.default.ID]),u(i,r.default.VIEWPOINT,[r.default.VALUE,r.default.ID]),u(i,r.default.CONTENT_COMPONENT,[r.default.CONTENT_TYPE]),u(i,r.default.REPRESENTATION,[r.default.ID,r.default.DEPENDENCY_ID,r.default.MEDIA_STREAM_STRUCTURE_ID]),u(i,r.default.SUBSET,[r.default.ID]),u(i,r.default.METRICS,[r.default.METRICS_MINUS]),u(i,r.default.REPORTING,[r.default.VALUE,r.default.ID]),i),f;return e.hasOwnProperty(t)?(f=e[t],void 0!==f&&f.indexOf(n.name)>=0):!1},function(n){return String(n)})}return o(t,n),t}(c.default);i.default=a;t.exports=i.default},{60:60,68:68}],73:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function r(n){function i(n,t){for(var i in n)t.hasOwnProperty(i)||(t[i]=n[i])}function r(n,t,r){for(var u,e,o,f=0,s=n.length;f<s;++f)u=n[f],t[u.name]&&(r[u.name]?u.merge&&(e=t[u.name],o=r[u.name],"object"==typeof e&&"object"==typeof o?i(e,o):r[u.name]=e+o):r[u.name]=t[u.name])}function t(n,i){for(var o,f,e,c,s,u=0,h=n.children.length;u<h;++u)if(o=n.children[u],f=i[o.name+"_asArray"],f)for(e=0,c=f.length;e<c;++e)s=f[e],r(n.properties,i,s),t(o,s)}function u(i){var f,r;if(null===i||"object"!=typeof i)return i;if("period"in n)for(var s=n.period,o=i.Period_asArray,u=0,h=o.length;u<h;++u)if(f=o[u],(t(s,f),"adaptationset"in n)&&(r=f.AdaptationSet_asArray,r))for(var c=n.adaptationset,e=0,l=r.length;e<l;++e)t(c,r[e]);return i}return{run:u}}var u,f,e;Object.defineProperty(i,"__esModule",{value:!0});u=n(48);f=o(u);r.__dashjs_factory_name="ObjectIron";e=f.default.getClassFactory(r);i.default=e;t.exports=i.default},{48:48}],74:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){function r(n,r,f,e){var c=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].SegmentList,w=c.SegmentURL_asArray.length,a=[],s=void 0,o=void 0,h=void 0,l=void 0,v=void 0,y=void 0,p=void 0;for(p=n.startNumber,l=u.decideSegmentListRangeForTemplate(i,t,n,r,f,e),v=Math.max(l.start,0),y=Math.min(l.end,c.SegmentURL_asArray.length-1),s=v;s<=y;s++)h=c.SegmentURL_asArray[s],o=u.getIndexBasedSegment(i,t,n,s),o.replacementTime=(p+s-1)*n.segmentDuration,o.media=h.media?h.media:"",o.mediaRange=h.mediaRange,o.index=h.index,o.indexRange=h.indexRange,a.push(o),o=null;return n.availableSegmentsNumber=w,a}n=n||{};var i=n.timelineConverter;return{getSegments:r}}var f;Object.defineProperty(i,"__esModule",{value:!0});var o=n(48),s=e(o),u=n(77);r.__dashjs_factory_name="ListSegmentsGetter";f=s.default.getClassFactory(r);i.default=f;t.exports=i.default},{48:48,77:77}],75:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t,i){return void 0===i||0==+i?Math[n](t):(t=+t,i=+i,null===t||isNaN(t)||"number"!=typeof i||i%1!=0?NaN:(t=t.toString().split("e"),t=Math[n](+(t[0]+"e"+(t[1]?+t[1]-i:-i))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+i:i))))}Object.defineProperty(i,"__esModule",{value:!0});var f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=function(){function n(){r(this,n)}return f(n,null,[{key:"round10",value:function(n,t){return u("round",n,t)}}]),n}();i.default=e;t.exports=i.default},{}],76:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){function s(){f=l.default(i).create(n,t);e=v.default(i).create(n,t);o=p.default(i).create(n,t)}function h(n,t,i,r,s){var h=void 0,l=n.segmentInfoType;l!==u.default.SEGMENT_BASE&&l!==u.default.BASE_URL&&c(n,i)?(l===u.default.SEGMENT_TIMELINE?h=f.getSegments(n,t,i,s):l===u.default.SEGMENT_TEMPLATE?h=e.getSegments(n,t,i,s):l===u.default.SEGMENT_LIST&&(h=o.getSegments(n,t,i,s)),r&&r(n,h)):h=n.segments}function c(n,t){var i=n.segments,r=!1,u=void 0,f=void 0;return i&&0!==i.length?(f=i[0].availabilityIdx,u=i[i.length-1].availabilityIdx,r=t<f||t>u):r=!0,r}var i=this.context,r=void 0,f=void 0,e=void 0,o=void 0;return r={getSegments:h},s(),r}var e;Object.defineProperty(i,"__esModule",{value:!0});var o=n(60),u=r(o),s=n(48),h=r(s),c=n(80),l=r(c),a=n(78),v=r(a),y=n(74),p=r(y);f.__dashjs_factory_name="SegmentsGetter";e=h.default.getClassFactory(f);i.default=e;t.exports=i.default},{48:48,60:60,74:74,78:78,80:80}],77:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function r(n,t){for(;n.length<t;)n="0"+n;return n}function f(n,t){return n.representation.startNumber+t}function h(n){return n?n.split("$$").join("$"):n}function c(n,t){if(!t||!n||-1===n.indexOf("$RepresentationID$"))return n;var i=t.toString();return n.split("$RepresentationID$").join(i)}function u(n,t,i){var h="%0",f=void 0,e=void 0,s=void 0,c=void 0,o=void 0,u=void 0,l=t.length,a=h.length;if(!n)return n;for(;;){if((f=n.indexOf("$"+t))<0||(e=n.indexOf("$",f+l))<0)return n;if((s=n.indexOf(h,f+l))>f&&s<e)switch(c=n.charAt(e-1),o=parseInt(n.substring(s+a,e-1),10),c){case"d":case"i":case"u":u=r(i.toString(),o);break;case"x":u=r(i.toString(16),o);break;case"X":u=r(i.toString(16),o).toUpperCase();break;case"o":u=r(i.toString(8),o);break;default:return n}else u=i;n=n.substring(0,f)+u+n.substring(e+1)}}function l(n,t,i,r){var u=void 0,e=void 0,s=void 0,h=void 0;return e=i.segmentDuration,isNaN(e)&&(e=i.adaptation.period.duration),s=parseFloat((i.adaptation.period.start+r*e).toFixed(5)),h=parseFloat((s+e).toFixed(5)),u=new o.default,u.representation=i,u.duration=e,u.presentationStartTime=s,u.mediaStartTime=n.calcMediaTimeFromPresentationTime(u.presentationStartTime,i),u.availabilityStartTime=n.calcAvailabilityStartTimeFromPresentationTime(u.presentationStartTime,i.adaptation.period.mpd,t),u.availabilityEndTime=n.calcAvailabilityEndTimeFromPresentationTime(h,i.adaptation.period.mpd,t),u.wallStartTime=n.calcWallTimeForSegment(u,t),u.replacementNumber=f(u,r),u.availabilityIdx=r,u}function a(n,t,i,r,e,s,h,c,l,a){var p=r/s,w=Math.min(e/s,i.adaptation.period.mpd.maxSegmentDuration),y=void 0,b=void 0,v=void 0;return y=n.calcPresentationTimeFromMediaTime(p,i),b=y+w,v=new o.default,v.representation=i,v.duration=w,v.mediaStartTime=p,v.presentationStartTime=y,v.availabilityStartTime=i.adaptation.period.mpd.manifest.loadedTime,v.availabilityEndTime=n.calcAvailabilityEndTimeFromPresentationTime(b,i.adaptation.period.mpd,t),v.wallStartTime=n.calcWallTimeForSegment(v,t),v.replacementTime=a||r,v.replacementNumber=f(v,l),h=u(h,"Number",v.replacementNumber),h=u(h,"Time",v.replacementTime),v.media=h,v.mediaRange=c,v.availabilityIdx=l,v}function e(n,t){if(!t||!t.segments)return null;var u=t.segments.length,i=void 0,r=void 0;if(n<u&&(i=t.segments[n])&&i.availabilityIdx===n)return i;for(r=0;r<u;r++)if((i=t.segments[r])&&i.availabilityIdx===n)return i;return null}function v(n,t,i,r,u,f){var o=i.segmentDuration,p=i.adaptation.period.mpd.manifest.minBufferTime,c=i.segmentAvailabilityRange,s={start:n.calcPeriodRelativeTimeFromMpdRelativeTime(i,c?c.start:NaN),end:n.calcPeriodRelativeTimeFromMpdRelativeTime(i,c?c.end:NaN)},y=i.segments,w=2*o,b=f||Math.max(2*p,10*o),a=NaN,v=null,h=void 0,l=void 0;return s.start=Math.max(s.start,0),t&&!n.isTimeSyncCompleted()?(h=Math.floor(s.start/o),l=Math.floor(s.end/o),{start:h,end:l}):(y&&y.length>0?(v=e(u,i),a=v?n.calcPeriodRelativeTimeFromMpdRelativeTime(i,v.presentationStartTime):u>0?u*o:n.calcPeriodRelativeTimeFromMpdRelativeTime(i,r)):a=u>0?u*o:t?s.end:s.start,h=Math.floor(Math.max(a-w,s.start)/o),l=Math.floor(Math.min(h+b/o,s.end/o)),{start:h,end:l})}Object.defineProperty(i,"__esModule",{value:!0});i.unescapeDollarsInTemplate=h;i.replaceIDForTemplate=c;i.replaceTokenForTemplate=u;i.getIndexBasedSegment=l;i.getTimeBasedSegment=a;i.getSegmentByIndex=e;i.decideSegmentListRangeForTemplate=v;var y=n(88),o=s(y)},{88:88}],78:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){function u(n,u,f,e){var b=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].SegmentTemplate,l=n.segmentDuration,v=n.segmentAvailabilityRange,y=[],s=null,o=null,a=void 0,h=void 0,p=void 0,w=void 0,c=void 0;for(c=n.startNumber,a=isNaN(l)&&!t?{start:c,end:c}:r.decideSegmentListRangeForTemplate(i,t,n,u,f,e),p=a.start,w=a.end,h=p;h<=w;h++)o=r.getIndexBasedSegment(i,t,n,h),o.replacementTime=(c+h-1)*n.segmentDuration,s=b.media,s=r.replaceTokenForTemplate(s,"Number",o.replacementNumber),s=r.replaceTokenForTemplate(s,"Time",o.replacementTime),o.media=s,y.push(o),o=null;return n.availableSegmentsNumber=isNaN(l)?1:Math.ceil((v.end-v.start)/l),y}var i=n.timelineConverter;return{getSegments:u}}var f;Object.defineProperty(i,"__esModule",{value:!0});var o=n(48),s=e(o),r=n(77);u.__dashjs_factory_name="TemplateSegmentsGetter";f=s.default.getClassFactory(u);i.default=f;t.exports=i.default},{48:48,77:77}],79:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function l(){h();c.on(f.default.TIME_SYNCHRONIZATION_COMPLETED,s,this)}function a(){return n}function v(t){n=t}function y(){return t}function r(n){t=n}function p(){return i}function w(n){i=n}function u(n,i,r,u){return u?r&&i.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(i.availabilityStartTime.getTime()+1e3*(n+i.timeShiftBufferDepth)):i.availabilityEndTime:r?new Date(i.availabilityStartTime.getTime()+1e3*(n-t)):i.availabilityStartTime}function b(n,t,i){return u.call(this,n,t,i)}function k(n,t,i){return u.call(this,n,t,i,!0)}function e(n,i){return(n.getTime()-i.mpd.availabilityStartTime.getTime()+1e3*t)/1e3}function d(n,t){return n+(t.adaptation.period.start-t.presentationTimeOffset)}function g(n,t){return n-t.adaptation.period.start+t.presentationTimeOffset}function nt(n,t){var i=void 0,r=void 0,u=void 0;return t&&(i=n.representation.adaptation.period.mpd.suggestedPresentationDelay,r=n.presentationStartTime+i,u=new Date(n.availabilityStartTime.getTime()+1e3*r)),u}function tt(t,i){var r=t.adaptation.period,u={start:r.start,end:r.start+r.duration},h;if(!i)return u;if(!n&&t.segmentAvailabilityRange)return t.segmentAvailabilityRange;var o=t.segmentDuration||(t.segments&&t.segments.length?t.segments[t.segments.length-1].duration:0),f=e(new Date,r),s=r.start+r.duration;return u.start=Math.max(f-r.mpd.timeShiftBufferDepth,r.start),h=void 0!==t.availabilityTimeOffset&&t.availabilityTimeOffset<o?o-t.availabilityTimeOffset:o,u.end=f>=s&&f-h<s?s:f-h,u}function it(n,t){return t-n.adaptation.period.start}function s(t){n||void 0!==t.offset&&(r(t.offset/1e3),n=!0)}function rt(n){var t=n.presentationTimeOffset;return n.adaptation.period.start-t}function h(){t=0;n=!1;i=NaN}function ut(){c.off(f.default.TIME_SYNCHRONIZATION_COMPLETED,s,this);h()}var ft=this.context,c=o.default(ft).getInstance(),t=void 0,n=void 0,i=void 0;return{initialize:l,isTimeSyncCompleted:a,setTimeSyncCompleted:v,getClientTimeOffset:y,setClientTimeOffset:r,getExpectedLiveEdge:p,setExpectedLiveEdge:w,calcAvailabilityStartTimeFromPresentationTime:b,calcAvailabilityEndTimeFromPresentationTime:k,calcPresentationTimeFromWallTime:e,calcPresentationTimeFromMediaTime:d,calcPeriodRelativeTimeFromMpdRelativeTime:it,calcMediaTimeFromPresentationTime:g,calcSegmentAvailabilityRange:tt,calcWallTimeForSegment:nt,calcMSETimeOffset:rt,reset:ut}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(47),o=r(e),s=n(53),f=r(s),h=n(48),c=r(h);u.__dashjs_factory_name="TimelineConverter";i.default=c.default.getSingletonFactory(u);t.exports=i.default},{47:47,48:48,53:53}],80:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){function r(){if(!i||!i.hasOwnProperty("calcMediaTimeFromPresentationTime")||!i.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(h.default.MISSING_CONFIG_ERROR);}function u(n,u,f,e){var ot;if(r(),!n)throw new Error("no representation");void 0===u&&(u=null);var b=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].SegmentTemplate||n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].SegmentList,st=b.SegmentTimeline,k=b.SegmentURL_asArray,d=n.availableSegmentsNumber>0,ht=e||(f>-1||null!==u?10:1/0);var a=0,y=0,h=-1,p=[],g=null,w=void 0,o=void 0,v=void 0,rt=void 0,nt=void 0,l=void 0,tt=void 0,it=void 0,ut=void 0,ft=void 0,s=void 0,et=function(r,u){var f=b.media,e=r.mediaRange;return k&&(f=k[u].media||"",e=k[u].mediaRange),c.getTimeBasedSegment(i,t,n,a,r.d,s,f,e,h,r.tManifest)};for(s=n.timescale,w=st.S_asArray,ft=f,null!==u&&(g=i.calcMediaTimeFromPresentationTime(u,n)),v=0,rt=w.length;v<rt;v++)if((o=w[v],l=0,o.hasOwnProperty("r")&&(l=o.r),o.hasOwnProperty("t")&&(a=o.t,y=a/s),l<0)&&((it=w[v+1])&&it.hasOwnProperty("t")?tt=it.t/s:(ot=n.segmentAvailabilityRange?n.segmentAvailabilityRange.end:i.calcSegmentAvailabilityRange(n,t).end,tt=i.calcMediaTimeFromPresentationTime(ot,n),n.segmentDuration=o.d/s),l=Math.ceil((tt-y)/(o.d/s))-1),ut){if(d)break;h+=l+1}else for(nt=0;nt<=l;nt++)if(h++,p.length>ht){if(ut=!0,d)break}else null!==g?y>=g-o.d/s*1.5&&p.push(et(o,h)):h>=ft&&p.push(et(o,h)),a+=o.d,y=a/s;return d||(n.availableSegmentsNumber=h+1),p}n=n||{};var i=n.timelineConverter;return{getSegments:u}}var f;Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=r(e),s=n(101),h=r(s),c=n(77);u.__dashjs_factory_name="TimelineSegmentsGetter";f=o.default.getClassFactory(u);i.default=f;t.exports=i.default},{101:101,48:48,77:77}],81:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.period=null;this.index=-1;this.type=null};i.default=u;t.exports=i.default},{}],82:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=1,f=1,r=function n(t,i,r,o){e(this,n);this.url=t||"";this.serviceLocation=i||t||"";this.dvb_priority=r||u;this.dvb_weight=o||f;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0};r.DEFAULT_DVB_PRIORITY=u;r.DEFAULT_DVB_WEIGHT=f;i.default=r;t.exports=i.default},{}],83:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.duration=NaN;this.presentationTime=NaN;this.id=NaN;this.messageData="";this.eventStream=null;this.presentationTimeDelta=NaN};i.default=u;t.exports=i.default},{}],84:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.adaptionSet=null;this.representation=null;this.period=null;this.timescale=1;this.value="";this.schemeIdUri=""};i.default=u;t.exports=i.default},{}],85:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.manifest=null;this.suggestedPresentationDelay=0;this.availabilityStartTime=null;this.availabilityEndTime=Number.POSITIVE_INFINITY;this.timeShiftBufferDepth=Number.POSITIVE_INFINITY;this.maxSegmentDuration=Number.POSITIVE_INFINITY;this.minimumUpdatePeriod=NaN;this.mediaPresentationDuration=NaN};i.default=u;t.exports=i.default},{}],86:[function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var r=function n(){u(this,n);this.id=null;this.index=-1;this.duration=NaN;this.start=NaN;this.mpd=null};r.DEFAULT_ID="defaultId";i.default=r;t.exports=i.default},{}],87:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),o=n(60),r=u(o),s=function(){function n(){f(this,n);this.id=null;this.index=-1;this.adaptation=null;this.segmentInfoType=null;this.initialization=null;this.codecs=null;this.codecPrivateData=null;this.segmentDuration=NaN;this.timescale=1;this.startNumber=1;this.indexRange=null;this.range=null;this.presentationTimeOffset=0;this.MSETimeOffset=NaN;this.segmentAvailabilityRange=null;this.availableSegmentsNumber=0;this.bandwidth=NaN;this.width=NaN;this.height=NaN;this.scanType=null;this.maxPlayoutRate=NaN;this.availabilityTimeOffset=0;this.availabilityTimeComplete=!0}return e(n,null,[{key:"hasInitialization",value:function(n){return null!==n.initialization||null!==n.range}},{key:"hasSegments",value:function(n){return n.segmentInfoType!==r.default.BASE_URL&&n.segmentInfoType!==r.default.SEGMENT_BASE&&!n.indexRange}}]),n}();i.default=s;t.exports=i.default},{60:60}],88:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.indexRange=null;this.index=null;this.mediaRange=null;this.media=null;this.duration=NaN;this.replacementTime=null;this.replacementNumber=NaN;this.mediaStartTime=NaN;this.presentationStartTime=NaN;this.availabilityStartTime=NaN;this.availabilityEndTime=NaN;this.availabilityIdx=NaN;this.wallStartTime=NaN;this.representation=null};i.default=u;t.exports=i.default},{}],89:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.schemeIdUri="";this.value=""};i.default=u;t.exports=i.default},{}],90:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n){function s(){var i=w.default(e).getInstance();t=h.default(e).create({errHandler:n.errHandler,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier,boxParser:i,useFetch:n.mediaPlayerModel.getLowLatencyEnabled()})}function c(n){var r=function(t){i.trigger(u.default.CHECK_FOR_EXISTENCE_COMPLETED,{request:n,exists:t})},f;n?(f=new l.default(n.url),t.load({request:f,success:function(){r(!0)},error:function(){r(!1)}})):r(!1)}function a(n){var e=function(t,f){i.trigger(u.default.LOADING_COMPLETED,{request:n,response:t||null,error:f||null,sender:r})};n?t.load({request:n,progress:function(t){i.trigger(u.default.LOADING_PROGRESS,{request:n,stream:t.stream});t.data&&i.trigger(u.default.LOADING_DATA_PROGRESS,{request:n,response:t.data||null,error:null,sender:r})},success:function(n){e(n)},error:function(n,t,i){e(void 0,new o.default(f.default.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,i,t))},abort:function(n){n&&i.trigger(u.default.LOADING_ABANDONED,{request:n,mediaType:n.mediaType,sender:r})}}):e(void 0,new o.default(f.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,f.default.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))}function v(){t&&t.abort()}function p(){t&&(t.abort(),t=null)}n=n||{};var e=this.context,i=y.default(e).getInstance(),r=void 0,t=void 0;return r={checkForExistence:c,load:a,abort:v,reset:p},s(),r}Object.defineProperty(i,"__esModule",{value:!0});var s=n(148),h=r(s),c=n(218),l=r(c),a=n(215),o=r(a),v=n(47),y=r(v),p=n(197),w=r(p),b=n(53),u=r(b),k=n(50),f=r(k),d=n(48),g=r(d);e.__dashjs_factory_name="FragmentLoader";i.default=g.default.getClassFactory(e);t.exports=i.default},{148:148,197:197,215:215,218:218,47:47,48:48,50:50,53:53}],91:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function o(n){function nt(){b=ht.default(o).getInstance().getLogger(h);i.on(f.default.XLINK_READY,p,h);l=y.default(o).create({errHandler:d,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier});t=a.default(o).create({errHandler:d,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier});r=null}function p(n){i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:n.manifest})}function it(n){var t=null;return n.indexOf("SmoothStreamingMedia")>-1?(v&&(t=v.createMssParser(),v.registerEvents()),t):n.indexOf("MPD")>-1?ot.default(o).create():t}function rt(n){var o=new k.default(n,g.HTTPRequest.MPD_TYPE);l.load({request:o,success:function(o,h,l){if(t){var y=void 0,v=void 0,a=void 0;if(l&&l!==n?(v=s.parseBaseUrl(l),y=l):(s.isRelative(n)&&(n=s.resolve(n,window.location.href)),v=s.parseBaseUrl(n)),null===r&&(r=it(o)),null===r)return void i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new e.default(u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+n)});t.setMatchers(r.getMatchers());t.setIron(r.getIron());try{a=r.parse(o)}catch(p){return void i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new e.default(u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+n)})}a?(a.url=y||n,a.originalUrl||(a.originalUrl=a.url),a.hasOwnProperty(c.default.LOCATION)&&(v=s.parseBaseUrl(a.Location_asArray[0]),b.debug("BaseURI set by Location to: "+v)),a.baseUri=v,a.loadedTime=new Date,t.resolveManifestOnLoad(a)):i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new e.default(u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,u.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+n)})}},error:function(t,r,o){i.trigger(f.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new e.default(u.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,u.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(n+", ")+o)})}})}function ut(){i.off(f.default.XLINK_READY,p,h);t&&(t.reset(),t=null);l&&(l.abort(),l=null);v&&v.reset()}n=n||{};var o=this.context,i=tt.default(o).getInstance(),s=w.default(o).getInstance(),h=void 0,b=void 0,l=void 0,t=void 0,r=void 0,v=n.mssHandler,d=n.errHandler;return h={load:rt,reset:ut},nt(),h}var s;Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),c=r(h),l=n(116),a=r(l),v=n(148),y=r(v),p=n(210),w=r(p),b=n(226),k=r(b),d=n(215),e=r(d),g=n(235),nt=n(47),tt=r(nt),it=n(53),f=r(it),rt=n(50),u=r(rt),ut=n(48),ft=r(ut),et=n(63),ot=r(et),st=n(46),ht=r(st);o.__dashjs_factory_name="ManifestLoader";s=ft.default.getClassFactory(o);i.default=s;t.exports=i.default},{101:101,116:116,148:148,210:210,215:215,226:226,235:235,46:46,47:47,48:48,50:50,53:53,63:63}],92:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(){function ft(){c=a.default(it).getInstance().getLogger(h)}function et(n){n&&(n.manifestModel&&(l=n.manifestModel),n.dashManifestModel&&(v=n.dashManifestModel),n.mediaPlayerModel&&(p=n.mediaPlayerModel),n.manifestLoader&&(rt=n.manifestLoader),n.errHandler&&(ut=n.errHandler))}function ot(){w();n.on(r.default.STREAMS_COMPOSED,tt,this);n.on(r.default.PLAYBACK_STARTED,g,this);n.on(r.default.PLAYBACK_PAUSED,nt,this);n.on(r.default.INTERNAL_MANIFEST_LOADED,d,this)}function st(n){k(n)}function w(){t=NaN;f=!1;i=!0;e()}function ht(){n.off(r.default.PLAYBACK_STARTED,g,this);n.off(r.default.PLAYBACK_PAUSED,nt,this);n.off(r.default.STREAMS_COMPOSED,tt,this);n.off(r.default.INTERNAL_MANIFEST_LOADED,d,this);w()}function e(){null!==u&&(clearInterval(u),u=null)}function s(n){e();isNaN(n)&&!isNaN(t)&&(n=1e3*t);isNaN(n)||(c.debug("Refresh manifest in "+n+" milliseconds."),u=setTimeout(ct,n))}function b(){f=!0;var n=l.getValue(),t=n.url,i=v.getLocation(n);i&&(t=i);rt.load(t)}function k(u){l.setValue(u);var f=new Date,e=(f.getTime()-u.loadedTime.getTime())/1e3;t=v.getManifestUpdatePeriod(u,e);1e3*t>2147483647&&(t=2147483.647);n.trigger(r.default.MANIFEST_UPDATED,{manifest:u});c.info("Manifest has been refreshed at "+f+"["+f.getTime()/1e3+"] ");i||s()}function ct(){if(!i||p.getScheduleWhilePaused())return f?void s(p.getManifestUpdateRetryInterval()):void b()}function d(n){n.error?n.error.code===y.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&ut.error(n.error):k(n.manifest)}function g(){i=!1;s()}function nt(){i=!0;e()}function tt(){f=!1}var it=this.context,n=o.default(it).getInstance(),h=void 0,c=void 0,t=void 0,u=void 0,i=void 0,f=void 0,rt=void 0,l=void 0,v=void 0,ut=void 0,p=void 0;return h={initialize:ot,setManifest:st,refreshManifest:b,setConfig:et,reset:ht},ft(),h}Object.defineProperty(i,"__esModule",{value:!0});var e=n(47),o=u(e),s=n(53),r=u(s),h=n(48),c=u(h),l=n(46),a=u(l),v=n(50),y=u(v);f.__dashjs_factory_name="ManifestUpdater";i.default=c.default.getClassFactory(f);t.exports=i.default},{46:46,47:47,48:48,50:50,53:53}],93:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function c(){function su(){oi=ai.getLogger(br);ut=!1;c=!1;b=!1;pi=!0;it=null;yi=null;lt=null;e.default.extend(l.default);n=ni.default(t).getInstance();nt=ei.default(t).getInstance();tr=bt.default(t).getInstance()}function hu(t){t&&(t.capabilities&&(gt=t.capabilities),t.streamController&&(h=t.streamController),t.playbackController&&(w=t.playbackController),t.mediaPlayerModel&&(n=t.mediaPlayerModel),t.abrController&&(i=t.abrController),t.mediaController&&(d=t.mediaController))}function cu(u,e,s){if(gt||(gt=p.default(t).getInstance()),kt=ht.default(t).getInstance(),!gt.supportsMediaSource())return kt.capabilityError("mediasource"),void kt.error(new hr.default(o.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,o.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE));ut||(ut=!0,gi=ur.default(t).getInstance(),i||(i=ui.default(t).getInstance()),w||(w=g.default(t).getInstance()),d||(d=rt.default(t).getInstance()),lt=di.default(t).getInstance(),ri=nr.default(t).getInstance({timelineConverter:gi,errHandler:kt,BASE64:v.default}),fi=dt.default(t).getInstance(),hi=ir.default(t).getInstance({manifestModel:fi,dashManifestModel:ri}),vt=ii.default(t).getInstance(),r=f.default(t).getInstance(),rr=si.default(t).getInstance({mediaPlayerModel:n}),lt.setConfig({dashManifestModel:ri}),tu(),nu(void 0===s||s),u&&vr(u),e&&yr(e),oi.info("[dash.js "+dr()+"] MediaPlayer has been initialized"))}function lu(){yr(null);vr(null);yi=null;it&&(it.reset(),it=null);wi&&(wi.reset(),wi=null)}function fr(){return!!wt&&!!nt.getElement()}function au(n,t,i){ti.on(n,t,i)}function vu(n,t,i){ti.off(n,t,i)}function dr(){return bi.getVersionString()}function yu(){return ai}function pu(){if(nt.getElement()||b)return!1;if(!wt)throw ou;wr()}function wu(){if(!c)throw st;(!pi||gr()&&c)&&w.play()}function bu(){if(!c)throw st;w.pause()}function gr(){if(!c)throw st;return w.isPaused()}function ku(n){if(!c)throw st;if(y.checkParameterType(n,"number"),isNaN(n))throw u.default.BAD_ARGUMENT_ERROR;var t=w.getIsDynamic()?er(n):n;w.seek(t)}function du(){if(!c)throw st;return w.isSeeking()}function gu(){if(!c)throw st;return w.getIsDynamic()}function nf(n){ct().playbackRate=n}function tf(){return ct().playbackRate}function rf(t){n.setCatchUpPlaybackRate(t)}function uf(){return n.getCatchUpPlaybackRate()}function ff(t){if("number"!=typeof t||isNaN(t)||t<0||t>.5)throw fl;n.setLowLatencyMinDrift(t)}function ef(){return n.getLowLatencyMinDrift()}function of(t){if("number"!=typeof t||isNaN(t)||t<0)throw el;n.setLowLatencyMaxDriftBeforeSeeking(t)}function sf(){return n.getLowLatencyMaxDriftBeforeSeeking()}function hf(n){y.checkParameterType(n,"boolean");ct().muted=n}function cf(){return ct().muted}function lf(n){if("number"!=typeof n||isNaN(n)||n<0||n>1)throw u.default.BAD_ARGUMENT_ERROR;ct().volume=n}function af(){return ct().volume}function vf(n){var i=[u.default.VIDEO,u.default.AUDIO,u.default.FRAGMENTED_TEXT],t;return n?-1!==i.indexOf(n)?(t=lr().getCurrentBufferLevel(ar(n)),t||NaN):(oi.warn("getBufferLength requested for invalid type"),NaN):(t=i.map(function(n){return iu(n).length>0?lr().getCurrentBufferLevel(ar(n)):Number.MAX_VALUE}).reduce(function(n,t){return Math.min(n,t)}),t===Number.MAX_VALUE?NaN:t)}function yf(){var n=li();return n?n.manifestInfo.DVRWindowSize:0}function er(n){var t=li(),r,i;return t?(r=w.getLiveDelay(),i=t.range.start+n,i>t.range.end-r&&(i=t.range.end-r),i):0}function sr(n){var t,i;if(!c)throw st;return t=ct().currentTime,void 0!==n?t=h.getTimeRelativeToStreamId(t,n):w.getIsDynamic()&&(i=li(),t=null===i?0:cr()-(i.range.end-i.time)),t}function cr(){var i,n,t;if(!c)throw st;if(i=ct().duration,w.getIsDynamic()){if(n=li(),t=void 0,!n)return 0;t=n.range.end-n.range.start;i=t<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return i}function pf(){if(!c)throw st;return sr()<0?NaN:fu(sr())}function wf(){if(!c)throw st;return fu(cr())}function bf(n,t){i.setMaxAllowedBitrateFor(n,t)}function kf(n,t){i.setMinAllowedBitrateFor(n,t)}function df(n){return i.getMaxAllowedBitrateFor(n)}function gf(n){if(!b)throw et;return i.getTopBitrateInfoFor(n)}function ne(n){return i.getMinAllowedBitrateFor(n)}function te(n,t){i.setMaxAllowedRepresentationRatioFor(n,t)}function ie(n){return i.getMaxAllowedRepresentationRatioFor(n)}function re(n){var t,r;if(!b)throw et;return n===u.default.IMAGE?(t=ki(),!t)?-1:(r=t.getThumbnailController(),r?r.getCurrentTrackIndex():-1):i.getQualityFor(n,h.getActiveStreamInfo())}function ue(n,t){var r,f;if(!b)throw et;if(n===u.default.IMAGE){if(r=ki(),!r)return;f=r.getThumbnailController();f&&f.setTrackByIndex(t)}i.setPlaybackQuality(n,h.getActiveStreamInfo(),t)}function fe(){i.setElementSize();i.setWindowResizeEventCalled(!0)}function ee(){return i.getLimitBitrateByPortal()}function oe(n){i.setLimitBitrateByPortal(n)}function se(){return i.getUsePixelRatioInLimitBitrateByPortal()}function he(n){i.setUsePixelRatioInLimitBitrateByPortal(n)}function ce(n,t){i.setInitialBitrateFor(n,t)}function le(n){if(!b)throw et;return i.getInitialBitrateFor(n)}function ae(n,t){i.setInitialRepresentationRatioFor(n,t)}function ve(n){return i.getInitialRepresentationRatioFor(n)}function ye(n){return i.getAutoSwitchBitrateFor(n)}function pe(n,t){i.setAutoSwitchBitrateFor(n,t)}function we(){return i.getUseDeadTimeLatency()}function be(n){i.setUseDeadTimeLatency(n)}function nu(n){y.checkParameterType(n,"boolean");pi=n}function ke(){return pi}function de(t){n.setLiveDelayFragmentCount(t)}function ge(t){n.setLiveDelay(t)}function no(){return n.getLiveDelay()}function to(){if(!ut)throw pt;return c?w.getCurrentLiveLatency():NaN}function io(t){n.setUseSuggestedPresentationDelay(t)}function ro(t,i){n.setLastBitrateCachingInfo(t,i)}function uo(t,i){n.setLastMediaSettingsCachingInfo(t,i)}function fo(t){n.setScheduleWhilePaused(t)}function eo(){return n.getScheduleWhilePaused()}function oo(t){n.setFastSwitchEnabled(t)}function so(){return n.getFastSwitchEnabled()}function ho(t){n.setABRStrategy(t)}function co(){return n.getABRStrategy()}function lo(t){n.setUseDefaultABRRules(t)}function ao(t,i,r){n.addABRCustomRule(t,i,r)}function vo(t){n.removeABRCustomRule(t)}function yo(){n.removeABRCustomRule()}function po(t){n.setMovingAverageMethod(t)}function wo(){return n.getMovingAverageMethod()}function bo(){return n.getLowLatencyEnabled()}function ko(t){n.setLowLatencyEnabled(t)}function go(t,i){n.addUTCTimingSource(t,i)}function ns(t,i){n.removeUTCTimingSource(t,i)}function ts(){n.clearDefaultUTCTimingSources()}function tu(){n.restoreDefaultUTCTimingSources()}function is(t){n.setUseManifestDateHeaderTimeSource(t)}function rs(t){n.setBufferToKeep(t)}function us(t){n.setBufferAheadToKeep(t)}function fs(t){n.setBufferPruningInterval(t)}function es(t){n.setStableBufferTime(t)}function os(){return n.getStableBufferTime()}function ss(t){n.setBufferTimeAtTopQuality(t)}function hs(){return n.getBufferTimeAtTopQuality()}function cs(t){n.setBufferTimeAtTopQualityLongForm(t)}function ls(){return n.getBufferTimeAtTopQualityLongForm()}function as(t){n.setLongFormContentDurationThreshold(t)}function vs(t){n.setSegmentOverlapToleranceTime(t)}function ys(t,i){n.setCacheLoadThresholdForType(t,i)}function ps(t){n.setBandwidthSafetyFactor(t)}function ws(){return n.getBandwidthSafetyFactor()}function bs(n){var t=i.getThroughputHistory();return t?t.getAverageThroughput(n):0}function ks(t){n.setAbandonLoadTimeout(t)}function ds(t){n.setRetryAttemptsForType(s.HTTPRequest.MEDIA_SEGMENT_TYPE,t)}function gs(t){n.setRetryIntervalForType(s.HTTPRequest.MEDIA_SEGMENT_TYPE,t)}function nh(t){n.setRetryAttemptsForType(s.HTTPRequest.MPD_TYPE,t)}function th(t){n.setRetryIntervalForType(s.HTTPRequest.MPD_TYPE,t)}function ih(t,i){n.setXHRWithCredentialsForType(t,i)}function rh(t){return n.getXHRWithCredentialsForType(t)}function uh(t){n.setJumpGaps(t)}function fh(){return n.getJumpGaps()}function eh(t){n.setSmallGapLimit(t)}function oh(){return n.getSmallGapLimit()}function sh(t){n.setManifestUpdateRetryInterval(t)}function hh(){return n.getManifestUpdateRetryInterval()}function lr(){return hi}function ar(n){return vt.getReadOnlyMetricsFor(n)}function ch(n){void 0===r&&(r=f.default(t).getInstance());r.setTextDefaultLanguage(n)}function lh(){return void 0===r&&(r=f.default(t).getInstance()),r.getTextDefaultLanguage()}function ah(n){void 0===r&&(r=f.default(t).getInstance());r.setTextDefaultEnabled(n)}function vh(){return void 0===r&&(r=f.default(t).getInstance()),r.getTextDefaultEnabled()}function yh(n){void 0===r&&(r=f.default(t).getInstance());r.enableText(n)}function ph(n){void 0===r&&(r=f.default(t).getInstance());r.enableForcedTextStreaming(n)}function wh(){return void 0===r&&(r=f.default(t).getInstance()),r.isTextEnabled()}function bh(n){if(!c)throw st;void 0===r&&(r=f.default(t).getInstance());r.setTextTrack(n)}function kh(){var n=NaN;return r&&(n=r.getCurrentTrackIdx()),n}function dh(n){var i=at.default(t).getInstance();i.setConfig({videoModel:nt});i.initialize();i.displayCConTop(n)}function ct(){if(!nt.getElement())throw eu;return nt.getElement()}function gh(){oi.warn("attachVideoContainer method has been deprecated and will be removed in dash.js v3.0.0")}function vr(n){if(!ut)throw pt;nt.setElement(n);n&&(pr(),rl(),ul(),h&&h.switchToVideoElement());c&&ru();wr()}function nc(){return nt?nt.getTTMLRenderingDiv():null}function tc(n){if(!nt.getElement())throw eu;nt.setTTMLRenderingDiv(n)}function ic(n){if(!b)throw et;var t=ki();return t?t.getBitrateListFor(n):[]}function rc(n){if(!b)throw et;return lt.getStreamsInfo(n)}function iu(n){if(!b)throw et;var t=h.getActiveStreamInfo();return d.getTracksFor(n,t)}function uc(n,t,i){if(!b)throw et;return i=i||lt.getStreamsInfo(t,1)[0],i?lt.getAllMediaInfoForType(i,n,t):[]}function fc(n){if(!b)throw et;var t=h.getActiveStreamInfo();return d.getCurrentTrackFor(n,t)}function ec(n,t){if(!ut)throw pt;d.setInitialSettings(n,t)}function oc(n){if(!ut)throw pt;return d.getInitialSettings(n)}function sc(n){if(!b)throw et;d.setTrack(n)}function hc(n){if(!ut)throw pt;return d.getSwitchMode(n)}function cc(n,t){if(!ut)throw pt;d.setSwitchMode(n,t)}function lc(n){if(!ut)throw pt;d.setSelectionModeForInitialTrack(n)}function ac(){if(!ut)throw pt;return d.getSelectionModeForInitialTrack()}function vc(){return pr()}function yc(n){it=n}function pc(n){yi=n;h&&h.setProtectionData(yi)}function wc(n,t){var r,i,u,f;return n<0?null:(r=w.getIsDynamic()?er(n):n,i=h.getStreamForTime(r),null===i)?null:(u=i.getThumbnailController(),!u)?null:(f=h.getTimeRelativeToStreamId(r,i.getId()),u.get(f,t))}function bc(t){n.setKeepProtectionMediaKeys(t)}function kc(n,t){var i=uu(),r=this,u=function n(u){u.error?t(null,u.error):t(u.manifest);ti.off(e.default.INTERNAL_MANIFEST_LOADED,n,r);i.reset()};ti.on(e.default.INTERNAL_MANIFEST_LOADED,u,r);tr.initialize(n);i.load(n)}function dc(){if(!wt)throw ou;return wt}function yr(n){if(!ut)throw pt;"string"==typeof n&&tr.initialize(n);wt=n;(b||c)&&ru();fr()&&wr()}function gc(n,t,i){var f=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],r=new Date(1e3*n),e=r.toLocaleDateString(t),u=r.toLocaleTimeString(t,{hour12:i});return f?u+" "+e:u}function nl(n){n=Math.max(n,0);var t=Math.floor(n/3600),i=Math.floor(n%3600/60),r=Math.floor(n%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(i<10?"0"+i.toString():i.toString())+":"+(r<10?"0"+r.toString():r.toString())}function tl(n,i,r){a.default.extend(n,i,r,t)}function ki(){if(!b)throw et;var n=h.getActiveStreamInfo();return n?h.getStreamById(n.id):null}function ru(){c=!1;b=!1;lt.reset();h.reset();w.reset();i.reset();d.reset();r.reset();it&&(n.getKeepProtectionMediaKeys()?it.stop():(it.reset(),it=null,pr()))}function il(){var u=uu();h||(h=tt.default(t).getInstance());d.setConfig({domStorage:rr});h.setConfig({capabilities:gt,manifestLoader:u,manifestModel:fi,dashManifestModel:ri,mediaPlayerModel:n,protectionController:it,adapter:lt,metricsModel:vt,dashMetrics:hi,errHandler:kt,timelineConverter:gi,videoModel:nt,playbackController:w,domStorage:rr,abrController:i,mediaController:d,textController:r});w.setConfig({streamController:h,metricsModel:vt,dashMetrics:hi,manifestModel:fi,mediaPlayerModel:n,dashManifestModel:ri,adapter:lt,videoModel:nt,timelineConverter:gi,uriFragmentModel:tr});i.setConfig({streamController:h,domStorage:rr,mediaPlayerModel:n,metricsModel:vt,dashMetrics:hi,manifestModel:fi,videoModel:nt,adapter:lt});i.createAbrRulesCollection();r.setConfig({errHandler:kt,manifestModel:fi,dashManifestModel:ri,mediaController:d,streamController:h,videoModel:nt});h.initialize(pi,yi)}function uu(){return ot.default(t).create({errHandler:kt,metricsModel:vt,mediaPlayerModel:n,requestModifier:yt.default(t).getInstance(),mssHandler:kr})}function pr(){var n,i;return it?it:(n=dashjs.Protection,"function"==typeof n)?(i=n(t).create(),e.default.extend(n.events),l.default.extend(n.events,{publicOnly:!0}),o.default.extend(n.errors),gt||(gt=p.default(t).getInstance()),it=i.createProtectionSystem({debug:ai,errHandler:kt,videoModel:nt,capabilities:gt,eventBus:ti,events:e.default,BASE64:v.default,constants:u.default})):null}function rl(){var n,i;wi||(n=dashjs.MetricsReporting,"function"==typeof n&&(i=n(t).create(),wi=i.createMetricsReporting({debug:ai,eventBus:ti,mediaElement:ct(),dashManifestModel:ri,metricsModel:vt,events:e.default,constants:u.default,metricsConstants:k.default})))}function ul(){if(!kr){var i=dashjs.MssHandler;"function"==typeof i&&(o.default.extend(i.errors),kr=i(t).create({eventBus:ti,mediaPlayerModel:n,metricsModel:vt,manifestModel:fi,playbackController:w,protectionController:it,baseURLController:ft.default(t).getInstance(),errHandler:kt,events:e.default,constants:u.default,debug:ai,initSegmentType:s.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:v.default,ISOBoxer:or.default}))}}function li(){var n=vt.getReadOnlyMetricsFor(u.default.VIDEO)||vt.getReadOnlyMetricsFor(u.default.AUDIO);return hi.getCurrentDVRInfo(n)}function fu(n){var t=li(),i=void 0;return t?(i=t.manifestInfo.availableFrom.getTime()/1e3,n+(i+t.range.start)):0}function wr(){!b&&wt&&(b=!0,oi.info("Streaming Initialized"),il(),"string"==typeof wt?h.load(wt):h.loadWithManifest(wt));!c&&fr()&&(c=!0,oi.info("Playback Initialized"))}var et="You must first call initialize() and set a source before calling this method",st="You must first call initialize() and set a valid source and view before calling this method",eu="You must first call attachView() to set the video element before calling this method",ou="You must first call attachSource() with a valid source before calling this method",pt="MediaPlayer not initialized!",fl="Playback minimum drift has an invalid value! Use a number from 0 to 0.5",el="Playback maximum drift has an invalid value! Use a number greater or equal to 0",t=this.context,ti=vi.default(t).getInstance(),ai=ci.default(t).getInstance(),br=void 0,oi=void 0,wt=void 0,yi=void 0,ut=void 0,b=void 0,c=void 0,pi=void 0,i=void 0,gi=void 0,d=void 0,it=void 0,wi=void 0,kr=void 0,lt=void 0,vt=void 0,n=void 0,kt=void 0,gt=void 0,h=void 0,w=void 0,hi=void 0,ri=void 0,fi=void 0,nt=void 0,r=void 0,tr=void 0,rr=void 0;return br={initialize:cu,setConfig:hu,on:au,off:vu,extend:tl,attachView:vr,attachSource:yr,isReady:fr,preload:pu,play:wu,isPaused:gr,pause:bu,isSeeking:du,isDynamic:gu,seek:ku,setPlaybackRate:nf,getPlaybackRate:tf,setMute:hf,isMuted:cf,setVolume:lf,getVolume:af,time:sr,duration:cr,timeAsUTC:pf,durationAsUTC:wf,getActiveStream:ki,getDVRWindowSize:yf,getDVRSeekOffset:er,convertToTimeCode:nl,formatUTC:gc,getVersion:dr,getDebug:yu,getBufferLength:vf,getTTMLRenderingDiv:nc,getVideoElement:ct,getSource:dc,setLiveDelayFragmentCount:de,setLiveDelay:ge,getLiveDelay:no,getCurrentLiveLatency:to,useSuggestedPresentationDelay:io,enableLastBitrateCaching:ro,enableLastMediaSettingsCaching:uo,setMaxAllowedBitrateFor:bf,getMaxAllowedBitrateFor:df,getTopBitrateInfoFor:gf,setMinAllowedBitrateFor:kf,getMinAllowedBitrateFor:ne,setMaxAllowedRepresentationRatioFor:te,getMaxAllowedRepresentationRatioFor:ie,setAutoPlay:nu,getAutoPlay:ke,setScheduleWhilePaused:fo,getScheduleWhilePaused:eo,getDashMetrics:lr,getMetricsFor:ar,getQualityFor:re,setQualityFor:ue,updatePortalSize:fe,getLimitBitrateByPortal:ee,setLimitBitrateByPortal:oe,getUsePixelRatioInLimitBitrateByPortal:se,setUsePixelRatioInLimitBitrateByPortal:he,setTextDefaultLanguage:ch,getTextDefaultLanguage:lh,setTextDefaultEnabled:ah,getTextDefaultEnabled:vh,enableText:yh,enableForcedTextStreaming:ph,isTextEnabled:wh,setTextTrack:bh,getBitrateInfoListFor:ic,setInitialBitrateFor:ce,getInitialBitrateFor:le,setInitialRepresentationRatioFor:ae,getInitialRepresentationRatioFor:ve,getStreamsFromManifest:rc,getTracksFor:iu,getTracksForTypeFromManifest:uc,getCurrentTrackFor:fc,setInitialMediaSettingsFor:ec,getInitialMediaSettingsFor:oc,setCurrentTrack:sc,getTrackSwitchModeFor:hc,setTrackSwitchModeFor:cc,setSelectionModeForInitialTrack:lc,getSelectionModeForInitialTrack:ac,setFastSwitchEnabled:oo,getFastSwitchEnabled:so,setMovingAverageMethod:po,getMovingAverageMethod:wo,getAutoSwitchQualityFor:ye,setAutoSwitchQualityFor:pe,setABRStrategy:ho,getABRStrategy:co,useDefaultABRRules:lo,addABRCustomRule:ao,removeABRCustomRule:vo,removeAllABRCustomRule:yo,setBandwidthSafetyFactor:ps,getBandwidthSafetyFactor:ws,getAverageThroughput:bs,setAbandonLoadTimeout:ks,retrieveManifest:kc,addUTCTimingSource:go,removeUTCTimingSource:ns,clearDefaultUTCTimingSources:ts,restoreDefaultUTCTimingSources:tu,setBufferToKeep:rs,setBufferAheadToKeep:us,setBufferPruningInterval:fs,setStableBufferTime:es,getStableBufferTime:os,setBufferTimeAtTopQuality:ss,getBufferTimeAtTopQuality:hs,setBufferTimeAtTopQualityLongForm:cs,getBufferTimeAtTopQualityLongForm:ls,setFragmentLoaderRetryAttempts:ds,setFragmentLoaderRetryInterval:gs,setManifestLoaderRetryAttempts:nh,setManifestLoaderRetryInterval:th,setXHRWithCredentialsForType:ih,getXHRWithCredentialsForType:rh,setJumpGaps:uh,getJumpGaps:fh,setSmallGapLimit:eh,getSmallGapLimit:oh,setLowLatencyEnabled:ko,getLowLatencyEnabled:bo,setCatchUpPlaybackRate:rf,getCatchUpPlaybackRate:uf,setLowLatencyMinDrift:ff,getLowLatencyMinDrift:ef,setLowLatencyMaxDriftBeforeSeeking:of,getLowLatencyMaxDriftBeforeSeeking:sf,setManifestUpdateRetryInterval:sh,getManifestUpdateRetryInterval:hh,setLongFormContentDurationThreshold:as,setSegmentOverlapToleranceTime:vs,setCacheLoadThresholdForType:ys,getProtectionController:vc,attachProtectionController:yc,setProtectionData:pc,enableManifestDateHeaderTimeSource:is,displayCaptionsOnTop:dh,attachVideoContainer:gh,attachTTMLRenderingDiv:tc,getCurrentTextTrackIndex:kh,getUseDeadTimeLatencyForAbr:we,setUseDeadTimeLatencyForAbr:be,getThumbnail:wc,keepProtectionMediaKeys:bc,reset:lu},su(),br}var h;Object.defineProperty(i,"__esModule",{value:!0});var w=n(101),u=r(w),b=n(102),k=r(b),d=n(112),g=r(d),nt=n(114),tt=r(nt),it=n(110),rt=r(it),ut=n(105),ft=r(ut),et=n(91),ot=r(et),st=n(202),ht=r(st),ct=n(198),p=r(ct),lt=n(193),at=r(lt),vt=n(207),yt=r(vt),pt=n(191),f=r(pt),wt=n(145),bt=r(wt),kt=n(142),dt=r(kt),gt=n(143),ni=r(gt),ti=n(144),ii=r(ti),ri=n(104),ui=r(ri),fi=n(146),ei=r(fi),oi=n(200),si=r(oi),hi=n(46),ci=r(hi),li=n(50),o=r(li),ai=n(47),vi=r(ai),yi=n(53),e=r(yi),pi=n(94),l=r(pi),wi=n(48),a=r(wi),bi=n(49),ki=n(55),di=r(ki),gi=n(62),nr=r(gi),tr=n(57),ir=r(tr),rr=n(79),ur=r(rr),s=n(235),fr=n(1),v=r(fr),er=n(6),or=r(er),sr=n(215),hr=r(sr),y=n(208);c.__dashjs_factory_name="MediaPlayer";h=a.default.getClassFactory(c);h.events=l.default;h.errors=o.default;a.default.updateClassFactory(c.__dashjs_factory_name,h);i.default=h;t.exports=i.default},{1:1,101:101,102:102,104:104,105:105,110:110,112:112,114:114,142:142,143:143,144:144,145:145,146:146,191:191,193:193,198:198,200:200,202:202,207:207,208:208,215:215,235:235,46:46,47:47,48:48,49:49,50:50,53:53,55:55,57:57,6:6,62:62,79:79,91:91,94:94}],94:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(54),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.AST_IN_FUTURE="astInFuture";this.BUFFER_EMPTY="bufferStalled";this.BUFFER_LOADED="bufferLoaded";this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged";this.ERROR="error";this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted";this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress";this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted";this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned";this.LOG="log";this.MANIFEST_LOADED="manifestLoaded";this.METRICS_CHANGED="metricsChanged";this.METRIC_CHANGED="metricChanged";this.METRIC_ADDED="metricAdded";this.METRIC_UPDATED="metricUpdated";this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted";this.PERIOD_SWITCH_STARTED="periodSwitchStarted";this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested";this.QUALITY_CHANGE_RENDERED="qualityChangeRendered";this.TRACK_CHANGE_RENDERED="trackChangeRendered";this.SOURCE_INITIALIZED="sourceInitialized";this.STREAM_INITIALIZED="streamInitialized";this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete";this.TEXT_TRACKS_ADDED="allTextTracksAdded";this.TEXT_TRACK_ADDED="textTrackAdded";this.TTML_PARSED="ttmlParsed";this.TTML_TO_PARSE="ttmlToParse";this.CAPTION_RENDERED="captionRendered";this.CAPTION_CONTAINER_RESIZE="captionContainerResize";this.CAN_PLAY="canPlay";this.PLAYBACK_ENDED="playbackEnded";this.PLAYBACK_ERROR="playbackError";this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed";this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded";this.PLAYBACK_PAUSED="playbackPaused";this.PLAYBACK_PLAYING="playbackPlaying";this.PLAYBACK_PROGRESS="playbackProgress";this.PLAYBACK_RATE_CHANGED="playbackRateChanged";this.PLAYBACK_SEEKED="playbackSeeked";this.PLAYBACK_SEEKING="playbackSeeking";this.PLAYBACK_SEEK_ASKED="playbackSeekAsked";this.PLAYBACK_STALLED="playbackStalled";this.PLAYBACK_STARTED="playbackStarted";this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated";this.PLAYBACK_WAITING="playbackWaiting";this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{54:54}],95:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function o(){function n(n,r,u){if(!n||!/^VIDEO$/i.test(n.nodeName))return null;if(n._dashjs_player)return n._dashjs_player;var f=void 0,e=n.id||n.name||"video element";if((r=r||[].slice.call(n.querySelectorAll("source")).filter(function(n){return n.type==i})[0])||!n.src){if(!r&&!n.src)return null}else r=document.createElement("source"),r.src=n.src;return u=u||{},f=c.default(u).create(),f.initialize(n,r.src,n.autoplay),t||(t=f.getDebug().getLogger()),t.debug("Converted "+e+" to dash.js player and added content: "+r.src),n._dashjs_player=f,f}function r(t,r){var o=[],s,h,f,c,e;for(t=t||"[data-dashjs-player]",r=r||document,s=r.querySelectorAll(t),f=0;f<s.length;f++)e=n(s[f],null),o.push(e);for(h=r.querySelectorAll('source[type="'+i+'"]'),f=0;f<h.length;f++)c=u(h[f]),e=n(c,null),o.push(e);return o}function u(n){for(var i,t=!0;t;){if(i=n,t=!1,/^VIDEO$/i.test(i.nodeName))return i;n=i.parentNode;t=!0}}var i="application/dash+xml",t=void 0;return{create:n,createAll:r}}function u(){window.removeEventListener("load",u);r.createAll()}function s(){window.dashjs&&(window.clearInterval(f),r.createAll())}Object.defineProperty(i,"__esModule",{value:!0});var h=n(93),c=e(h),r=o(),f=void 0;"undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate||"undefined"==typeof window||!window||!window.addEventListener||("complete"===window.document.readyState?window.dashjs?r.createAll():f=window.setInterval(s,500):window.addEventListener("load",u));i.default=r;t.exports=i.default},{93:93}],96:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function s(){e=o.default(b).getInstance().getLogger(r)}function h(){t=[];i=null;u=null}function c(n){"InitializationSegment"!==n.segmentType?(t.push(n),t.sort(function(n,t){return n.start-t.start}),i=null):i=n;e.debug("PreBufferSink appended chunk s: "+n.start+"; e: "+n.end);u&&u({chunk:n})}function f(n,i){t=t.filter(function(t){return!((isNaN(i)||t.start<i)&&(isNaN(n)||t.end>n))})}function l(){}function a(){for(var i,u,n=[],r=0;r<t.length;r++)i=t[r],0===n.length||i.start>n[n.length-1].end?n.push({start:i.start,end:i.end}):n[n.length-1].end=i.end;return u={start:function(t){return n[t].start},end:function(t){return n[t].end}},Object.defineProperty(u,"length",{get:function(){return n.length}}),u}function v(){return!1}function y(){}function p(n,t){var r=w(n,t);return i&&(r.push(i),i=null),f(n,t),r}function w(n,i){return t.filter(function(t){return(isNaN(i)||t.start<i)&&(isNaN(n)||t.end>n)})}var b=this.context,r=void 0,e=void 0,i=void 0,t=[],u=n;return r={getAllBufferRanges:a,append:c,remove:f,abort:l,discharge:p,reset:h,updateTimestampOffset:y,hasDiscontinuitiesAfter:v},s(),r}var f;Object.defineProperty(i,"__esModule",{value:!0});var e=n(46),o=r(e),s=n(48),h=r(s);u.__dashjs_factory_name="PreBufferSink";f=h.default.getClassFactory(u);i.default=f;t.exports=i.default},{46:46,48:48}],97:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n,t,i,r){function ot(){var i,u,f;s=c.default(nt).getInstance().getLogger(it);a=!1;i=t.codec;try{if(i.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if(e=r||n.addSourceBuffer(i),e.changeType&&r&&(s.debug("Doing period transition with changeType"),e.changeType(i)),u=50,"function"==typeof e.addEventListener)try{e.addEventListener("updateend",et,!1);e.addEventListener("error",b,!1);e.addEventListener("abort",b,!1)}catch(h){rt=setInterval(ft,u)}else rt=setInterval(ft,u)}catch(o){if(!t.isText&&-1===i.indexOf('codecs="stpp')&&-1===i.indexOf('codecs="wvtt'))throw o;f=k.default(nt).getInstance();e=f.getTextSourceBuffer()}}function st(t){if(e){if("function"==typeof e.removeEventListener&&(e.removeEventListener("updateend",et,!1),e.removeEventListener("error",b,!1),e.removeEventListener("abort",b,!1)),clearInterval(rt),!t){try{e.getClassName&&"TextSourceBuffer"===e.getClassName()||n.removeSourceBuffer(e)}catch(i){s.error("Failed to remove source buffer from media source.")}e=null}a=!1}h=[];y=null}function ht(){return e}function p(){try{return e.buffered}catch(n){return s.error("getAllBufferRanges exception: "+n.message),null}}function ct(n){var t,i,r;try{if(t=p(),t&&t.length>1)for(i=0,r=t.length;i<r;i++)if(i>0&&n<t.start(i)&&t.start(i)>t.end(i-1)+g)return!0}catch(u){s.error("hasDiscontinuities exception: "+u.message)}return!1}function lt(n){if(!n)return void y({chunk:n,error:new u.default(o.default.APPEND_ERROR_CODE,o.default.APPEND_ERROR_MESSAGE)});h.push(n);a||l(e,d.bind(this))}function at(n){e.timestampOffset===n||isNaN(n)||l(e,function(){e.timestampOffset=n})}function vt(t,i,r){var o=this;l(e,function(){try{t>=0&&i>t&&(r||"ended"!==n.readyState)&&e.remove(t,i);l(e,function(){tt.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:o,from:t,to:i,unintended:!1})})}catch(s){tt.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:o,from:t,to:i,unintended:!1,error:new u.default(s.code,s.message)})}})}function d(){var n=this,t=this;h.length>0&&function(){var i,r,f;a=!0;i=h[0];h.splice(0,1);r=[];f=function(){var n=p();yt(t,r,n,i);h.length>0?d.call(this):(a=!1,y&&y({chunk:i}))};try{0===i.bytes.length?f.call(n):(r=p(),e.appendBuffer?e.appendBuffer(i.bytes):e.append(i.bytes,i),l(e,f.bind(n)))}catch(o){s.fatal('SourceBuffer append failed "'+o+'"');h.length>0?d():a=!1;y&&y({chunk:i,error:new u.default(o.code,o.message)})}}()}function yt(n,t,i,r){t&&t.length>0&&t.length<i.length&&pt(t,r)&&tt.trigger(f.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:n,from:i.end(i.length-2),to:i.start(i.length-1),unintended:!0})}function pt(n,t){for(var r,u,i=0;i<n.length;i++)if(r=Math.round(n.start(i)),u=Math.round(n.end(i)),u===t.start||r===t.end||t.start>=r&&t.end<=u)return!0;return!1}function wt(){try{"open"===n.readyState?e.abort():e.setTextTrack&&"ended"===n.readyState&&e.abort()}catch(t){s.error('SourceBuffer append abort failed: "'+t+'"')}h=[]}function w(){if(ut.length>0){var n=ut.shift();e.updating?l(e,n):(n(),w())}}function ft(){e.updating||w()}function et(){e.updating||w()}function b(){s.error("SourceBufferSink error",t.type)}function l(n,t){ut.push(t);n.updating||w()}var nt=this.context,tt=v.default(nt).getInstance(),it=void 0,s=void 0,e=void 0,a=void 0,rt=void 0,ut=[],h=[],y=i;return it={getAllBufferRanges:p,getBuffer:ht,append:lt,remove:vt,abort:wt,reset:st,updateTimestampOffset:at,hasDiscontinuitiesAfter:ct},ot(),it}var s;Object.defineProperty(i,"__esModule",{value:!0});var h=n(46),c=r(h),l=n(215),u=r(l),a=n(47),v=r(a),y=n(53),f=r(y),p=n(48),w=r(p),b=n(191),k=r(b),d=n(50),o=r(d),g=.1;e.__dashjs_factory_name="SourceBufferSink";s=w.default.getClassFactory(e);i.default=s;t.exports=i.default},{191:191,215:215,46:46,47:47,48:48,50:50,53:53}],98:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function s(n){function tr(){h=tt.default(ut).getInstance().getLogger(f);ui();ht=p.default(ut).create({mediaPlayerModel:ki,metricsModel:gi,errHandler:w});ir()}function ir(){s.on(u.default.BUFFERING_COMPLETED,ai,f);s.on(u.default.DATA_UPDATE_COMPLETED,vi,f)}function rr(){s.off(u.default.DATA_UPDATE_COMPLETED,vi,f);s.off(u.default.BUFFERING_COMPLETED,ai,f)}function ur(){st&&(s.on(u.default.KEY_ERROR,k,f),s.on(u.default.SERVER_CERTIFICATE_UPDATED,k,f),s.on(u.default.LICENSE_REQUEST_COMPLETE,k,f),s.on(u.default.KEY_SYSTEM_SELECTED,k,f),s.on(u.default.KEY_SESSION_CREATED,k,f),s.on(u.default.KEY_STATUSES_CHANGED,k,f))}function fr(){st&&(s.off(u.default.KEY_ERROR,k,f),s.off(u.default.SERVER_CERTIFICATE_UPDATED,k,f),s.off(u.default.LICENSE_REQUEST_COMPLETE,k,f),s.off(u.default.KEY_SYSTEM_SELECTED,k,f),s.off(u.default.KEY_SESSION_CREATED,k,f),s.off(u.default.KEY_STATUSES_CHANGED,k,f))}function er(n,t){i=n;st=t;ur()}function or(n,t){if(!ot){var i=void 0;return s.on(u.default.CURRENT_TRACK_CHANGED,kt,f),bi()?(dr(),i=t):i=kr(n,t),ot=!0,i}return t}function ri(n){for(var r=t?t.length:0,i=0;i<r;i++)t[i].getFragmentModel().removeExecutedRequestsBeforeTime(oi()+ei()),t[i].reset(!1,n);t=[];ot=!1;vt=!1;gt(!1);s.off(u.default.CURRENT_TRACK_CHANGED,kt,f)}function sr(){return ot}function hr(n){for(var r,i=0;i<t.length;)si(t[i].getMediaInfo())?(t[i].setMediaSource(n),i++):(t[i].reset(),t.splice(i,1));for(i=0;i<t.length;i++)t[i].dischargePreBuffer();0===t.length&&(r="No streams to play.",w.manifestError(r,"nostreams",y.getValue()),w.error(new o.default(e.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,r+"nostreams",y.getValue())),h.fatal(r))}function ui(){ri();i=null;yt={};nt=!1}function fi(){et&&et.pause();ht&&(ht.reset(),ht=null);ui();rr();fr();gt(!1)}function ei(){return i?i.duration:NaN}function oi(){return i?i.start:NaN}function cr(){return i?i.id:null}function wt(){return i}function lr(){return ht}function ar(){return pt}function bt(){if(!(it&&it.hasOwnProperty("getBitrateList")&&c&&c.hasOwnProperty("getAllMediaInfoForType")&&c.hasOwnProperty("getEventsFor")))throw new Error(r.default.MISSING_CONFIG_ERROR);}function vr(n){if(bt(),n===r.default.IMAGE)return pt?pt.getBitrateList():[];var t=gr(n);return it.getBitrateList(t)}function yr(){g&&g.start()}function pr(){g&&g.stop()}function k(n){n.error&&(w.mediaKeySessionError(n.error.message),w.error(n.error),h.fatal(n.error.message),fi())}function si(n){var t=n.type,u=void 0,i=void 0;if(t===r.default.MUXED&&n)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",h.fatal(i),w.manifestError(i,"multiplexedrep",y.getValue()),w.error(new o.default(e.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,i,y.getValue())),!1;if(t===r.default.TEXT||t===r.default.FRAGMENTED_TEXT||t===r.default.EMBEDDED_TEXT||t===r.default.IMAGE)return!0;if(u=n.codec,h.debug(t+" codec: "+u),n.contentProtection&&!ti.supportsEncryptedMedia())w.capabilityError("encryptedmedia"),w.error(new o.default(e.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,e.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!ti.supportsCodec(u))return i=t+"Codec ("+u+") is not supported.",h.error(i),!1;return!0}function kt(n){var t,f,u,e;n.newMediaInfo.streamInfo.id===i.id&&(t=yi(n.newMediaInfo),t&&(f=et.getTime(),h.info("Stream -  Process track changed at current time "+f),u=n.newMediaInfo,e=y.getValue(),c.setCurrentMediaInfo(i.id,u.type,u),h.debug("Stream -  Update stream controller"),e.refreshManifestOnSwitchTrack?(h.debug("Stream -  Refreshing manifest for switch track"),ct=n,di.refreshManifest()):(t.selectMediaInfo(u),u.type!==r.default.FRAGMENTED_TEXT?(it.updateTopQualityIndex(u),t.switchTrackAsked(),t.getFragmentModel().abortRequests()):(t.getScheduleController().setSeekTarget(NaN),c.setIndexHandlerTime(t,f),c.resetIndexHandler(t)))))}function wr(i,u,e,o){var s=l.default(ut).create({type:i.type,mimeType:i.mimeType,timelineConverter:fu,adapter:c,manifestModel:y,dashManifestModel:ni,mediaPlayerModel:ki,metricsModel:gi,dashMetrics:n.dashMetrics,baseURLController:n.baseURLController,stream:f,abrController:it,domStorage:n.domStorage,playbackController:et,mediaController:ft,streamController:n.streamController,textController:at,errHandler:w}),a,h;if(s.initialize(e),it.updateTopQualityIndex(i),o?(s.setBuffer(o.buffer),s.getIndexHandler().setCurrentTime(o.currentTime),t[o.replaceIdx]=s):t.push(s),!o||!o.ignoreMediaInfo)if(i.type===r.default.TEXT||i.type===r.default.FRAGMENTED_TEXT){for(a=void 0,h=0;h<u.length;h++)u[h].index===i.index&&(a=h),s.addMediaInfo(u[h]);s.selectMediaInfo(u[a])}else s.addMediaInfo(i,!0)}function a(t,u){var e=c.getAllMediaInfoForType(i,t),o=null,l=void 0,s,a;if(!e||0===e.length)return void h.info("No "+t+" data.");for(s=0,a=e.length;s<a;s++)if(o=e[s],t===r.default.EMBEDDED_TEXT)at.addEmbeddedTrack(o);else{if(!si(o))continue;ft.addTrack(o)}if(t!==r.default.EMBEDDED_TEXT&&0!==ft.getTracksFor(t,i).length){if(t===r.default.IMAGE)return void(pt=b.default(ut).create({dashManifestModel:ni,adapter:c,baseURLController:n.baseURLController,stream:f,timelineConverter:n.timelineConverter}));(t!==r.default.FRAGMENTED_TEXT||t===r.default.FRAGMENTED_TEXT&&at.getTextDefaultEnabled())&&(ft.checkInitialMediaSettingsForType(t,i),l=ft.getCurrentTrackFor(t,i));t!==r.default.FRAGMENTED_TEXT||at.getTextDefaultEnabled()||(l=ft.getTracksFor(t,i)[0]);wr(l,e,u)}}function hi(){g||(g=v.default(ut).create(),g.setConfig({manifestUpdater:di,playbackController:et}),ci())}function ci(){var n=c.getEventsFor(i);g.addInlineEvents(n)}function br(n){g&&g.addInbandEvents(n)}function kr(n,i){var u,s,f;return bt(),u=eu.getElement(),hi(),nt=!0,rt(r.default.VIDEO),rt(r.default.AUDIO),(null===u||u&&/^VIDEO$/i.test(u.nodeName))&&a(r.default.VIDEO,n),a(r.default.AUDIO,n),a(r.default.TEXT,n),a(r.default.FRAGMENTED_TEXT,n),a(r.default.EMBEDDED_TEXT,n),a(r.default.MUXED,n),a(r.default.IMAGE,n),s=li(i),(vt=!0,nt=!1,0===t.length)?(f="No streams to play.",w.manifestError(f,"nostreams",y.getValue()),w.error(new o.default(e.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,f,y.getValue())),h.fatal(f)):lt(),s}function dr(){if(nt=!0,bt(),rt(r.default.VIDEO),rt(r.default.AUDIO),vt=!0,nt=!1,0===t.length){var n="No streams to play.";w.manifestError(n,"nostreams",y.getValue());h.debug(n)}else lt()}function rt(n){var t=c.getAdaptationForType(y.getValue(),i.index,n,i);t&&Array.isArray(t.Representation_asArray)&&(t.Representation_asArray=t.Representation_asArray.filter(function(n,i){if(0===i)return!0;var r=ni.getCodec(t,i,!0);return!!ti.supportsCodec(r)||(h.error("[Stream] codec not supported: "+r),!1)}))}function lt(){for(var f=t.length,h=!!yt.audio||!!yt.video,c=h?new o.default(e.default.DATA_UPDATE_FAILED_ERROR_CODE,e.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,n=0;n<f;n++)if(t[n].isUpdating()||nt)return;if(vt){if(st)for(n=0;n<f&&t[n];n++)t[n].getType()!==r.default.AUDIO&&t[n].getType()!==r.default.VIDEO&&t[n].getType()!==r.default.FRAGMENTED_TEXT||st.initializeForMedia(t[n].getMediaInfo());s.trigger(u.default.STREAM_INITIALIZED,{streamInfo:i,error:c})}}function gr(n){for(var u=t.length,i=null,r=0;r<u;r++)if(i=t[r],i.getType()===n)return i.getMediaInfo();return null}function li(n){for(var r={},i=0,u=t.length;i<u;i++)r[t[i].getType()]=t[i].createBuffer(n).getBuffer();return r}function ai(n){var f,e,t;if(n.streamInfo===i){if(f=dt(),e=f.length,0===e)return void h.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined");for(t=0;t<e;t++)if(!f[t].isBufferingCompleted()&&(f[t].getType()===r.default.AUDIO||f[t].getType()===r.default.VIDEO))return void h.warn("onBufferingCompleted - One streamProcessor has finished but",f[t].getType(),"one is not buffering completed");h.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED");s.trigger(u.default.STREAM_BUFFERING_COMPLETED,{streamInfo:i})}}function vi(n){var t=n.sender.getStreamProcessor();t.getStreamInfo()===i&&(yt[t.getType()]=n.error,lt())}function yi(n){return n?dt().filter(function(t){return t.getType()===n.type})[0]:null}function dt(){for(var e=t.length,f=[],n=void 0,i=void 0,u=0;u<e;u++)i=t[u],(n=i.getType())!==r.default.AUDIO&&n!==r.default.VIDEO&&n!==r.default.FRAGMENTED_TEXT&&n!==r.default.TEXT||f.push(i);return f}function nu(n){var f,s,e,u,o;for(h.info("Manifest updated... updating data system wide."),ot=!1,nt=!0,i=n,g&&ci(),rt(r.default.VIDEO),rt(r.default.AUDIO),f=0,s=t.length;f<s;f++)e=t[f],u=c.getMediaInfoForType(i,e.getType()),it.updateTopQualityIndex(u),e.addMediaInfo(u,!0);if(ct&&(u=ct.newMediaInfo,"fragmentedText"!==u.type)){if(o=yi(ct.oldMediaInfo),!o)return;o.switchTrackAsked();ct=void 0}nt=!1;lt()}function tu(n){return wi(n,r.default.VIDEO)&&wi(n,r.default.AUDIO)}function iu(n){return pi(n,r.default.VIDEO)&&pi(n,r.default.AUDIO)}function pi(n,t){var i,r,u,f;return n?(i=n.getStreamInfo(),r=wt(),!i||!r)?!1:(u=c.getAdaptationForType(y.getValue(),i.index,t,i),f=c.getAdaptationForType(y.getValue(),r.index,t,r),u&&f?!u.ContentProtection&&!f.ContentProtection:!u&&!f):!1}function wi(n,t){var u,f,i,r;if(!n||(u=n.getStreamInfo(),f=wt(),!u||!f))return!1;if(i=c.getAdaptationForType(y.getValue(),u.index,t,u),r=c.getAdaptationForType(y.getValue(),f.index,t,f),!i||!r)return!i&&!r;var s=i&&r&&i.mimeType===r.mimeType,e=r.Representation_asArray.map(function(n){return n.codecs}),o=i.Representation_asArray.map(function(n){return n.codecs}),h=o.some(function(n){return e.indexOf(n)>-1}),l=o.some(function(n){return e.some(function(t){return ru(t,n)})});return h||l&&s}function ru(n,t){for(var u=n.split(".")[0],f=0===t.indexOf(u),r=void 0,i=0;i<ii.length;i++)if(ii[i].codec===u){r=ii[i];break}return r?f||r.compatibleCodecs.some(function(n){return 0===t.indexOf(n)}):f}function gt(n){nr=n}function bi(){return nr}function uu(n,i){hi();a(r.default.VIDEO,n);a(r.default.AUDIO,n);a(r.default.TEXT,n);a(r.default.FRAGMENTED_TEXT,n);a(r.default.EMBEDDED_TEXT,n);a(r.default.MUXED,n);a(r.default.IMAGE,n);li(i);s.on(u.default.CURRENT_TRACK_CHANGED,kt,f);for(var e=0;e<t.length&&t[e];e++)t[e].getScheduleController().start();gt(!0)}n=n||{};var ut=this.context,s=d.default(ut).getInstance(),y=n.manifestModel,ni=n.dashManifestModel,ki=n.mediaPlayerModel,di=n.manifestUpdater,c=n.adapter,ti=n.capabilities,w=n.errHandler,fu=n.timelineConverter,gi=n.metricsModel,it=n.abrController,et=n.playbackController,ft=n.mediaController,at=n.textController,eu=n.videoModel,f=void 0,h=void 0,t=void 0,ot=void 0,vt=void 0,i=void 0,yt=void 0,nt=void 0,st=void 0,ht=void 0,pt=void 0,g=void 0,nr=void 0,ct=void 0,ii=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];return f={initialize:er,activate:or,deactivate:ri,isActive:sr,getDuration:ei,getStartTime:oi,getId:cr,getStreamInfo:wt,preload:uu,getFragmentController:lr,getThumbnailController:ar,getBitrateListFor:vr,startEventController:yr,stopEventController:pr,updateData:nu,reset:fi,getProcessors:dt,setMediaSource:hr,isMediaCodecCompatible:tu,isProtectionCompatible:iu,getPreloaded:bi,addInbandEvents:br},tr(),f}Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),r=f(h),c=n(99),l=f(c),a=n(108),v=f(a),y=n(109),p=f(y),w=n(194),b=f(w),k=n(47),d=f(k),g=n(53),u=f(g),nt=n(46),tt=f(nt),it=n(50),e=f(it),rt=n(48),ut=f(rt),ft=n(215),o=f(ft);s.__dashjs_factory_name="Stream";i.default=ut.default.getClassFactory(s);t.exports=i.default},{101:101,108:108,109:109,194:194,215:215,46:46,47:47,48:48,50:50,53:53,99:99}],99:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function kt(){p&&p.getIsDynamic()&&(nt=s.default(v).create({timelineConverter:tt,streamProcessor:i}));yt()}function dt(f){ut=g.default(v).create({mimeType:et,timelineConverter:tt,dashMetrics:lt,metricsModel:d,mediaPlayerModel:it,baseURLController:n.baseURLController,errHandler:ft});ut.initialize(i);o.registerStreamType(e,i);at=u.getFragmentController().getModel(e);at.setStreamProcessor(i);t=or(e);l=y.default(v).create({type:e,mimeType:et,metricsModel:d,adapter:k,dashMetrics:lt,dashManifestModel:bt,timelineConverter:tt,mediaPlayerModel:it,abrController:o,playbackController:p,streamController:st,textController:ct,streamProcessor:i,mediaController:ht});r=w.default(v).create();r.setConfig({abrController:o,domStorage:sr,metricsModel:d,dashMetrics:lt,dashManifestModel:bt,manifestModel:ot,playbackController:p,timelineConverter:tt,streamProcessor:i});t.initialize(f);l.initialize();r.initialize()}function gt(n){b.push(n)}function ni(n){var t=b.indexOf(n);-1!==t&&b.splice(t,1)}function ti(){return b}function vt(){b=[]}function yt(){rt=[];h=null;vt()}function ii(n,i){ut.reset();t&&(t.reset(n,i),t=null);l&&(l.reset(),l=null);r&&(r.reset(),r=null);o&&o.unRegisterStreamType(e);b.forEach(function(n){n.reset()});yt();e=null;u=null;nt&&(nt.reset(),nt=null)}function ri(){return!!r&&r.isUpdating()}function ui(){return e}function fi(){return r}function ei(){return ut}function oi(){return u?u.getFragmentController():null}function si(){return t.getBuffer()}function hi(n){t.setBuffer(n)}function ci(){return t}function li(){return at}function ai(){return nt}function pt(){return u?u.getStreamInfo():null}function vi(n){u&&u.addInbandEvents(n)}function yi(n){n===h||n&&h&&n.type!==h.type||(h=n);k.updateData(this)}function pi(n,t){-1===rt.indexOf(n)&&rt.push(n);t&&this.selectMediaInfo(n)}function wi(){return rt}function wt(){return h}function bi(){return t.getMediaSource()}function ki(n){t.setMediaSource(n,wt())}function di(){t.dischargePreBuffer()}function gi(){return l}function nr(n){return k.getRepresentationInfo(r,n)}function tr(){return!!t&&t.getIsBufferingCompleted()}function ir(n){return!!t&&null!==t.getRangeAt(n,0)}function rr(){return t.getBufferLevel()}function ur(n,i){t&&t.switchInitData(pt().id,n,i)}function fr(n){return t.getBuffer()||t.createBuffer(h,n)}function er(){l.switchTrackAsked()}function or(n){return n===f.default.VIDEO||n===f.default.AUDIO?c.default(v).create({type:n,metricsModel:d,mediaPlayerModel:it,manifestModel:ot,errHandler:ft,streamController:st,mediaController:ht,adapter:k,textController:ct,abrController:o,playbackController:p,streamProcessor:i}):a.default(v).create({type:n,mimeType:et,metricsModel:d,mediaPlayerModel:it,manifestModel:ot,errHandler:ft,streamController:st,mediaController:ht,adapter:k,textController:ct,abrController:o,playbackController:p,streamProcessor:i})}n=n||{};var v=this.context,e=n.type,ft=n.errHandler,et=n.mimeType,tt=n.timelineConverter,k=n.adapter,ot=n.manifestModel,it=n.mediaPlayerModel,u=n.stream,o=n.abrController,p=n.playbackController,st=n.streamController,ht=n.mediaController,ct=n.textController,sr=n.domStorage,d=n.metricsModel,lt=n.dashMetrics,bt=n.dashManifestModel,i=void 0,h=void 0,rt=void 0,t=void 0,l=void 0,nt=void 0,r=void 0,at=void 0,b=void 0,ut=void 0;return i={initialize:dt,isUpdating:ri,getType:ui,getBufferController:ci,getFragmentModel:li,getScheduleController:gi,getLiveEdgeFinder:ai,getFragmentController:oi,getRepresentationController:fi,getIndexHandler:ei,getRepresentationInfo:nr,getBufferLevel:rr,switchInitData:ur,isBufferingCompleted:tr,timeIsBuffered:ir,createBuffer:fr,getStreamInfo:pt,selectMediaInfo:yi,addMediaInfo:pi,switchTrackAsked:er,getMediaInfoArr:wi,getMediaInfo:wt,getMediaSource:bi,setMediaSource:ki,dischargePreBuffer:di,getBuffer:si,setBuffer:hi,registerExternalController:gt,unregisterExternalController:ni,getExternalControllers:ti,unregisterAllExternalController:vt,addInbandEvents:vi,reset:ii},kt(),i}Object.defineProperty(i,"__esModule",{value:!0});var e=n(101),f=r(e),o=n(205),s=r(o),h=n(107),c=r(h),l=n(190),a=r(l),v=n(113),y=r(v),p=n(61),w=r(p),b=n(48),k=r(b),d=n(56),g=r(d);u.__dashjs_factory_name="StreamProcessor";i.default=k.default.getClassFactory(u);t.exports=i.default},{101:101,107:107,113:113,190:190,205:205,48:48,56:56,61:61}],100:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function r(n,i,r){var u=function(t,u){i.resolved=!0;i.resolvedContent=t||null;s.trigger(w.default.XLINK_ELEMENT_LOADED,{element:i,resolveObject:r,error:t||u?null:new o.default(f.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+n)})},h;n===e?u(null,!0):(h=new a.default(n,c.HTTPRequest.XLINK_EXPANSION_TYPE),t.load({request:h,success:function(n){u(n)},error:function(){u(null)}}))}function u(){t&&(t.abort(),t=null)}n=n||{};var e="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,s=y.default(i).getInstance(),t=h.default(i).create({errHandler:n.errHandler,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier});return{load:r,reset:u}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(215),o=r(e),s=n(148),h=r(s),c=n(235),l=n(226),a=r(l),v=n(47),y=r(v),p=n(53),w=r(p),b=n(48),k=r(b),d=n(50),f=r(d);u.__dashjs_factory_name="XlinkLoader";i.default=k.default.getClassFactory(u);t.exports=i.default},{148:148,215:215,226:226,235:235,47:47,48:48,50:50,53:53}],101:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n);this.init()}return u(n,[{key:"init",value:function(){this.STREAM="stream";this.VIDEO="video";this.AUDIO="audio";this.TEXT="text";this.FRAGMENTED_TEXT="fragmentedText";this.EMBEDDED_TEXT="embeddedText";this.MUXED="muxed";this.IMAGE="image";this.LOCATION="Location";this.INITIALIZE="initialize";this.TEXT_SHOWING="showing";this.TEXT_HIDDEN="hidden";this.CC1="CC1";this.CC3="CC3";this.STPP="stpp";this.TTML="ttml";this.VTT="vtt";this.WVTT="wvtt";this.UTF8="utf-8";this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay";this.SCHEME_ID_URI="schemeIdUri";this.START_TIME="starttime";this.ABR_STRATEGY_DYNAMIC="abrDynamic";this.ABR_STRATEGY_BOLA="abrBola";this.ABR_STRATEGY_THROUGHPUT="abrThroughput";this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow";this.MOVING_AVERAGE_EWMA="ewma";this.BAD_ARGUMENT_ERROR="Invalid Arguments";this.MISSING_CONFIG_ERROR="Missing config parameter(s)"}}]),n}(),e=new f;i.default=e;t.exports=i.default},{}],102:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n);this.init()}return u(n,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList";this.HTTP_REQUEST="HttpList";this.TRACK_SWITCH="RepSwitchList";this.BUFFER_LEVEL="BufferLevel";this.BUFFER_STATE="BufferState";this.DVR_INFO="DVRInfo";this.DROPPED_FRAMES="DroppedFrames";this.SCHEDULING_INFO="SchedulingInfo";this.REQUESTS_QUEUE="RequestsQueue";this.MANIFEST_UPDATE="ManifestUpdate";this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo";this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo";this.PLAY_LIST="PlayList";this.DVB_ERRORS="DVBErrors"}}]),n}(),e=new f;i.default=e;t.exports=i.default},{}],103:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n);this.init()}return u(n,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey";this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha";this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]),n}(),e=new f;i.default=e;t.exports=i.default},{}],104:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function h(){function cr(){ht=yi.getLogger(st);ki()}function lr(t,i){et[t]=ct.default(a).create();n[t]=i;w[t]=w[t]||{};w[t].state=c;k[t]=!1;o.on(e.default.LOADING_PROGRESS,sr,this);t==r.default.VIDEO&&(o.on(e.default.QUALITY_CHANGE_RENDERED,di,this),ot=at.default(a).create(),vi());o.on(e.default.METRIC_ADDED,gi,this);o.on(e.default.PERIOD_SWITCH_COMPLETED,hi,this);ei=yt.default(a).create({mediaPlayerModel:ft})}function ar(t){delete n[t]}function hi(){tt=b.default(a).create({metricsModel:oi,dashMetrics:si,mediaPlayerModel:ft,adapter:ri});tt.initialize()}function ki(){wi={video:!0,audio:!0};u={};h={};t={};i={};w={};n={};et={};k={};ni=!1;wt=!0;ti=!1;void 0===ii&&(ii=!1);fi=void 0;ot=void 0;ei=void 0;clearTimeout(lt);lt=null}function vr(){ki();o.off(e.default.LOADING_PROGRESS,sr,this);o.off(e.default.QUALITY_CHANGE_RENDERED,di,this);o.off(e.default.METRIC_ADDED,gi,this);o.off(e.default.PERIOD_SWITCH_COMPLETED,hi,this);tt&&tt.reset()}function yr(n){n&&(n.streamController&&(pi=n.streamController),n.domStorage&&(ui=n.domStorage),n.mediaPlayerModel&&(ft=n.mediaPlayerModel),n.metricsModel&&(oi=n.metricsModel),n.dashMetrics&&(si=n.dashMetrics),n.adapter&&(ri=n.adapter),n.manifestModel&&(bi=n.manifestModel),n.videoModel&&(rt=n.videoModel))}function pr(){if(!ui||!ui.hasOwnProperty("getSavedBitrateSettings"))throw new Error(r.default.MISSING_CONFIG_ERROR);}function di(n){n.mediaType===r.default.VIDEO&&(fi=n.oldQuality,ot.push(fi,rt.getPlaybackQuality()))}function gi(n){n.metric===l.default.HTTP_REQUEST&&n.value&&n.value.type===pt.HTTPRequest.MEDIA_SEGMENT_TYPE&&(n.mediaType===r.default.AUDIO||n.mediaType===r.default.VIDEO)&&ei.push(n.mediaType,n.value,wt);n.metric!==l.default.BUFFER_LEVEL||n.mediaType!==r.default.AUDIO&&n.mediaType!==r.default.VIDEO||au(n.mediaType,.001*n.value.level)}function d(n,t){var i=void 0;return u[t]=u[t]||{},u[t].hasOwnProperty(n)||(u[t][n]=0),i=ku(u[t][n],n),i=du(i,n,u[t][n]),i=nf(i,n)}function wr(t){var i,r,u;return t&&n&&n[t]&&(i=n[t].getStreamInfo(),i&&i.id)?(r=d(t,i.id),u=gt(n[t].getMediaInfo()),u[r]?u[r]:null):null}function br(n){var f,e,u,o;return pr(),f=ui.getSavedBitrateSettings(n),t.hasOwnProperty(n)||(i.hasOwnProperty(n)?(e=bi.getValue(),u=ri.getAdaptationForType(e,0,n).Representation,Array.isArray(u)?(o=Math.max(Math.round(u.length*i[n])-1,0),t[n]=u[o].bandwidth):t[n]=0):t[n]=isNaN(f)?n===r.default.VIDEO?kt:dt:f),t[n]}function kr(n,i){f.checkIsVideoOrAudioType(n);f.checkParameterType(i,"number");t[n]=i}function dr(n){return i.hasOwnProperty(n)?i[n]:null}function gr(n,t){i[n]=t}function nr(n){return t.hasOwnProperty("max")&&t.max.hasOwnProperty(n)?t.max[n]:NaN}function tr(n){return t.hasOwnProperty("min")&&t.min.hasOwnProperty(n)?t.min[n]:NaN}function nu(n,i){f.checkParameterType(i,"number");f.checkIsVideoOrAudioType(n);t.max=t.max||{};t.max[n]=i}function tu(n,i){f.checkParameterType(i,"number");f.checkIsVideoOrAudioType(n);t.min=t.min||{};t.min[n]=i}function ir(t){var i=nr(t);if(i)return ai(n[t].getMediaInfo(),i)}function ci(t){var r=tr(t);if(r){var f=n[t].getMediaInfo(),u=gt(f),i=ai(f,r);return u[i]&&i<u.length-1&&u[i].bitrate<1e3*r&&i++,i}}function rr(n){return i.hasOwnProperty("max")&&i.max.hasOwnProperty(n)?i.max[n]:1}function iu(n,t){i.max=i.max||{};i.max[n]=t}function li(n){return wi[n]}function ru(n,t){f.checkParameterType(t,"boolean");f.checkIsVideoOrAudioType(n);wi[n]=t}function uu(){return ni}function fu(n){f.checkParameterType(n,"boolean");ni=n}function eu(){return ti}function ou(n){f.checkParameterType(n,"boolean");ti=n}function su(){return wt}function hu(n){f.checkParameterType(n,"boolean");wt=n}function cu(t){var f,h;if(t&&n&&n[t]){var o=n[t].getStreamInfo(),l=o?o.id:null,r=g(t),p=v.default(a).create({abrController:st,streamProcessor:n[t],currentValue:r,switchHistory:et[t],droppedFramesHistory:ot,useBufferOccupancyABR:or(t)});if(ot&&(f=rt.getPlaybackQuality(),f&&ot.push(fi,f)),li(t)){var e=ci(t),u=d(t,l),s=tt.getMaxQuality(p),i=s.quality;(void 0!==e&&i<e&&(i=e),i>u&&(i=u),et[t].push({oldValue:r,newValue:i}),i>y.default.NO_CHANGE&&i!=r)?(w[t].state===c||i>r)&&fr(t,r,i,u,s.reason):yi.getLogToBrowserConsole()&&(h=si.getCurrentBufferLevel(oi.getReadOnlyMetricsFor(t)),ht.debug("AbrController ("+t+") stay on "+r+"/"+u+" (buffer: "+h+")"))}}}function ur(n,t,i,r){var o=t.id,e=g(n),u;f.checkInteger(i);u=d(n,o);i!==e&&i>=0&&i<=u&&fr(n,e,i,u,r)}function fr(t,i,r,u,f){var s,h,c;t&&n[t]&&(s=n[t].getStreamInfo(),h=s?s.id:null,yi.getLogToBrowserConsole()&&(c=si.getCurrentBufferLevel(oi.getReadOnlyMetricsFor(t)),ht.info("AbrController ("+t+") switch from "+i+" to "+r+"/"+u+" (buffer: "+c+") "+(f?JSON.stringify(f):"."))),wu(t,h,r),o.trigger(e.default.QUALITY_CHANGE_REQUESTED,{mediaType:t,streamInfo:s,oldQuality:i,newQuality:r,reason:f}))}function er(n,t){w[n].state=t}function lu(n){return w[n]?w[n].state:null}function ai(t,i,r){var f=t&&t.type?n[t.type].getRepresentationInfo():null,e,o,u;if(wt&&r&&f&&f.fragmentDuration){if(r/=1e3,e=f.fragmentDuration,r>e)return 0;i*=1-r/e}for(o=gt(t),u=o.length-1;u>=0;u--)if(1e3*i>=o[u].bitrate)return u;return s}function gt(n){var u=[];if(!n||!n.bitrateList)return u;for(var r=n.bitrateList,f=n.type,t=void 0,i=0,e=r.length;i<e;i++)t=new nt.default,t.mediaType=f,t.qualityIndex=i,t.bitrate=r[i].bandwidth,t.width=r[i].width,t.height=r[i].height,t.scanType=r[i].scanType,u.push(t);return u}function au(n,t){var u=ft.getABRStrategy();if(u===r.default.ABR_STRATEGY_BOLA)return void(k[n]=!0);if(u===r.default.ABR_STRATEGY_THROUGHPUT)return void(k[n]=!1);var f=ft.getStableBufferTime(),o=f,s=.5*f,e=k[n],i=t>(e?s:o);k[n]=i;i!==e&&(i?ht.info("AbrController ("+n+") switching from throughput to buffer occupancy ABR rule (buffer: "+t.toFixed(3)+")."):ht.info("AbrController ("+n+") switching from buffer occupancy to throughput ABR rule (buffer: "+t.toFixed(3)+")."))}function or(n){return k[n]}function vu(){return ei}function yu(n){var i=n.type,r=n.streamInfo.id,t=n.representationCount-1;return bu(i,r,t),t}function pu(n){var t=n?n.id:null,i=g(r.default.AUDIO),u=g(r.default.VIDEO);return i===d(r.default.AUDIO,t)&&u===d(r.default.VIDEO,t)}function g(t){if(t&&n[t]){var r=n[t].getStreamInfo(),i=r?r.id:null;if(i)return h[i]=h[i]||{},h[i].hasOwnProperty(t)||(h[i][t]=s),h[i][t]}return s}function wu(n,t,i){h[t]=h[t]||{};h[t][n]=i}function bu(n,t,i){u[t]=u[t]||{};u[t][n]=i}function ku(t,i){var r=t,u,f;return n[i]?(u=ci(i),void 0!==u&&(r=Math.max(t,u)),f=ir(i),void 0!==f&&(r=Math.min(r,f)),r):r}function du(n,t,i){var r=rr(t);return isNaN(r)||r>=1||r<0?n:Math.min(n,Math.round(i*r))}function gu(n){ii=n}function vi(){if(rt){var t=ti&&window.hasOwnProperty("devicePixelRatio"),n=t?window.devicePixelRatio:1;vt=rt.getClientWidth()*n;hr=rt.getClientHeight()*n}}function nf(t,i){if(i!==r.default.VIDEO||!ni||!n[i])return t;ii||vi();var e=bi.getValue(),f=ri.getAdaptationForType(e,0,i).Representation,u=t;if(vt>0&&hr>0){for(;u>0&&f[u]&&vt<f[u].width&&vt-f[u-1].width<f[u].width-vt;)u-=1;f.length-2>=u&&f[u].width===f[u+1].width&&(u=Math.min(t,u+1))}return u}function sr(t){var i=t.request.mediaType,u,e,r,f;if(li(i)){if(u=n[i],!u)return;e=v.default(a).create({abrController:st,streamProcessor:u,currentRequest:t.request,useBufferOccupancyABR:or(i)});r=tt.shouldAbandonFragment(e);r.quality>y.default.NO_CHANGE&&(f=u.getFragmentModel(),f.getRequests({state:it.default.FRAGMENT_MODEL_LOADING,index:t.request.index})[0]&&(f.abortRequests(),er(i,p),et[i].reset(),et[i].push({oldValue:g(i,pi.getActiveStreamInfo()),newValue:r.quality,confidence:1,reason:r.reason}),ur(i,pi.getActiveStreamInfo(),r.quality,r.reason),clearTimeout(lt),lt=setTimeout(function(){er(i,c);lt=null},ft.getAbandonLoadTimeout())))}}var a=this.context,yi=bt.default(a).getInstance(),o=ut.default(a).getInstance(),st=void 0,ht=void 0,tt=void 0,pi=void 0,wi=void 0,u=void 0,h=void 0,t=void 0,i=void 0,n=void 0,w=void 0,lt=void 0,ni=void 0,ti=void 0,ii=void 0,vt=void 0,hr=void 0,bi=void 0,ri=void 0,rt=void 0,ft=void 0,ui=void 0,fi=void 0,et=void 0,ot=void 0,ei=void 0,k=void 0,oi=void 0,si=void 0,wt=void 0;return st={isPlayingAtTopQuality:pu,updateTopQualityIndex:yu,getThroughputHistory:vu,getBitrateList:gt,getQualityForBitrate:ai,getMaxAllowedBitrateFor:nr,getTopBitrateInfoFor:wr,getMinAllowedBitrateFor:tr,setMaxAllowedBitrateFor:nu,setMinAllowedBitrateFor:tu,getMaxAllowedIndexFor:ir,getMinAllowedIndexFor:ci,getMaxAllowedRepresentationRatioFor:rr,setMaxAllowedRepresentationRatioFor:iu,getInitialBitrateFor:br,setInitialBitrateFor:kr,getInitialRepresentationRatioFor:dr,setInitialRepresentationRatioFor:gr,setAutoSwitchBitrateFor:ru,getAutoSwitchBitrateFor:li,getUseDeadTimeLatency:su,setUseDeadTimeLatency:hu,setLimitBitrateByPortal:fu,getLimitBitrateByPortal:uu,getUsePixelRatioInLimitBitrateByPortal:eu,setUsePixelRatioInLimitBitrateByPortal:ou,getQualityFor:g,getAbandonmentStateFor:lu,setPlaybackQuality:ur,checkPlaybackQuality:cu,getTopQualityIndexFor:d,setElementSize:vi,setWindowResizeEventCalled:gu,createAbrRulesCollection:hi,registerStreamType:lr,unRegisterStreamType:ar,setConfig:yr,reset:vr},cr(),st}var o;Object.defineProperty(i,"__esModule",{value:!0});var w=n(179),b=u(w),k=n(101),r=u(k),d=n(102),l=u(d),g=n(214),nt=u(g),tt=n(141),it=u(tt),rt=n(47),ut=u(rt),ft=n(53),e=u(ft),et=n(48),a=u(et),ot=n(175),v=u(ot),st=n(176),y=u(st),ht=n(177),ct=u(ht),lt=n(174),at=u(lt),vt=n(178),yt=u(vt),pt=n(235),wt=n(46),bt=u(wt),f=n(208),p="abandonload",c="allowload",kt=1e3,dt=100,s=0;h.__dashjs_factory_name="AbrController";o=a.default.getSingletonFactory(h);o.ABANDON_LOAD=p;o.QUALITY_DEFAULT=s;a.default.updateSingletonFactory(h.__dashjs_factory_name,o);i.default=o;t.exports=i.default},{101:101,102:102,141:141,174:174,175:175,176:176,177:177,178:178,179:179,208:208,214:214,235:235,46:46,47:47,48:48,53:53}],105:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function s(t){n.invalidateSelectedIndexes(t.entry)}function c(){n=o.default(i).create();t=h.default(i).create();d.on(k.default.SERVICE_LOCATION_BLACKLIST_CHANGED,s,r)}function a(i){i.baseURLTreeModel&&(n=i.baseURLTreeModel);i.baseURLSelector&&(t=i.baseURLSelector);i.dashManifestModel&&(u=i.dashManifestModel)}function v(i){n.update(i);t.chooseSelectorFromManifest(i)}function y(i){var u=n.getForPath(i),r=u.reduce(function(n,i){var r=t.select(i);return r?(e.isRelative(r.url)?n.url=e.resolve(r.url,n.url):(n.url=r.url,n.serviceLocation=r.serviceLocation),n.availabilityTimeOffset=r.availabilityTimeOffset,n.availabilityTimeComplete=r.availabilityTimeComplete,n):new f.default},new f.default);if(!e.isRelative(r.url))return r}function p(){n.reset();t.reset()}function b(i){n.setConfig({dashManifestModel:u});t.setConfig({dashManifestModel:u});v(i)}var r=void 0,u=void 0,i=this.context,d=w.default(i).getInstance(),e=l.default(i).getInstance(),n=void 0,t=void 0;return r={reset:p,initialize:b,resolve:y,setConfig:a},c(),r}Object.defineProperty(i,"__esModule",{value:!0});var e=n(140),o=r(e),s=n(196),h=r(s),c=n(210),l=r(c),a=n(82),f=r(a),v=n(48),y=r(v),p=n(47),w=r(p),b=n(53),k=r(b);u.__dashjs_factory_name="BaseURLController";i.default=y.default.getSingletonFactory(u);t.exports=i.default},{140:140,196:196,210:210,47:47,48:48,53:53,82:82}],106:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function f(n){return!!(t.length&&n&&n.length)&&-1!==t.indexOf(n)}function i(n){-1===t.indexOf(n)&&(t.push(n),r.trigger(c,{entry:n}))}function e(n){i(n.entry)}function o(){u&&r.on(u,e,this)}function h(){t=[]}n=n||{};var t=[],r=s.default(this.context).getInstance(),c=n.updateEventName,u=n.addBlacklistEventName;return o(),{add:i,contains:f,reset:h}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(47),s=r(o);u.__dashjs_factory_name="BlackListController";i.default=e.default.getClassFactory(u);t.exports=i.default},{47:47,48:48}],107:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function l(n){function tu(){l=yt.default(vt).getInstance().getLogger(nt);ri=wt.default(vt).getInstance();kr()}function iu(){return d}function ru(n){pr(n);dt=ff.getQualityFor(h,u.getStreamInfo());t.on(r.default.DATA_UPDATE_COMPLETED,cr,this);t.on(r.default.INIT_FRAGMENT_LOADED,pi,this);t.on(r.default.MEDIA_FRAGMENT_LOADED,wi,this);t.on(r.default.QUALITY_CHANGE_REQUESTED,ki,this);t.on(r.default.STREAM_COMPLETED,lr,this);t.on(r.default.PLAYBACK_PLAYING,ir,this);t.on(r.default.PLAYBACK_PROGRESS,at,this);t.on(r.default.PLAYBACK_TIME_UPDATED,at,this);t.on(r.default.PLAYBACK_RATE_CHANGED,yr,this);t.on(r.default.PLAYBACK_SEEKING,di,this);t.on(r.default.PLAYBACK_SEEKED,gi,this);t.on(r.default.PLAYBACK_STALLED,tr,this);t.on(r.default.WALLCLOCK_TIME_UPDATED,vr,this);t.on(r.default.CURRENT_TRACK_CHANGED,ar,this,p.default.EVENT_PRIORITY_HIGH);t.on(r.default.SOURCEBUFFER_REMOVE_COMPLETED,hr,this)}function yi(n,t){if(!ri||!n||!u)return null;if(ni)try{i=t&&t[h]?y.default(vt).create(ni,n,hi.bind(this),t[h]):y.default(vt).create(ni,n,hi.bind(this));"function"==typeof i.getBuffer().initialize&&i.getBuffer().initialize(h,u)}catch(r){l.fatal("Caught error on create SourceBuffer: "+r);gr.mediaSourceError("Error creating "+h+" source buffer.");gr.error(new kt.default(b.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,b.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+h))}else i=rt.default(vt).create(hi.bind(this));return li(u.getRepresentationInfo(dt).MSETimeOffset),i}function uu(){var n,f,t,u,r;if(i&&pt&&"function"==typeof pt.discharge){if(n=pt.getAllBufferRanges(),n.length>0){for(f="Beginning "+h+"PreBuffer discharge, adding buffer for:",t=0;t<n.length;t++)f+=" start: "+n.start(t)+", end: "+n.end(t)+";";l.debug(f)}else l.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var o=pt.discharge(),s=null,e=0;e<o.length;e++)u=o[e],r=ri.extract(u.streamId,u.representationId),r&&(s!==r&&(i.append(r),s=r),i.append(u));pt.reset();pt=null}}function fu(){return u&&rf&&u.getStreamInfo()}function pi(n){n.fragmentModel===u.getFragmentModel()&&(l.info("Init fragment finished loading saving to",h+"'s init cache"),ri.save(n.chunk),l.debug("Append Init fragment",h," with representationId:",n.chunk.representationId," and quality:",n.chunk.quality,", data size:",n.chunk.bytes.byteLength),ui(n.chunk))}function eu(n,i,u){var f=ri.extract(n,i);ct=!0===u&&u;f?(l.info("Append Init fragment",h," with representationId:",f.representationId," and quality:",f.quality,", data size:",f.bytes.byteLength),ui(f)):t.trigger(r.default.INIT_REQUESTED,{sender:nt})}function wi(n){var a,y,t;if(n.fragmentModel===u.getFragmentModel()){var r=n.chunk,p=r.bytes,h=r.quality,c=u.getRepresentationInfo(h),e=bt.getEventsFor(c.mediaInfo,u),s=bt.getEventsFor(c,u);(e&&e.length>0||s&&s.length>0)&&(a=u.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,quality:h,index:r.index})[0],y=cu(p,a,e,s),u.addInbandEvents(y));ct?(vi=r,t=i&&i.getAllBufferRanges(),t&&t.length>0&&w.getTimeToStreamEnd()>f&&(l.debug("Clearing buffer because track changed - "+(t.end(t.length-1)+v)),ci([{start:0,end:t.end(t.length-1)+v,force:!0}]))):ui(r)}}function ui(n){i.append(n);n.mediaInfo.type===e.default.VIDEO&&t.trigger(r.default.VIDEO_CHUNK_RECEIVED,{chunk:n})}function bi(n){if(n&&n.length>0)for(var t=0,i=n.length;t<i;t++)l.debug("Buffered Range for type:",h,":",n.start(t)," - ",n.end(t)," currentTime = ",w.getTime())}function hi(n){var e,c,o,f,s;if(n.error)return n.error.code===k&&(et=.8*wr(),l.warn("Quota exceeded for type: "+h+", Critical Buffer: "+et),et>0)&&(e=Math.max(.2*et,1),c=et-e,ut.setBufferToKeep(parseFloat(e.toFixed(5))),ut.setBufferAheadToKeep(parseFloat(c.toFixed(5)))),void(n.error.code!==k&&br()||(l.warn("Clearing playback buffer to overcome quota exceed situation for type: "+h),t.trigger(r.default.QUOTA_EXCEEDED,{sender:nt,criticalBufferLevel:et}),nr()));(tt=n.chunk)&&!isNaN(tt.index)&&(ti=Math.max(tt.index,ti),er());o=i.getAllBufferRanges();tt.segmentType===gt.HTTPRequest.MEDIA_SEGMENT_TYPE?(bi(o),at()):ct&&(f=w.getTime(),l.debug("AppendToBuffer seek target should be "+f),u.getScheduleController().setSeekTarget(f),bt.setIndexHandlerTime(u,f));s={sender:nt,quality:tt.quality,startTime:tt.start,index:tt.index,bufferedRanges:o};tt&&!tt.endFragment?t.trigger(r.default.BYTES_APPENDED,s):tt&&t.trigger(r.default.BYTES_APPENDED_END_FRAGMENT,s)}function ki(n){dt!==n.newQuality&&h===n.mediaType&&u.getStreamInfo().id===n.streamInfo.id&&(li(u.getRepresentationInfo(n.newQuality).MSETimeOffset),dt=n.newQuality)}function di(){g&&(si=!0,g=!1,ii=Number.POSITIVE_INFINITY);h!==e.default.FRAGMENTED_TEXT?nr():at()}function gi(){oi=void 0}function nr(){var n=ou();n&&0!==n.length||at();ci(n)}function ou(){var e=[],c=i.getAllBufferRanges(),t,p,r,a;if(!c||0===c.length)return e;var b=w.getTime(),y=c.end(c.length-1)+v,n=u.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:b,threshold:s})[0];return n?(t={start:0,end:n.startTime-f},p=u.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:n.startTime-n.duration/2,threshold:s})[0],p&&p.startTime!=n.startTime&&(t.end=p.startTime),t.start<t.end&&t.end>c.start(0)&&e.push(t),r={start:n.startTime+n.duration+f,end:y},a=u.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:n.startTime+n.duration+f,threshold:s})[0],a&&a.startTime!==n.startTime&&(r.start=a.startTime+a.duration+f),r.start<r.end&&r.start<y&&e.push(r)):(l.debug("getAllRangesWithSafetyFactor for",h,"- No request found in current time position, removing full buffer 0 -",y),e.push({start:0,end:y})),e}function su(){var t=w.getTime(),n;return oi&&(n=i.getAllBufferRanges(),n&&n.length&&(t=Math.max(n.start(0),oi))),t}function at(){(!ct||h===e.default.FRAGMENTED_TEXT&&nu.isTextEnabled())&&(ur(),fr())}function tr(){fi()}function ir(){fi()}function rr(n,t){var u=i.getAllBufferRanges(),r=0,f=0,e=null,o=null,h=0,c=void 0,s=void 0,l=t||.15;if(null!==u&&void 0!==u){for(s=0,c=u.length;s<c;s++)if(r=u.start(s),f=u.end(s),null===e)h=Math.abs(r-n),n>=r&&n<f?(e=r,o=f):h<=l&&(e=r,o=f);else{if(!((h=r-o)<=l))break;o=f}if(null!==e)return{start:e,end:o}}return null}function hu(n,t){var i=void 0;return i=rr(n,t),null===i?0:i.end-n}function ur(){w&&(it=hu(su()||0),t.trigger(r.default.BUFFER_LEVEL_UPDATED,{sender:nt,bufferLevel:it}),fi())}function fr(){fu()&&(dr.addBufferState(h,ei,u.getScheduleController().getBufferTarget()),dr.addBufferLevel(h,new Date,1e3*it))}function er(){ti>=ii-1&&!g&&void 0===i.discharge&&(g=!0,l.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),t.trigger(r.default.BUFFERING_COMPLETED,{sender:nt,streamInfo:u.getStreamInfo()}))}function fi(){"audio"!==h&&"video"!==h||(si&&!g&&w&&w.getTimeToStreamEnd()-it<f&&(si=!1,g=!0,l.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),t.trigger(r.default.BUFFERING_COMPLETED,{sender:nt,streamInfo:u.getStreamInfo()})),(!ut.getLowLatencyEnabled()&&it<f||0===it)&&!g?or(a):(g||it>=ut.getStableBufferTime())&&or(c))}function or(n){ei!==n&&(n!==a||0!==w.getTime())&&(h!==e.default.FRAGMENTED_TEXT||nu.isTextEnabled())&&(ei=n,fr(),t.trigger(r.default.BUFFER_LEVEL_STATE_CHANGED,{sender:nt,state:n,mediaType:h,streamInfo:u.getStreamInfo()}),t.trigger(n===c?r.default.BUFFER_LOADED:r.default.BUFFER_EMPTY,{mediaType:h}),l.debug(n===c?"Got enough buffer to start for "+h:"Waiting for more buffer before starting playback for "+h))}function cu(n,t,i,r){for(var e,l=Math.max(!t||isNaN(t.startTime)?0:t.startTime,0),o=[],s=[],f=i.concat(r),u=0,h=f.length;u<h;u++)o[f[u].schemeIdUri+"/"+f[u].value]=f[u];for(var a=lt.default(vt).getInstance().parse(n),c=a.getBoxes("emsg"),u=0,h=c.length;u<h;u++)e=bt.getEvent(c[u],o,l),e&&s.push(e);return s}function lu(){i&&h!==e.default.FRAGMENTED_TEXT&&(g||ci(au()))}function au(){var e=[],n=i.getAllBufferRanges(),r,f,l;if(!n||0===n.length)return e;var h=w.getTime(),t={start:Math.max(0,h-ut.getBufferToKeep()),end:h+ut.getBufferAheadToKeep()},c=u.getFragmentModel().getRequests({state:o.default.FRAGMENT_MODEL_EXECUTED,time:h,threshold:s})[0];if(c)t.start=Math.min(c.startTime,t.start),t.end=Math.max(c.startTime+c.duration,t.end);else if(0===h&&w.getIsDynamic())return[];if(n.start(0)<=t.start){for(r={start:0,end:t.start},f=0;f<n.length&&n.end(f)<=t.start;f++)r.end=n.end(f);r.start<r.end&&e.push(r)}return n.end(n.length-1)>=t.end&&(l={start:t.end,end:n.end(n.length-1)+s},l.start<l.end&&e.push(l)),e}function ci(n){n&&i&&0!==n.length&&(ht.push.apply(ht,n),st||sr())}function sr(){var t,n,r;if(0===ht.length||!i)return l.debug("Nothing to prune, halt pruning"),ht=[],void(st=!1);if(t=i.getBuffer(),!t||!t.buffered||0===t.buffered.length)return l.debug("SourceBuffer is empty (or does not exist), halt pruning"),ht=[],void(st=!1);n=ht.shift();l.debug("Removing",h,"buffer from:",n.start,"to",n.end);st=!0;r=w.getTime();r<n.end&&(g=!1,ti=0,ct||(u.getScheduleController().setSeekTarget(r),bt.setIndexHandlerTime(u,r)));i.remove(n.start,n.end,n.force)}function hr(n){i===n.buffer&&(l.debug("onRemoved buffer from:",n.from,"to",n.to),bi(i.getAllBufferRanges()),0===ht.length&&(st=!1),n.unintended&&(l.warn("Detected unintended removal from:",n.from,"to",n.to,"setting index handler time to",n.from),bt.setIndexHandlerTime(u,n.from)),st?sr():(ct?(ct=!1,vi&&ui(vi)):(l.debug("onRemoved : call updateBufferLevel"),ur()),t.trigger(r.default.BUFFER_CLEARED,{sender:nt,from:n.from,to:n.to,unintended:n.unintended,hasEnoughSpaceToAppend:br()})))}function li(n){i&&i.updateTimestampOffset&&i.updateTimestampOffset(n)}function cr(n){n.sender.getStreamProcessor()!==u||n.error||li(n.currentRepresentation.MSETimeOffset)}function lr(n){n.fragmentModel===u.getFragmentModel()&&(ii=n.request.index,er())}function ar(n){var t=i&&i.getAllBufferRanges();t&&n.newMediaInfo.type===h&&n.newMediaInfo.streamInfo.id===u.getStreamInfo().id&&(l.info("Track change asked"),uf.getSwitchMode(h)===ot.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE&&t&&t.length>0&&w.getTimeToStreamEnd()>f&&(g=!1,ii=Number.POSITIVE_INFINITY))}function vr(){++ai*(ut.getWallclockTimeUpdateInterval()/1e3)>=ut.getBufferPruningInterval()&&(ai=0,lu())}function yr(){fi()}function vu(){return h}function yu(){return u}function pu(n){oi=n}function wu(){return i}function bu(n){i=n}function ku(){return it}function pr(n,t){ni=n;i&&t&&"function"==typeof i.discharge&&(pt=i,yi(t))}function du(){return ni}function gu(){return g}function nf(){return st}function wr(){var t=i.getAllBufferRanges(),r=0,u=void 0,n=void 0;if(!t)return r;for(n=0,u=t.length;n<u;n++)r+=t.end(n)-t.start(n);return r}function br(){return wr()<et}function kr(n,t){et=Number.POSITIVE_INFINITY;ei=void 0;dt=ft.default.QUALITY_DEFAULT;ii=Number.POSITIVE_INFINITY;ti=0;tt=null;g=!1;st=!1;si=!1;it=0;ai=0;ht=[];i&&(n||i.abort(),i.reset(t),i=null);ct=!1}function tf(n,i){t.off(r.default.DATA_UPDATE_COMPLETED,cr,this);t.off(r.default.QUALITY_CHANGE_REQUESTED,ki,this);t.off(r.default.INIT_FRAGMENT_LOADED,pi,this);t.off(r.default.MEDIA_FRAGMENT_LOADED,wi,this);t.off(r.default.STREAM_COMPLETED,lr,this);t.off(r.default.CURRENT_TRACK_CHANGED,ar,this);t.off(r.default.PLAYBACK_PLAYING,ir,this);t.off(r.default.PLAYBACK_PROGRESS,at,this);t.off(r.default.PLAYBACK_TIME_UPDATED,at,this);t.off(r.default.PLAYBACK_RATE_CHANGED,yr,this);t.off(r.default.PLAYBACK_SEEKING,di,this);t.off(r.default.PLAYBACK_SEEKED,gi,this);t.off(r.default.PLAYBACK_STALLED,tr,this);t.off(r.default.WALLCLOCK_TIME_UPDATED,vr,this);t.off(r.default.SOURCEBUFFER_REMOVE_COMPLETED,hr,this);kr(n,i)}n=n||{};var vt=this.context,t=p.default(vt).getInstance(),dr=n.metricsModel,ut=n.mediaPlayerModel,gr=n.errHandler,rf=n.streamController,uf=n.mediaController,bt=n.adapter,nu=n.textController,ff=n.abrController,w=n.playbackController,h=n.type,u=n.streamProcessor,nt=void 0,l=void 0,dt=void 0,g=void 0,it=void 0,et=void 0,ni=void 0,ti=void 0,ii=void 0,i=void 0,pt=void 0,ei=void 0,tt=void 0,ai=void 0,st=void 0,ri=void 0,oi=void 0,si=void 0,ht=void 0,ct=void 0,vi=void 0;return nt={getBufferControllerType:iu,initialize:ru,createBuffer:yi,dischargePreBuffer:uu,getType:vu,getStreamProcessor:yu,setSeekStartTime:pu,getBuffer:wu,setBuffer:bu,getBufferLevel:ku,getRangeAt:rr,setMediaSource:pr,getMediaSource:du,getIsBufferingCompleted:gu,switchInitData:eu,getIsPruningInProgress:nf,reset:tf},tu(),nt}var h;Object.defineProperty(i,"__esModule",{value:!0});var g=n(101),e=u(g),nt=n(141),o=u(nt),tt=n(97),y=u(tt),it=n(96),rt=u(it),ut=n(104),ft=u(ut),et=n(110),ot=u(et),st=n(47),p=u(st),ht=n(53),r=u(ht),ct=n(197),lt=u(ct),at=n(48),w=u(at),vt=n(46),yt=u(vt),pt=n(203),wt=u(pt),bt=n(215),kt=u(bt),dt=n(50),b=u(dt),gt=n(235),c="bufferLoaded",a="bufferStalled",f=.5,v=.5,s=.01,k=22,d="BufferController";l.__dashjs_factory_name=d;h=w.default.getClassFactory(l);h.BUFFER_LOADED=c;h.BUFFER_EMPTY=a;w.default.updateClassFactory(l.__dashjs_factory_name,h);i.default=h;t.exports=i.default},{101:101,104:104,110:110,141:141,197:197,203:203,215:215,235:235,46:46,47:47,48:48,50:50,53:53,96:96,97:97}],108:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function it(){n=s.default(h).getInstance().getLogger(l);b()}function b(){u=!1;e={};i={};t={};r=null;v=100;p=Date.now()/1e3}function f(){if(!w||!o)throw new Error("setConfig function has to be called previously");}function k(){null!==r&&u&&(clearInterval(r),r=null,u=!1)}function rt(){f();n.debug("Start Event Controller");u||isNaN(v)||(u=!0,r=setInterval(st,v))}function ut(t){var i,r;if(f(),e={},t)for(i=0;i<t.length;i++)r=t[i],e[r.id]=r,n.debug("Add inline event with id "+r.id);n.debug("Added "+t.length+" inline events")}function ft(t){var u,r;for(f(),u=0;u<t.length;u++)r=t[u],r.id in i?n.debug("Repeated event with id "+r.id):(r.eventStream.schemeIdUri===g&&void 0===i[r.id]&&et(r),i[r.id]=r,n.debug("Add inband event with id "+r.id))}function et(t){if(t.eventStream.value==nt){var r=t.eventStream.timescale||1,u=t.presentationTime/r,i=void 0;i=4294967295==t.presentationTime?NaN:(t.presentationTime+t.duration)/r;n.info("Manifest validity changed: Valid until: "+u+"; remaining duration: "+i);tt.trigger(a.default.MANIFEST_VALIDITY_CHANGED,{id:t.id,validUntil:u,newDuration:i,newManifestValidAfter:NaN})}}function ot(){var r,i;if(t)for(var f=o.getTime(),e=Object.keys(t),u=0;u<e.length;u++)r=e[u],i=t[r],null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<f&&(n.debug("Remove Event "+r+" at time "+f),i=null,delete t[r])}function st(){var n=o.getTime(),t=n-p;p=n;d(i,t,n);d(e,t,n);ot()}function ht(){f();w.refreshManifest()}function ct(n){y.default(h).create({}).load({method:"get",url:n,request:{responseType:"arraybuffer"}})}function d(i,r,u){var s,h,o,e,f;if(i)for(h=Object.keys(i),o=0;o<h.length;o++)e=h[o],f=i[e],void 0!==f&&(0==(s=f.presentationTime/f.eventStream.timescale)||s<=u&&s+r>u)&&(n.debug("Start Event "+e+" at "+u),f.duration>0&&(t[e]=f),f.eventStream.schemeIdUri==g&&f.eventStream.value==nt?0===f.duration&&0===f.presentationTimeDelta||ht():f.eventStream.schemeIdUri==vt&&f.eventStream.value==yt?ct(f.messageData):tt.trigger(f.eventStream.schemeIdUri,{event:f}),delete i[e])}function lt(n){n&&(n.manifestUpdater&&(w=n.manifestUpdater),n.playbackController&&(o=n.playbackController))}function at(){k();b()}var g="urn:mpeg:dash:event:2012",nt=1,vt="urn:mpeg:dash:event:callback:2015",yt=1,h=this.context,tt=c.default(h).getInstance(),l=void 0,n=void 0,e=void 0,i=void 0,t=void 0,r=void 0,v=void 0,p=void 0,w=void 0,o=void 0,u=void 0;return l={addInlineEvents:ut,addInbandEvents:ft,stop:k,start:rt,setConfig:lt,reset:at},it(),l}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(46),s=r(o),h=n(47),c=r(h),l=n(53),a=r(l),v=n(149),y=r(v);u.__dashjs_factory_name="EventController";i.default=e.default.getClassFactory(u);t.exports=i.default},{149:149,46:46,47:47,48:48,53:53}],109:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n){function b(){p=it.default(r).getInstance().getLogger(e);l();t.on(u.default.FRAGMENT_LOADING_COMPLETED,o,e);t.on(u.default.FRAGMENT_LOADING_PROGRESS,o,e)}function d(n){var t=i[n];return t||(t=a.default(r).create({metricsModel:v,fragmentLoader:y.default(r).create({metricsModel:v,mediaPlayerModel:rt,errHandler:tt,requestModifier:w.default(r).getInstance()})}),i[n]=t),t}function h(n){return n&&n.type&&n.type===s.HTTPRequest.INIT_SEGMENT_TYPE}function l(){for(var n in i)i[n].reset();i={}}function g(){t.off(u.default.FRAGMENT_LOADING_COMPLETED,o,this);t.off(u.default.FRAGMENT_LOADING_PROGRESS,o,this);l()}function nt(n,t,i,r){var u=new c.default;return u.streamId=i,u.mediaInfo=t.mediaInfo,u.segmentType=t.type,u.start=t.startTime,u.duration=t.duration,u.end=u.start+u.duration,u.bytes=n,u.index=t.index,u.quality=t.quality,u.representationId=t.representationId,u.endFragment=r,u}function o(n){var s;if(i[n.request.mediaType]===n.sender){var r=n.request,e=n.response,c=h(r),o=r.mediaInfo.streamInfo;if(n.error&&(n.request.mediaType!==f.default.AUDIO&&n.request.mediaType!==f.default.VIDEO&&n.request.mediaType!==f.default.FRAGMENTED_TEXT||t.trigger(u.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:n.request.serviceLocation})),!e||!o)return void p.warn("No "+r.mediaType+" bytes to push or stream is inactive.");s=nt(e,r,o.id,n.type!==u.default.FRAGMENT_LOADING_PROGRESS);t.trigger(c?u.default.INIT_FRAGMENT_LOADED:u.default.MEDIA_FRAGMENT_LOADED,{chunk:s,fragmentModel:n.sender})}}n=n||{};var r=this.context,t=k.default(r).getInstance(),tt=n.errHandler,rt=n.mediaPlayerModel,v=n.metricsModel,e=void 0,p=void 0,i=void 0;return e={getModel:d,isInitializationRequest:h,reset:g},b(),e}Object.defineProperty(i,"__esModule",{value:!0});var o=n(101),f=r(o),s=n(235),h=n(216),c=r(h),l=n(141),a=r(l),v=n(90),y=r(v),p=n(207),w=r(p),b=n(47),k=r(b),d=n(53),u=r(d),g=n(48),nt=r(g),tt=n(46),it=r(tt);e.__dashjs_factory_name="FragmentController";i.default=nt.default.getClassFactory(e);t.exports=i.default},{101:101,141:141,207:207,216:216,235:235,46:46,47:47,48:48,53:53,90:90}],110:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function o(){function ot(){r=g.default(ft).getInstance().getLogger(v);it()}function st(n,i){var r=l(n),f=k(n,i),e=[];if(n===u.default.FRAGMENTED_TEXT)return void t(f[0]);r||(r=w.getSavedMediaSettings(n),d(n,r));f&&0!==f.length&&(r&&f.forEach(function(n){rt(r,n)&&e.push(n)}),t(0===e.length?ut(f):e.length>1?ut(e):e[0]))}function ht(r){var u,f,h;if(r&&(u=r.type,tt(u))){f=r.streamInfo.id;n[f]||(n[f]=kt());for(var e=n[f][u].list,s=0,c=e.length;s<c;++s)if(i(e[s],r))return;e.push(r);h=l(u);h&&rt(h,r)&&!o(u,r.streamInfo)&&t(r)}}function k(t,i){if(!t||!i)return[];var r=i.id;return n[r]&&n[r][t]?n[r][t].list:[]}function o(t,i){return!t||!i||i&&!n[i.id]?null:n[i.id][t].current}function ct(t){if(!t)return!1;var u=t.type,r=t.streamInfo.id;return n[r]&&n[r][u]&&i(n[r][u].current,t)}function t(t){var r;if(t&&t.streamInfo){var u=t.type,s=t.streamInfo,e=s.id,h=o(u,s);n[e]&&n[e][u]&&!i(t,h)&&(n[e][u].current=t,n[e][u].current&&dt.trigger(p.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:h,newMediaInfo:t,switchMode:f[u]}),r=pt(t),r&&n[e][u].storeLastSettings&&(r.roles&&(r.role=r.roles[0],delete r.roles),r.accessibility&&(r.accessibility=r.accessibility[0]),r.audioChannelConfiguration&&(r.audioChannelConfiguration=r.audioChannelConfiguration[0]),w.setSavedMediaSettings(u,r)))}}function d(n,t){n&&t&&(y[n]=t)}function l(n){return n?y[n]:null}function lt(n,t){if(-1===gt.indexOf(t))return void r.warn("Track switch mode is not supported: "+t);f[n]=t}function at(n){return f[n]}function vt(n){if(-1===ni.indexOf(n))return void r.warn("Track selection mode is not supported: "+n);et=n}function nt(){return et||a}function tt(n){return n===u.default.AUDIO||n===u.default.VIDEO||n===u.default.TEXT||n===u.default.FRAGMENTED_TEXT||n===u.default.IMAGE}function i(n,t){if(!n&&!t)return!0;if(!n||!t)return!1;var i=n.id===t.id,r=n.viewpoint===t.viewpoint,u=n.lang===t.lang,f=n.roles.toString()===t.roles.toString(),e=n.accessibility.toString()===t.accessibility.toString(),o=n.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return i&&r&&u&&f&&e&&o}function yt(n){n&&n.domStorage&&(w=n.domStorage)}function it(){n={};bt();wt()}function pt(n){var t={lang:n.lang,viewpoint:n.viewpoint,roles:n.roles,accessibility:n.accessibility,audioChannelConfiguration:n.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function rt(n,t){var i=!n.lang||n.lang===t.lang,r=!n.viewpoint||n.viewpoint===t.viewpoint,u=!n.role||!!t.roles.filter(function(t){return t===n.role})[0],f=!n.accessibility||!!t.accessibility.filter(function(t){return t===n.accessibility})[0],e=!n.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===n.audioChannelConfiguration})[0];return i&&r&&u&&f&&e}function wt(){f={audio:h,video:s}}function bt(){y={audio:null,video:null}}function ut(n){var i=nt(),t=[],u=function(n){var i=0,r=[],t=void 0;return n.forEach(function(n){t=Math.max.apply(Math,n.bitrateList.map(function(n){return n.bandwidth}));t>i?(i=t,r=[n]):t===i&&r.push(n)}),r},f=function(n){var i=0,r=[],t=void 0;return n.forEach(function(n){t=n.representationCount;t>i?(i=t,r=[n]):t===i&&r.push(n)}),r};switch(i){case e:t=u(n);t.length>1&&(t=f(t));break;case c:t=f(n);t.length>1&&(t=u(n));break;default:r.warn("Track selection mode is not supported: "+i)}return t[0]}function kt(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}}}var ft=this.context,dt=b.default(ft).getInstance(),v=void 0,r=void 0,n=void 0,y=void 0,et=void 0,f=void 0,w=void 0,gt=[h,s],ni=[e,c];return v={checkInitialMediaSettingsForType:st,addTrack:ht,getTracksFor:k,getCurrentTrackFor:o,isCurrentTrack:ct,setTrack:t,setInitialSettings:d,getInitialSettings:l,setSwitchMode:lt,getSwitchMode:at,setSelectionModeForInitialTrack:vt,getSelectionModeForInitialTrack:nt,isMultiTrackSupportedByType:tt,isTracksEqual:i,setConfig:yt,reset:it},ot(),v}var r;Object.defineProperty(i,"__esModule",{value:!0});var v=n(101),u=f(v),y=n(53),p=f(y),w=n(47),b=f(w),k=n(48),l=f(k),d=n(46),g=f(d),s="neverReplace",h="alwaysReplace",e="highestBitrate",c="widestRange",a=e;o.__dashjs_factory_name="MediaController";r=l.default.getSingletonFactory(o);r.TRACK_SWITCH_MODE_NEVER_REPLACE=s;r.TRACK_SWITCH_MODE_ALWAYS_REPLACE=h;r.TRACK_SELECTION_MODE_HIGHEST_BITRATE=e;r.TRACK_SELECTION_MODE_WIDEST_RANGE=c;r.DEFAULT_INIT_TRACK_SELECTION_MODE=a;l.default.updateSingletonFactory(o.__dashjs_factory_name,r);i.default=r;t.exports=i.default},{101:101,46:46,47:47,48:48,53:53}],111:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function i(){t=s.default(c).getInstance().getLogger(n)}function r(){var n="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:n?new WebKitMediaSource:null}function u(n,t){var i=window.URL.createObjectURL(n);return t.setSource(i),i}function f(n){n.setSource(null)}function e(n,t){return n.duration!=t&&(n.duration=t),n.duration}function o(n,t,i){n&&"function"==typeof n.setLiveSeekableRange&&"function"==typeof n.clearLiveSeekableRange&&"open"===n.readyState&&t>=0&&t<i&&(n.clearLiveSeekableRange(),n.setLiveSeekableRange(t,i))}function h(n){var r=n.sourceBuffers,u=r.length,i;if("open"===n.readyState){for(i=0;i<u;i++){if(r[i].updating)return;if(0===r[i].buffered.length)return}t.info("call to mediaSource endOfStream");n.endOfStream()}}var n=void 0,t=void 0,c=this.context;return n={createMediaSource:r,attachMediaSource:u,detachMediaSource:f,setDuration:e,setSeekable:o,signalEndOfStream:h},i(),n}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(46),s=r(o);u.__dashjs_factory_name="MediaSourceController";i.default=e.default.getSingletonFactory(u);t.exports=i.default},{46:46,48:48}],112:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(){function ar(){s=w.default(fr).getInstance().getLogger(yt);fi()}function vr(t,u){n=t;su();h=n.manifestInfo.isDynamic;et=!1;tt=!1;y=n.start;kt=u;var f="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",e=/safari/.test(f)&&!/chrome/.test(f);cr=e?.25:.02;i.on(r.default.DATA_UPDATE_COMPLETED,si,this);i.on(r.default.BYTES_APPENDED_END_FRAGMENT,tr,this);i.on(r.default.LOADING_PROGRESS,ir,this);i.on(r.default.BUFFER_LEVEL_STATE_CHANGED,rr,this);i.on(r.default.PERIOD_SWITCH_STARTED,dt,this);i.on(r.default.PLAYBACK_PROGRESS,ut,this);i.on(r.default.PLAYBACK_TIME_UPDATED,ut,this);i.on(r.default.PLAYBACK_ENDED,di,this);ft&&(ft=!1,ti())}function dt(n){!h&&n.fromStreamInfo&&void 0!==f[n.fromStreamInfo.id]&&(delete a[n.fromStreamInfo.id],delete f[n.fromStreamInfo.id])}function gt(){return parseFloat((ni()-c()).toFixed(5))}function ni(){var t=ct(!0),i=h&&n?t-n.start:0;return t+(n?n.duration-i:i)}function ti(){n&&t&&t.getElement()?t.play():ft=!0}function it(){return n&&t?t.isPaused():null}function ot(){n&&t&&t.pause()}function d(){return n&&t?t.isSeeking():null}function g(u,f,e){n&&t&&(!0===e?u!==t.getTime()&&(t.removeEventListener("seeking",rt),s.info("Requesting seek to time: "+u),t.setCurrentTime(u,f)):(i.trigger(r.default.PLAYBACK_SEEK_ASKED),s.info("Requesting seek to time: "+u),t.setCurrentTime(u,f)))}function yr(){var t=nt.getReadOnlyMetricsFor(u.default.VIDEO)||nt.getReadOnlyMetricsFor(u.default.AUDIO),n=pt.getCurrentDVRInfo(t);g((n?n.range:null).end-e.getLiveDelay(),!0,!1)}function c(){return n&&t?t.getTime():null}function st(){var n=c(),t;return h&&!isNaN(k)&&(t=k/1e3,n>t&&(n-=t)),n}function ii(){return n&&t?t.getPlaybackRate():null}function pr(){return n&&t?t.getPlayedRanges():null}function ri(){return n&&t?t.getEnded():null}function ui(){return h}function wr(){return v}function br(n){y=n}function kr(){return y}function dr(t,i){var r=or.getMpd(er.getValue()),o=void 0,f=void 0,s;return(o=e.getUseSuggestedPresentationDelay()&&r.hasOwnProperty(u.default.SUGGESTED_PRESENTATION_DELAY)?r.suggestedPresentationDelay:e.getLowLatencyEnabled()?0:e.getLiveDelay()?e.getLiveDelay():isNaN(t)?2*n.manifestInfo.minBufferTime:t*e.getLiveDelayFragmentCount(),r.availabilityStartTime&&(k=r.availabilityStartTime.getTime()),i>0)?(s=Math.max(i-10,i/2),f=Math.min(o,s)):f=o,wt=f,f}function gr(){return wt}function ht(){var n,t;return!h||isNaN(k)?NaN:(n=st(),isNaN(n)||0===n)?0:(t=(new Date).getTime()+1e3*hr.getClientTimeOffset(),Math.max(((t-k-1e3*n)/1e3).toFixed(3),0))}function fi(){y=NaN;ft=!1;f={};wt=0;k=0;a={};t&&(i.off(r.default.DATA_UPDATE_COMPLETED,si,this),i.off(r.default.BUFFER_LEVEL_STATE_CHANGED,rr,this),i.off(r.default.BYTES_APPENDED_END_FRAGMENT,tr,this),i.off(r.default.LOADING_PROGRESS,ir,this),i.off(r.default.PERIOD_SWITCH_STARTED,dt,this),i.off(r.default.PLAYBACK_PROGRESS,ut,this),i.off(r.default.PLAYBACK_TIME_UPDATED,ut,this),i.off(r.default.PLAYBACK_ENDED,di,this),at(),hu());p=null;t=null;n=null;h=null}function nu(n){n&&(n.streamController&&(v=n.streamController),n.metricsModel&&(nt=n.metricsModel),n.dashMetrics&&(pt=n.dashMetrics),n.manifestModel&&(er=n.manifestModel),n.dashManifestModel&&(or=n.dashManifestModel),n.mediaPlayerModel&&(e=n.mediaPlayerModel),n.adapter&&(sr=n.adapter),n.videoModel&&(t=n.videoModel),n.timelineConverter&&(hr=n.timelineConverter),n.uriFragmentModel&&(lr=n.uriFragmentModel))}function ei(){var t=lr.getURIFragmentData(),i=void 0,r;return t&&(i={},r=parseInt(t.r,10),r>=0&&n&&r<n.manifestInfo.DVRWindowSize&&null===t.t&&(t.t=Math.max(Math.floor(Date.now()/1e3)-n.manifestInfo.DVRWindowSize,n.manifestInfo.availableFrom.getTime()/1e3+n.start)+r),i.fragS=parseFloat(t.s),i.fragT=parseFloat(t.t)),i}function ct(t,i){var u=void 0,r=NaN,o,e;return t?r=n?n.start:r:(o=ei(),r=o?isNaN(o.fragS)?o.fragT:o.fragS:0),h?(!isNaN(r)&&n&&((u=r-n.manifestInfo.availableFrom.getTime()/1e3)>y||u<(isNaN(i)?NaN:i-n.manifestInfo.DVRWindowSize))&&(u=null),u=u||y):n&&(!isNaN(r)&&r<Math.max(n.manifestInfo.duration,n.duration)&&r>=0?u=r:(e=f[n.id],u=void 0!==e?Math.max(void 0!==e.audio?e.audio:0,void 0!==e.video?e.video:0,n.start):n.start)),u}function tu(t){var e=nt.getReadOnlyMetricsFor(u.default.VIDEO)||nt.getReadOnlyMetricsFor(u.default.AUDIO),f=pt.getCurrentDVRInfo(e),i=f?f.range:null,r=void 0;if(!i)return NaN;if(t>i.end)r=Math.max(i.end-2*n.manifestInfo.minBufferTime,i.start);else{if(!(t+.25<i.start))return t;r=i.start}return r}function lt(){if(null===p){var n=function(){ru()};p=setInterval(n,e.getWallclockTimeUpdateInterval())}}function at(){clearInterval(p);p=null}function oi(){if(!it()&&h&&0!==t.getReadyState()){var i=st(),n=tu(i);isNaN(n)||n===i||g(n)}}function si(t){if(!t.error){var r=sr.convertDataToRepresentationInfo(t.currentRepresentation),i=r.mediaInfo.streamInfo;n.id===i.id&&(n=i,oi())}}function hi(){i.trigger(r.default.CAN_PLAY)}function ci(){s.info("Native video element event: play");oi();lt();i.trigger(r.default.PLAYBACK_STARTED,{startTime:c()})}function li(){s.info("Native video element event: waiting");i.trigger(r.default.PLAYBACK_WAITING,{playingTime:c()})}function ai(){s.info("Native video element event: playing");i.trigger(r.default.PLAYBACK_PLAYING,{playingTime:c()})}function vi(){s.info("Native video element event: pause");i.trigger(r.default.PLAYBACK_PAUSED,{ended:ri()})}function rt(){var n=c();s.info("Seeking to: "+n);lt();i.trigger(r.default.PLAYBACK_SEEKING,{seekTime:n})}function yi(){s.info("Native video element event: seeked");i.trigger(r.default.PLAYBACK_SEEKED);t.addEventListener("seeking",rt)}function vt(){n&&i.trigger(r.default.PLAYBACK_TIME_UPDATED,{timeToEnd:gt(),time:c()})}function iu(){var n=Date.now();(!bt||n>bt+b)&&(bt=n,vt())}function pi(){i.trigger(r.default.PLAYBACK_PROGRESS)}function wi(){var n=ii();s.info("Native video element event: ratechange: ",n);i.trigger(r.default.PLAYBACK_RATE_CHANGED,{playbackRate:n})}function bi(){s.info("Native video element event: loadedmetadata");i.trigger(r.default.PLAYBACK_METADATA_LOADED);lt()}function ki(){s.info("Native video element event: ended");ot();at();i.trigger(r.default.PLAYBACK_ENDED,{isLast:v.getActiveStreamInfo().isLast})}function di(n){p&&n.isLast&&(s.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),t.setCurrentTime(ni()),ot(),at())}function gi(n){var t=n.target||n.srcElement;i.trigger(r.default.PLAYBACK_ERROR,{error:t.error})}function ru(){i.trigger(r.default.WALLCLOCK_TIME_UPDATED,{isDynamic:h,time:new Date});ui()&&it()&&iu()}function uu(n,t){if(t&&t.length>0)for(var i=0,r=t.length;i<r;i++)if(n>=t.start(i)&&n<t.end(i))return!0;return!1}function ut(){h&&e.getLowLatencyEnabled()&&e.getCatchUpPlaybackRate()>0&&!it()&&!d()&&(eu()?ou():nr())}function fu(){var n=null;return v.getActiveStreamProcessors().forEach(function(t){var i=t.getBufferLevel();n=null===n?i:Math.min(n,i)}),n}function eu(){return e.getCatchUpPlaybackRate()>0&&c()>0&&Math.abs(ht()-e.getLiveDelay())>e.getLowLatencyMinDrift()}function ou(){if(t){var r=e.getCatchUpPlaybackRate(),u=e.getLiveDelay(),n=ht()-u,f=5*n,o=2*r/(1+Math.pow(Math.E,-f)),i=1-r+o;tt&&(fu()>u/2?tt=!1:n>0&&(i=1));Math.abs(t.getPlaybackRate()-i)>cr&&t.setPlaybackRate(i);e.getLowLatencyMaxDriftBeforeSeeking()>0&&!et&&n>e.getLowLatencyMaxDriftBeforeSeeking()?(s.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),et=!0,yr()):et=!1}}function nr(){t&&t.setPlaybackRate(1)}function tr(t){var i=void 0,r=void 0,e=t.bufferedRanges,o,s,h;e&&e.length&&(!f[n.id]||!0!==f[n.id].started)&&(o=t.sender.getType(),void 0===a[n.id]&&(a[n.id]=[]),a[n.id][o]=e,void 0===f[n.id]&&(f[n.id]=[],f[n.id].started=!1),void 0===f[n.id][o]&&(f[n.id][o]=Math.max(e.start(0),n.start)),s=v.isTrackTypePresent(u.default.VIDEO),h=v.isTrackTypePresent(u.default.AUDIO),r=ct(!1),h&&s?isNaN(f[n.id].audio)||isNaN(f[n.id].video)||(f[n.id].audio<f[n.id].video?(i=f[n.id].video>r?f[n.id].video:r,e=a[n.id].audio):(i=f[n.id].audio>r?f[n.id].audio:r,e=a[n.id].video),uu(i,e)&&(d()||kt||0===i||g(i,!0,!0),f[n.id].started=!0)):f[n.id][o]&&(i=f[n.id][o]>r?f[n.id][o]:r,d()||kt||g(i,!1,!0),f[n.id].started=!0))}function ir(n){if(!1===n.stream&&e.getLowLatencyEnabled()&&!isNaN(n.request.duration)){var t=1.2*n.request.duration;t>e.getLiveDelay()&&(s.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",t.toFixed(2)),e.setLiveDelay(t))}}function rr(i){i.streamInfo.id===n.id&&(e.getLowLatencyEnabled()?i.state!==o.default.BUFFER_EMPTY||d()||tt||(tt=!0,nr()):t.setStallState(i.mediaType,i.state===o.default.BUFFER_EMPTY))}function ur(n){i.trigger(r.default.PLAYBACK_STALLED,{e:n})}function su(){t.addEventListener("canplay",hi);t.addEventListener("play",ci);t.addEventListener("waiting",li);t.addEventListener("playing",ai);t.addEventListener("pause",vi);t.addEventListener("error",gi);t.addEventListener("seeking",rt);t.addEventListener("seeked",yi);t.addEventListener("timeupdate",vt);t.addEventListener("progress",pi);t.addEventListener("ratechange",wi);t.addEventListener("loadedmetadata",bi);t.addEventListener("stalled",ur);t.addEventListener("ended",ki)}function hu(){t.removeEventListener("canplay",hi);t.removeEventListener("play",ci);t.removeEventListener("waiting",li);t.removeEventListener("playing",ai);t.removeEventListener("pause",vi);t.removeEventListener("error",gi);t.removeEventListener("seeking",rt);t.removeEventListener("seeked",yi);t.removeEventListener("timeupdate",vt);t.removeEventListener("progress",pi);t.removeEventListener("ratechange",wi);t.removeEventListener("loadedmetadata",bi);t.removeEventListener("stalled",ur);t.removeEventListener("ended",ki)}var fr=this.context,i=l.default(fr).getInstance(),yt=void 0,s=void 0,v=void 0,nt=void 0,pt=void 0,er=void 0,or=void 0,sr=void 0,t=void 0,hr=void 0,y=void 0,p=void 0,f=void 0,wt=void 0,a=void 0,n=void 0,h=void 0,e=void 0,ft=void 0,bt=void 0,k=void 0,kt=void 0,et=void 0,tt=void 0,cr=void 0,lr=void 0;return yt={initialize:vr,setConfig:nu,getStartTimeFromUriParameters:ei,getStreamStartTime:ct,getTimeToStreamEnd:gt,getTime:c,getNormalizedTime:st,getPlaybackRate:ii,getPlayedRanges:pr,getEnded:ri,getIsDynamic:ui,getStreamController:wr,setLiveStartTime:br,getLiveStartTime:kr,computeLiveDelay:dr,getLiveDelay:gr,getCurrentLiveLatency:ht,play:ti,isPaused:it,pause:ot,isSeeking:d,seek:g,reset:fi},ar(),yt}Object.defineProperty(i,"__esModule",{value:!0});var s=n(101),u=f(s),h=n(107),o=f(h),c=n(47),l=f(c),a=n(53),r=f(a),v=n(48),y=f(v),p=n(46),w=f(p),b=500;e.__dashjs_factory_name="PlaybackController";i.default=y.default.getSingletonFactory(e);t.exports=i.default},{101:101,107:107,46:46,47:47,48:48,53:53}],113:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n){function kr(){c=ft.default(kt).getInstance().getLogger(hi);yr()}function dr(){v=i.getFragmentModel();ai=w.default(kt).create({abrController:gt,dashMetrics:oi,metricsModel:at,mediaPlayerModel:ut,textController:ni});br=k.default(kt).create({adapter:vt,textController:ni,playbackController:o});dt.getIsTextTrack(n.mimeType)&&t.on(r.default.TIMED_TEXT_REQUESTED,hr,this);t.on(r.default.QUALITY_CHANGE_REQUESTED,wi,this);t.on(r.default.DATA_UPDATE_STARTED,ur,this);t.on(r.default.DATA_UPDATE_COMPLETED,ki,this);t.on(r.default.FRAGMENT_LOADING_COMPLETED,nr,this);t.on(r.default.STREAM_COMPLETED,gi,this);t.on(r.default.STREAM_INITIALIZED,di,this);t.on(r.default.BUFFER_LEVEL_STATE_CHANGED,er,this);t.on(r.default.BUFFER_CLEARED,fr,this);t.on(r.default.BYTES_APPENDED_END_FRAGMENT,ir,this);t.on(r.default.INIT_REQUESTED,yi,this);t.on(r.default.QUOTA_EXCEEDED,or,this);t.on(r.default.PLAYBACK_SEEKING,lr,this);t.on(r.default.PLAYBACK_STARTED,cr,this);t.on(r.default.PLAYBACK_RATE_CHANGED,ar,this);t.on(r.default.PLAYBACK_TIME_UPDATED,tr,this);t.on(r.default.URL_RESOLUTION_FAILED,sr,this);t.on(r.default.FRAGMENT_LOADING_ABANDONED,rr,this)}function gr(){return!1===d}function lt(){if(!u||i.isBufferingCompleted())return void c.warn("Start denied to Schedule Controller");c.debug("Schedule Controller starts");vr();d=!1;ti&&(ti=!1);rt(0)}function st(){d||(c.debug("Schedule Controller stops"),d=!0,clearTimeout(li))}function nu(n,t){ct[t]=ct[t]||{};var i=gt.getTopQualityIndexFor(n,t);return ct[t][n]!=i&&(c.info("Top quality "+n+" index has changed from "+ct[t][n]+" to "+i),ct[t][n]=i,!0)}function tu(){var r=i.getBufferController(),t,n,e;if(d||pt||!r||o.isPaused()&&!ut.getScheduleWhilePaused()||(l===f.default.FRAGMENTED_TEXT||l===f.default.TEXT)&&!ni.isTextEnabled())return void c.debug("Schedule stop!");if(r.getIsBufferingCompleted())return void c.debug("Schedule stop because buffering is completed!");iu();t=wt.length>0;n=i.getStreamInfo();g||isNaN(ii)||et||t||nu(u.mediaInfo.type,n.id)||ai.execute(i,wr.isTrackTypePresent(f.default.VIDEO))?(e=function(){var f=i.getFragmentController(),r,t;u.quality===ii&&!et||g?(r=wt.shift(),f.isInitializationRequest(r)?i.switchInitData(r.representationId):(t=void 0,i.getBufferController().getIsPruningInProgress()||(t=br.execute(i,b,r),ui(NaN),t&&!r&&(isNaN(t.startTime+t.duration)||vt.setIndexHandlerTime(i,t.startTime+t.duration),t.delayLoadingTime=(new Date).getTime()+ci,fi(0)),!t&&n.manifestInfo&&n.manifestInfo.isDynamic&&c.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling.")),t?(c.debug("Next fragment request url is "+t.url),v.executeRequest(t)):(tt(!1),rt(ut.getLowLatencyEnabled()?100:500)))):(c.debug("Quality has changed, get init request for representationid = "+u.id),et?(g=si.getSwitchMode(l)===h.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,c.debug("Switch track has been asked, get init request for "+l+" with representationid = "+u.id+"bufferResetInProgress = "+g),i.switchInitData(u.id,g),et=!1):i.switchInitData(u.id),ii=u.quality)},tt(!0),t||et||gt.checkPlaybackQuality(l),e()):rt(500)}function iu(){var r=o.getTime(),t=1.5*u.fragmentDuration,n=v.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:r+t,threshold:0})[0];if(n&&-1===wt.indexOf(n)&&!dt.getIsTextTrack(l)){var f=ut.getFastSwitchEnabled(),e=i.getBufferLevel(),y=gt.getAbandonmentStateFor(l),p=!si.isCurrentTrack(n.mediaInfo)&&si.getSwitchMode(n.mediaInfo.type)===h.default.TRACK_SWITCH_MODE_NEVER_REPLACE,w=n.quality<u.quality;f&&(p||w)&&e>=t&&y!==a.default.ABANDON_LOAD?(bt(n),ri=!0,c.debug("Reloading outdated fragment at index: ",n.index)):n.quality>u.quality&&!g&&ui(o.getTime()+i.getBufferLevel())}}function rt(n){clearTimeout(li);li=setTimeout(tu,n)}function yi(n){n.sender&&n.sender.getStreamProcessor()===i&&pi(u.quality)}function tt(n){pt!==n?pt=n:c.debug("isFragmentProcessingInProgress is already equal to",n)}function pi(n){var t=vt.getInitRequest(i,n);t&&(tt(!0),t.url=ot.replaceTokenForTemplate(t.url,"Bandwidth",u?u.bandwidth:null),v.executeRequest(t))}function ru(){et=!0}function bt(n){wt.push(n)}function wi(n){if(l===n.mediaType&&i.getStreamInfo().id===n.streamInfo.id){if(null===(u=i.getRepresentationInfo(n.newQuality))||void 0===u)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");ei(new Date,e.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON);vr()}}function bi(n){if(o&&v){var i=v.getRequests({state:s.default.FRAGMENT_MODEL_EXECUTED,time:o.getTime(),threshold:0})[0];i&&o.getTime()>=i.startTime&&((!it.mediaInfo||i.mediaInfo.type===it.mediaInfo.type&&i.mediaInfo.id!==it.mediaInfo.id)&&n&&t.trigger(r.default.TRACK_CHANGE_RENDERED,{mediaType:l,oldMediaInfo:it.mediaInfo,newMediaInfo:i.mediaInfo}),i.quality===it.quality&&i.adaptationIndex===it.adaptationIndex||!n||t.trigger(r.default.QUALITY_CHANGE_RENDERED,{mediaType:l,oldQuality:it.quality,newQuality:i.quality}),it={mediaInfo:i.mediaInfo,quality:i.quality,adaptationIndex:i.adaptationIndex})}}function ki(n){n.error||n.sender.getStreamProcessor()!==i||(u=vt.convertDataToRepresentationInfo(n.currentRepresentation))}function di(n){n.error||i.getStreamInfo().id!==n.streamInfo.id||(u=i.getRepresentationInfo(),ti&&(o.getIsDynamic()?(pr.setTimeSyncCompleted(!0),uu()):(b=o.getStreamStartTime(!1),i.getBufferController().setSeekStartTime(b))),d&&lt())}function uu(){var r=i.getLiveEdgeFinder(),e,s;if(r){var t=r.getLiveEdge(),h=u.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,l=t-o.computeLiveDelay(u.fragmentDuration,h),n=vt.getFragmentRequest(i,u,l,{ignoreIsFinished:!0});n?ut.getLowLatencyEnabled()?(e=n.duration<ut.getLiveDelay()?n.startTime:n.startTime+n.duration-ut.getLiveDelay(),o.setLiveStartTime(e)):o.setLiveStartTime(n.startTime):c.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object");b=o.getStreamStartTime(!1,t);i.getBufferController().setSeekStartTime(b);b>u.mediaInfo.streamInfo.start+u.mediaInfo.streamInfo.duration&&o.seek(b);s=oi.getCurrentManifestUpdate(at.getMetricsFor(f.default.STREAM));at.updateManifestUpdateInfo(s,{currentTime:b,presentationStartTime:t,latency:t-b,clientTimeOffset:pr.getClientTimeOffset()})}}function gi(n){n.fragmentModel===v&&(st(),tt(!1),c.info("Stream is complete"))}function nr(n){n.sender===v&&(c.info("OnFragmentLoadingCompleted - Url:",n.request?n.request.url:"undefined",", Range:",n.request.range?n.request.range:"undefined"),dt.getIsTextTrack(l)&&tt(!1),n.error&&n.request.serviceLocation&&!d&&(bt(n.request),tt(!1),rt(0)),g&&(vi=n.request))}function tr(){bi(!0)}function ir(n){if(n.sender.getStreamProcessor()===i)if(g&&!isNaN(n.startTime)&&(g=!1,v.addExecutedRequest(vi)),tt(!1),ri&&!isNaN(n.startTime)){var t=o.getTime(),r=n.startTime+u.fragmentDuration,f=1.5*u.fragmentDuration;rt(t+f>=r?0:1e3*(r-(t+f)));ri=!1}else rt(0)}function rr(n){n.streamProcessor===i&&(c.info("onFragmentLoadingAbandoned for "+l+", request: "+n.request.url+" has been aborted"),o.isSeeking()||et||(c.info("onFragmentLoadingAbandoned for "+l+", request: "+n.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),bt(n.request)),tt(!1),rt(0))}function ur(n){n.sender.getStreamProcessor()===i&&st()}function fr(n){if(n.sender.getStreamProcessor()===i){var t=i.getStreamInfo();t&&(n.unintended?v.removeExecutedRequestsAfterTime(n.from,t.duration):v.syncExecutedRequestsWithBufferedRange(i.getBufferController().getBuffer().getAllBufferRanges(),t.duration));n.hasEnoughSpaceToAppend&&d&&lt()}}function er(n){n.sender.getStreamProcessor()!==i||n.state!==y.default.BUFFER_EMPTY||o.isSeeking()||(c.info("Buffer is empty! Stalling!"),ei(new Date,e.PlayListTrace.REBUFFERING_REASON))}function or(n){n.sender.getStreamProcessor()===i&&(st(),tt(!1))}function sr(){v.abortRequests();st()}function hr(n){n.sender.getStreamProcessor()===i&&ni.isTextEnabled()&&pi(n.index)}function cr(){!d&&ut.getScheduleWhilePaused()||lt()}function lr(n){b=n.seekTime;fi(0);d&&lt();var t=oi.getCurrentManifestUpdate(at.getMetricsFor(f.default.STREAM)),i=u.DVRWindow&&o?u.DVRWindow.end-o.getTime():NaN;at.updateManifestUpdateInfo(t,{latency:i});pt?(c.debug("onPlaybackSeeking for "+l+", call fragmentModel.abortRequests in order to seek quicker"),v.abortRequests()):rt(0)}function ar(n){p&&(p.playbackspeed=n.playbackRate.toString())}function ui(n){b=n}function fi(n){ci=n}function fu(){return ai.getBufferTarget(i,wr.isTrackTypePresent(f.default.VIDEO))}function eu(){return l}function ou(n){ht=n}function su(n,t){ei(n,t);ht=null}function ei(n,t){if(ht&&!1===yt){var i=p.start,r=n.getTime()-i.getTime();p.duration=r;p.stopreason=t;ht.trace.push(p);yt=!0}}function vr(){ht&&!0===yt&&u&&(yt=!1,p=new e.PlayListTrace,p.representationid=u.id,p.start=new Date,p.mstart=1e3*o.getTime(),p.playbackspeed=o.getPlaybackRate().toString())}function yr(){pt=!1;ci=0;b=NaN;ht=null;p=null;yt=!0;ti=!0;ii=NaN;it={mediaInfo:void 0,quality:NaN,adaptationIndex:NaN};ct={};wt=[];d=!0;et=!1;g=!1;vi=null;ri=!1}function hu(){t.off(r.default.DATA_UPDATE_STARTED,ur,this);t.off(r.default.DATA_UPDATE_COMPLETED,ki,this);t.off(r.default.BUFFER_LEVEL_STATE_CHANGED,er,this);t.off(r.default.QUALITY_CHANGE_REQUESTED,wi,this);t.off(r.default.FRAGMENT_LOADING_COMPLETED,nr,this);t.off(r.default.STREAM_COMPLETED,gi,this);t.off(r.default.STREAM_INITIALIZED,di,this);t.off(r.default.QUOTA_EXCEEDED,or,this);t.off(r.default.BYTES_APPENDED_END_FRAGMENT,ir,this);t.off(r.default.BUFFER_CLEARED,fr,this);t.off(r.default.INIT_REQUESTED,yi,this);t.off(r.default.PLAYBACK_RATE_CHANGED,ar,this);t.off(r.default.PLAYBACK_SEEKING,lr,this);t.off(r.default.PLAYBACK_STARTED,cr,this);t.off(r.default.PLAYBACK_TIME_UPDATED,tr,this);t.off(r.default.URL_RESOLUTION_FAILED,sr,this);t.off(r.default.FRAGMENT_LOADING_ABANDONED,rr,this);dt.getIsTextTrack(l)&&t.off(r.default.TIMED_TEXT_REQUESTED,hr,this);st();bi(!1);yr()}n=n||{};var kt=this.context,t=nt.default(kt).getInstance(),at=n.metricsModel,vt=n.adapter,oi=n.dashMetrics,dt=n.dashManifestModel,pr=n.timelineConverter,ut=n.mediaPlayerModel,gt=n.abrController,o=n.playbackController,wr=n.streamController,ni=n.textController,l=n.type,i=n.streamProcessor,si=n.mediaController,hi=void 0,c=void 0,v=void 0,u=void 0,ti=void 0,d=void 0,ht=void 0,p=void 0,yt=void 0,pt=void 0,ci=void 0,li=void 0,b=void 0,ai=void 0,br=void 0,it=void 0,ct=void 0,ii=void 0,wt=void 0,et=void 0,g=void 0,vi=void 0,ri=void 0;return hi={initialize:dr,getType:eu,setSeekTarget:ui,setTimeToLoadDelay:fi,replaceRequest:bt,switchTrackAsked:ru,isStarted:gr,start:lt,stop:st,reset:hu,setPlayList:ou,getBufferTarget:fu,finalisePlayList:su},kr(),hi}Object.defineProperty(i,"__esModule",{value:!0});var c=n(101),f=u(c),e=n(237),l=n(104),a=u(l),v=n(107),y=u(v),p=n(186),w=u(p),b=n(187),k=u(b),d=n(141),s=u(d),g=n(47),nt=u(g),tt=n(53),r=u(tt),it=n(48),rt=u(it),ut=n(46),ft=u(ut),et=n(110),h=u(et),ot=n(77);o.__dashjs_factory_name="ScheduleController";i.default=rt.default.getClassFactory(o);t.exports=i.default},{101:101,104:104,107:107,110:110,141:141,186:186,187:187,237:237,46:46,47:47,48:48,53:53,77:77}],114:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(){function lu(){i=it.default(nt).getInstance().getLogger(ci);ai=ht.default(nt).getInstance();dt=lt.default(nt).getInstance();tt=vt.default(nt).getInstance();su=ut.default(nt).getInstance();hu=et.default(nt).getInstance();tu()}function au(n,t){nr();tr=n;ii=t;rt.initialize();st=w.default(nt).create();st.setConfig({manifestModel:p,dashManifestModel:pt,mediaPlayerModel:ft,manifestLoader:kt,errHandler:ct});st.initialize();dt.setConfig({dashManifestModel:pt});vu()}function vu(){n.on(r.default.PLAYBACK_TIME_UPDATED,ur,this);n.on(r.default.PLAYBACK_SEEKING,er,this);n.on(r.default.PLAYBACK_ERROR,gr,this);n.on(r.default.PLAYBACK_STARTED,or,this);n.on(r.default.PLAYBACK_PAUSED,sr,this);n.on(r.default.PLAYBACK_ENDED,ar,this);n.on(r.default.MANIFEST_UPDATED,br,this);n.on(r.default.BUFFERING_COMPLETED,cr,this);n.on(r.default.STREAM_BUFFERING_COMPLETED,lr,this);n.on(r.default.MANIFEST_VALIDITY_CHANGED,nu,this);n.on(r.default.TIME_SYNCHRONIZATION_COMPLETED,wr,this);n.on(r.default.WALLCLOCK_TIME_UPDATED,fr,this);n.on(s.default.METRIC_ADDED,iu,this)}function yu(){n.off(r.default.PLAYBACK_TIME_UPDATED,ur,this);n.off(r.default.PLAYBACK_SEEKING,er,this);n.off(r.default.PLAYBACK_ERROR,gr,this);n.off(r.default.PLAYBACK_STARTED,or,this);n.off(r.default.PLAYBACK_PAUSED,sr,this);n.off(r.default.PLAYBACK_ENDED,ar,this);n.off(r.default.MANIFEST_UPDATED,br,this);n.off(r.default.BUFFERING_COMPLETED,cr,this);n.off(r.default.STREAM_BUFFERING_COMPLETED,lr,this);n.off(r.default.MANIFEST_VALIDITY_CHANGED,nu,this);n.off(r.default.TIME_SYNCHRONIZATION_COMPLETED,wr,this);n.off(r.default.WALLCLOCK_TIME_UPDATED,fr,this);n.off(s.default.METRIC_ADDED,iu,this)}function ur(){if(kr(f.default.VIDEO)){var n=v.getPlaybackQuality();n&&d.addDroppedFrames(f.default.VIDEO,n)}}function fr(){if(!(!ft.getJumpGaps()||0===yt()||c.isSeeking()||gt||ri||ui||fi)&&++ir>=hf){var n=c.getTime();cu===n?pu(n):cu=n;ir=0}}function pu(t){for(var s,a,f,v=yt(),y=ft.getSmallGapLimit(),u=void 0,h=0;h<v.length;h++){var p=v[h].getBuffer(),e=p.getAllBufferRanges(),o=void 0;if(e&&!(e.length<=1)){for(s=0;s<e.length;s++)if(t<e.start(s)){o=e.start(s);break}o>0&&(a=o-t,a>0&&a<=y&&(void 0===u||o>u)&&(u=o))}}f=c.getTimeToStreamEnd();void 0===u&&!isNaN(f)&&f<y&&(u=t+f);u>0&&(!isNaN(f)&&u>=t+f?(i.info("Jumping media gap (discontinuity) at time ",t,". Jumping to end of the stream"),n.trigger(r.default.PLAYBACK_ENDED,{isLast:l().isLast})):(i.info("Jumping media gap (discontinuity) at time ",t,". Jumping to time position",u),c.seek(u,!0,!0)))}function er(n){var i=bi(n.seekTime);at&&(hr(),oi=!1);pi&&wu();i===t&&si&&si.deactivate(!0);i&&(i!==t||si&&!t.isActive())?(ti(e.PlayListTrace.END_OF_PERIOD_STOP_REASON),ki(t,i,n.seekTime)):ti(e.PlayListTrace.USER_REQUEST_STOP_REASON);gi(e.PlayList.SEEK_START_REASON)}function or(){i.debug("[onPlaybackStarted]");ei?(ei=!1,gi(e.PlayList.INITIAL_PLAYOUT_START_REASON)):gt&&(gt=!1,gi(e.PlayList.RESUME_FROM_PAUSE_START_REASON),wi())}function sr(n){i.debug("[onPlaybackPaused]");n.ended||(gt=!0,ti(e.PlayListTrace.USER_REQUEST_STOP_REASON),wi())}function hr(){i.debug("[toggleEndPeriodTimer] stop end period timer.");clearTimeout(at);at=void 0}function wu(){i.debug("[PreloadTimer] stop period preload timer.");clearTimeout(pi);pi=void 0}function wi(){if(oi)if(at)hr();else{var u=c.getTimeToStreamEnd(),t=u>0?1e3*u:0,f=t<2e3?t/4:t-2e3;i.debug("[toggleEndPeriodTimer] Going to fire preload in",f,"milliseconds");pi=setTimeout(bu,f);i.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",t,"milliseconds");at=setTimeout(function(){n.trigger(r.default.PLAYBACK_ENDED,{isLast:l().isLast})},t)}}function cr(n){if(n.sender&&(n.sender.getType()===f.default.AUDIO||n.sender.getType()===f.default.VIDEO)){var t=l().isLast;u&&!t&&void 0===at&&(i.info("[onTrackBufferingCompleted] end of period detected. Track",n.sender.getType(),"has finished"),oi=!0,!1===gt&&wi())}}function lr(){var n=l().isLast;u&&n&&(i.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),tt.signalEndOfStream(u))}function bu(){var n=l().isLast;u&&!n&&function(){var n=vr();(bt=t.isProtectionCompatible(n)&&(rr||t.isMediaCodecCompatible(n)))&&(i.info("[onStreamCanLoadNext] Preloading next stream"),t.stopEventController(),t.deactivate(!0),n.preload(u,ni),si=n,n.getProcessors().forEach(function(t){b.setIndexHandlerTime(t,n.getStartTime())}))}()}function bi(n){var t=0,r=null,u=o.length,i;for(u>0&&(t+=o[0].getStartTime()),i=0;i<u;i++)if(r=o[i],t=parseFloat((t+r.getDuration()).toFixed(5)),n<t)return r;return null}function ku(n,t){for(var i=null,r=0,u=0,f=null,s=o.length,e=0;e<s;e++){if(i=o[e],u=i.getStartTime(),f=i.getDuration(),Number.isFinite(u)&&(r=u),i.getId()===t)return n-r;Number.isFinite(f)&&(r+=f)}return null}function yt(){return t?t.getProcessors():[]}function ar(){var n=vr();n?(yi=void 0,vi=void 0,ki(t,n,NaN)):i.debug("StreamController no next stream found");ti(n?e.PlayListTrace.END_OF_PERIOD_STOP_REASON:e.PlayListTrace.END_OF_CONTENT_STOP_REASON);at=void 0;oi=!1}function vr(){if(t){var n=function(){var n=l().start,t=l().duration;return{v:o.filter(function(i){return i.getStreamInfo().start===parseFloat((n+t).toFixed(5))})[0]}}();if("object"==typeof n)return n.v}}function ki(i,u,f){ri||!u||i===u&&u.isActive()||(ri=!0,n.trigger(r.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:i?i.getStreamInfo():null,toStreamInfo:u.getStreamInfo()}),bt=!1,i&&(i.stopEventController(),bt=t.isProtectionCompatible(u)&&(rr||t.isMediaCodecCompatible(u))&&!f||u.getPreloaded(),i.deactivate(bt)),t=u,si=!1,c.initialize(l(),bt),v.getElement()?yr(f,i,!1,bt):du(f))}function du(n){di(n,bt)}function gu(n){t&&(c.initialize(l()),yr(n,null,!0,!1))}function yr(f,e,o,s){function h(){u&&(i.debug("MediaSource is open!"),window.URL.revokeObjectURL(c),u.removeEventListener("sourceopen",h),u.removeEventListener("webkitsourceopen",h),pr(),e||n.trigger(r.default.SOURCE_INITIALIZED),o?t.setMediaSource(u):di(f,s))}var c=void 0;u?s?(di(f,s),e||n.trigger(r.default.SOURCE_INITIALIZED)):(tt.detachMediaSource(v),u.addEventListener("sourceopen",h,!1),u.addEventListener("webkitsourceopen",h,!1),c=tt.attachMediaSource(u,v),i.debug("MediaSource attached to element.  Waiting on open...")):(u=tt.createMediaSource(),u.addEventListener("sourceopen",h,!1),u.addEventListener("webkitsourceopen",h,!1),c=tt.attachMediaSource(u,v),i.debug("MediaSource attached to element.  Waiting on open..."))}function di(e,o){if(ni=t.activate(u,o?ni:void 0),yi=dr(f.default.AUDIO),vi=dr(f.default.VIDEO),ni){var s=Object.keys(ni);s.length>0&&ni[s[0]].changeType&&(i.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),rr=!0)}ei||(isNaN(e)?function(){var n=c.getStreamStartTime(!0);o||yt().forEach(function(t){b.setIndexHandlerTime(t,n)})}():c.seek(e));t.startEventController();!tr&&ei||c.play();ri=!1;n.trigger(r.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:l()})}function pr(n){var t=n||l().manifestInfo.duration,r=tt.setDuration(u,t);i.debug("Duration successfully set to: "+r)}function nf(n){for(var t=0,i=o.length;t<i;t++)if(o[t].getId()===n.id)return o[t];return null}function tf(){var e,w,l,k,i,u,s,a;try{if(e=b.getStreamsInfo(),0===e.length)throw new Error("There are no streams");for(w=li.getCurrentManifestUpdate(d.getMetricsFor(f.default.STREAM)),d.updateManifestUpdateInfo(w,{currentTime:c.getTime(),buffered:v.getBufferRange(),presentationStartTime:e[0].start,clientTimeOffset:rt.getClientTimeOffset()}),l=0,k=e.length;l<k;l++)i=e[l],u=nf(i),u?u.updateData(i):(u=y.default(nt).create({manifestModel:p,dashManifestModel:pt,mediaPlayerModel:ft,metricsModel:d,dashMetrics:li,manifestUpdater:st,adapter:b,timelineConverter:rt,capabilities:ru,errHandler:ct,baseURLController:dt,domStorage:uu,abrController:fu,playbackController:c,mediaController:eu,textController:ou,videoModel:v,streamController:ci}),o.push(u),u.initialize(i,g)),d.addManifestUpdateStreamInfo(w,i.id,i.index,i.start,i.duration);t||(s=c.getStartTimeFromUriParameters(),a=null,s&&(a=bi(isNaN(s.fragS)?s.fragT:s.fragS)),ki(null,null!==a?a:o[0],NaN));n.trigger(r.default.STREAMS_COMPOSED)}catch(tt){ct.manifestError(tt.message,"nostreamscomposed",p.getValue());ct.error(new h.default(wt.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,tt.message+"nostreamscomposed",p.getValue()));fi=!0;hi()}}function wr(){var t=p.getValue();g&&(n.trigger(r.default.PROTECTION_CREATED,{controller:g,manifest:t}),g.setMediaElement(v.getElement()),ii&&g.setProtectionData(ii));tf()}function br(n){n.error?(fi=!0,hi()):function(){var t=n.manifest;b.updatePeriods(t);var r=b.getStreamsInfo(void 0,1)[0],u=b.getMediaInfoForType(r,f.default.VIDEO)||b.getMediaInfoForType(r,f.default.AUDIO),e=void 0;u&&(e=pt.getUseCalculatedLiveEdgeTimeForAdaptation(b.getDataForMedia(u)))&&(i.debug("SegmentTimeline detected using calculated Live Edge Time"),ft.setUseManifestDateHeaderTimeSource(!1));var o=pt.getUTCTimingSources(n.manifest),s=!pt.getIsDynamic(t)||e?o:o.concat(ft.getUTCTimingSources()),h=hu.isHTTPS(n.manifest.url);s.forEach(function(n){n.value.replace(/.*?:\/\//g,"")===ft.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(n.value=n.value.replace(h?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),h?"https://":"http://"),i.debug("Matching default timing source protocol to manifest protocol: ",n.value))});dt.initialize(t);ai.setConfig({metricsModel:d,dashMetrics:li,baseURLController:dt});ai.initialize(s,ft.getUseManifestDateHeaderTimeSource())}()}function kr(n){var t=void 0;if(!n)return t;switch(n){case f.default.VIDEO:t=vi;break;case f.default.AUDIO:t=yi}return t}function dr(n){var t=!1;return yt().forEach(function(i){i.getMediaInfo().type===n&&(t=!0)}),t}function ti(n,t){t=t||new Date;ot&&(yt().forEach(function(i){var r=i.getScheduleController();r&&r.finalisePlayList(t,n)}),d.addPlayList(ot),ot=null)}function gi(n){ot=new e.PlayList;ot.start=new Date;ot.mstart=1e3*c.getTime();ot.starttype=n;yt().forEach(function(n){var t=n.getScheduleController();t&&t.setPlayList(ot)})}function gr(n){if(n.error){var t="";switch(n.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}ui=!0;n.error.message&&(t+=" ("+n.error.message+")");n.error.msExtendedCode&&(t+=" (0x"+(n.error.msExtendedCode>>>0).toString(16).toUpperCase()+")");i.fatal("Video Element Error: "+t);n.error&&i.fatal(n.error);ct.mediaSourceError(t);ct.error(new h.default(n.error.code,t));hi()}}function l(){return t?t.getStreamInfo():null}function rf(n){return o.filter(function(t){return t.getId()===n})[0]}function nr(){if(!(kt&&kt.hasOwnProperty("load")&&rt&&rt.hasOwnProperty("initialize")&&rt.hasOwnProperty("reset")&&rt.hasOwnProperty("getClientTimeOffset")&&p&&ct&&d&&c))throw new Error("setConfig function has to be called previously");}function uf(){if(!st||!st.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously");}function ff(n){nr();kt.load(n)}function ef(n){uf();st.setManifest(n)}function nu(n){isNaN(n.newDuration)||pr(n.newDuration)}function of(n){n&&(n.capabilities&&(ru=n.capabilities),n.manifestLoader&&(kt=n.manifestLoader),n.manifestModel&&(p=n.manifestModel),n.dashManifestModel&&(pt=n.dashManifestModel),n.mediaPlayerModel&&(ft=n.mediaPlayerModel),n.protectionController&&(g=n.protectionController),n.adapter&&(b=n.adapter),n.metricsModel&&(d=n.metricsModel),n.dashMetrics&&(li=n.dashMetrics),n.errHandler&&(ct=n.errHandler),n.timelineConverter&&(rt=n.timelineConverter),n.videoModel&&(v=n.videoModel),n.playbackController&&(c=n.playbackController),n.domStorage&&(uu=n.domStorage),n.abrController&&(fu=n.abrController),n.mediaController&&(eu=n.mediaController),n.textController&&(ou=n.textController))}function sf(n){ii=n}function tu(){o=[];g=null;ri=!1;t=null;ui=!1;fi=!1;vi=void 0;yi=void 0;ei=!0;gt=!1;tr=!0;ot=null;at=void 0;oi=!1;ir=0}function hi(){nr();ai.reset();ti(ui||fi?e.PlayListTrace.FAILURE_STOP_REASON:e.PlayListTrace.USER_REQUEST_STOP_REASON);for(var t=0,i=o?o.length:0;t<i;t++)o[t].reset(ui);yu();dt.reset();st.reset();d.clearAllCurrentMetrics();p.setValue(null);kt.reset();rt.reset();su.reset();u&&(tt.detachMediaSource(v),u=null);v=null;g&&(g.setMediaElement(null),g=null,ii=null,p.getValue()&&n.trigger(r.default.PROTECTION_DESTROYED,{data:p.getValue().url}));n.trigger(r.default.STREAM_TEARDOWN_COMPLETE);tu()}function iu(n){n.metric===a.default.DVR_INFO&&n.mediaType===f.default.AUDIO&&tt.setSeekable(u,n.value.range.start,n.value.range.end)}var hf=40,nt=this.context,n=k.default(nt).getInstance(),ci=void 0,i=void 0,ru=void 0,st=void 0,kt=void 0,p=void 0,pt=void 0,b=void 0,d=void 0,li=void 0,tt=void 0,ai=void 0,dt=void 0,uu=void 0,fu=void 0,eu=void 0,ou=void 0,su=void 0,hu=void 0,ct=void 0,rt=void 0,o=void 0,t=void 0,g=void 0,ii=void 0,tr=void 0,ri=void 0,ui=void 0,fi=void 0,u=void 0,v=void 0,c=void 0,ft=void 0,gt=void 0,ei=void 0,ot=void 0,vi=void 0,yi=void 0,oi=void 0,at=void 0,pi=void 0,ir=void 0,ni=void 0,bt=void 0,si=void 0,cu=void 0,rr=void 0;return ci={initialize:au,getActiveStreamInfo:l,isTrackTypePresent:kr,switchToVideoElement:gu,getStreamById:rf,getStreamForTime:bi,getTimeRelativeToStreamId:ku,load:ff,loadWithManifest:ef,getActiveStreamProcessors:yt,setConfig:of,setProtectionData:sf,reset:hi},lu(),ci}Object.defineProperty(i,"__esModule",{value:!0});var c=n(101),f=u(c),l=n(102),a=u(l),v=n(98),y=u(v),p=n(92),w=u(p),b=n(47),k=u(b),d=n(53),r=u(d),g=n(48),nt=u(g),e=n(237),tt=n(46),it=u(tt),rt=n(203),ut=u(rt),ft=n(210),et=u(ft),ot=n(94),s=u(ot),st=n(115),ht=u(st),ct=n(105),lt=u(ct),at=n(111),vt=u(at),yt=n(215),h=u(yt),pt=n(50),wt=u(pt);o.__dashjs_factory_name="StreamController";i.default=nt.default.getSingletonFactory(o);t.exports=i.default},{101:101,102:102,105:105,111:111,115:115,203:203,210:210,215:215,237:237,46:46,47:47,48:48,50:50,53:53,92:92,94:94,98:98}],115:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function ht(){t=nt.default(y).getInstance().getLogger(w)}function ct(t,r){ft=r;i=0;k=!1;d={"urn:mpeg:dash:utc:http-head:2014":rt,"urn:mpeg:dash:utc:http-xsdate:2014":n.bind(null,f),"urn:mpeg:dash:utc:http-iso:2014":n.bind(null,g),"urn:mpeg:dash:utc:direct:2014":tt,"urn:mpeg:dash:utc:http-head:2012":rt,"urn:mpeg:dash:utc:http-xsdate:2012":n.bind(null,f),"urn:mpeg:dash:utc:http-iso:2012":n.bind(null,g),"urn:mpeg:dash:utc:direct:2012":tt,"urn:mpeg:dash:utc:http-ntp:2014":s,"urn:mpeg:dash:utc:ntp:2014":s,"urn:mpeg:dash:utc:sntp:2014":s};vt()||a(t)}function lt(n){n&&(n.metricsModel&&(et=n.metricsModel),n.dashMetrics&&(ot=n.dashMetrics),n.baseURLController&&(st=n.baseURLController))}function at(){return yt()}function r(n){k=n}function vt(){return k}function u(n){i=n}function yt(){return i}function pt(n){var r=1e3,i=void 0,u=void 0,t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(n);return i=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&(parseInt(t[6],10)||0),t[7]&&parseFloat(t[7])*r||0),t[9]&&t[10]&&(u=60*parseInt(t[9],10)+parseInt(t[10],10),i+=("+"===t[8]?-1:1)*u*60*r),new Date(i).getTime()}function f(n){var t=Date.parse(n);return isNaN(t)&&(t=pt(n)),t}function g(n){return Date.parse(n)}function wt(n){return Date.parse(n)}function s(n,t,i){i()}function tt(n,t,i){var r=f(n);if(!isNaN(r))return void t(r);i()}function n(t,i,r,u,f){var a=void 0,v=void 0,s=!1,o=new XMLHttpRequest,y=f?e.HTTPRequest.HEAD:e.HTTPRequest.GET,c=i.match(/\S+/g),l;(i=c.shift(),a=function(){s||(s=!0,c.length?n(t,c.join(" "),r,u,f):u())},v=function(){var i=void 0,n=void 0;200===o.status&&(i=f?o.getResponseHeader("Date"):o.response,n=t(i),isNaN(n)||(r(n),s=!0))},ut.isRelative(i))&&(l=st.resolve(),l&&(i=ut.resolve(i,l.url)));o.open(y,i);o.timeout=h||0;o.onload=v;o.onloadend=a;o.send()}function rt(t,i,r){n(wt,t,i,r,!0)}function bt(){var r=et.getReadOnlyMetricsFor(l.default.STREAM),t=ot.getLatestMPDRequestHeaderValueByID(r,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?c(!0):(u(n-(new Date).getTime()),c(!1,n/1e3,i))}function c(n,t,i){r(!1);gt.trigger(b.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:i,error:n?new v.default(o.default.TIME_SYNC_FAILED_ERROR_CODE,o.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}function kt(n,t){return n-t}function a(n,i){var e=i||0,f=n[e],o=function(n,t){var i=!n||!t;i&&ft?bt():c(i,n,t)};r(!0);f?d.hasOwnProperty(f.schemeIdUri)?d[f.schemeIdUri](f.value,function(n){var r=(new Date).getTime(),i=kt(n,r);u(i);t.info("Local time: "+new Date(r));t.info("Server time: "+new Date(n));t.info("Server Time - Local Time (ms): "+i);o(n,i)},function(){a(n,e+1)}):a(n,e+1):(u(0),o())}function dt(){r(!1)}var y=this.context,gt=p.default(y).getInstance(),ut=it.default(y).getInstance(),w=void 0,t=void 0,i=void 0,k=void 0,ft=void 0,d=void 0,et=void 0,ot=void 0,st=void 0;return w={initialize:ct,getOffsetToDeviceTimeMs:at,setConfig:lt,reset:dt},ht(),w}var u;Object.defineProperty(i,"__esModule",{value:!0});var c=n(101),l=r(c),a=n(215),v=r(a),e=n(235),y=n(47),p=r(y),w=n(53),b=r(w),k=n(50),o=r(k),d=n(48),s=r(d),g=n(46),nt=r(g),tt=n(210),it=r(tt),h=5e3;f.__dashjs_factory_name="TimeSyncController";u=s.default.getSingletonFactory(f);u.HTTP_TIMEOUT_MS=h;s.default.updateSingletonFactory(f.__dashjs_factory_name,u);i.default=u;t.exports=i.default},{101:101,210:210,215:215,235:235,46:46,47:47,48:48,50:50,53:53}],116:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n){function tt(){u.on(e.default.XLINK_ELEMENT_LOADED,v,o);i=h.default(c).create({errHandler:n.errHandler,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier})}function it(n){n&&(p=n)}function rt(n){n&&(b=n)}function ut(n){var i=void 0;d=new w.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:p});t=n;i=s(t.Period_asArray,t,r.default.PERIOD,f);a(i,r.default.PERIOD,f)}function ft(){u.off(e.default.XLINK_ELEMENT_LOADED,v,o);i&&(i.reset(),i=null)}function a(n,t,r){var u={},f=void 0,o=void 0,e;for(u.elements=n,u.type=t,u.resolveType=r,0===u.elements.length&&y(u),e=0;e<u.elements.length;e++)f=u.elements[e],o=ct.isHTTPURL(f.url)?f.url:f.originalContent.BaseURL+f.url,i.load(o,f,u)}function v(n){var t=void 0,r=void 0,u="",i;(t=n.element,r=n.resolveObject,t.resolvedContent)&&(i=0,0===t.resolvedContent.indexOf("<?xml")&&(i=t.resolvedContent.indexOf("?>")+2),u=t.resolvedContent.substr(0,i)+"<response>"+t.resolvedContent.substr(i)+"<\/response>",t.resolvedContent=d.xml_str2json(u));st(r)&&y(r)}function y(n){var o=[],h=void 0,i=void 0;if(et(n),n.resolveType===g&&u.trigger(e.default.XLINK_READY,{manifest:t}),n.resolveType===f)switch(n.type){case r.default.PERIOD:for(h=0;h<t[r.default.PERIOD+"_asArray"].length;h++)i=t[r.default.PERIOD+"_asArray"][h],i.hasOwnProperty(r.default.ADAPTATION_SET+"_asArray")&&(o=o.concat(s(i[r.default.ADAPTATION_SET+"_asArray"],i,r.default.ADAPTATION_SET,f))),i.hasOwnProperty(r.default.EVENT_STREAM+"_asArray")&&(o=o.concat(s(i[r.default.EVENT_STREAM+"_asArray"],i,r.default.EVENT_STREAM,f)));a(o,r.default.ADAPTATION_SET,f);break;case r.default.ADAPTATION_SET:u.trigger(e.default.XLINK_READY,{manifest:t})}}function s(n,t,i,r){for(var e=[],f=void 0,u=void 0,o=void 0,u=n.length-1;u>=0;u--)f=n[u],f.hasOwnProperty("xlink:href")&&f["xlink:href"]===nt&&n.splice(u,1);for(u=0;u<n.length;u++)f=n[u],f.hasOwnProperty("xlink:href")&&f.hasOwnProperty("xlink:actuate")&&f["xlink:actuate"]===r&&(o=ot(f["xlink:href"],t,i,u,r,f),e.push(o));return e}function et(n){for(var r=[],i=void 0,u=void 0,s=void 0,e=void 0,o=void 0,f=void 0,e=n.elements.length-1;e>=0;e--){if(i=n.elements[e],u=i.type+"_asArray",!i.resolvedContent||ht())delete i.originalContent["xlink:actuate"],delete i.originalContent["xlink:href"],r.push(i.originalContent);else if(i.resolvedContent)for(o=0;o<i.resolvedContent[u].length;o++)s=i.resolvedContent[u][o],r.push(s);for(i.parentElement[u].splice(i.index,1),f=0;f<r.length;f++)i.parentElement[u].splice(i.index+f,0,r[f]);r=[]}n.elements.length>0&&b.run(t)}function ot(n,t,i,r,u,f){return{url:n,parentElement:t,type:i,index:r,resolveType:u,originalContent:f,resolvedContent:null,resolved:!1}}function st(n){for(var t=void 0,i=void 0,t=0;t<n.elements.length;t++)if(i=n.elements[t],!1===i.resolved)return!1;return!0}function ht(){return!1}n=n||{};var c=this.context,u=l.default(c).getInstance(),ct=k.default(c).getInstance(),o=void 0,p=void 0,b=void 0,t=void 0,d=void 0,i=void 0;return o={resolveManifestOnLoad:ut,setMatchers:it,setIron:rt,reset:ft},tt(),o}Object.defineProperty(i,"__esModule",{value:!0});var s=n(100),h=u(s),c=n(47),l=u(c),a=n(53),e=u(a),v=n(48),y=u(v),p=n(3),w=u(p),b=n(210),k=u(b),d=n(60),r=u(d),f="onLoad",g="onActuate",nt="urn:mpeg:dash:resolve-to-zero:2013";o.__dashjs_factory_name="XlinkController";i.default=y.default.getClassFactory(o);t.exports=i.default},{100:100,210:210,3:3,47:47,48:48,53:53,60:60}],117:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function t(t){return u=o.default(n).getInstance({eventBus:t.eventBus,metricsModel:t.metricsModel,metricsConstants:t.metricsConstants,events:t.events}),l.default(n).create(t)}function i(){return p.default(n).getInstance()}function r(){return v.default(n).getInstance()}var n=this.context,u=void 0;return{createMetricsReporting:t,getReportingFactory:i,getMetricsHandlerFactory:r}}var u;Object.defineProperty(i,"__esModule",{value:!0});var e=n(131),o=r(e),s=n(118),h=r(s),c=n(119),l=r(c),a=n(124),v=r(a),y=n(129),p=r(y);f.__dashjs_factory_name="MetricsReporting";u=dashjs.FactoryMaker.getClassFactory(f);u.events=h.default;dashjs.FactoryMaker.updateClassFactory(f.__dashjs_factory_name,u);i.default=u;t.exports=i.default},{118:118,119:119,124:124,129:129,131:131}],118:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(54),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized";this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{54:54}],119:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function u(r){if(!r.error){var u=Object.keys(t);s.default(o).getInstance({dashManifestModel:n.dashManifestModel,constants:n.constants}).getMetrics(r.manifest).forEach(function(i){var r=JSON.stringify(i),f;if(t.hasOwnProperty(r))u.splice(r,1);else try{f=e.default(o).create(n);f.initialize(i);t[r]=f}catch(i){}});u.forEach(function(n){t[n].reset();delete t[n]});i.trigger(c.default.METRICS_INITIALISATION_COMPLETE)}}function f(){Object.keys(t).forEach(function(n){t[n].reset()});t={}}function h(){i.on(r.MANIFEST_UPDATED,u);i.on(r.STREAM_TEARDOWN_COMPLETE,f)}function l(){i.off(r.MANIFEST_UPDATED,u);i.off(r.STREAM_TEARDOWN_COMPLETE,f)}n=n||{};var t={},o=this.context,i=n.eventBus,r=n.events;return h(),{reset:l}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(120),e=r(f),o=n(133),s=r(o),h=n(118),c=r(h);u.__dashjs_factory_name="MetricsCollectionController";i.default=dashjs.FactoryMaker.getClassFactory(u);t.exports=i.default},{118:118,120:120,133:133}],120:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function o(o){try{i=e.default(u).create({mediaElement:n.mediaElement});i.initialize(o.Range);t=s.default(u).create({debug:n.debug,metricsConstants:n.metricsConstants});t.initialize(o.Reporting,i);r=c.default(u).create({debug:n.debug,eventBus:n.eventBus,metricsConstants:n.metricsConstants,events:n.events});r.initialize(o.metrics,t)}catch(h){throw f(),h;}}function f(){r&&r.reset();t&&t.reset();i&&i.reset()}n=n||{};var r=void 0,t=void 0,i=void 0,u=this.context;return{initialize:o,reset:f}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(122),e=r(f),o=n(123),s=r(o),h=n(121),c=r(h);u.__dashjs_factory_name="MetricsController";i.default=dashjs.FactoryMaker.getClassFactory(u);t.exports=i.default},{121:121,122:122,123:123}],121:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function i(n){r.forEach(function(t){t.handleNewMetric(n.metric,n.value,n.mediaType)})}function o(n,e){n.split(",").forEach(function(n,t,i){var f=void 0,u;-1!==n.indexOf("(")&&-1===n.indexOf(")")&&(u=i[t+1],u&&-1===u.indexOf("(")&&-1!==u.indexOf(")")&&(n+=","+u,delete i[t+1]));(f=c.create(n,e))&&r.push(f)});u.on(f.METRIC_ADDED,i,t);u.on(f.METRIC_UPDATED,i,t)}function s(){u.off(f.METRIC_ADDED,i,t);u.off(f.METRIC_UPDATED,i,t);r.forEach(function(n){return n.reset()});r=[]}n=n||{};var r=[],t=void 0,h=this.context,u=n.eventBus,f=n.events,c=e.default(h).getInstance({debug:n.debug,eventBus:n.eventBus,metricsConstants:n.metricsConstants});return t={initialize:o,reset:s}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(124),e=u(f);r.__dashjs_factory_name="MetricsHandlersController";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{124:124}],122:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function u(n){n&&n.length&&(n.forEach(function(n){var i=n.starttime,r=i+n.duration;t.add(i,r)}),i=!!n[0]._useWallClockTime)}function f(){t.clear()}function o(){t=e.default(h).create()}function s(){var u=t.length,r=void 0,n,f,e;if(!u)return!0;for(r=i?(new Date).getTime()/1e3:c.currentTime,n=0;n<u;n+=1)if(f=t.start(n),e=t.end(n),f<=r&&r<e)return!0;return!1}n=n||{};var i=!1,h=this.context,r=void 0,t=void 0,c=n.mediaElement;return r={initialize:u,reset:f,isEnabled:s},o(),r}Object.defineProperty(i,"__esModule",{value:!0});var f=n(199),e=u(f);r.__dashjs_factory_name="RangeController";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{199:199}],123:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function i(n,i){n.some(function(n){var r=f.create(n,i);if(r)return t.push(r),!0})}function r(){t.forEach(function(n){return n.reset()});t=[]}function u(n,i){t.forEach(function(t){return t.report(n,i)})}var t=[],f=e.default(this.context).getInstance(n);return{initialize:i,reset:r,report:u}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(129),e=u(f);r.__dashjs_factory_name="ReportingController";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{129:129}],124:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n){function i(i,r){var f,u=i.match(s);if(u){try{f=t[u[1]](c).create({eventBus:n.eventBus,metricsConstants:n.metricsConstants});f.initialize(u[1],r,u[3],u[5])}catch(o){f=null;e.error("MetricsHandlerFactory: Could not create handler for type "+u[1]+" with args "+u[3]+", "+u[5]+" ("+o.message+")")}return f}}function r(n,i){t[n]=i}function f(n){delete t[n]}n=n||{};var e=n.debug,s=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,c=this.context,t={BufferLevel:o.default,DVBErrors:h.default,HttpList:l.default,PlayList:u.default,RepSwitchList:u.default,TcpList:u.default};return{create:i,register:r,unregister:f}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(125),o=r(e),s=n(126),h=r(s),c=n(128),l=r(c),a=n(127),u=r(a);f.__dashjs_factory_name="MetricsHandlerFactory";i.default=dashjs.FactoryMaker.getSingletonFactory(f);t.exports=i.default},{125:125,126:126,127:127,128:128}],125:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function h(){try{return Object.keys(f).map(function(n){return f[n]}).reduce(function(n,t){return n.level<t.level?n:t})}catch(n){return}}function c(){var n=h();n&&u!==n.t&&(u=n.t,t.report(o,n))}function l(n,u,f){u&&(i=s.validateN(f),t=u,o=s.reconstructFullMetricName(n,f),r=setInterval(c,i))}function a(){clearInterval(r);r=null;i=0;t=null;u=null}function v(n,t,i){n===p.BUFFER_LEVEL&&(f[i]=t)}n=n||{};var t=void 0,i=void 0,o=void 0,r=void 0,u=void 0,y=this.context,s=e.default(y).getInstance(),f=[],p=n.metricsConstants;return{initialize:l,reset:a,handleNewMetric:v}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(132),e=u(f);r.__dashjs_factory_name="BufferLevelHandler";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{132:132}],126:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function u(){i.off(r.default.METRICS_INITIALISATION_COMPLETE,u,this);i.trigger(r.default.BECAME_REPORTING_PLAYER)}function f(n,f){f&&(t=f,i.on(r.default.METRICS_INITIALISATION_COMPLETE,u,this))}function e(){t=null}function o(n,i){n===s.DVB_ERRORS&&t&&t.report(n,i)}n=n||{};var t=void 0,i=n.eventBus,s=n.metricsConstants;return{initialize:f,reset:e,handleNewMetric:o}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(118),r=u(e);i.default=dashjs.FactoryMaker.getClassFactory(f);t.exports=i.default},{118:118}],127:[function(n,t,i){"use strict";function r(){function i(i,r){n=i;t=r}function r(){t=null;n=void 0}function u(i,r){i===n&&t&&t.report(n,r)}var n=void 0,t=void 0;return{initialize:i,reset:r,handleNewMetric:u}}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="GenericMetricHandler";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{}],128:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function h(){var n=r;n.length&&t&&t.report(o,n);r=[]}function c(n,r,e,c){r&&(u=s.validateN(e),t=r,c&&c.length&&(i=c),o=s.reconstructFullMetricName(n,e,c),f=setInterval(h,u))}function l(){clearInterval(f);f=null;u=null;i=null;r=[];t=null}function a(n,t){n===v.HTTP_REQUEST&&(i&&i!==t.type||r.push(t))}n=n||{};var t=void 0,u=void 0,i=void 0,o=void 0,f=void 0,r=[],s=e.default(this.context).getInstance(),v=n.metricsConstants;return{initialize:c,reset:l,handleNewMetric:a}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(132),e=u(f);r.__dashjs_factory_name="HttpListHandler";i.default=dashjs.FactoryMaker.getClassFactory(r);t.exports=i.default},{132:132}],129:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function i(n,i){var r=void 0;try{r=t[n.schemeIdUri](f).create({metricsConstants:s});r.initialize(n,i)}catch(u){r=null;o.error("ReportingFactory: could not create Reporting with schemeIdUri "+n.schemeIdUri+" ("+u.message+")")}return r}function r(n,i){t[n]=i}function u(n){delete t[n]}n=n||{};var t={"urn:dvb:dash:reporting:2014":e.default},f=this.context,o=n.debug,s=n.metricsConstants;return{create:i,register:r,unregister:u}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(130),e=u(f);r.__dashjs_factory_name="ReportingFactory";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{130:130}],130:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function v(){l=e.default(c).getInstance();a=s.default(c).getInstance();o()}function y(n,i,r){var u=new XMLHttpRequest,f=function(){var n=t.indexOf(u);-1!==n&&(t.splice(n,1),u.status>=200&&u.status<300?i&&i():r&&r())};t.push(u);try{u.open("GET",n);u.onloadend=f;u.onerror=f;u.send()}catch(e){u.onerror()}}function p(n,t){Array.isArray(t)||(t=[t]);i&&f.isEnabled()&&t.forEach(function(t){var r=l.serialise(t);k&&n!==g.DVB_ERRORS&&(r="metricname="+n+"&"+r);r=u+"?"+r;y(r,null,function(){i=!1})})}function w(n,t){var e=void 0;if(f=t,!(u=n["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");r||(e=n["dvb:probability"]||n["dvb:priority"]||0,e&&(1e3===e||e/1e3>=a.random())&&(i=!0),r=!0)}function o(){r=!1;i=!1;u=null;f=null}function b(){d||(t.forEach(function(n){return n.abort()}),t=[]);o()}n=n||{};var h=void 0,c=this.context,l=void 0,a=void 0,r=void 0,i=void 0,u=void 0,f=void 0,k=!0,d=!0,t=[],g=n.metricsConstants;return h={report:p,initialize:w,reset:b},v(),h}Object.defineProperty(i,"__esModule",{value:!0});var f=n(134),e=r(f),o=n(135),s=r(o);u.__dashjs_factory_name="DVBReporting";i.default=dashjs.FactoryMaker.getClassFactory(u);t.exports=i.default},{134:134,135:135}],131:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function f(n){var t=new r.default,i;if(s){for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);t.mpdurl||(t.mpdurl=s.originalUrl||s.url);t.terror||(t.terror=new Date);w.addDVBErrors(t)}}function h(n){n.error||(s=n.manifest)}function c(n){f({errorcode:r.default.BASE_URL_CHANGED,servicelocation:n.entry})}function l(){f({errorcode:r.default.BECAME_REPORTER})}function y(n){(0===n.responsecode||n.responsecode>=400||n.responsecode<100||n.responsecode>=600)&&f({errorcode:n.responsecode||r.default.CONNECTION_ERROR,url:n.url,terror:n.tresponse,servicelocation:n._serviceLocation})}function o(n){switch(n.metric){case b.HTTP_REQUEST:y(n.value)}}function a(n){var i=n.error?n.error.code:0,t=void 0;switch(i){case MediaError.MEDIA_ERR_NETWORK:t=r.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=r.default.CORRUPT_MEDIA_OTHER;break;default:return}f({errorcode:t})}function v(){i.on(u.MANIFEST_UPDATED,h,t);i.on(u.SERVICE_LOCATION_BLACKLIST_CHANGED,c,t);i.on(u.METRIC_ADDED,o,t);i.on(u.METRIC_UPDATED,o,t);i.on(u.PLAYBACK_ERROR,a,t);i.on(e.default.BECAME_REPORTING_PLAYER,l,t)}function p(){i.off(u.MANIFEST_UPDATED,h,t);i.off(u.SERVICE_LOCATION_BLACKLIST_CHANGED,c,t);i.off(u.METRIC_ADDED,o,t);i.off(u.METRIC_UPDATED,o,t);i.off(u.PLAYBACK_ERROR,a,t);i.off(e.default.BECAME_REPORTING_PLAYER,l,t)}n=n||{};var t=void 0,s=void 0,i=n.eventBus,w=n.metricsModel,b=n.metricsConstants,u=n.events;return t={initialise:v,reset:p},v(),t}Object.defineProperty(i,"__esModule",{value:!0});var o=n(136),r=u(o),s=n(118),e=u(s);f.__dashjs_factory_name="DVBErrorsTranslator";i.default=dashjs.FactoryMaker.getSingletonFactory(f);t.exports=i.default},{118:118,136:136}],132:[function(n,t,i){"use strict";function r(){return{reconstructFullMetricName:function(n,t,i){var r=n;return t&&(r+="("+t,i&&i.length&&(r+=","+i),r+=")"),r},validateN:function(n){if(!n)throw new Error("missing n");if(isNaN(n))throw new Error("n is NaN");if(n<0)throw new Error("n must be positive");return n}}}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="HandlerHelpers";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{}],133:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function r(n,r,u){var f,e,s=t.getMpd(n),o=0;return r?o=s.availabilityStartTime.getTime()/1e3:(f=this.getRegularPeriods(s),f.length&&(o=f[0].start)),e=o,u&&u.hasOwnProperty(i.START_TIME)&&(e+=u.starttime),e}function u(n){var u=[];return n.Metrics_asArray&&n.Metrics_asArray.forEach(function(f){var o=new e.default,h=t.getIsDynamic(n);f.hasOwnProperty("metrics")&&(o.metrics=f.metrics,f.Range_asArray&&f.Range_asArray.forEach(function(i){var u=new s.default;u.starttime=r(n,h,i);u.duration=i.hasOwnProperty("duration")?i.duration:t.getDuration(n);u._useWallClockTime=h;o.Range.push(u)}),f.Reporting_asArray&&(f.Reporting_asArray.forEach(function(n){var r=new c.default,t;if(n.hasOwnProperty(i.SCHEME_ID_URI)){r.schemeIdUri=n.schemeIdUri;for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);o.Reporting.push(r)}}),u.push(o)))}),u}n=n||{};var t=n.dashManifestModel,i=n.constants;return{getMetrics:u}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(137),e=r(f),o=n(138),s=r(o),h=n(139),c=r(h);u.__dashjs_factory_name="ManifestParsing";i.default=dashjs.FactoryMaker.getSingletonFactory(u);t.exports=i.default},{137:137,138:138,139:139}],134:[function(n,t,i){"use strict";function r(){function n(t){var f=[],u=[],r=void 0,i=void 0;for(r in t)if(t.hasOwnProperty(r)&&0!==r.indexOf("_")){if(i=t[r],void 0!==i&&null!==i||(i=""),Array.isArray(i)){if(!i.length)continue;u=[];i.forEach(function(t){var i="Object"!==Object.prototype.toString.call(t).slice(8,-1);u.push(i?t:n(t))});i=u.map(encodeURIComponent).join(",")}else"string"==typeof i?i=encodeURIComponent(i):i instanceof Date?i=i.toISOString():"number"==typeof i&&(i=Math.round(i));f.push(r+"="+i)}return f.join("&")}return{serialise:n}}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="MetricSerialiser";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{}],135:[function(n,t,i){"use strict";function r(){function r(){i&&(n||(n=new u(s)),i.getRandomValues(n),t=0)}function e(u,f){var e=void 0;return u||(u=0),f||(f=1),i?(t===n.length&&r(),e=n[t]/o,t+=1):e=Math.random(),e*(f-u)+u}var i=window.crypto||window.msCrypto,u=Uint32Array,o=Math.pow(2,8*u.BYTES_PER_ELEMENT)-1,s=10,n=void 0,t=void 0,f=void 0;return f={random:e},r(),f}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="RNG";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{}],136:[function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var r=function n(){u(this,n);this.mpdurl=null;this.errorcode=null;this.terror=null;this.url=null;this.ipaddress=null;this.servicelocation=null};r.SSL_CONNECTION_FAILED_PREFIX="SSL";r.DNS_RESOLUTION_FAILED="C00";r.HOST_UNREACHABLE="C01";r.CONNECTION_REFUSED="C02";r.CONNECTION_ERROR="C03";r.CORRUPT_MEDIA_ISOBMFF="M00";r.CORRUPT_MEDIA_OTHER="M01";r.BASE_URL_CHANGED="F00";r.BECAME_REPORTER="S00";i.default=r;t.exports=i.default},{}],137:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.metrics="";this.Range=[];this.Reporting=[]};i.default=u;t.exports=i.default},{}],138:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.starttime=0;this.duration=1/0;this._useWallClockTime=!1};i.default=u;t.exports=i.default},{}],139:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.schemeIdUri="";this.value=""};i.default=u;t.exports=i.default},{}],140:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(){function c(){f()}function l(n){n.dashManifestModel&&(t=n.dashManifestModel)}function a(){if(!t||!t.hasOwnProperty("getBaseURLsFromElement")||!t.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously");}function i(n,i,u){var f=t.getBaseURLsFromElement(u);n[i]?s.areEqual(f,n[i].data.baseUrls)||(n[i].data.baseUrls=f,n[i].data.selectedIdx=r):n[i]=new e(f)}function v(u){a();var f=t.getBaseURLsFromElement(u);s.areEqual(f,n.data.baseUrls)||(n.data.baseUrls=f,n.data.selectedIdx=r);u&&u.Period_asArray&&u.Period_asArray.forEach(function(r,u){i(n.children,u,r);r.AdaptationSet_asArray&&r.AdaptationSet_asArray.forEach(function(r,f){i(n.children[u].children,f,r);r.Representation_asArray&&r.Representation_asArray.sort(t.getRepresentationSortFunction()).forEach(function(t,r){i(n.children[u].children[f].children,r,t)})})})}function u(t,i){var r=i||n;t(r.data);r.children&&r.children.forEach(function(n){return u(t,n)})}function y(n){u(function(t){isNaN(t.selectedIdx)||n===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=r)})}function p(n){v(n)}function f(){n=new e}function w(t){var i=n,r=[i.data];return t&&t.forEach(function(n){(i=i.children[n])&&r.push(i.data)}),r.filter(function(n){return n.baseUrls.length})}var o=void 0,n=void 0,t=void 0,b=this.context,s=h.default(b).getInstance();return o={reset:f,update:p,getForPath:w,invalidateSelectedIndexes:y,setConfig:l},c(),o}Object.defineProperty(i,"__esModule",{value:!0});var s=n(206),h=u(s),c=n(48),l=u(c),r=NaN,e=function n(t,i){o(this,n);this.data={baseUrls:t||null,selectedIdx:i||r};this.children=[]};f.__dashjs_factory_name="BaseURLTreeModel";i.default=l.default.getClassFactory(f);t.exports=i.default},{206:206,48:48}],141:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function o(n){function ft(){y=k.default(it).getInstance().getLogger(o);tt();i.on(r.default.LOADING_COMPLETED,d,o);i.on(r.default.LOADING_DATA_PROGRESS,g,o);i.on(r.default.LOADING_ABANDONED,nt,o)}function et(n){ut=n}function ot(){return ut}function p(n){var i=function(n,t){return n.action===s.default.ACTION_COMPLETE&&n.action===t.action},r=function(n,t){return!isNaN(n.index)&&n.startTime===t.startTime&&n.adaptationIndex===t.adaptationIndex&&n.type===t.type},u=function(n,t){return isNaN(n.index)&&isNaN(t.index)&&n.quality===t.quality},f=function(t){var f=!1;return t.some(function(t){if(r(n,t)||u(n,t)||i(n,t))return f=!0}),f};return!!n&&f(t)}function st(n){var i=!1,t=0,r=void 0;if(!(i=p(n)))for(t=0;t<u.length;t++)r=u[t],n.url===r.url&&n.startTime===r.startTime&&(i=!0);return i}function ht(n){var i=n?n.state instanceof Array?n.state:[n.state]:[],t=[];return i.forEach(function(i){var r=bt(i);t=t.concat(wt(r,n))}),t}function c(n){return isNaN(n.duration)?.25:Math.min(n.duration/8,.5)}function w(n){t=t.filter(function(t){var i=c(t);return isNaN(t.startTime)||void 0!==n&&t.startTime>=n-i})}function ct(n){t=t.filter(function(t){return isNaN(t.startTime)||void 0!==n&&t.startTime+t.duration<n})}function b(n,i){i<=n+.5||(t=t.filter(function(t){var r=c(t);return isNaN(t.startTime)||t.startTime>=i-r||isNaN(t.duration)||t.startTime+t.duration<=n+r}))}function lt(n,t){if(!n||0===n.length)return void w();for(var r=0,i=0,u=n.length;i<u;i++)b(r,n.start(i)),r=n.end(i);t>0&&b(r,t)}function at(){f.abort();u=[]}function vt(n){switch(n.action){case s.default.ACTION_COMPLETE:t.push(n);a(n,e);y.debug("executeRequest trigger STREAM_COMPLETED");i.trigger(r.default.STREAM_COMPLETED,{request:n,fragmentModel:this});break;case s.default.ACTION_DOWNLOAD:a(n,h);u.push(n);yt(n);break;default:y.warn("Unknown request action.")}}function yt(n){i.trigger(r.default.FRAGMENT_LOADING_STARTED,{sender:o,request:n});f.load(n)}function pt(n,t,i){for(var e=n.length-1,r=e;r>=0;r--){var u=n[r],f=u.startTime,o=f+u.duration;if(i=isNaN(i)?c(u):i,!isNaN(f)&&!isNaN(o)&&t+i>=f&&t-i<o||isNaN(f)&&isNaN(t))return u}return null}function wt(n,t){return t.hasOwnProperty("time")?[pt(n,t.time,t.threshold)]:n.filter(function(n){for(var i in t)if("state"!==i&&t.hasOwnProperty(i)&&n[i]!=t[i])return!1;return!0})}function bt(n){var i=void 0;switch(n){case h:i=u;break;case e:i=t;break;default:i=[]}return i}function a(n,i){rt.addSchedulingInfo(n.mediaType,new Date,n.type,n.startTime,n.availabilityStartTime,n.duration,n.quality,n.range,i);rt.addRequestsQueue(n.mediaType,u,t)}function d(n){n.sender===f&&(u.splice(u.indexOf(n.request),1),n.response&&!n.error&&t.push(n.request),a(n.request,n.error?l:e),i.trigger(r.default.FRAGMENT_LOADING_COMPLETED,{request:n.request,response:n.response,error:n.error,sender:this}))}function g(n){n.sender===f&&i.trigger(r.default.FRAGMENT_LOADING_PROGRESS,{request:n.request,response:n.response,error:n.error,sender:this})}function nt(n){n.sender===f&&i.trigger(r.default.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:n.request,mediaType:n.mediaType})}function tt(){t=[];u=[]}function kt(){i.off(r.default.LOADING_COMPLETED,d,this);i.off(r.default.LOADING_DATA_PROGRESS,g,this);i.off(r.default.LOADING_ABANDONED,nt,this);f&&f.reset();tt()}function dt(n){t.push(n)}n=n||{};var it=this.context,i=v.default(it).getInstance(),rt=n.metricsModel,f=n.fragmentLoader,o=void 0,y=void 0,ut=void 0,t=void 0,u=void 0;return o={setStreamProcessor:et,getStreamProcessor:ot,getRequests:ht,isFragmentLoaded:p,isFragmentLoadedOrPending:st,removeExecutedRequestsBeforeTime:w,removeExecutedRequestsAfterTime:ct,syncExecutedRequestsWithBufferedRange:lt,abortRequests:at,executeRequest:vt,reset:kt,addExecutedRequest:dt},ft(),o}var u;Object.defineProperty(i,"__esModule",{value:!0});var a=n(47),v=f(a),y=n(53),r=f(y),p=n(48),c=f(p),w=n(217),s=f(w),b=n(46),k=f(b),h="loading",e="executed",l="failed";o.__dashjs_factory_name="FragmentModel";u=c.default.getClassFactory(o);u.FRAGMENT_MODEL_LOADING=h;u.FRAGMENT_MODEL_EXECUTED=e;u.FRAGMENT_MODEL_CANCELED="canceled";u.FRAGMENT_MODEL_FAILED=l;c.default.updateClassFactory(o.__dashjs_factory_name,u);i.default=u;t.exports=i.default},{217:217,46:46,47:47,48:48,53:53}],142:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function t(){return n}function i(t){n=t;t&&u.trigger(s.default.MANIFEST_LOADED,{data:t})}var r=this.context,u=e.default(r).getInstance(),n=void 0;return{getValue:t,setValue:i}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(47),e=r(f),o=n(53),s=r(o),h=n(48),c=r(h);u.__dashjs_factory_name="ManifestModel";i.default=c.default.getSingletonFactory(u);t.exports=i.default},{47:47,48:48,53:53}],143:[function(n,t,i){"use strict";function h(n){return n&&n.__esModule?n:{"default":n}}function e(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function c(){function dr(){var r,c;t=[];ci=!1;hi=!0;ai=!0;ir=f.default.ABR_STRATEGY_DYNAMIC;rr=!0;oi=!1;y={enabled:!0,ttl:d};p={enabled:!0,ttl:g};li=k;a=void 0;vi=it;yi=rt;pi=ut;w=NaN;wi=ot;bi=st;ki=ht;di=ct;gi=nt;nr=tt;tr=ui;fr=!1;er=lt;or=at;i={"default":fi};n=[];ur=f.default.MOVING_AVERAGE_SLIDING_WINDOW;si=!1;hr=ti;cr=ii;lr=ri;r={};e(r,u.HTTPRequest.MPD_TYPE,pt);e(r,u.HTTPRequest.XLINK_EXPANSION_TYPE,bt);e(r,u.HTTPRequest.MEDIA_SEGMENT_TYPE,o);e(r,u.HTTPRequest.INIT_SEGMENT_TYPE,o);e(r,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,o);e(r,u.HTTPRequest.INDEX_SEGMENT_TYPE,o);e(r,u.HTTPRequest.OTHER_TYPE,o);b=r;c={};e(c,u.HTTPRequest.MPD_TYPE,wt);e(c,u.HTTPRequest.XLINK_EXPANSION_TYPE,kt);e(c,u.HTTPRequest.MEDIA_SEGMENT_TYPE,s);e(c,u.HTTPRequest.INIT_SEGMENT_TYPE,s);e(c,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,s);e(c,u.HTTPRequest.INDEX_SEGMENT_TYPE,s);e(c,u.HTTPRequest.OTHER_TYPE,s);ei=c;h={};h[f.default.VIDEO]=vt;h[f.default.AUDIO]=yt;sr=!1}function gr(n){if(n!==f.default.ABR_STRATEGY_DYNAMIC&&n!==f.default.ABR_STRATEGY_BOLA&&n!==f.default.ABR_STRATEGY_THROUGHPUT)throw f.default.BAD_ARGUMENT_ERROR;ir=n}function nu(){return ir}function tu(n){r.checkParameterType(n,"boolean");rr=n}function iu(){return rr}function vr(t){for(var i=void 0,i=0;i<n.length;i++)if(n[i].rulename===t)return i;return-1}function ru(){return n}function uu(t,i,r){if("string"!=typeof t||t!==l.default.ABANDON_FRAGMENT_RULES&&t!==l.default.QUALITY_SWITCH_RULES||"string"!=typeof i)throw f.default.BAD_ARGUMENT_ERROR;var u=vr(i);-1===u?n.push({type:t,rulename:i,rule:r}):(n[u].type=t,n[u].rule=r)}function fu(t){if(t){var i=vr(t);-1!==i&&n.splice(i,1)}else n=[]}function eu(n){r.checkParameterType(n,"number");gi=n}function ou(){return gi}function su(n){r.checkParameterType(n,"number");nr=n}function hu(){return nr}function cu(n){r.checkParameterType(n,"number");w=n}function lu(){return c()?.6*yr():isNaN(w)?oi?et:ft:w}function au(n){r.checkParameterType(n,"number");wi=n}function vu(){return wi}function yu(n){r.checkParameterType(n,"number");bi=n}function pu(){return bi}function wu(n){r.checkParameterType(n,"number");ki=n}function bu(){return ki}function ku(n){r.checkParameterType(n,"number");di=n}function du(){return di}function gu(n,t){r.checkParameterType(t,"number");r.checkIsVideoOrAudioType(n);h[n]=t}function nf(n){return h[n]}function tf(n){r.checkParameterType(n,"number");vi=n}function rf(){return vi}function uf(n){r.checkParameterType(n,"number");yi=n}function ff(){return yi}function ef(n,t){if("boolean"!=typeof n||void 0!==t&&("number"!=typeof t||isNaN(t)))throw f.default.BAD_ARGUMENT_ERROR;y.enabled=n;void 0!==t&&(y.ttl=t)}function of(){return y}function sf(n,t){if("boolean"!=typeof n||void 0!==t&&("number"!=typeof t||isNaN(t)))throw f.default.BAD_ARGUMENT_ERROR;p.enabled=n;void 0!==t&&(p.ttl=t)}function hf(){return p}function cf(n){r.checkParameterType(n,"number");pi=n}function lf(){return pi}function af(n,t){if("number"!=typeof t||"string"!=typeof n||n!==u.HTTPRequest.MPD_TYPE&&n!==u.HTTPRequest.MEDIA_SEGMENT_TYPE)throw f.default.BAD_ARGUMENT_ERROR;b[n]=t}function vf(n){return c()?b[n]*ni:b[n]}function yf(n,t){r.checkParameterType(t,"number");ei[n]=t}function pf(n){return c()?ei[n]/gt:ei[n]}function wf(n){r.checkParameterType(n,"number");tr=n}function bf(){return tr}function kf(n){r.checkParameterType(n,"boolean");ai=n}function df(){return ai}function gf(n){r.checkParameterType(n,"number");li=n}function ne(){return li}function te(n){void 0!==n&&r.checkParameterType(n,"number");a=n}function yr(){return si?a||dt:a}function ie(n){r.checkParameterType(n,"boolean");hi=n}function re(){return hi}function ue(n){r.checkParameterType(n,"boolean");ci=n}function fe(){return ci}function pr(n,i){wr(n,i);var r=new v.default;r.schemeIdUri=n;r.value=i;t.push(r)}function ee(){return t}function wr(n,i){r.checkParameterType(n,"string");r.checkParameterType(i,"string");t.forEach(function(r,u){r.schemeIdUri===n&&r.value===i&&t.splice(u,1)})}function oe(){t=[]}function se(){pr(ar.scheme,ar.value)}function br(n,t){n?i[n]=!!t:Object.keys(i).forEach(function(n){br(n,t)})}function he(n){var t=i[n];return void 0===t?i.default:t}function ce(){return oi}function le(n){r.checkParameterType(n,"boolean");oi=n}function ae(n){if(n!==f.default.MOVING_AVERAGE_SLIDING_WINDOW&&n!==f.default.MOVING_AVERAGE_EWMA)throw f.default.BAD_ARGUMENT_ERROR;ur=n}function ve(){return ur}function ye(n){r.checkParameterType(n,"boolean");fr=n}function pe(){return fr}function we(n){r.checkParameterType(n,"number");er=n}function be(){return er}function c(){return si}function ke(n){r.checkParameterType(n,"boolean");si=n}function de(n){r.checkParameterType(n,"number");r.checkRange(n,0,.5);lr=n}function ge(){return lr}function no(n){r.checkParameterType(n,"number");hr=n}function to(){return hr}function io(n){r.checkParameterType(n,"number");cr=n}function ro(){return cr}function uo(n){r.checkParameterType(n,"number");or=n}function fo(){return or}function eo(n){r.checkParameterType(n,"boolean");sr=n}function oo(){return sr}function so(){return ar}function ho(){}var kr=void 0,hi=void 0,ci=void 0,t=void 0,li=void 0,a=void 0,ai=void 0,vi=void 0,yi=void 0,pi=void 0,y=void 0,p=void 0,w=void 0,wi=void 0,bi=void 0,ki=void 0,di=void 0,gi=void 0,nr=void 0,b=void 0,ei=void 0,tr=void 0,ir=void 0,rr=void 0,i=void 0,oi=void 0,n=void 0,ur=void 0,h=void 0,fr=void 0,er=void 0,si=void 0,or=void 0,sr=void 0,hr=void 0,cr=void 0,lr=void 0,ar={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"};return kr={setABRStrategy:gr,getABRStrategy:nu,setUseDefaultABRRules:tu,getUseDefaultABRRules:iu,getABRCustomRules:ru,addABRCustomRule:uu,removeABRCustomRule:fu,setBandwidthSafetyFactor:eu,getBandwidthSafetyFactor:ou,setAbandonLoadTimeout:su,getAbandonLoadTimeout:hu,setLastBitrateCachingInfo:ef,getLastBitrateCachingInfo:of,setLastMediaSettingsCachingInfo:sf,getLastMediaSettingsCachingInfo:hf,setStableBufferTime:cu,getStableBufferTime:lu,setBufferTimeAtTopQuality:au,getBufferTimeAtTopQuality:vu,setBufferTimeAtTopQualityLongForm:yu,getBufferTimeAtTopQualityLongForm:pu,setLongFormContentDurationThreshold:wu,getLongFormContentDurationThreshold:bu,setSegmentOverlapToleranceTime:ku,getSegmentOverlapToleranceTime:du,getCacheLoadThresholdForType:nf,setCacheLoadThresholdForType:gu,setBufferToKeep:tf,getBufferToKeep:rf,setBufferAheadToKeep:uf,getBufferAheadToKeep:ff,setBufferPruningInterval:cf,getBufferPruningInterval:lf,setRetryAttemptsForType:af,getRetryAttemptsForType:vf,setRetryIntervalForType:yf,getRetryIntervalForType:pf,setWallclockTimeUpdateInterval:wf,getWallclockTimeUpdateInterval:bf,setScheduleWhilePaused:kf,getScheduleWhilePaused:df,getUseSuggestedPresentationDelay:fe,setUseSuggestedPresentationDelay:ue,setLiveDelayFragmentCount:gf,getLiveDelayFragmentCount:ne,getLiveDelay:yr,setLiveDelay:te,setUseManifestDateHeaderTimeSource:ie,getUseManifestDateHeaderTimeSource:re,addUTCTimingSource:pr,removeUTCTimingSource:wr,getUTCTimingSources:ee,clearDefaultUTCTimingSources:oe,restoreDefaultUTCTimingSources:se,setXHRWithCredentialsForType:br,getXHRWithCredentialsForType:he,setFastSwitchEnabled:le,getFastSwitchEnabled:ce,setMovingAverageMethod:ae,getMovingAverageMethod:ve,setJumpGaps:ye,getJumpGaps:pe,setSmallGapLimit:we,getSmallGapLimit:be,getLowLatencyEnabled:c,setLowLatencyEnabled:ke,setCatchUpPlaybackRate:de,getCatchUpPlaybackRate:ge,setLowLatencyMinDrift:no,getLowLatencyMinDrift:to,setLowLatencyMaxDriftBeforeSeeking:io,getLowLatencyMaxDriftBeforeSeeking:ro,setManifestUpdateRetryInterval:uo,getManifestUpdateRetryInterval:fo,setKeepProtectionMediaKeys:eo,getKeepProtectionMediaKeys:oo,getDefaultUtcTimingSource:so,reset:ho},dr(),kr}Object.defineProperty(i,"__esModule",{value:!0});var a=n(89),v=h(a),y=n(48),p=h(y),u=n(235),w=n(101),f=h(w),b=n(179),l=h(b),r=n(208),k=4,d=36e4,g=36e4,nt=.9,tt=1e4,it=20,rt=80,ut=10,ft=12,et=20,ot=30,st=60,ht=600,ct=.2,lt=.8,at=100,vt=50,yt=5,o=3,s=1e3,pt=3,wt=500,bt=1,kt=500,dt=3,gt=10,ni=5,ti=.02,ii=0,ri=.5,ui=50,fi=!1;c.__dashjs_factory_name="MediaPlayerModel";i.default=p.default.getSingletonFactory(c);t.exports=i.default},{101:101,179:179,208:208,235:235,48:48,89:89}],144:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function s(){function g(){t={}}function a(){u.trigger(f.default.METRICS_CHANGED)}function s(n){u.trigger(f.default.METRIC_CHANGED,{mediaType:n});a()}function c(n,t,i){u.trigger(f.default.METRIC_UPDATED,{mediaType:n,metric:t,value:i});s(n)}function l(n,t,i){u.trigger(f.default.METRIC_ADDED,{mediaType:n,metric:t,value:i});s(n)}function tt(n){delete t[n];s(n)}function rt(){t={};a()}function ft(n){return t.hasOwnProperty(n)?t[n]:null}function i(n){var i=void 0;return t.hasOwnProperty(n)?i=t[n]:(i=new v.default,t[n]=i),i}function y(n,t,r){var u=i(n);u[t].push(r);u[t].length>ti&&u[t].shift()}function ot(n,t,i,r){var u=new h.HTTPRequestTrace;return u.s=t,u.d=i,u.b=r,n.trace.push(u),n.interval||(n.interval=0),n.interval+=i,u}function w(t,i,u,f,e,o,s,c,l,a,v,y,p,b){var k=new h.HTTPRequest;e&&e!==f&&(w(t,null,u,f,null,null,s,c,null,null,null,y,null,null),k.actualurl=e);k.tcpid=i;k.type=u;k.url=f;k.range=s;k.trequest=c;k.tresponse=l;k.responsecode=v;k._tfinish=a;k._stream=t;k._mediaduration=y;k._responseHeaders=p;k._serviceLocation=o;b?b.forEach(function(n){ot(k,n.s,n.d,n.b)}):(delete k.interval,delete k.trace);n(t,r.default.HTTP_REQUEST,k)}function ht(t,i,u,f,e){var o=new p.default;o.t=i;o.mt=u;o.to=f;e?o.lto=e:delete o.lto;n(t,r.default.TRACK_SWITCH,o)}function n(n,t,i){y(n,t,i);l(n,t,i)}function ct(t,i,u){var f=new b.default;f.t=i;f.level=u;n(t,r.default.BUFFER_LEVEL,f)}function lt(t,i,u){var f=new d.default;f.target=u;f.state=i;n(t,r.default.BUFFER_STATE,f)}function at(t,i,u,f){var e=new nt.default;e.time=i;e.range=f;e.manifestInfo=u;n(t,r.default.DVR_INFO,e)}function vt(t,u){var f=new it.default,e=i(t).DroppedFrames;f.time=u.creationTime;f.droppedFrames=u.droppedVideoFrames;e.length>0&&e[e.length-1]==f||n(t,r.default.DROPPED_FRAMES,f)}function yt(t,i,u,f,e,o,s,h,c){var l=new ut.default;l.mediaType=t;l.t=i;l.type=u;l.startTime=f;l.availabilityStartTime=e;l.duration=o;l.quality=s;l.range=h;l.state=c;n(t,r.default.SCHEDULING_INFO,l)}function pt(n,t,u){var f=new st.default;f.loadingRequests=t;f.executedRequests=u;i(n).RequestsQueue=f;l(n,r.default.REQUESTS_QUEUE,f)}function wt(n,t,i,u,f,s,h,c,a,v){var p=new o.ManifestUpdate;p.mediaType=n;p.type=t;p.requestTime=i;p.fetchTime=u;p.availabilityStartTime=f;p.presentationStartTime=s;p.clientTimeOffset=h;p.currentTime=c;p.buffered=a;p.latency=v;y(e.default.STREAM,r.default.MANIFEST_UPDATE,p);l(n,r.default.MANIFEST_UPDATE,p)}function bt(n,t){if(n){for(var i in t)n[i]=t[i];c(n.mediaType,r.default.MANIFEST_UPDATE,n)}}function kt(n,t,i,u,f){if(n){var e=new o.ManifestUpdateStreamInfo;e.id=t;e.index=i;e.start=u;e.duration=f;n.streamInfo.push(e);c(n.mediaType,r.default.MANIFEST_UPDATE_STREAM_INFO,n)}}function dt(n,t,i,u,f,e,s,h){if(n){var l=new o.ManifestUpdateRepresentationInfo;l.id=t;l.index=i;l.streamIndex=u;l.mediaType=f;l.startNumber=s;l.fragmentInfoType=h;l.presentationTimeOffset=e;n.representationInfo.push(l);c(n.mediaType,r.default.MANIFEST_UPDATE_TRACK_INFO,n)}}function gt(t){var i=e.default.STREAM;t.trace&&Array.isArray(t.trace)?t.trace.forEach(function(n){n.hasOwnProperty("subreplevel")&&!n.subreplevel&&delete n.subreplevel}):delete t.trace;n(i,r.default.PLAY_LIST,t)}function ni(t){n(e.default.STREAM,r.default.DVB_ERRORS,t)}var ti=1e3,ii=this.context,u=et.default(ii).getInstance(),k=void 0,t=void 0;return k={clearCurrentMetricsForType:tt,clearAllCurrentMetrics:rt,getReadOnlyMetricsFor:ft,getMetricsFor:i,addHttpRequest:w,addRepresentationSwitch:ht,addBufferLevel:ct,addBufferState:lt,addDVRInfo:at,addDroppedFrames:vt,addSchedulingInfo:yt,addRequestsQueue:pt,addManifestUpdate:wt,updateManifestUpdateInfo:bt,addManifestUpdateStreamInfo:kt,addManifestUpdateRepresentationInfo:dt,addPlayList:gt,addDVBErrors:ni},g(),k}Object.defineProperty(i,"__esModule",{value:!0});var c=n(101),e=u(c),l=n(102),r=u(l),a=n(223),v=u(a),h=n(235),y=n(238),p=u(y),w=n(231),b=u(w),k=n(232),d=u(k),g=n(233),nt=u(g),tt=n(234),it=u(tt),o=n(236),rt=n(240),ut=u(rt),ft=n(47),et=u(ft),ot=n(239),st=u(ot),ht=n(53),f=u(ht),ct=n(48),lt=u(ct);s.__dashjs_factory_name="MetricsModel";i.default=lt.default.getSingletonFactory(s);t.exports=i.default},{101:101,102:102,223:223,231:231,232:232,233:233,234:234,235:235,236:236,238:238,239:239,240:240,47:47,48:48,53:53}],145:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function t(t){var u,i,r,o;if(n=new e.default,!t)return null;if(u=t.indexOf("#"),-1!==u)for(var s=t.substr(u+1).split("&"),f=0,h=s.length;f<h;++f)i=s[f],r=i.indexOf("="),-1!==r&&(o=i.substring(0,r),n.hasOwnProperty(o)&&(n[o]=i.substr(r+1)))}function i(){return n}var n=void 0;return{initialize:t,getURIFragmentData:i}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(230),e=r(f),o=n(48),s=r(o);u.__dashjs_factory_name="URIFragmentModel";i.default=s.default.getSingletonFactory(u);t.exports=i.default},{230:230,48:48}],146:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function w(){y=a.default(p).getInstance().getLogger(f)}function b(){o.on(u.default.PLAYBACK_PLAYING,l,this)}function k(){o.off(u.default.PLAYBACK_PLAYING,l,this)}function s(){n&&(n.playbackRate=e||1,n.removeEventListener("canplay",s))}function r(t){n&&(n.readyState<=2&&t>0?n.addEventListener("canplay",s):n.playbackRate=t)}function d(t,i){if(n){if(n.currentTime==t)return;try{t=i?g(t):t;n.currentTime=t}catch(r){0===n.readyState&&r.code===r.INVALID_STATE_ERR&&setTimeout(function(){n.currentTime=t},400)}}}function g(n){var i=v(),u=n,r=9999999999,t;if(i)for(t=0;t<i.length;t++){var f=i.start(t),e=i.end(t),o=Math.abs(f-n),s=Math.abs(e-n);if(n>=f&&n<=e)return n;o<r&&(r=o,u=f);s<r&&(r=s,u=e)}return u}function nt(){return n}function tt(t){if(!(null===t||void 0===t||t&&/^(VIDEO|AUDIO)$/i.test(t.nodeName)))throw ai;(n=t)&&(n.preload="auto")}function it(t){n&&(t?n.src=t:(n.removeAttribute("src"),n.load()))}function rt(){return n?n.src:null}function ut(){return t}function ft(n){t=n;t.style.position="absolute";t.style.display="flex";t.style.overflow="hidden";t.style.pointerEvents="none";t.style.top=0;t.style.left=0}function et(n,t){ht(n,t)}function c(){return i.length>0}function ot(t){var u=void 0;null===t||n.seeking||-1!==i.indexOf(t)||(i.push(t),n&&1===i.length&&(u=document.createEvent("Event"),u.initEvent("waiting",!0,!1),e=n.playbackRate,r(0),n.dispatchEvent(u)))}function st(t){var f=i.indexOf(t),u=void 0;null!==t&&(-1!==f&&i.splice(f,1),n&&!1===c()&&0===n.playbackRate&&(r(e||1),n.paused||(u=document.createEvent("Event"),u.initEvent("playing",!0,!1),n.dispatchEvent(u))))}function ht(n,t){t?ot(n):st(n)}function l(){if(n&&c()&&0===n.playbackRate){var t=document.createEvent("Event");t.initEvent("waiting",!0,!1);n.dispatchEvent(t)}}function ct(){if(!n)return null;var i="webkitDroppedFrameCount"in n&&"webkitDecodedFrameCount"in n,r="getVideoPlaybackQuality"in n,t=null;return r?t=n.getVideoPlaybackQuality():i&&(t={droppedVideoFrames:n.webkitDroppedFrameCount,totalVideoFrames:n.webkitDroppedFrameCount+n.webkitDecodedFrameCount,creationTime:new Date}),t}function lt(){if(n){n.autoplay=!0;var t=n.play();t&&t.catch&&"undefined"!=typeof Promise&&t.catch(function(n){"NotAllowedError"===n.name&&o.trigger(u.default.PLAYBACK_NOT_ALLOWED);y.warn("Caught pending play exception - continuing ("+n+")")})}}function at(){return n?n.paused:null}function vt(){n&&(n.pause(),n.autoplay=!1)}function yt(){return n?n.seeking:null}function pt(){return n?n.currentTime:null}function wt(){return n?n.playbackRate:null}function bt(){return n?n.played:null}function kt(){return n?n.ended:null}function dt(t,i){n&&n.addEventListener(t,i)}function gt(t,i){n&&n.removeEventListener(t,i)}function ni(){return n?n.readyState:NaN}function v(){return n?n.buffered:null}function ti(){return n?n.clientWidth:NaN}function ii(){return n?n.clientHeight:NaN}function ri(){return n?n.videoWidth:NaN}function ui(){return n?n.videoHeight:NaN}function fi(){return n&&n.parentNode?n.getBoundingClientRect().top-n.parentNode.getBoundingClientRect().top:NaN}function ei(){return n&&n.parentNode?n.getBoundingClientRect().left-n.parentNode.getBoundingClientRect().left:NaN}function oi(){return n?n.textTracks:[]}function si(t,i,r,u,f){if(n)for(var e=0;e<n.textTracks.length;e++)if(n.textTracks[e].kind===t&&(!i||n.textTracks[e].label==i)&&n.textTracks[e].language===r&&n.textTracks[e].isTTML===u&&n.textTracks[e].isEmbedded===f)return n.textTracks[e];return null}function hi(t,i,r){return n?n.addTextTrack(t,i,r):null}function ci(t){n&&(n.appendChild(t),void 0!==t.isTTML&&(n.textTracks[n.textTracks.length-1].isTTML=t.isTTML,n.textTracks[n.textTracks.length-1].isEmbedded=t.isEmbedded))}function li(t){n&&n.removeChild(t)}var f=void 0,y=void 0,n=void 0,t=void 0,e=void 0,ai="element is not video or audio DOM type!",p=this.context,o=h.default(p).getInstance(),i=[];return f={initialize:b,setCurrentTime:d,play:lt,isPaused:at,pause:vt,isSeeking:yt,getTime:pt,getPlaybackRate:wt,setPlaybackRate:r,getPlayedRanges:bt,getEnded:kt,setStallState:et,getElement:nt,setElement:tt,setSource:it,getSource:rt,getTTMLRenderingDiv:ut,setTTMLRenderingDiv:ft,getPlaybackQuality:ct,addEventListener:dt,removeEventListener:gt,getReadyState:ni,getBufferRange:v,getClientWidth:ti,getClientHeight:ii,getTextTracks:oi,getTextTrack:si,addTextTrack:hi,appendChild:ci,removeChild:li,getVideoWidth:ri,getVideoHeight:ui,getVideoRelativeOffsetTop:fi,getVideoRelativeOffsetLeft:ei,reset:k},w(),f}Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=r(e),s=n(47),h=r(s),c=n(53),u=r(c),l=n(46),a=r(l);f.__dashjs_factory_name="VideoModel";i.default=o.default.getSingletonFactory(f);t.exports=i.default},{46:46,47:47,48:48,53:53}],147:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function r(n){function u(n){var c=new Date,e=n.request,s=new Headers,u,h;e.range&&s.append("Range","bytes="+e.range);e.requestStartDate||(e.requestStartDate=c);r&&r.modifyRequestHeader({setRequestHeader:function(n,t){s.append(n,t)}});u=void 0;"function"==typeof AbortController&&(u=new AbortController,n.abortController=u);h={method:n.method,headers:s,credentials:n.withCredentials?"include":void 0,signal:u?u.signal:void 0};fetch(n.url,h).then(function(r){var w,e,c,a;n.response||(n.response={});n.response.status=r.status;n.response.statusText=r.statusText;n.response.responseURL=r.url;r.ok||n.onerror();var v="",h=!0,y=!1,p=void 0;try{for(e=r.headers.keys()[Symbol.iterator]();!(h=(w=e.next()).done);h=!0)c=w.value,v+=c+": "+r.headers.get(c)+"\n"}catch(d){y=!0;p=d}finally{try{!h&&e.return&&e.return()}finally{if(y)throw p;}}if(n.response.responseHeaders=v,!r.body)return r.arrayBuffer().then(function(t){n.response.response=t;var i={loaded:t.byteLength,total:t.byteLength,stream:!1};n.progress(i);n.onload();n.onend()});var b=parseInt(r.headers.get("Content-Length"),10),s=0,k=!1,u=new Uint8Array,l=0;n.reader=r.body.getReader();a=[];t(n,function r(e){var h=e.value,c,v,y;if(e.done)return u&&(n.progress({loaded:s,total:isNaN(b)?s:b,lengthComputable:!0,time:i(a,s),stream:!0}),n.response.response=u.buffer),n.onload(),void n.onend();h&&h.length>0&&(u=f(u,h),s+=h.length,a.push({ts:Date.now(),bytes:h.length}),c=o.findLastTopIsoBoxCompleted(["moov","mdat"],u,l),c.found?(v=c.lastCompletedOffset+c.size,y=void 0,v===u.length?(y=u,u=new Uint8Array):(y=new Uint8Array(u.subarray(0,v)),u=u.subarray(v)),n.progress({data:y.buffer,lengthComputable:!1,noTrace:!0}),l=0):(l=c.lastCompletedOffset,k||(n.progress({lengthComputable:!1,noTrace:!0}),k=!0)));t(n,r)})}).catch(function(t){n.onerror&&n.onerror(t)})}function t(n,t){n.reader.read().then(t).catch(function(t){n.onerror&&200===n.response.status&&n.onerror(t)})}function f(n,t){if(0===n.length)return t;var i=new Uint8Array(n.length+t.length);return i.set(n),i.set(t,n.length),i}function e(n){if(n.abortController)n.abortController.abort();else if(n.reader)try{n.reader.cancel()}catch(t){}}function i(n,t){if(n=n.filter(function(i){return i.bytes>t/4/n.length}),n.length>1){var i=function(){var t=0,i=(n[n.length-1].ts-n[0].ts)/n.length;return n.forEach(function(r,u){var e=n[u+1],f;e&&(f=e.ts-r.ts,t+=f<i?f:0)}),{v:t}}();if("object"==typeof i)return i.v}return null}n=n||{};var r=n.requestModifier,o=n.boxParser;return{load:u,abort:e,calculateDownloadedTime:i}}var u,f,e;Object.defineProperty(i,"__esModule",{value:!0});u=n(48);f=o(u);r.__dashjs_factory_name="FetchLoader";e=f.default.getClassFactory(r);i.default=e;t.exports=i.default},{48:48}],148:[function(n,t,i){"use strict";function e(n){return n&&n.__esModule?n:{"default":n}}function u(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n}function o(n){function g(){var n,o;t=[];i=[];e=[];n={};u(n,r.HTTPRequest.MPD_TYPE,f.default.DOWNLOAD_ERROR_ID_MANIFEST);u(n,r.HTTPRequest.XLINK_EXPANSION_TYPE,f.default.DOWNLOAD_ERROR_ID_XLINK);u(n,r.HTTPRequest.INIT_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_INITIALIZATION);u(n,r.HTTPRequest.MEDIA_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT);u(n,r.HTTPRequest.INDEX_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT);u(n,r.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT);u(n,r.HTTPRequest.OTHER_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT);k=n;o={};u(o,r.HTTPRequest.MPD_TYPE,f.default.DOWNLOAD_ERROR_ID_MANIFEST_CODE);u(o,r.HTTPRequest.XLINK_EXPANSION_TYPE,f.default.DOWNLOAD_ERROR_ID_XLINK_CODE);u(o,r.HTTPRequest.INIT_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE);u(o,r.HTTPRequest.MEDIA_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT_CODE);u(o,r.HTTPRequest.INDEX_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT_CODE);u(o,r.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT_CODE);u(o,r.HTTPRequest.OTHER_TYPE,f.default.DOWNLOAD_ERROR_ID_CONTENT_CODE);d=o}function v(n,u){var f=n.request,ut=[],ft=!0,et=!0,g=new Date,nt=g,ot=0,w=void 0,rt;if(!o||!h||!s)throw new Error("config object is not correct or missing");var st=function(n){et=!1;f.requestStartDate=g;f.requestEndDate=new Date;f.firstByteDate=f.firstByteDate||g;f.checkExistenceOnly||(h.addHttpRequest(f.mediaType,null,f.type,f.url,w.response?w.response.responseURL:null,f.serviceLocation||null,f.range||null,f.requestStartDate,f.firstByteDate,f.requestEndDate,w.response?w.response.status:null,f.duration,w.response&&w.response.getAllResponseHeaders?w.response.getAllResponseHeaders():w.response?w.response.responseHeaders:[],n?ut:null),f.type===r.HTTPRequest.MPD_TYPE&&h.addManifestUpdate("stream",f.type,f.requestStartDate,f.requestEndDate))},ht=function(){-1!==t.indexOf(w)&&(t.splice(t.indexOf(w),1),et&&(st(!1),u>0?function(){u--;var t={config:n};e.push(t);t.timeout=setTimeout(function(){-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),v(n,u))},l.getRetryIntervalForType(f.type))}():(s.downloadError(k[f.type],f.url,f),s.error(new b.default(d[f.type],f.url+" is not available",{request:f,response:w.response})),n.error&&n.error(f,"error",w.response.statusText),n.complete&&n.complete(f,w.response.statusText))))},ct=function(t){var i=new Date;ft&&(ft=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(f.firstByteDate=i));t.lengthComputable&&(f.bytesLoaded=t.loaded,f.bytesTotal=t.total);t.noTrace||(ut.push({s:nt,d:t.time?t.time:i.getTime()-nt.getTime(),b:[t.loaded?t.loaded-ot:0]}),nt=i,ot=t.loaded);n.progress&&t&&n.progress(t)},lt=function(){w.response.status>=200&&w.response.status<=299&&(st(!0),n.success&&n.success(w.response.response,w.response.statusText,w.response.responseURL),n.complete&&n.complete(f,w.response.statusText))},at=function(){n.abort&&n.abort(f)},tt=it&&window.fetch&&"arraybuffer"===f.responseType&&f.type===r.HTTPRequest.MEDIA_SEGMENT_TYPE?a.default(y).create({requestModifier:o,boxParser:p}):c.default(y).create({requestModifier:o,boxParser:p});var vt=o.modifyRequestURL(f.url),yt=f.checkExistenceOnly?r.HTTPRequest.HEAD:r.HTTPRequest.GET,pt=l.getXHRWithCredentialsForType(f.type);w={url:vt,method:yt,withCredentials:pt,request:f,onload:lt,onend:ht,onerror:ht,progress:ct,onabort:at,loader:tt};rt=(new Date).getTime();isNaN(f.delayLoadingTime)||rt>=f.delayLoadingTime?(t.push(w),tt.load(w)):function(){var n={httpRequest:w};i.push(n);n.delayTimeout=setTimeout(function(){if(-1!==i.indexOf(n)){i.splice(i.indexOf(n),1);try{g=new Date;nt=g;t.push(n.httpRequest);tt.load(n.httpRequest)}catch(r){n.httpRequest.onerror()}}},f.delayLoadingTime-rt)}()}function nt(n){n.request&&v(n,l.getRetryAttemptsForType(n.request.type))}function tt(){e.forEach(function(n){clearTimeout(n.timeout);n.config.request&&n.config.abort&&n.config.abort(n.config.request)});e=[];i.forEach(function(n){return clearTimeout(n.delayTimeout)});i=[];t.forEach(function(n){n.onloadend=n.onerror=n.onprogress=void 0;n.loader.abort(n);n.onabort()});t=[]}n=n||{};var y=this.context,s=n.errHandler,h=n.metricsModel,l=n.mediaPlayerModel,o=n.requestModifier,p=n.boxParser,it=n.useFetch||!1,w=void 0,t=void 0,i=void 0,e=void 0,k=void 0,d=void 0;return w={load:nt,abort:tt},g(),w}var s;Object.defineProperty(i,"__esModule",{value:!0});var h=n(149),c=e(h),l=n(147),a=e(l),r=n(235),v=n(48),y=e(v),p=n(50),f=e(p),w=n(215),b=e(w);o.__dashjs_factory_name="HTTPLoader";s=y.default.getClassFactory(o);i.default=s;t.exports=i.default},{147:147,149:149,215:215,235:235,48:48,50:50}],149:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function r(n){function i(n){var u=new Date,r=n.request,i=new XMLHttpRequest;i.open(n.method,n.url,!0);r.responseType&&(i.responseType=r.responseType);r.range&&i.setRequestHeader("Range","bytes="+r.range);r.requestStartDate||(r.requestStartDate=u);t&&(i=t.modifyRequestHeader(i));i.withCredentials=n.withCredentials;i.onload=n.onload;i.onloadend=n.onend;i.onerror=n.onerror;i.onprogress=n.progress;i.onabort=n.onabort;i.send();n.response=i}function r(n){var t=n.response;t.onloadend=t.onerror=t.onprogress=void 0;t.abort()}n=n||{};var t=n.requestModifier;return{load:i,abort:r}}var u,f,e;Object.defineProperty(i,"__esModule",{value:!0});u=n(48);f=o(u);r.__dashjs_factory_name="XHRLoader";e=f.default.getClassFactory(r);i.default=e;t.exports=i.default},{48:48}],150:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n)}return u(n,null,[{key:"findCencContentProtection",value:function(n){for(var i,r=null,t=0;t<n.length;++t)i=n[t],"urn:mpeg:dash:mp4protection:2011"===i.schemeIdUri.toLowerCase()&&"cenc"===i.value.toLowerCase()&&(r=i);return r}},{key:"getPSSHData",value:function(n){var t=8,i=new DataView(n),r=i.getUint8(t);return t+=20,r>0&&(t+=4+16*i.getUint32(t)),t+=4,n.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,i){var r=n.parsePSSHList(i);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(n,t){return"pssh"in n?t.decodeArray(n.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(n){var i,r;if(null===n)return[];for(var f=new DataView(n.buffer||n),o={},t=0;;){var s=void 0,e=void 0,h=void 0,u=void 0,c=t;if(t>=f.buffer.byteLength)break;if(s=f.getUint32(t),e=t+s,t+=4,1886614376===f.getUint32(t))if(t+=4,0===(h=f.getUint8(t))||1===h){for(t++,t+=3,u="",i=void 0,r=void 0,i=0;i<4;i++)r=f.getUint8(t+i).toString(16),u+=1===r.length?"0"+r:r;for(t+=4,u+="-",i=0;i<2;i++)r=f.getUint8(t+i).toString(16),u+=1===r.length?"0"+r:r;for(t+=2,u+="-",i=0;i<2;i++)r=f.getUint8(t+i).toString(16),u+=1===r.length?"0"+r:r;for(t+=2,u+="-",i=0;i<2;i++)r=f.getUint8(t+i).toString(16),u+=1===r.length?"0"+r:r;for(t+=2,u+="-",i=0;i<6;i++)r=f.getUint8(t+i).toString(16),u+=1===r.length?"0"+r:r;t+=6;u=u.toLowerCase();f.getUint32(t);t+=4;o[u]=f.buffer.slice(c,e);t=e}else t=e;else t=e}return o}}]),n}();i.default=f;t.exports=i.default},{}],151:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function r(t){var i=null,r=l.default(n).getInstance(),f;return r.setConfig({debug:t.debug,BASE64:t.BASE64}),r.initialize(),f=u(t),!i&&f&&(i=h.default(n).create({protectionModel:f,protectionKeyController:r,eventBus:t.eventBus,debug:t.debug,events:t.events,BASE64:t.BASE64,constants:t.constants}),t.capabilities.setEncryptedMediaSupported(!0)),i}function u(r){var f=r.debug,s=f.getLogger(i),h=r.eventBus,c=r.errHandler,u=r.videoModel?r.videoModel.getElement():null;return u&&void 0===u.onencrypted||u&&void 0===u.mediaKeys?t(u,o)?(s.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),d.default(n).create({debug:f,eventBus:h,events:r.events,api:t(u,o)})):t(u,e)?(s.info("EME detected on this user agent! (ProtectionModel_01b)"),nt.default(n).create({debug:f,eventBus:h,errHandler:c,events:r.events,api:t(u,e)})):(s.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(s.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),b.default(n).create({debug:f,eventBus:h,events:r.events}))}function t(n,t){for(var r,i=0;i<t.length;i++)if(r=t[i],"function"==typeof n[r[Object.keys(r)[0]]])return r;return null}var i=void 0,n=this.context;return i={createProtectionSystem:r}}var u;Object.defineProperty(i,"__esModule",{value:!0});var s=n(153),h=r(s),c=n(154),l=r(c),a=n(152),v=r(a),y=n(159),p=r(y),w=n(161),b=r(w),k=n(162),d=r(k),g=n(160),nt=r(g),e=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],o=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];f.__dashjs_factory_name="Protection";u=dashjs.FactoryMaker.getClassFactory(f);u.events=v.default;u.errors=p.default;dashjs.FactoryMaker.updateClassFactory(f.__dashjs_factory_name,u);i.default=u;t.exports=i.default},{152:152,153:153,154:154,159:159,160:160,161:161,162:162}],152:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(54),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.INTERNAL_KEY_MESSAGE="internalKeyMessage";this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected";this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged";this.KEY_ADDED="public_keyAdded";this.KEY_ERROR="public_keyError";this.KEY_MESSAGE="public_keyMessage";this.KEY_SESSION_CLOSED="public_keySessionClosed";this.KEY_SESSION_CREATED="public_keySessionCreated";this.KEY_SESSION_REMOVED="public_keySessionRemoved";this.KEY_STATUSES_CHANGED="public_keyStatusesChanged";this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete";this.KEY_SYSTEM_SELECTED="public_keySystemSelected";this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete";this.NEED_KEY="needkey";this.PROTECTION_CREATED="public_protectioncreated";this.PROTECTION_DESTROYED="public_protectiondestroyed";this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated";this.TEARDOWN_COMPLETE="protectionTeardownComplete";this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{54:54}],153:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function o(n){function wt(){h=si.getLogger(ot);l=[];g=[];st="temporary";it=""}function bt(){if(!(i&&i.hasOwnProperty("on")&&c&&c.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)");}function kt(n){if(!n)throw new Error("mediaInfo can not be null or undefined");bt();i.on(o.INTERNAL_KEY_MESSAGE,vt,this);i.on(o.INTERNAL_KEY_STATUS_CHANGED,at,this);g.push(n);var t=c.getSupportedKeySystemsFromContentProtection(n.contentProtection);t&&t.length>0&&lt(t,!0)}function dt(n){return c.getSupportedKeySystemsFromContentProtection(n)}function rt(n,s){var a=e.default.getPSSHForKeySystem(t,n),p=y(t),v,l;if(a){for(v=f.getAllInitData(),l=0;l<v.length;l++)if(c.initDataEquals(a,v[l]))return void h.warn("DRM: Ignoring initData because we have already seen it!");try{f.createKeySession(a,p,tt(t),s)}catch(w){i.trigger(o.KEY_SESSION_CREATED,{data:null,error:new u.default(r.default.KEY_SESSION_CREATED_ERROR_CODE,r.default.KEY_SESSION_CREATED_ERROR_MESSAGE+w.message)})}}else n?f.createKeySession(n,p,tt(t),s):i.trigger(o.KEY_SESSION_CREATED,{data:null,error:new u.default(r.default.KEY_SESSION_CREATED_ERROR_CODE,r.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+t.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function ut(n,i){f.loadKeySession(n,i,tt(t))}function gt(n){f.removeKeySession(n)}function ni(n){f.closeKeySession(n)}function ti(n){f.setServerCertificate(n)}function ht(n){n?(f.setMediaElement(n),i.on(o.NEED_KEY,ft,this)):null===n&&(f.setMediaElement(n),i.off(o.NEED_KEY,ft,this))}function ii(n){st=n}function ri(n){it=n}function ui(n){nt=n;c.setProtectionData(n)}function fi(){f&&f.stop()}function ei(){i.off(o.INTERNAL_KEY_MESSAGE,vt,this);i.off(o.INTERNAL_KEY_STATUS_CHANGED,at,this);ht(null);t=void 0;f&&(f.reset(),f=null);et.forEach(function(n){return clearTimeout(n)});et=[];g=[]}function y(n){var i=null,t;return n&&(t=n.systemString,nt&&(i=t in nt?nt[t]:null)),i}function ct(n){var t=y(n),i=[],r=[],f=t&&t.audioRobustness&&t.audioRobustness.length>0?t.audioRobustness:it,e=t&&t.videoRobustness&&t.videoRobustness.length>0?t.videoRobustness:it,u=tt(n),o=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",h=t&&t.persistentState?t.persistentState:"temporary"===u?"optional":"required";return g.forEach(function(n){n.type===pt.AUDIO?i.push(new s.default(n.codec,f)):n.type===pt.VIDEO&&r.push(new s.default(n.codec,e))}),new a.default(i,r,o,h,[u])}function tt(n){var t=y(n);return t&&t.sessionType?t.sessionType:st}function lt(n,e){var a=this,v=[],s=void 0,w,p;if(t){for(s=0;s<n.length;s++)if(t===n[s].ks&&(w=function(){v.push({ks:n[s].ks,configs:[ct(t)]});var c=function v(t){i.off(o.KEY_SYSTEM_ACCESS_COMPLETE,v,a);t.error?e||i.trigger(o.KEY_SYSTEM_SELECTED,{error:new u.default(r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+t.error)}):(h.info("DRM: KeySystem Access Granted"),i.trigger(o.KEY_SYSTEM_SELECTED,{data:t.data}),n[s].sessionId?ut(n[s].sessionId,n[s].initData):n[s].initData&&rt(n[s].initData,n[s].cdmData))};return i.on(o.KEY_SYSTEM_ACCESS_COMPLETE,c,a),f.requestKeySystemAccess(v),"break"}(),"break"===w))break}else void 0===t?!function(){var w,b,k;for(t=null,l.push(n),w=0;w<n.length;w++)v.push({ks:n[w].ks,configs:[ct(n[w].ks)]});b=void 0;k=function n(s){i.off(o.KEY_SYSTEM_ACCESS_COMPLETE,n,a);s.error?(t=void 0,i.off(o.INTERNAL_KEY_SYSTEM_SELECTED,p,a),e||i.trigger(o.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+s.error)})):(b=s.data,h.info("DRM: KeySystem Access Granted ("+b.keySystem.systemString+")!  Selecting key system..."),f.selectKeySystem(b))};p=function n(h){var p,v,w;if(i.off(o.INTERNAL_KEY_SYSTEM_SELECTED,n,a),i.off(o.KEY_SYSTEM_ACCESS_COMPLETE,k,a),h.error)t=void 0,e||i.trigger(o.KEY_SYSTEM_SELECTED,{data:null,error:new u.default(r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,r.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+h.error)});else{if(!f)return;for(t=f.getKeySystem(),i.trigger(o.KEY_SYSTEM_SELECTED,{data:b}),p=y(t),p&&p.serverCertificate&&p.serverCertificate.length>0&&f.setServerCertificate(hi.decodeArray(p.serverCertificate).buffer),v=0;v<l.length;v++)for(s=0;s<l[v].length;s++)if(t===l[v][s].ks){c.isClearKey(t)&&p&&p.hasOwnProperty("clearkeys")&&(w={kids:Object.keys(p.clearkeys)},l[v][s].initData=(new TextEncoder).encode(JSON.stringify(w)));l[v][s].sessionId?ut(l[v][s].sessionId,l[v][s].initData):null!==l[v][s].initData&&rt(l[v][s].initData,l[v][s].cdmData);break}}};i.on(o.INTERNAL_KEY_SYSTEM_SELECTED,p,a);i.on(o.KEY_SYSTEM_ACCESS_COMPLETE,k,a);f.requestKeySystemAccess(v)}():l.push(n)}function v(n,t){i.trigger(o.LICENSE_REQUEST_COMPLETE,{data:n,error:t})}function at(n){n.error?i.trigger(o.KEY_STATUSES_CHANGED,{data:null,error:n.error}):h.debug("DRM: key status = "+n.status)}function vt(n){var k,rt,p,w;h.debug("DRM: onKeyMessage");k=n.data;i.trigger(o.KEY_MESSAGE,{data:k});var l=k.messageType?k.messageType:"license-request",g=k.message,it=k.sessionToken,s=y(t),nt=t?t.systemString:null,tt=c.getLicenseServer(t,s,l),a={sessionToken:it,messageType:l};if(!g||0===g.byteLength)return void v(a,new u.default(r.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE));if(!tt)return h.debug("DRM: License server request not required for this message (type = "+n.data.messageType+").  Session ID = "+it.getSessionID()),void v(a);if(c.isClearKey(t)&&(rt=c.processClearKeyLicenseRequest(t,s,g),rt))return h.debug("DRM: ClearKey license request handled by application!"),v(a),void f.updateKeySession(it,rt);if(p=null,s&&s.serverURL?(w=s.serverURL,"string"==typeof w&&""!==w?p=w:"object"==typeof w&&w.hasOwnProperty(l)&&(p=w[l])):s&&s.laURL&&""!==s.laURL?p=s.laURL:(p=t.getLicenseServerURLFromInitData(e.default.getPSSHData(it.initData)))||(p=n.data.laURL),!(p=tt.getServerURLFromMessage(p,g,l)))return void v(a,new u.default(r.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE));var ft={},ut=!1,et=function(n){if(n)for(var t in n)"authorization"===t.toLowerCase()&&(ut=!0),ft[t]=n[t]};s&&et(s.httpRequestHeaders);et(t.getRequestHeadersFromMessage(g));s&&"boolean"==typeof s.withCredentials&&(ut=s.withCredentials);var ot=function(n,t,i,f){var e=n.response?tt.getErrorResponse(n.response,i,f):"NONE";v(t,new u.default(r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+i+' update, XHR complete. status is "'+n.statusText+'" ('+n.status+"), readyState is "+n.readyState+".  Response is "+e))},st=function(n){if(f)if(200===n.status){var t=tt.getLicenseMessage(n.response,nt,l);null!==t?(v(a),f.updateKeySession(it,t)):ot(n,a,nt,l)}else ot(n,a,nt,l)},ht=function(n){v(a,new u.default(r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+nt+' update, XHR aborted. status is "'+n.statusText+'" ('+n.status+"), readyState is "+n.readyState))},ct=function(n){v(a,new u.default(r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+nt+' update, XHR error. status is "'+n.statusText+'" ('+n.status+"), readyState is "+n.readyState))},lt=t.getLicenseRequestFromMessage(g),at=tt.getHTTPMethod(l),vt=tt.getResponseType(nt,l),pt=s&&!isNaN(s.httpTimeout)?s.httpTimeout:d;yt(p,ft,at,vt,ut,lt,b,pt,st,ht,ct)}function yt(n,t,i,r,u,f,e,o,s,c,l){var a=new XMLHttpRequest,v,y;a.open(i,n,!0);a.responseType=r;a.withCredentials=u;o>0&&(a.timeout=o);for(v in t)a.setRequestHeader(v,t[v]);y=function(){e--;setTimeout(function(){yt(n,t,i,r,u,f,e,o,s,c,l)},k)};a.onload=function(){200===this.status||e<=0?s(this):(h.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+e),y())};a.ontimeout=a.onerror=function(){e<=0?l(this):(h.warn("License request network request failed . Retrying it... Pending retries: "+e),y())};a.onabort=function(){c(this)};a.send(f)}function ft(n,i){var r,o,s,u,l;if(h.debug("DRM: onNeedKey"),"cenc"!==n.key.initDataType)return void h.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+n.key.initDataType);if(0===g.length&&(h.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(i=void 0===i?1:i+1)<p))return void et.push(setTimeout(function(){ft(n,i)},w));if(r=n.key.initData,(ArrayBuffer.isView(r)&&(r=r.buffer),t)&&(o=e.default.getPSSHForKeySystem(t,r),o))for(s=f.getAllInitData(),u=0;u<s.length;u++)if(c.initDataEquals(o,s[u]))return void h.warn("DRM: Ignoring initData because we have already seen it!");if(h.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(r))),l=c.getSupportedKeySystems(r,nt),0===l.length)return void h.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!");lt(l,!1)}function oi(){return c?c.getKeySystems():[]}n=n||{};var c=n.protectionKeyController,f=n.protectionModel,i=n.eventBus,o=n.events,si=n.debug,hi=n.BASE64,pt=n.constants,et=[],ot=void 0,h=void 0,l=void 0,g=void 0,nt=void 0,st=void 0,it=void 0,t=void 0;return ot={initializeForMedia:kt,createKeySession:rt,loadKeySession:ut,removeKeySession:gt,closeKeySession:ni,setServerCertificate:ti,setMediaElement:ht,setSessionType:ii,setRobustnessLevel:ri,setProtectionData:ui,getSupportedKeySystemsFromContentProtection:dt,getKeySystems:oi,stop:fi,reset:ei},wt(),ot}Object.defineProperty(i,"__esModule",{value:!0});var h=n(150),e=f(h),c=n(172),s=f(c),l=n(171),a=f(l),v=n(159),r=f(v),y=n(215),u=f(y),p=5,w=500,b=3,k=1e3,d=8e3;o.__dashjs_factory_name="ProtectionController";i.default=dashjs.FactoryMaker.getClassFactory(o);t.exports=i.default},{150:150,159:159,171:171,172:172,215:215}],154:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function a(n){n&&(n.debug&&(r=n.debug,e=r.getLogger(f)),n.BASE64&&(i=n.BASE64))}function y(){n=[];var u=void 0;u=p.default(t).getInstance({BASE64:i});n.push(u);u=v.default(t).getInstance({BASE64:i});n.push(u);u=h.default(t).getInstance({BASE64:i});n.push(u);s=u;u=l.default(t).getInstance({BASE64:i,debug:r});n.push(u);c=u}function w(){return n}function k(t){for(var i=0;i<n.length;i++)if(n[i].systemString===t)return n[i];return null}function g(n){return n===s||n===c}function tt(n,t){if(n.byteLength===t.byteLength){for(var r=new Uint8Array(n),u=new Uint8Array(t),i=0;i<r.length;i++)if(r[i]!==u[i])return!1;return!0}return!1}function rt(t){var u=void 0,i=void 0,r=void 0,f=void 0,e=[],o;if(t)for(r=0;r<n.length;++r)for(i=n[r],f=0;f<t.length;++f)(u=t[f],u.schemeIdUri.toLowerCase()===i.schemeIdURI)&&(o=i.getInitData(u),o?e.push({ks:n[r],initData:o,cdmData:i.getCDMData(),sessionId:i.getSessionId(u)}):this.isClearKey(i)&&e.push({ks:i,initData:null}));return e}function ut(t,i){for(var f=[],e=o.default.parsePSSHList(t),r=void 0,s=void 0,h=void 0,u=0;u<n.length;++u)r=n[u],s=r.systemString,h=!i||s in i,r.uuid in e&&h&&f.push({ks:r,initData:e[r.uuid],cdmData:r.getCDMData(),sessionId:r.getSessionId()});return f}function ft(n,r,f){if("license-release"===f||"individualization-request"===f)return null;var e=null;return r&&r.hasOwnProperty("drmtoday")?e=b.default(t).getInstance({BASE64:i}):n.systemString===u.default.WIDEVINE_KEYSTEM_STRING?e=nt.default(t).getInstance():n.systemString===u.default.PLAYREADY_KEYSTEM_STRING?e=d.default(t).getInstance():n.systemString===u.default.CLEARKEY_KEYSTEM_STRING&&(e=it.default(t).getInstance()),e}function et(n,t,i){try{return n.getClearKeysFromProtectionData(t,i)}catch(r){return e.error("Failed to retrieve clearkeys from ProtectionData"),null}}function ot(t){for(var r,u=function(n){var i=null;return t&&(i=n in t?t[n]:null),i},i=0;i<n.length;i++)r=n[i],r.hasOwnProperty("init")&&r.init(u(r.systemString))}var t=this.context,f=void 0,r=void 0,e=void 0,n=void 0,i=void 0,s=void 0,c=void 0;return f={initialize:y,setProtectionData:ot,isClearKey:g,initDataEquals:tt,getKeySystems:w,getKeySystemBySystemString:k,getSupportedKeySystemsFromContentProtection:rt,getSupportedKeySystems:ut,getLicenseServer:ft,processClearKeyLicenseRequest:et,setConfig:a}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(150),o=r(e),s=n(155),h=r(s),c=n(157),l=r(c),a=n(158),v=r(a),y=n(156),p=r(y),w=n(164),b=r(w),k=n(165),d=r(k),g=n(166),nt=r(g),tt=n(163),it=r(tt),rt=n(103),u=r(rt);f.__dashjs_factory_name="ProtectionKeyController";i.default=dashjs.FactoryMaker.getSingletonFactory(f);t.exports=i.default},{103:103,150:150,155:155,156:156,157:157,158:158,163:163,164:164,165:165,166:166}],155:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function t(n,t){var f=null,i,u;if(n){for(var e=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],r=0;r<e.kids.length;r++){if(i=e.kids[r],u=n.clearkeys&&n.clearkeys.hasOwnProperty(i)?n.clearkeys[i]:null,!u)throw new Error("DRM: ClearKey keyID ("+i+") is not known!");s.push(new o.default(i,u))}f=new h.default(s)}return f}function i(n){return l.default.parseInitDataFromContentProtection(n,a)}function r(){return null}function u(n){return new Uint8Array(n)}function e(){return null}function s(){return null}function c(){return null}n=n||{};var a=n.BASE64;return{uuid:f,schemeIdURI:p,systemString:y,getInitData:i,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:u,getLicenseServerURLFromInitData:e,getCDMData:s,getSessionId:c,getClearKeysFromProtectionData:t}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(169),o=r(e),s=n(167),h=r(s),c=n(150),l=r(c),a=n(103),v=r(a),f="e2719d58-a985-b3c9-781a-b030af78d30e",y=v.default.CLEARKEY_KEYSTEM_STRING,p="urn:uuid:"+f;u.__dashjs_factory_name="KeySystemClearKey";i.default=dashjs.FactoryMaker.getSingletonFactory(u);t.exports=i.default},{103:103,150:150,167:167,169:169}],156:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function u(){if(!t||!t.hasOwnProperty("decodeArray")||!t.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)");}function f(n){var f=void 0,u=void 0,t={},o=new DOMParser,s="utf16"===i?new Uint16Array(n):new Uint8Array(n);f=String.fromCharCode.apply(null,s);u=o.parseFromString(f,"application/xml");for(var e=u.getElementsByTagName("name"),h=u.getElementsByTagName("value"),r=0;r<e.length;r++)t[e[r].childNodes[0].nodeValue]=h[r].childNodes[0].nodeValue;return t.hasOwnProperty("Content")&&(t["Content-Type"]=t.Content,delete t.Content),t.hasOwnProperty("Content-Type")||(t["Content-Type"]="text/xml; charset="+i),t}function o(n){var e=null,s=new DOMParser,h="utf16"===i?new Uint16Array(n):new Uint8Array(n),o,r,f;if(u(),o=String.fromCharCode.apply(null,h),r=s.parseFromString(o,"application/xml"),r.getElementsByTagName("Challenge")[0])f=r.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue,f&&(e=t.decode(f));else if(r.getElementsByTagName("parsererror").length)return n;return e}function h(n){var s,u,f,e;if(n)for(var r=new DataView(n),h=r.getUint16(4,!0),t=6,c=new DOMParser,o=0;o<h;o++)if(s=r.getUint16(t,!0),t+=2,u=r.getUint16(t,!0),t+=2,1===s){var l=n.slice(t,t+u),a=String.fromCharCode.apply(null,new Uint16Array(l)),i=c.parseFromString(a,"application/xml");if(i.getElementsByTagName("LA_URL")[0]&&(f=i.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue,f))return f;if(i.getElementsByTagName("LUI_URL")[0]&&(e=i.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue,e))return e}else t+=u;return null}function c(n){var o=new Uint8Array([112,115,115,104,0,0,0,0]),h=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),i=0,f=null,e=void 0,c=void 0,l=void 0,r=void 0,a=void 0;if(u(),"pssh"in n)return s.default.parseInitDataFromContentProtection(n,t);if("pro"in n)f=t.decodeArray(n.pro.__text);else{if(!("prheader"in n))return null;f=t.decodeArray(n.prheader.__text)}return e=f.length,c=4+o.length+h.length+4+e,l=new ArrayBuffer(c),r=new Uint8Array(l),a=new DataView(l),a.setUint32(i,c),i+=4,r.set(o,i),i+=o.length,r.set(h,i),i+=h.length,a.setUint32(i,e),i+=4,r.set(f,i),i+=e,r.buffer}function y(n){if("utf8"!==n&&"utf16"!==n)throw new Error("Illegal PlayReady message format! -- "+n);i=n}function p(n){n&&(r=n)}function w(){var n=void 0,e=void 0,f=void 0,i=void 0;if(u(),r&&r.cdmData){for(n=[],i=0;i<r.cdmData.length;++i)n.push(r.cdmData.charCodeAt(i)),n.push(0);for(n=String.fromCharCode.apply(null,n),n=t.encode(n),e=v.replace("%CUSTOMDATA%",n),f=[],i=0;i<e.length;++i)f.push(e.charCodeAt(i)),f.push(0);return new Uint8Array(f).buffer}return null}function b(n){return r&&r.sessionId?r.sessionId:n&&n.sessionId?n.sessionId:null}n=n||{};var i="utf16",t=n.BASE64;return{uuid:e,schemeIdURI:a,systemString:l,getInitData:c,getRequestHeadersFromMessage:f,getLicenseRequestFromMessage:o,getLicenseServerURLFromInitData:h,getCDMData:w,getSessionId:b,setPlayReadyMessageFormat:y,init:p}}Object.defineProperty(i,"__esModule",{value:!0});var o=n(150),s=u(o),h=n(103),c=u(h),e="9a04f079-9840-4286-ab92-e65be0885f95",l=c.default.PLAYREADY_KEYSTEM_STRING,a="urn:uuid:"+e,v='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%<\/CustomData><\/LicenseAcquisition><\/PlayReadyCDMData>',r=void 0;f.__dashjs_factory_name="KeySystemPlayReady";i.default=dashjs.FactoryMaker.getSingletonFactory(f);t.exports=i.default},{103:103,150:150}],157:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function t(n,t){var f=null,i,u;if(n){for(var e=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),s=[],r=0;r<e.kids.length;r++){if(i=e.kids[r],u=n.clearkeys&&n.clearkeys.hasOwnProperty(i)?n.clearkeys[i]:null,!u)throw new Error("DRM: ClearKey keyID ("+i+") is not known!");s.push(new o.default(i,u))}f=new h.default(s);v.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return f}function i(n){return l.default.parseInitDataFromContentProtection(n,a)}function r(){return null}function u(n){return new Uint8Array(n)}function e(){return null}function s(){return null}function c(){return null}var a=n.BASE64,v=n.debug.getLogger(void 0);return{uuid:f,schemeIdURI:p,systemString:y,getInitData:i,getRequestHeadersFromMessage:r,getLicenseRequestFromMessage:u,getLicenseServerURLFromInitData:e,getCDMData:s,getSessionId:c,getClearKeysFromProtectionData:t}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(169),o=r(e),s=n(167),h=r(s),c=n(150),l=r(c),a=n(103),v=r(a),f="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",y=v.default.CLEARKEY_KEYSTEM_STRING,p="urn:uuid:"+f;u.__dashjs_factory_name="KeySystemW3CClearKey";i.default=dashjs.FactoryMaker.getSingletonFactory(u);t.exports=i.default},{103:103,150:150,167:167,169:169}],158:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function i(n){n&&(t=n)}function r(n){return o.default.parseInitDataFromContentProtection(n,v)}function u(){return null}function e(n){return new Uint8Array(n)}function s(){return null}function h(){return null}function a(n){return t&&t.sessionId?t.sessionId:n&&n.sessionId?n.sessionId:null}n=n||{};var t=null,v=n.BASE64;return{uuid:f,schemeIdURI:l,systemString:c,init:i,getInitData:r,getRequestHeadersFromMessage:u,getLicenseRequestFromMessage:e,getLicenseServerURLFromInitData:s,getCDMData:h,getSessionId:a}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(150),o=r(e),s=n(103),h=r(s),f="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",c=h.default.WIDEVINE_KEYSTEM_STRING,l="urn:uuid:"+f;u.__dashjs_factory_name="KeySystemWidevine";i.default=dashjs.FactoryMaker.getSingletonFactory(u);t.exports=i.default},{103:103,150:150}],159:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(51),s=r(o),h=function(n){function t(){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.MEDIA_KEYERR_CODE=100;this.MEDIA_KEYERR_UNKNOWN_CODE=101;this.MEDIA_KEYERR_CLIENT_CODE=102;this.MEDIA_KEYERR_SERVICE_CODE=103;this.MEDIA_KEYERR_OUTPUT_CODE=104;this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105;this.MEDIA_KEYERR_DOMAIN_CODE=106;this.MEDIA_KEY_MESSAGE_ERROR_CODE=107;this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108;this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109;this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110;this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111;this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112;this.KEY_SESSION_CREATED_ERROR_CODE=113;this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114;this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.";this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.";this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.";this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.";this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.";this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.";this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!";this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM";this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ";this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired";this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!";this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ";this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --";this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}return f(t,n),t}(s.default),c=new h;i.default=c;t.exports=i.default},{51:51}],160:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function ut(){w=bt.getLogger(d);t=null;l=null;h=[];u=[];g=s.default(wt).getInstance();a=pt()}function tt(){t&&it();for(var n=0;n<u.length;n++)k(u[n]);f.trigger(o.TEARDOWN_COMPLETE)}function ft(){return l}function et(){for(var t=[],n=0;n<h.length;n++)t.push(h[n].initData);for(n=0;n<u.length;n++)t.push(u[n].initData);return t}function ot(n){var h=t,c,u,r,e,y,w;for(h||(h=document.createElement("video")),c=!1,u=0;u<n.length;u++)for(var a=n[u].ks.systemString,v=n[u].configs,s=null,i=null,l=0;l<v.length;l++){if(r=v[l].videoCapabilities,r&&0!==r.length)for(i=[],e=0;e<r.length;e++)""!==h.canPlayType(r[e].contentType,a)&&i.push(r[e]);if(!(!s&&!i||s&&0===s.length||i&&0===i.length)){c=!0;y=new p.default(s,i);w=g.getKeySystemBySystemString(a);f.trigger(o.KEY_SYSTEM_ACCESS_COMPLETE,{data:new b.default(w,y)});break}}c||f.trigger(o.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function st(n){l=n.keySystem;f.trigger(o.INTERNAL_KEY_SYSTEM_SELECTED)}function ht(n){if(t!==n){if(t){it();for(var r=0;r<u.length;r++)k(u[r]);u=[]}t=n;t&&(t.addEventListener(i.keyerror,a),t.addEventListener(i.needkey,a),t.addEventListener(i.keymessage,a),t.addEventListener(i.keyadded,a),f.trigger(o.VIDEO_ELEMENT_SELECTED))}}function ct(n){if(!l)throw new Error("Can not create sessions until you have selected a key system");if(nt||0===u.length){var r={sessionID:null,initData:n,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return h.push(r),t[i.generateKeyRequest](l.systemString,new Uint8Array(n)),r}throw new Error("Multiple sessions not allowed!");}function lt(n,r){var f=n.sessionID,u;if(g.isClearKey(l))for(u=0;u<r.keyPairs.length;u++)t[i.addKey](l.systemString,r.keyPairs[u].key,r.keyPairs[u].keyID,f);else t[i.addKey](l.systemString,new Uint8Array(r),new Uint8Array(n.initData),f)}function k(n){try{t[i.cancelKeyRequest](l.systemString,n.sessionID)}catch(r){f.trigger(o.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+n.sessionID+") "+r.message})}}function at(){}function vt(){}function yt(){}function pt(){return{handleEvent:function(n){var t=null,p,l,s,a;switch(n.type){case i.needkey:p=ArrayBuffer.isView(n.initData)?n.initData.buffer:n.initData;f.trigger(o.NEED_KEY,{key:new c.default(p,"cenc")});break;case i.keyerror:if(t=y(u,n.sessionId),t||(t=y(h,n.sessionId)),t){l=r.default.MEDIA_KEYERR_CODE;s="";switch(n.errorCode.code){case 1:l=r.default.MEDIA_KEYERR_UNKNOWN_CODE;s+="MEDIA_KEYERR_UNKNOWN - "+r.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:l=r.default.MEDIA_KEYERR_CLIENT_CODE;s+="MEDIA_KEYERR_CLIENT - "+r.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:l=r.default.MEDIA_KEYERR_SERVICE_CODE;s+="MEDIA_KEYERR_SERVICE - "+r.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:l=r.default.MEDIA_KEYERR_OUTPUT_CODE;s+="MEDIA_KEYERR_OUTPUT - "+r.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:l=r.default.MEDIA_KEYERR_HARDWARECHANGE_CODE;s+="MEDIA_KEYERR_HARDWARECHANGE - "+r.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:l=r.default.MEDIA_KEYERR_DOMAIN_CODE;s+="MEDIA_KEYERR_DOMAIN - "+r.default.MEDIA_KEYERR_DOMAIN_MESSAGE}s+="  System Code = "+n.systemCode;f.trigger(o.KEY_ERROR,{data:new e.default(l,s,t)})}else w.error("No session token found for key error");break;case i.keyadded:t=y(u,n.sessionId);t||(t=y(h,n.sessionId));t?(w.debug("DRM: Key added."),f.trigger(o.KEY_ADDED,{data:t})):w.debug("No session token found for key added");break;case i.keymessage:(nt=null!==n.sessionId&&void 0!==n.sessionId,nt?!(t=y(u,n.sessionId))&&h.length>0&&(t=h.shift(),u.push(t),t.sessionID=n.sessionId,f.trigger(o.KEY_SESSION_CREATED,{data:t})):h.length>0&&(t=h.shift(),u.push(t),0!==h.length&&(rt.mediaKeyMessageError(r.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE),rt.error(new e.default(r.default.MEDIA_KEY_MESSAGE_ERROR_CODE,r.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)))),t)?(a=ArrayBuffer.isView(n.message)?n.message.buffer:n.message,t.keyMessage=a,f.trigger(o.INTERNAL_KEY_MESSAGE,{data:new v.default(t,a,n.defaultURL)})):w.warn("No session token found for key message")}}}}function y(n,t){if(t&&n){for(var r=n.length,i=0;i<r;i++)if(n[i].sessionID==t)return n[i];return null}return null}function it(){t.removeEventListener(i.keyerror,a);t.removeEventListener(i.needkey,a);t.removeEventListener(i.keymessage,a);t.removeEventListener(i.keyadded,a)}n=n||{};var wt=this.context,f=n.eventBus,o=n.events,bt=n.debug,i=n.api,rt=n.errHandler,d=void 0,w=void 0,t=void 0,l=void 0,g=void 0,h=void 0,u=void 0,nt=void 0,a=void 0;return d={getAllInitData:et,requestKeySystemAccess:ot,getKeySystem:ft,selectKeySystem:st,setMediaElement:ht,createKeySession:ct,updateKeySession:lt,closeKeySession:k,setServerCertificate:at,loadKeySession:vt,removeKeySession:yt,stop:tt,reset:tt},ut(),d}Object.defineProperty(i,"__esModule",{value:!0});var o=n(154),s=u(o),h=n(173),c=u(h),l=n(215),e=u(l),a=n(168),v=u(a),y=n(171),p=u(y),w=n(170),b=u(w),k=n(159),r=u(k);f.__dashjs_factory_name="ProtectionModel_01b";i.default=dashjs.FactoryMaker.getClassFactory(f);t.exports=i.default},{154:154,159:159,168:168,170:170,171:171,173:173,215:215}],161:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n){function it(){a=kt.getLogger(k);v=null;u=null;s=null;e=[];tt=h.default(bt).getInstance();y=wt()}function rt(){var r=e.length,n=void 0;0!==r?function(){for(var o=function(n){c(n);0===e.length&&(u?(u.removeEventListener("encrypted",y),u.setMediaKeys(null).then(function(){t.trigger(i.TEARDOWN_COMPLETE)})):t.trigger(i.TEARDOWN_COMPLETE))},f=0;f<r;f++)n=e[f],function(t){n.session.closed.then(function(){o(t)});w(n).catch(function(){o(t)})}(n)}():t.trigger(i.TEARDOWN_COMPLETE)}function ut(){for(var n=void 0,t=0;t<e.length;t++)n=e[t],n.getUsable()||w(n).catch(function(){c(n)})}function ft(){return v}function et(){for(var t=[],n=0;n<e.length;n++)e[n].initData&&t.push(e[n].initData);return t}function ot(n){d(n,0)}function st(n){n.mksa.createMediaKeys().then(function(r){v=n.keySystem;s=r;u?u.setMediaKeys(s).then(function(){t.trigger(i.INTERNAL_KEY_SYSTEM_SELECTED)}):t.trigger(i.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){t.trigger(i.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+n.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function ht(n){u!==n&&(u&&(u.removeEventListener("encrypted",y),u.setMediaKeys&&u.setMediaKeys(null)),(u=n)&&(u.addEventListener("encrypted",y),u.setMediaKeys&&s&&u.setMediaKeys(s)))}function ct(n){if(!v||!s)throw new Error("Can not set server certificate until you have selected a key system");s.setServerCertificate(n).then(function(){a.info("DRM: License server certificate successfully updated.");t.trigger(i.SERVER_CERTIFICATE_UPDATED)}).catch(function(n){t.trigger(i.SERVER_CERTIFICATE_UPDATED,{error:new f.default(r.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,r.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+n.name)})})}function lt(n,u,e){if(!v||!s)throw new Error("Can not create sessions until you have selected a key system");var l=s.createSession(e),h=nt(l,n,e),y=this.getKeySystem(),p=y.systemString===o.default.CLEARKEY_KEYSTEM_STRING&&u&&u.clearkeys?"keyids":"cenc";l.generateRequest(p,n).then(function(){a.debug("DRM: Session created.  SessionID = "+h.getSessionID());t.trigger(i.KEY_SESSION_CREATED,{data:h})}).catch(function(n){c(h);t.trigger(i.KEY_SESSION_CREATED,{data:null,error:new f.default(r.default.KEY_SESSION_CREATED_ERROR_CODE,r.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+n.name)})})}function at(n,u){var e=n.session;tt.isClearKey(v)&&(u=u.toJWK());e.update(u).catch(function(u){t.trigger(i.KEY_ERROR,{data:new f.default(r.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+u.name,n)})})}function vt(n,u,o){var l,y,h;if(!v||!s)throw new Error("Can not load sessions until you have selected a key system");for(l=0;l<e.length;l++)if(n===e[l].sessionId)return void a.warn("DRM: Ignoring session ID because we have already seen it!");y=s.createSession(o);h=nt(y,u,o,n);y.load(n).then(function(u){u?(a.debug("DRM: Session loaded.  SessionID = "+h.getSessionID()),t.trigger(i.KEY_SESSION_CREATED,{data:h})):(c(h),t.trigger(i.KEY_SESSION_CREATED,{data:null,error:new f.default(r.default.KEY_SESSION_CREATED_ERROR_CODE,r.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+n+")")}))}).catch(function(u){c(h);t.trigger(i.KEY_SESSION_CREATED,{data:null,error:new f.default(r.default.KEY_SESSION_CREATED_ERROR_CODE,r.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+n+")! "+u.name)})})}function yt(n){n.session.remove().then(function(){a.debug("DRM: Session removed.  SessionID = "+n.getSessionID());t.trigger(i.KEY_SESSION_REMOVED,{data:n.getSessionID()})},function(r){t.trigger(i.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+n.getSessionID()+"). "+r.name})})}function pt(n){w(n).catch(function(r){c(n);t.trigger(i.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+n.getSessionID()+") "+r.name})})}function d(n,r){if(void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess)return void t.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"});!function(r){var f=n[r].ks,e=n[r].configs,u=f.systemString;u===o.default.PLAYREADY_KEYSTEM_STRING&&"required"===e[0].persistentState&&(u+=".recommendation");navigator.requestMediaKeySystemAccess(u,e).then(function(n){var u="function"==typeof n.getConfiguration?n.getConfiguration():null,r=new b.default(f,u);r.mksa=n;t.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{data:r})}).catch(function(u){++r<n.length?d(n,r):t.trigger(i.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+u.message})})}(r)}function w(n){var t=n.session;return t.removeEventListener("keystatuseschange",n),t.removeEventListener("message",n),t.close()}function wt(){return{handleEvent:function(n){switch(n.type){case"encrypted":if(n.initData){var r=ArrayBuffer.isView(n.initData)?n.initData.buffer:n.initData;t.trigger(i.NEED_KEY,{key:new l.default(r,n.initDataType)})}}}}}function c(n){for(var t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}function g(n){var t=void 0,i=void 0;return n&&n.length>0&&(n[0]&&("string"==typeof n[0]?t=n[0]:i=n[0]),n[1]&&("string"==typeof n[1]?t=n[1]:i=n[1])),{status:t,keyId:i}}function nt(n,u,o,s){var h={session:n,initData:u,sessionId:s,handleEvent:function(n){switch(n.type){case"keystatuseschange":t.trigger(i.KEY_STATUSES_CHANGED,{data:this});n.target.keyStatuses.forEach(function(){var n=g(arguments);switch(n.status){case"expired":t.trigger(i.INTERNAL_KEY_STATUS_CHANGED,{error:new f.default(r.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,r.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)});break;default:t.trigger(i.INTERNAL_KEY_STATUS_CHANGED,n)}});break;case"message":var u=ArrayBuffer.isView(n.message)?n.message.buffer:n.message;t.trigger(i.INTERNAL_KEY_MESSAGE,{data:new p.default(this,u,void 0,n.messageType)})}},getSessionID:function(){return n.sessionId},getExpirationTime:function(){return n.expiration},getKeyStatuses:function(){return n.keyStatuses},getUsable:function(){var t=!1;return n.keyStatuses.forEach(function(){"usable"===g(arguments).status&&(t=!0)}),t},getSessionType:function(){return o}};return n.addEventListener("keystatuseschange",h),n.addEventListener("message",h),n.closed.then(function(){c(h);a.debug("DRM: Session closed.  SessionID = "+h.getSessionID());t.trigger(i.KEY_SESSION_CLOSED,{data:h.getSessionID()})}),e.push(h),h}n=n||{};var bt=this.context,t=n.eventBus,i=n.events,kt=n.debug,k=void 0,a=void 0,v=void 0,u=void 0,s=void 0,e=void 0,y=void 0,tt=void 0;return k={getAllInitData:et,requestKeySystemAccess:ot,getKeySystem:ft,selectKeySystem:st,setMediaElement:ht,setServerCertificate:ct,createKeySession:lt,updateKeySession:at,loadKeySession:vt,removeKeySession:yt,closeKeySession:pt,stop:ut,reset:rt},it(),k}Object.defineProperty(i,"__esModule",{value:!0});var s=n(154),h=u(s),c=n(173),l=u(c),a=n(159),r=u(a),v=n(215),f=u(v),y=n(168),p=u(y),w=n(170),b=u(w),k=n(103),o=u(k);e.__dashjs_factory_name="ProtectionModel_21Jan2015";i.default=dashjs.FactoryMaker.getClassFactory(e);t.exports=i.default},{103:103,154:154,159:159,168:168,170:170,173:173,215:215}],162:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function it(){v=wt.getLogger(b);u=null;h=null;l=null;f=null;o=[];d=e.default(pt).getInstance();p=vt()}function g(){try{for(var n=0;n<o.length;n++)nt(o[n]);u&&u.removeEventListener(t.needkey,p);i.trigger(r.TEARDOWN_COMPLETE)}catch(f){i.trigger(r.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+f.message})}}function rt(){return h}function ut(){for(var t=[],n=0;n<o.length;n++)t.push(o[n].initData);return t}function ft(n){for(var e,o,h,c,p,b,a=!1,s=0;s<n.length;s++)for(var v=n[s].ks.systemString,y=n[s].configs,u=null,f=null,l=0;l<y.length;l++){if(e=y[l].audioCapabilities,o=y[l].videoCapabilities,e&&0!==e.length)for(u=[],h=0;h<e.length;h++)window[t.MediaKeys].isTypeSupported(v,e[h].contentType)&&u.push(e[h]);if(o&&0!==o.length)for(f=[],c=0;c<o.length;c++)window[t.MediaKeys].isTypeSupported(v,o[c].contentType)&&f.push(o[c]);if(!(!u&&!f||u&&0===u.length||f&&0===f.length)){a=!0;p=new w.default(u,f);b=d.getKeySystemBySystemString(v);i.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{data:new k.default(b,p)});break}}a||i.trigger(r.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function et(n){try{l=n.mediaKeys=new window[t.MediaKeys](n.keySystem.systemString);h=n.keySystem;f=n;u&&tt();i.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){i.trigger(r.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+h.systemString+")! Could not create MediaKeys -- TODO"})}}function ot(n){u!==n&&(u&&u.removeEventListener(t.needkey,p),(u=n)&&(u.addEventListener(t.needkey,p),l&&tt()))}function st(n,u,e,s){var a;if(!h||!l||!f)throw new Error("Can not create sessions until you have selected a key system");if(a=null,f.ksConfiguration.videoCapabilities&&f.ksConfiguration.videoCapabilities.length>0&&(a=f.ksConfiguration.videoCapabilities[0]),null===a&&f.ksConfiguration.audioCapabilities&&f.ksConfiguration.audioCapabilities.length>0&&(a=f.ksConfiguration.audioCapabilities[0]),null===a)throw new Error("Can not create sessions for unknown content types.");var p=a.contentType,y=l.createSession(p,new Uint8Array(n),s?new Uint8Array(s):null),c=yt(y,n);y.addEventListener(t.error,c);y.addEventListener(t.message,c);y.addEventListener(t.ready,c);y.addEventListener(t.close,c);o.push(c);v.debug("DRM: Session created.  SessionID = "+c.getSessionID());i.trigger(r.KEY_SESSION_CREATED,{data:c})}function ht(n,t){var i=n.session;d.isClearKey(h)?i.update(new Uint8Array(t.toJWK())):i.update(new Uint8Array(t))}function nt(n){var i=n.session,r;for(i.removeEventListener(t.error,n),i.removeEventListener(t.message,n),i.removeEventListener(t.ready,n),i.removeEventListener(t.close,n),r=0;r<o.length;r++)if(o[r]===n){o.splice(r,1);break}i[t.release]()}function ct(){}function lt(){}function at(){}function vt(){return{handleEvent:function(n){switch(n.type){case t.needkey:if(n.initData){var u=ArrayBuffer.isView(n.initData)?n.initData.buffer:n.initData;i.trigger(r.NEED_KEY,{key:new s.default(u,"cenc")})}}}}}function tt(){var n=null,f=function(){u.removeEventListener("loadedmetadata",n);u[t.setMediaKeys](l);i.trigger(r.VIDEO_ELEMENT_SELECTED)};u.readyState>=1?f():(n=f.bind(this),u.addEventListener("loadedmetadata",n))}function yt(n,u){return{session:n,initData:u,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(n){switch(n.type){case t.error:i.trigger(r.KEY_ERROR,{data:new c.default(a.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case t.message:var u=ArrayBuffer.isView(n.message)?n.message.buffer:n.message;i.trigger(r.INTERNAL_KEY_MESSAGE,{data:new y.default(this,u,n.destinationURL)});break;case t.ready:v.debug("DRM: Key added.");i.trigger(r.KEY_ADDED);break;case t.close:v.debug("DRM: Session closed.  SessionID = "+this.getSessionID());i.trigger(r.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}n=n||{};var pt=this.context,i=n.eventBus,r=n.events,wt=n.debug,t=n.api,b=void 0,v=void 0,u=void 0,h=void 0,l=void 0,f=void 0,o=void 0,p=void 0,d=void 0;return b={getAllInitData:ut,requestKeySystemAccess:ft,getKeySystem:rt,selectKeySystem:et,setMediaElement:ot,createKeySession:st,updateKeySession:ht,closeKeySession:nt,setServerCertificate:ct,loadKeySession:lt,removeKeySession:at,stop:g,reset:g},it(),b}Object.defineProperty(i,"__esModule",{value:!0});var f=n(154),e=r(f),o=n(173),s=r(o),h=n(215),c=r(h),l=n(159),a=r(l),v=n(168),y=r(v),p=n(171),w=r(p),b=n(170),k=r(b);u.__dashjs_factory_name="ProtectionModel_3Feb2014";i.default=dashjs.FactoryMaker.getClassFactory(u);t.exports=i.default},{154:154,159:159,168:168,170:170,171:171,173:173,215:215}],163:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function n(n,t){var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i;for(n+="/?",i=0;i<r.kids.length;i++)n+=r.kids[i]+"&";return n.substring(0,n.length-1)}function t(){return"GET"}function i(){return"json"}function r(n){var i,t;if(!n.hasOwnProperty("keys"))return null;for(i=[],t=0;t<n.keys.length;t++){var r=n.keys[t],u=r.kid.replace(/=/g,""),f=r.k.replace(/=/g,"");i.push(new e.default(u,f))}return new s.default(i)}function u(n){return String.fromCharCode.apply(null,new Uint8Array(n))}return{getServerURLFromMessage:n,getHTTPMethod:t,getResponseType:i,getLicenseMessage:r,getErrorResponse:u}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(169),e=r(f),o=n(167),s=r(o);u.__dashjs_factory_name="ClearKey";i.default=dashjs.FactoryMaker.getSingletonFactory(u);t.exports=i.default},{167:167,169:169}],164:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function r(n){function r(){if(!i||!i.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)");}function f(n){return n}function e(){return"POST"}function o(n){return t[n].responseType}function s(n,i){return r(),t[i].getLicenseMessage(n)}function h(n,i){return t[i].getErrorResponse(n)}n=n||{};var i=n.BASE64,t={};return t[u.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(n){return i.decodeArray(n.license)},getErrorResponse:function(n){return n}},t[u.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(n){return n},getErrorResponse:function(n){return String.fromCharCode.apply(null,new Uint8Array(n))}},{getServerURLFromMessage:f,getHTTPMethod:e,getResponseType:o,getLicenseMessage:s,getErrorResponse:h}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(103),u=f(e);r.__dashjs_factory_name="DRMToday";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{103:103}],165:[function(n,t,i){"use strict";function r(){function t(n){var t=String.fromCharCode.apply(null,new Uint8Array(n));return decodeURIComponent(escape(t))}function i(i){if(window.DOMParser){var e=t(i),o=new window.DOMParser,r=o.parseFromString(e,"text/xml"),u=r?r.getElementsByTagNameNS(n,"Envelope")[0]:null,f=u?u.getElementsByTagNameNS(n,"Body")[0]:null;if(f?f.getElementsByTagNameNS(n,"Fault")[0]:null)return null}return i}function r(i){var s="",h="",r="",c=-1,l=-1,o;if(window.DOMParser){var a=t(i),b=new window.DOMParser,v=b.parseFromString(a,"text/xml"),y=v?v.getElementsByTagNameNS(n,"Envelope")[0]:null,p=y?y.getElementsByTagNameNS(n,"Body")[0]:null,f=p?p.getElementsByTagNameNS(n,"Fault")[0]:null,w=f?f.getElementsByTagName("detail")[0]:null,e=w?w.getElementsByTagName("Exception")[0]:null,u=null;if(null===f)return a;u=f.getElementsByTagName("faultstring")[0].firstChild;s=u?u.nodeValue:null;null!==e&&(u=e.getElementsByTagName("StatusCode")[0],h=u?u.firstChild.nodeValue:null,u=e.getElementsByTagName("Message")[0],r=u?u.firstChild.nodeValue:null,c=r?r.lastIndexOf("[")+1:-1,l=r?r.indexOf("]"):-1,r=r?r.substring(c,l):"")}return o="code: "+h+", name: "+s,r&&(o+=", message: "+r),o}function u(n){return n}function f(){return"POST"}function e(){return"arraybuffer"}function o(n){return i.call(this,n)}function s(n){return r.call(this,n)}var n="http://schemas.xmlsoap.org/soap/envelope/";return{getServerURLFromMessage:u,getHTTPMethod:f,getResponseType:e,getLicenseMessage:o,getErrorResponse:s}}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="PlayReady";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{}],166:[function(n,t,i){"use strict";function r(){function n(n){return n}function t(){return"POST"}function i(){return"arraybuffer"}function r(n){return n}function u(n){return String.fromCharCode.apply(null,new Uint8Array(n))}return{getServerURLFromMessage:n,getHTTPMethod:t,getResponseType:i,getLicenseMessage:r,getErrorResponse:u}}Object.defineProperty(i,"__esModule",{value:!0});r.__dashjs_factory_name="Widevine";i.default=dashjs.FactoryMaker.getSingletonFactory(r);t.exports=i.default},{}],167:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(t,i){if(r(this,n),i&&"persistent"!==i&&"temporary"!==i)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t;this.type=i}return u(n,[{key:"toJWK",value:function(){for(var n=void 0,e=this.keyPairs.length,t={keys:[]},i,n=0;n<e;n++)i={kty:"oct",alg:"A128KW",kid:this.keyPairs[n].keyID,k:this.keyPairs[n].key},t.keys.push(i);this.type&&(t.type=this.type);var r=JSON.stringify(t),u=r.length,f=new ArrayBuffer(u),o=new Uint8Array(f);for(n=0;n<u;n++)o[n]=r.charCodeAt(n);return f}}]),n}();i.default=f;t.exports=i.default},{}],168:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i,u,f){r(this,n);this.sessionToken=t;this.message=i;this.defaultURL=u;this.messageType=f||"license-request"};i.default=u;t.exports=i.default},{}],169:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i){r(this,n);this.keyID=t;this.key=i};i.default=u;t.exports=i.default},{}],170:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i){r(this,n);this.keySystem=t;this.ksConfiguration=i};i.default=u;t.exports=i.default},{}],171:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i,u,f,e){r(this,n);this.initDataTypes=["cenc"];t&&t.length&&(this.audioCapabilities=t);i&&i.length&&(this.videoCapabilities=i);this.distinctiveIdentifier=u;this.persistentState=f;this.sessionTypes=e};i.default=u;t.exports=i.default},{}],172:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i){r(this,n);this.contentType=t;this.robustness=i};i.default=u;t.exports=i.default},{}],173:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i){r(this,n);this.initData=t;this.initDataType=i};i.default=u;t.exports=i.default},{}],174:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function r(){function r(r,u){var e=u&&u.droppedVideoFrames?u.droppedVideoFrames:0,o=u&&u.totalVideoFrames?u.totalVideoFrames:0,s=e-t,f;t=e;f=o-i;i=o;isNaN(r)||(n[r]?(n[r].droppedVideoFrames+=s,n[r].totalVideoFrames+=f):n[r]={droppedVideoFrames:s,totalVideoFrames:f})}function u(){return n}function f(r){n=[];t=r.droppedVideoFrames;i=r.totalVideoFrames}var n=[],t=0,i=0;return{push:r,getFrameHistory:u,reset:f}}var u,f,e;Object.defineProperty(i,"__esModule",{value:!0});u=n(48);f=o(u);r.__dashjs_factory_name="DroppedFramesHistory";e=f.default.getClassFactory(r);i.default=e;t.exports=i.default},{48:48}],175:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function r(){var n=t();return n?n.type:null}function u(){var n=t();return n?n.streamInfo:null}function t(){return i?i.mediaInfo:null}function f(){return i}function e(){return b}function o(){return a}function s(){return v}function h(){return y}function c(){return p}function l(){return w}n=n||{};var a=n.abrController,v=n.switchHistory,y=n.droppedFramesHistory,p=n.currentRequest,w=n.useBufferOccupancyABR,b=n.streamProcessor?n.streamProcessor.getScheduleController():null,i=n.streamProcessor?n.streamProcessor.getRepresentationInfo():null;return{getMediaType:r,getMediaInfo:t,getDroppedFramesHistory:h,getCurrentRequest:c,getSwitchHistory:s,getStreamInfo:u,getScheduleController:e,getAbrController:o,getRepresentationInfo:f,useBufferOccupancyABR:l}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="RulesContext";i.default=e.default.getClassFactory(r);t.exports=i.default},{48:48}],176:[function(n,t,i){"use strict";function s(n){return n&&n.__esModule?n:{"default":n}}function f(n,t,i){function s(n){var t=r.DEFAULT;return n!==r.DEFAULT&&n!==r.STRONG&&n!==r.WEAK||(t=n),t}var u=void 0,f=void 0,e=void 0;return u=void 0===n?o:n,f=s(i),e=void 0===t?null:t,{quality:u,reason:e,priority:f}}var u;Object.defineProperty(i,"__esModule",{value:!0});var h=n(48),e=s(h),o=-1,r={DEFAULT:.5,STRONG:1,WEAK:0};f.__dashjs_factory_name="SwitchRequest";u=e.default.getClassFactory(f);u.NO_CHANGE=o;u.PRIORITY=r;e.default.updateClassFactory(f.__dashjs_factory_name,u);i.default=u;t.exports=i.default},{48:48}],177:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function i(i){var r;i.newValue===h.default.NO_CHANGE&&(i.newValue=i.oldValue);n[i.oldValue]||(n[i.oldValue]={noDrops:0,drops:0,dropSize:0});var f=i.newValue-i.oldValue,u=f<0?1:0,e=u?-f:0,o=u?0:1;(n[i.oldValue].drops+=u,n[i.oldValue].dropSize+=e,n[i.oldValue].noDrops+=o,t.push({idx:i.oldValue,noDrop:o,drop:u,dropSize:e}),t.length>c)&&(r=t.shift(),n[r.idx].drops-=r.drop,n[r.idx].dropSize-=r.dropSize,n[r.idx].noDrops-=r.noDrop)}function r(){return n}function u(){n=[];t=[]}var n=[],t=[];return{push:i,getSwitchRequests:r,reset:u}}var f;Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=r(e),s=n(176),h=r(s),c=8;u.__dashjs_factory_name="SwitchRequestHistory";f=o.default.getClassFactory(u);i.default=f;t.exports=i.default},{176:176,48:48}],178:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function y(){o={throughputHalfLife:{fast:st,slow:ot},latencyHalfLife:{fast:ct,slow:ht}};a()}function p(n,t,i){return n===r.default.VIDEO?i<e.getCacheLoadThresholdForType(r.default.VIDEO):n===r.default.AUDIO?i<e.getCacheLoadThresholdForType(r.default.AUDIO):void 0}function w(n,r,h){var y;if(r.trace&&r.trace.length){var c=r.tresponse.getTime()-r.trequest.getTime()||1,a=r._tfinish.getTime()-r.tresponse.getTime()||1,b=r.trace.reduce(function(n,t){return n+t.b[0]},0),w=void 0;if(w=e.getLowLatencyEnabled()?r.trace.reduce(function(n,t){return n+t.d},0):h?a:c+a,y=Math.round(8*b/w),l(n),p(n,c,a)){if(t[n].length>0&&!t[n].hasCachedEntries)return;t[n].hasCachedEntries=!0}else t[n]&&t[n].hasCachedEntries&&tt(n);t[n].push(y);t[n].length>v&&t[n].shift();i[n].push(c);i[n].length>v&&i[n].shift();s(u[n],y,.001*a,o.throughputHalfLife);s(f[n],c,1,o.latencyHalfLife)}}function s(n,t,i,r){var f=Math.pow(.5,i/r.fast),u;n.fastEstimate=(1-f)*t+f*n.fastEstimate;u=Math.pow(.5,i/r.slow);n.slowEstimate=(1-u)*t+u*n.slowEstimate;n.totalWeight+=i}function b(n,r,u){var f=void 0,e=void 0,o,s;if(n?(f=t[r],e=u?it:rt):(f=i[r],e=ut),f){if(e>=f.length)e=f.length;else if(n)for(o=1;o<e;++o)if(s=f[o]/f[o-1],(s>=et||s<=1/ft)&&(e+=1)===f.length)break}else e=0;return e}function h(n,t,i){return e.getMovingAverageMethod()!==r.default.MOVING_AVERAGE_SLIDING_WINDOW?d(n,t):k(n,t,i)}function k(n,r,u){var e=b(n,r,u),o=n?t:i,f=o[r];return 0!==e&&f&&0!==f.length?(f=f.slice(-e),f.reduce(function(n,t){return n+t})/f.length):NaN}function d(n,t){var s=n?o.throughputHalfLife:o.latencyHalfLife,i=n?u[t]:f[t],r,e;return!i||i.totalWeight<=0?NaN:(r=i.fastEstimate/(1-Math.pow(.5,i.totalWeight/s.fast)),e=i.slowEstimate/(1-Math.pow(.5,i.totalWeight/s.slow)),n?Math.min(r,e):Math.max(r,e))}function c(n,t){return h(!0,n,t)}function g(n,t){var i=c(n,t);return isNaN(i)||(i*=e.getBandwidthSafetyFactor()),i}function nt(n){return h(!1,n)}function l(n){t[n]=t[n]||[];i[n]=i[n]||[];u[n]=u[n]||{fastEstimate:0,slowEstimate:0,totalWeight:0};f[n]=f[n]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function tt(n){delete t[n];delete i[n];delete u[n];delete f[n];l(n)}function a(){t={};i={};u={};f={}}n=n||{};var v=20,it=3,rt=4,ut=4,ft=1.3,et=1.3,ot=8,st=3,ht=2,ct=1,e=n.mediaPlayerModel,t=void 0,i=void 0,u=void 0,f=void 0,o=void 0,lt={push:w,getAverageThroughput:c,getSafeAverageThroughput:g,getAverageLatency:nt,reset:a};return y(),lt}Object.defineProperty(i,"__esModule",{value:!0});var e=n(101),r=u(e),o=n(48),s=u(o);f.__dashjs_factory_name="ThroughputHistory";i.default=s.default.getClassFactory(f);t.exports=i.default},{101:101,48:48}],179:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(n){function y(){i=[];u=[];f.getUseDefaultABRRules()&&(i.push(nt.default(t).create({metricsModel:e,dashMetrics:o,mediaPlayerModel:f})),i.push(l.default(t).create({metricsModel:e,dashMetrics:o})),i.push(v.default(t).create({metricsModel:e,dashMetrics:o})),i.push(d.default(t).create()),i.push(b.default(t).create()),u.push(p.default(t).create({metricsModel:e,dashMetrics:o,mediaPlayerModel:f})));f.getABRCustomRules().forEach(function(n){n.type===s&&i.push(n.rule(t).create());n.type===h&&u.push(n.rule(t).create())})}function c(n){return n.filter(function(n){return n.quality>r.default.NO_CHANGE})}function a(n){var i={},e=void 0,o=void 0,u=void 0,f=void 0,s=void 0;if(0!==n.length){for(i[r.default.PRIORITY.STRONG]=r.default.NO_CHANGE,i[r.default.PRIORITY.WEAK]=r.default.NO_CHANGE,i[r.default.PRIORITY.DEFAULT]=r.default.NO_CHANGE,e=0,o=n.length;e<o;e+=1)u=n[e],u.quality!==r.default.NO_CHANGE&&(i[u.priority]=i[u.priority]>r.default.NO_CHANGE?Math.min(i[u.priority],u.quality):u.quality);return i[r.default.PRIORITY.WEAK]!==r.default.NO_CHANGE&&(f=i[r.default.PRIORITY.WEAK]),i[r.default.PRIORITY.DEFAULT]!==r.default.NO_CHANGE&&(f=i[r.default.PRIORITY.DEFAULT]),i[r.default.PRIORITY.STRONG]!==r.default.NO_CHANGE&&(f=i[r.default.PRIORITY.STRONG]),f!==r.default.NO_CHANGE&&(s=f),r.default(t).create(s)}}function w(n){return a(c(i.map(function(t){return t.getMaxIndex(n)})))||r.default(t).create()}function k(n){return a(c(u.map(function(t){return t.shouldAbandon(n)})))||r.default(t).create()}function g(){[i,u].forEach(function(n){n&&n.length&&n.forEach(function(n){return n.reset&&n.reset()})});i=[];u=[]}n=n||{};var t=this.context,f=n.mediaPlayerModel,e=n.metricsModel,o=n.dashMetrics,i=void 0,u=void 0;return{initialize:y,reset:g,getMaxQuality:w,shouldAbandonFragment:k}}var f;Object.defineProperty(i,"__esModule",{value:!0});var c=n(185),l=u(c),a=n(183),v=u(a),y=n(180),p=u(y),w=n(182),b=u(w),k=n(184),d=u(k),g=n(181),nt=u(g),tt=n(48),o=u(tt),it=n(176),r=u(it),s="qualitySwitchRules",h="abandonFragmentRules";e.__dashjs_factory_name="ABRRulesCollection";f=o.default.getClassFactory(e);f.QUALITY_SWITCH_RULES=s;f.ABANDON_FRAGMENT_RULES=h;o.default.updateSingletonFactory(e.__dashjs_factory_name,f);i.default=f;t.exports=i.default},{176:176,180:180,181:181,182:182,183:183,184:184,185:185,48:48}],180:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function a(){l=c.default(s).getInstance().getLogger(e);o()}function v(n,i){t[n]=t[n]||{};t[n][i]=t[n][i]||{}}function y(n,t){i[n]=i[n]||[];i[n].push(t)}function p(n){var a=f.default(s).create(f.default.NO_CHANGE,{name:u.__dashjs_factory_name}),it,e,rt;if(!(n&&n.hasOwnProperty("getMediaInfo")&&n.hasOwnProperty("getMediaType")&&n.hasOwnProperty("getCurrentRequest")&&n.hasOwnProperty("getRepresentationInfo")&&n.hasOwnProperty("getAbrController")))return a;var p=n.getMediaInfo(),o=n.getMediaType(),c=n.getCurrentRequest();if(!isNaN(c.index)){if((v(o,c.index),it=h.getStableBufferTime(),g.getCurrentBufferLevel(d.getReadOnlyMetricsFor(o))>it)||(e=t[o][c.index],null===e||null===c.firstByteDate||r.hasOwnProperty(e.id)))return a;if(void 0===e.firstByteTime&&(i[o]=[],e.firstByteTime=c.firstByteDate.getTime(),e.segmentDuration=c.duration,e.bytesTotal=c.bytesTotal,e.id=c.index),e.bytesLoaded=c.bytesLoaded,e.elapsedTime=(new Date).getTime()-e.firstByteTime,e.bytesLoaded>0&&e.elapsedTime>0&&y(o,Math.round(8*e.bytesLoaded/e.elapsedTime)),i[o].length>=k&&e.elapsedTime>b&&e.bytesLoaded<e.bytesTotal){if(rt=i[o].reduce(function(n,t){return n+t},0),e.measuredBandwidthInKbps=Math.round(rt/i[o].length),e.estimatedTimeOfDownload=+(8*e.bytesTotal/e.measuredBandwidthInKbps/1e3).toFixed(2),e.estimatedTimeOfDownload<e.segmentDuration*w||0===n.getRepresentationInfo().quality)return a;if(!r.hasOwnProperty(e.id)){var nt=n.getAbrController(),ft=e.bytesTotal-e.bytesLoaded,ut=nt.getBitrateList(p),tt=nt.getQualityForBitrate(p,e.measuredBandwidthInKbps*h.getBandwidthSafetyFactor());ft>e.bytesTotal*ut[tt].bitrate/ut[nt.getQualityFor(o,p.streamInfo)].bitrate&&(a.quality=tt,a.reason.throughput=e.measuredBandwidthInKbps,a.reason.fragmentID=e.id,r[e.id]=e,l.debug("( ",o,"frag id",e.id,") is asking to abandon and switch to quality to ",tt," measured bandwidth was",e.measuredBandwidthInKbps),delete t[o][e.id])}}else e.bytesLoaded===e.bytesTotal&&delete t[o][e.id]}return a}function o(){t={};r={};i=[]}n=n||{};var w=1.8,b=500,k=5,s=this.context,h=n.mediaPlayerModel,d=n.metricsModel,g=n.dashMetrics,e=void 0,l=void 0,t=void 0,r=void 0,i=void 0;return e={shouldAbandon:p,reset:o},a(),e}Object.defineProperty(i,"__esModule",{value:!0});var e=n(176),f=r(e),o=n(48),s=r(o),h=n(46),c=r(h);u.__dashjs_factory_name="AbandonRequestsRule";i.default=s.default.getClassFactory(u);t.exports=i.default},{176:176,46:46,48:48}],181:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function h(n){function yt(){vt=nt.default(y).getInstance().getLogger(t);lt();i.on(r.default.BUFFER_EMPTY,rt,t);i.on(r.default.PLAYBACK_SEEKING,ut,t);i.on(r.default.PERIOD_SWITCH_STARTED,ft,t);i.on(r.default.MEDIA_FRAGMENT_LOADED,et,t);i.on(r.default.METRIC_ADDED,ot,t);i.on(r.default.QUALITY_CHANGE_REQUESTED,ht,t);i.on(r.default.FRAGMENT_LOADING_ABANDONED,ct,t)}function pt(n){return n.map(function(n){return Math.log(n)})}function p(n,t,i){var u=i.reduce(function(n,t,r){return t>i[n]?r:n},0),f,r;return 0===u?null:(f=Math.max(n,e+tt*t.length),r=(i[u]-1)/(f/e-1),{gp:r,Vp:e/r})}function wt(n){var t={},s=n.getMediaInfo(),f=s.bitrateList.map(function(n){return n.bandwidth}),i=pt(f),e,r;return i=i.map(function(n){return n-i[0]+1}),e=at.getStableBufferTime(),r=p(e,f,i),r?(t.state=o,t.bitrates=f,t.utilities=i,t.stableBufferTime=e,t.Vp=r.Vp,t.gp=r.gp,t.lastQuality=0,a(t)):t.state=u,t}function a(n){n.placeholderBuffer=0;n.mostAdvancedSegmentStart=NaN;n.lastSegmentWasReplacement=!1;n.lastSegmentStart=NaN;n.lastSegmentDurationS=NaN;n.lastSegmentRequestTimeMs=NaN;n.lastSegmentFinishTimeMs=NaN}function b(n,t){var u=at.getStableBufferTime(),i,f,r;n.stableBufferTime!==u&&(i=p(u,n.bitrates,n.utilities),(i.Vp!==n.Vp||i.gp!==n.gp)&&(f=h.getCurrentBufferLevel(c.getReadOnlyMetricsFor(t)),r=f+n.placeholderBuffer,r-=e,r*=i.Vp/n.Vp,r+=e,n.stableBufferTime=u,n.Vp=i.Vp,n.gp=i.gp,n.placeholderBuffer=Math.max(0,r-f)))}function bt(n){var i=n.getMediaType(),t=f[i];return t?t.state!==u&&b(t,i):(t=wt(n),f[i]=t),t}function kt(n,t){for(var u,e=n.bitrates.length,f=NaN,r=NaN,i=0;i<e;++i)u=(n.Vp*(n.utilities[i]+n.gp)-t)/n.bitrates[i],(isNaN(r)||u>=r)&&(r=u,f=i);return f}function d(n,t){return n.Vp*(n.utilities[t]+n.gp)}function g(n,t){for(var u=n.bitrates[t],e=n.utilities[t],r=0,i=t-1;i>=0;--i)if(n.utilities[i]<n.utilities[t]){var f=n.bitrates[i],o=n.utilities[i],s=n.Vp*(n.gp+(u*o-f*e)/(u-f));r=Math.max(r,s)}return r}function dt(n,t){var r=Date.now(),i;isNaN(n.lastSegmentFinishTimeMs)?isNaN(n.lastCallTimeMs)||(i=.001*(r-n.lastCallTimeMs),n.placeholderBuffer+=Math.max(0,i)):(i=.001*(r-n.lastSegmentFinishTimeMs),n.placeholderBuffer+=Math.max(0,i));n.lastCallTimeMs=r;n.lastSegmentStart=NaN;n.lastSegmentRequestTimeMs=NaN;n.lastSegmentFinishTimeMs=NaN;b(n,t)}function rt(){for(var n in f)f.hasOwnProperty(n)&&f[n].state===s&&(f[n].placeholderBuffer=0)}function ut(){var t,n;for(t in f)f.hasOwnProperty(t)&&(n=f[t],n.state!==u&&(n.state=o,a(n)))}function ft(){}function et(n){var t,i;n&&n.chunk&&n.chunk.mediaInfo&&(t=f[n.chunk.mediaInfo.type],t&&t.state!==u&&(i=n.chunk.start,isNaN(t.mostAdvancedSegmentStart)||i>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=i,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=i,t.lastSegmentDurationS=n.chunk.duration,t.lastQuality=n.chunk.quality,st(t,n.chunk.mediaInfo.type)))}function ot(n){if(n&&n.metric===l.default.HTTP_REQUEST&&n.value&&n.value.type===w.HTTPRequest.MEDIA_SEGMENT_TYPE&&n.value.trace&&n.value.trace.length){var t=f[n.mediaType];t&&t.state!==u&&(t.lastSegmentRequestTimeMs=n.value.trequest.getTime(),t.lastSegmentFinishTimeMs=n.value._tfinish.getTime(),st(t,n.mediaType))}}function st(n,t){if(!isNaN(n.lastSegmentStart)&&!isNaN(n.lastSegmentRequestTimeMs)&&!isNaN(n.placeholderBuffer)){if(n.placeholderBuffer*=it,!isNaN(n.lastSegmentFinishTimeMs)){var i=h.getCurrentBufferLevel(c.getReadOnlyMetricsFor(t)),r=i+.001*(n.lastSegmentFinishTimeMs-n.lastSegmentRequestTimeMs),u=d(n,n.lastQuality),f=Math.max(0,u-r);n.placeholderBuffer=Math.min(f,n.placeholderBuffer)}n.lastSegmentWasReplacement&&!isNaN(n.lastSegmentDurationS)&&(n.placeholderBuffer+=n.lastSegmentDurationS);n.lastSegmentStart=NaN;n.lastSegmentRequestTimeMs=NaN}}function ht(n){if(n){var t=f[n.mediaType];t&&t.state!==u&&(t.abrQuality=n.newQuality)}}function ct(n){var t,r,i,o;n&&(t=f[n.mediaType],t&&t.state!==u&&(r=h.getCurrentBufferLevel(c.getReadOnlyMetricsFor(n.mediaType)),i=void 0,i=t.abrQuality>0?g(t,t.abrQuality):e,o=Math.max(0,i-r),t.placeholderBuffer=Math.min(t.placeholderBuffer,o)))}function gt(n){var nt=n.getMediaInfo(),e=n.getMediaType(),et=c.getReadOnlyMetricsFor(e),ut=n.getScheduleController(),p=n.getStreamInfo(),w=n.getAbrController(),tt=w.getThroughputHistory(),ot=p?p.id:null,ft=p&&p.manifestInfo&&p.manifestInfo.isDynamic,st=n.useBufferOccupancyABR(),i=v.default(y).create(),t,rt,f;if((i.reason=i.reason||{},!st)||(ut.setTimeToLoadDelay(0),t=bt(n),t.state===u))return i;var b=h.getCurrentBufferLevel(et),it=tt.getAverageThroughput(e,ft),k=tt.getSafeAverageThroughput(e,ft),l=tt.getAverageLatency(e),r=void 0;if(i.reason.state=t.state,i.reason.throughput=it,i.reason.latency=l,isNaN(it))return i;switch(t.state){case o:r=w.getQualityForBitrate(nt,k,l);i.quality=r;i.reason.throughput=k;t.placeholderBuffer=Math.max(0,g(t,r)-b);t.lastQuality=r;!isNaN(t.lastSegmentDurationS)&&b>=t.lastSegmentDurationS&&(t.state=s);break;case s:dt(t,e);r=kt(t,b+t.placeholderBuffer);rt=w.getQualityForBitrate(nt,k,l);r>t.lastQuality&&r>rt&&(r=Math.max(rt,t.lastQuality));f=Math.max(0,b+t.placeholderBuffer-d(t,r));f<=t.placeholderBuffer?(t.placeholderBuffer-=f,f=0):(f-=t.placeholderBuffer,t.placeholderBuffer=0,r<w.getTopQualityIndexFor(e,ot)?ut.setTimeToLoadDelay(1e3*f):f=0);i.quality=r;i.reason.throughput=it;i.reason.latency=l;i.reason.bufferLevel=b;i.reason.placeholderBuffer=t.placeholderBuffer;i.reason.delay=f;t.lastQuality=r;break;default:vt.debug("BOLA ABR rule invoked in bad state.");i.quality=w.getQualityForBitrate(nt,k,l);i.reason.state=t.state;i.reason.throughput=k;i.reason.latency=l;t.state=o;a(t)}return i}function lt(){f={}}function ni(){lt();i.off(r.default.BUFFER_EMPTY,rt,t);i.off(r.default.PLAYBACK_SEEKING,ut,t);i.off(r.default.PERIOD_SWITCH_STARTED,ft,t);i.off(r.default.MEDIA_FRAGMENT_LOADED,et,t);i.off(r.default.METRIC_ADDED,ot,t);i.off(r.default.QUALITY_CHANGE_REQUESTED,ht,t);i.off(r.default.FRAGMENT_LOADING_ABANDONED,ct,t)}n=n||{};var y=this.context,h=n.dashMetrics,c=n.metricsModel,at=n.mediaPlayerModel,i=k.default(y).getInstance(),t=void 0,vt=void 0,f=void 0;return t={getMaxIndex:gt,reset:ni},yt(),t}Object.defineProperty(i,"__esModule",{value:!0});var c=n(102),l=f(c),a=n(176),v=f(a),y=n(48),p=f(y),w=n(235),b=n(47),k=f(b),d=n(53),r=f(d),g=n(46),nt=f(g),u=0,o=1,s=2,e=10,tt=2,it=.99;h.__dashjs_factory_name="BolaRule";i.default=p.default.getClassFactory(h);t.exports=i.default},{102:102,176:176,235:235,46:46,47:47,48:48,53:53}],182:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function r(){i=c.default(n).getInstance().getLogger(t)}function f(t){var l=t.getDroppedFramesHistory();if(l){for(var f=l.getFrameHistory(),s=0,h=0,c=u.default.NO_CHANGE,r=1;r<f.length;r++)if(f[r]&&(s=f[r].droppedVideoFrames,(h=f[r].totalVideoFrames)>o&&s/h>e)){c=r-1;i.debug("index: "+c+" Dropped Frames: "+s+" Total Frames: "+h);break}return u.default(n).create(c,{droppedFrames:s})}return u.default(n).create()}var n=this.context,t=void 0,i=void 0,e=.15,o=375;return t={getMaxIndex:f},r(),t}Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=r(e),s=n(176),u=r(s),h=n(46),c=r(h);f.__dashjs_factory_name="DroppedFramesRule";i.default=o.default.getClassFactory(f);t.exports=i.default},{176:176,46:46,48:48}],183:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function v(){a=y.default(u).getInstance().getLogger(t);r();l.on(e.default.PLAYBACK_SEEKING,c,t)}function p(){if(!(o&&o.hasOwnProperty("getReadOnlyMetricsFor")&&s&&s.hasOwnProperty("getCurrentBufferLevel")))throw new Error(k.default.MISSING_CONFIG_ERROR);}function b(n){var t=w.default(u).create();if(!n||!n.hasOwnProperty("getMediaType"))return t;p();var i=n.getMediaType(),r=o.getReadOnlyMetricsFor(i),e=r.BufferState.length>0?r.BufferState[r.BufferState.length-1]:null,v=n.getRepresentationInfo(),h=v.fragmentDuration;if(!e||!d(i,e)||!h)return t;if(e.state===f.default.BUFFER_EMPTY)a.debug("Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty";else{var y=n.getMediaInfo(),c=n.getAbrController(),l=c.getThroughputHistory(),b=s.getCurrentBufferLevel(r),k=l.getAverageThroughput(i),g=l.getAverageLatency(i),tt=k*(b/h)*nt;t.quality=c.getQualityForBitrate(y,tt,g);t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"}return t}function d(n,t){i[n]=i[n]||{};var r=!1;return i[n].firstBufferLoadedEvent?r=!0:t&&t.state===f.default.BUFFER_LOADED&&(i[n].firstBufferLoadedEvent=!0,r=!0),r}function r(){i={}}function c(){r()}function g(){r();l.off(e.default.PLAYBACK_SEEKING,c,t)}n=n||{};var nt=.5,u=this.context,l=h.default(u).getInstance(),o=n.metricsModel,s=n.dashMetrics,t=void 0,a=void 0,i=void 0;return t={getMaxIndex:b,reset:g},v(),t}Object.defineProperty(i,"__esModule",{value:!0});var o=n(107),f=r(o),s=n(47),h=r(s),c=n(53),e=r(c),l=n(48),a=r(l),v=n(46),y=r(v),p=n(176),w=r(p),b=n(101),k=r(b);u.__dashjs_factory_name="InsufficientBufferRule";i.default=a.default.getClassFactory(u);t.exports=i.default},{101:101,107:107,176:176,46:46,47:47,48:48,53:53}],184:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function r(){i=s.default(t).getInstance().getLogger(n)}function u(n){for(var l=n?n.getSwitchHistory():null,u=l?l.getSwitchRequests():[],o=0,s=0,a=0,h=c.default(t).create(),r=0;r<u.length;r++)if(void 0!==u[r]&&(o+=u[r].drops,s+=u[r].noDrops,a+=u[r].dropSize,o+s>=e&&o/s>f)){h.quality=r>0&&u[r].drops>0?r-1:r;h.reason={index:h.quality,drops:o,noDrops:s,dropSize:a};i.debug("Switch history rule index: "+h.quality+" samples: "+(o+s)+" drops: "+o);break}return h}var t=this.context,n=void 0,i=void 0,f=.075,e=6;return n={getMaxIndex:u},r(),n}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(46),s=r(o),h=n(176),c=r(h);u.__dashjs_factory_name="SwitchHistoryRule";i.default=e.default.getClassFactory(u);t.exports=i.default},{176:176,46:46,48:48}],185:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function f(){u=a.default(r).getInstance().getLogger(i)}function o(){if(!t||!t.hasOwnProperty("getReadOnlyMetricsFor"))throw new Error(w.default.MISSING_CONFIG_ERROR);}function h(n){var i=y.default(r).create();if(!(n&&n.hasOwnProperty("getMediaInfo")&&n.hasOwnProperty("getMediaType")&&n.hasOwnProperty("useBufferOccupancyABR")&&n.hasOwnProperty("getAbrController")&&n.hasOwnProperty("getScheduleController")))return i;o();var k=n.getMediaInfo(),f=n.getMediaType(),h=t.getReadOnlyMetricsFor(f),d=n.getScheduleController(),l=n.getAbrController(),a=n.getStreamInfo(),v=a&&a.manifestInfo?a.manifestInfo.isDynamic:null,p=l.getThroughputHistory(),c=p.getSafeAverageThroughput(f,v),w=p.getAverageLatency(f),b=h.BufferState.length>0?h.BufferState[h.BufferState.length-1]:null,g=n.useBufferOccupancyABR();return!h||isNaN(c)||!b||g?i:(l.getAbandonmentStateFor(f)!==s.default.ABANDON_LOAD&&(b.state===e.default.BUFFER_LOADED||v)&&(i.quality=l.getQualityForBitrate(k,c,w),d.setTimeToLoadDelay(0),u.debug("requesting switch to index: ",i.quality,"type: ",f,"Average throughput",Math.round(c),"kbps"),i.reason={throughput:c,latency:w}),i)}function c(){}n=n||{};var r=this.context,t=n.metricsModel,i=void 0,u=void 0;return i={getMaxIndex:h,reset:c},f(),i}Object.defineProperty(i,"__esModule",{value:!0});var f=n(107),e=r(f),o=n(104),s=r(o),h=n(48),c=r(h),l=n(46),a=r(l),v=n(176),y=r(v),p=n(101),w=r(p);u.__dashjs_factory_name="ThroughputRule";i.default=c.default.getClassFactory(u);t.exports=i.default},{101:101,104:104,107:107,176:176,46:46,48:48}],186:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function e(){}function o(n,t){return!n||u.getCurrentBufferLevel(f.getReadOnlyMetricsFor(n.getType()))<i(n,t)}function i(n,i){var e=NaN,c,o,l,a,v;return n?(c=n.getType(),o=n.getRepresentationInfo(),c===r.default.FRAGMENTED_TEXT?e=s.isTextEnabled()?o.fragmentDuration:0:c===r.default.AUDIO&&i?(l=u.getCurrentBufferLevel(f.getReadOnlyMetricsFor(r.default.VIDEO)),e=isNaN(o.fragmentDuration)?l:Math.max(l,o.fragmentDuration)):(a=o.mediaInfo.streamInfo,h.isPlayingAtTopQuality(a)?(v=a.manifestInfo.duration>=t.getLongFormContentDurationThreshold(),e=v?t.getBufferTimeAtTopQualityLongForm():t.getBufferTimeAtTopQuality()):e=t.getStableBufferTime()),e):e}n=n||{};var u=n.dashMetrics,f=n.metricsModel,t=n.mediaPlayerModel,s=n.textController,h=n.abrController,c={execute:o,getBufferTarget:i};return e(),c}Object.defineProperty(i,"__esModule",{value:!0});var e=n(101),r=u(e),o=n(48),s=u(o);f.__dashjs_factory_name="BufferLevelRule";i.default=s.default.getClassFactory(f);t.exports=i.default},{101:101,48:48}],187:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function u(){r=s.default(o).getInstance().getLogger(i)}function e(n,i,u){if(!n)return null;var y=n.getRepresentationInfo(),p=n.getType(),w=!isNaN(i),v=n.getBufferController(),b=c.getNormalizedTime(),e=w?i:t.getIndexHandlerTime(n),k=!1,s=void 0;if(isNaN(e)||p===f.default.FRAGMENTED_TEXT&&!h.isTextEnabled())return null;if(v){var o=v.getRangeAt(e),l=v.getRangeAt(b),d=v.getBuffer().hasDiscontinuitiesAfter(b);null===o&&null===l||w||((!o||l&&l.start!=o.start&&l.end!=o.end)&&(d&&p!==f.default.FRAGMENTED_TEXT&&(n.getFragmentModel().removeExecutedRequestsAfterTime(l.end),k=!0),o=l),e!==o.end&&(r.debug("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end for",p,".",e,"was changed to",o.end),e=o.end))}if(u)e=u.startTime+u.duration/2,s=t.getFragmentRequest(n,y,e,{timeThreshold:0,ignoreIsFinished:!0});else for(s=t.getFragmentRequest(n,y,e,{keepIdx:!w&&!k});s&&s.action!==a.default.ACTION_COMPLETE&&n.getFragmentModel().isFragmentLoaded(s);)s=t.getFragmentRequest(n,y);return s}n=n||{};var o=this.context,t=n.adapter,h=n.textController,c=n.playbackController,i=void 0,r=void 0;return i={execute:e},u(),i}Object.defineProperty(i,"__esModule",{value:!0});var e=n(101),f=r(e),o=n(46),s=r(o),h=n(48),c=r(h),l=n(217),a=r(l);u.__dashjs_factory_name="NextFragmentRequestRule";i.default=c.default.getClassFactory(u);t.exports=i.default},{101:101,217:217,46:46,48:48}],188:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(){function i(n){for(var t="",i=0;i<n.length;++i)t+=n[i].uchar;return t.length-t.replace(/^\s+/,"").length}function r(n){return"left: "+3.125*n.x+"%; top: "+6.66*n.y1+"%; width: "+(100-3.125*n.x)+"%; height: "+6.66*Math.max(n.y2-1-n.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function n(n){return"red"===n?"rgb(255, 0, 0)":"green"===n?"rgb(0, 255, 0)":"blue"===n?"rgb(0, 0, 255)":"cyan"===n?"rgb(0, 255, 255)":"magenta"===n?"rgb(255, 0, 255)":"yellow"===n?"rgb(255, 255, 0)":"white"===n?"rgb(255, 255, 255)":"black"===n?"rgb(0, 0, 0)":n}function t(t,i){var r=t.videoHeight/15;return i?"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(i.foreground?n(i.foreground):"rgb(255, 255, 255)")+"; font-style: "+(i.italics?"italic":"normal")+"; text-decoration: "+(i.underline?"underline":"none")+"; white-space: pre; background-color: "+(i.background?n(i.background):"transparent")+";":"font-size: "+r+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function u(n){return n.replace(/^\s+/g,"")}function f(n){return n.replace(/\s+$/g,"")}function e(n,e,s,h){for(var c=null,k=null,lt=!1,at=-1,w={start:e,end:s,spans:[]},vt="style_cea608_white_black",v={},tt={},it=[],l=void 0,y=void 0,rt,ot,pt,p,g,wt,ii,ut,nt,ht,b,ct,a,kt,dt,ri,ft,gt,ni,l=0;l<15;++l){var et=h.rows[l],d="",yt=null;if(!1===et.isEmpty()){for(rt=i(et.chars),null===c&&(c={x:rt,y1:l,y2:l+1,p:[]}),rt!==at&&lt&&(c.p.push(w),w={start:e,end:s,spans:[]},c.y2=l,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===v.hasOwnProperty(c.name)?(it.push(c),v[c.name]=c):(k=v[c.name],k.p.contat(c.p)),c={x:rt,y1:l,y2:l+1,p:[]}),ot=0;ot<et.chars.length;++ot)pt=et.chars[ot],p=pt.penState,null!==yt&&p.equals(yt)||(d.trim().length>0&&(w.spans.push({name:vt,line:d,row:l}),d=""),g="style_cea608_"+p.foreground+"_"+p.background,p.underline&&(g+="_underline"),p.italics&&(g+="_italics"),tt.hasOwnProperty(g)||(tt[g]=JSON.parse(JSON.stringify(p))),yt=p,vt=g),d+=pt.uchar;d.trim().length>0&&w.spans.push({name:vt,line:d,row:l});lt=!0;at=rt}else lt=!1,at=-1,c&&(c.p.push(w),w={start:e,end:s,spans:[]},c.y2=l,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===v.hasOwnProperty(c.name)?(it.push(c),v[c.name]=c):(k=v[c.name],k.p.contat(c.p)),c=null)}for(c&&(c.p.push(w),c.y2=l+1,c.name="region_"+c.x+"_"+c.y1+"_"+c.y2,!1===v.hasOwnProperty(c.name)?(it.push(c),v[c.name]=c):(k=v[c.name],k.p.contat(c.p)),c=null),wt=[],l=0;l<it.length;++l){var bt=it[l],ti="sub_cea608_"+o++,st=document.createElement("div");for(st.id=ti,ii=r(bt),st.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ii,ut=document.createElement("div"),ut.className="paragraph bodyStyle",ut.style.cssText=t(n),nt=document.createElement("div"),nt.className="cueUniWrapper",nt.style.cssText="unicode-bidi: normal; direction: ltr;",ht=0;ht<bt.p.length;++ht)for(b=bt.p[ht],ct=0,y=0;y<b.spans.length;++y)a=b.spans[y],a.line.length>0&&(0!==y&&ct!=a.row&&(kt=document.createElement("br"),kt.className="lineBreak",nt.appendChild(kt)),dt=!1,ct===a.row&&(dt=!0),ct=a.row,ri=tt[a.name],ft=document.createElement("span"),ft.className="spanPadding "+a.name+" customSpanColor",ft.style.cssText=t(n,ri),ft.textContent=0!==y&&dt?y===b.spans.length-1?f(a.line):a.line:b.spans.length>1&&y<b.spans.length-1&&a.row===b.spans[y+1].row?u(a.line):a.line.trim(),nt.appendChild(ft));ut.appendChild(nt);st.appendChild(ut);gt={bodyStyle:["%",90]};for(ni in tt)tt.hasOwnProperty(ni)&&(gt[ni]=["%",90]);wt.push({type:"html",start:e,end:s,cueHTMLElement:st,cueID:ti,cellResolution:[32,15],isFromCEA608:!0,fontSize:gt,lineHeight:{},linePadding:{}})}return wt}var o=0;return{createHTMLCaptionsFromScreen:e}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="EmbeddedTextHtmlRender";i.default=e.default.getSingletonFactory(r);t.exports=i.default},{48:48}],189:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(n){function rt(){w=!1;y=null;it=!1;i.on(u.default.DATA_UPDATE_COMPLETED,g,r);i.on(u.default.INIT_FRAGMENT_LOADED,tt,r)}function ut(){return s}function ft(n){k(n);p=b.default(l).getInstance()}function et(n){try{if(t=d.default(l).create(y,n),!w){var i=t.getBuffer();i.hasOwnProperty(c.default.INITIALIZE)&&i.initialize(ni,h);w=!0}return t}catch(r){if(n.isText||-1!==n.codec.indexOf('codecs="stpp')||-1!==n.codec.indexOf('codecs="wvtt'))try{t=gt.getTextSourceBuffer()}catch(r){v.mediaSourceError("Error creating "+e+" source buffer.");v.error(new o.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+e+" : "+r.message))}else v.mediaSourceError("Error creating "+e+" source buffer."),v.error(new o.default(f.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,f.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+e))}}function ot(){return e}function st(){return t}function k(n){y=n}function ht(){return y}function ct(){return h}function lt(){return!1}function at(){}function vt(){}function yt(){return 0}function pt(){return it}function wt(n){i.off(u.default.DATA_UPDATE_COMPLETED,g,r);i.off(u.default.INIT_FRAGMENT_LOADED,tt,r);!n&&t&&(t.abort(),t.reset(),t=null)}function g(n){n.sender.getStreamProcessor()===h&&(p.extract(h.getStreamInfo().id,n.sender.getCurrentRepresentation().id)||i.trigger(u.default.TIMED_TEXT_REQUESTED,{index:0,sender:n.sender}))}function tt(n){n.fragmentModel===h.getFragmentModel()&&n.chunk.bytes&&(p.save(n.chunk),t.append(n.chunk),i.trigger(u.default.STREAM_COMPLETED,{request:n.request,fragmentModel:n.fragmentModel}))}function bt(n,t){p.extract(n,t)||i.trigger(u.default.TIMED_TEXT_REQUESTED,{index:0,sender:r})}function kt(){return null}function dt(n){t.timestampOffset===n||isNaN(n)||(t.timestampOffset=n)}n=n||{};var l=this.context,i=a.default(l).getInstance(),gt=nt.default(l).getInstance(),v=n.errHandler,e=n.type,ni=n.mimeType,h=n.streamProcessor,r=void 0,it=void 0,w=void 0,y=void 0,t=void 0,p=void 0;return r={getBufferControllerType:ut,initialize:ft,createBuffer:et,getType:ot,getStreamProcessor:ct,setSeekStartTime:vt,getBuffer:st,getBufferLevel:yt,setMediaSource:k,getMediaSource:ht,getIsBufferingCompleted:pt,getIsPruningInProgress:lt,dischargePreBuffer:at,switchInitData:bt,getRangeAt:kt,reset:wt,updateTimestampOffset:dt},rt(),r}Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),c=r(h),l=n(47),a=r(l),v=n(53),u=r(v),y=n(48),p=r(y),w=n(203),b=r(w),k=n(97),d=r(k),g=n(191),nt=r(g),tt=n(215),o=r(tt),it=n(50),f=r(it),s="NotFragmentedTextBufferController";e.__dashjs_factory_name=s;i.default=p.default.getClassFactory(e);t.exports=i.default},{101:101,191:191,203:203,215:215,47:47,48:48,50:50,53:53,97:97}],190:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function f(){t=n.type===e.default.FRAGMENTED_TEXT?c.default(r).create({type:n.type,metricsModel:n.metricsModel,mediaPlayerModel:n.mediaPlayerModel,manifestModel:n.manifestModel,errHandler:n.errHandler,streamController:n.streamController,mediaController:n.mediaController,adapter:n.adapter,textController:n.textController,abrController:n.abrController,playbackController:n.playbackController,streamProcessor:n.streamProcessor}):a.default(r).create({type:n.type,mimeType:n.mimeType,errHandler:n.errHandler,streamProcessor:n.streamProcessor})}function o(){return t.getBufferControllerType()}function s(n,i){return t.initialize(n,i)}function h(n){return t.createBuffer(n)}function l(){return t.getType()}function i(){return t.getBuffer()}function v(n){t.setBuffer(n)}function y(){return t.getMediaSource()}function p(n){t.setMediaSource(n)}function w(){t.getStreamProcessor()}function b(n){t.setSeekStartTime(n)}function k(){return t.getBufferLevel()}function d(n){t.reset(n)}function g(){return t.getIsBufferingCompleted()}function nt(n,i){t.switchInitData(n,i)}function tt(){return t.getIsPruningInProgress()}function it(){return t.dischargePreBuffer()}function rt(n){return t.getRangeAt(n)}function ut(n){var t=i();t.timestampOffset===n||isNaN(n)||(t.timestampOffset=n)}n=n||{};var r=this.context,t=void 0,u=void 0;return u={getBufferControllerType:o,initialize:s,createBuffer:h,getType:l,getStreamProcessor:w,setSeekStartTime:b,getBuffer:i,setBuffer:v,getBufferLevel:k,setMediaSource:p,getMediaSource:y,getIsBufferingCompleted:g,getIsPruningInProgress:tt,dischargePreBuffer:it,switchInitData:nt,getRangeAt:rt,reset:d,updateTimestampOffset:ut},f(),u}Object.defineProperty(i,"__esModule",{value:!0});var f=n(101),e=r(f),o=n(48),s=r(o),h=n(107),c=r(h),l=n(189),a=r(l);u.__dashjs_factory_name="TextBufferController";i.default=s.default.getClassFactory(u);t.exports=i.default},{101:101,107:107,189:189,48:48}],191:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function e(){function ot(){s="";h=-1;c=!0;tt=!1;n=y.default(i).getInstance();b=w.default(i).getInstance();d=k.default(i).getInstance();t=a.default(i).getInstance();nt=g.default(i).getInstance();n.initialize();nt.on(o.default.TEXT_TRACKS_QUEUE_INITIALIZED,yt,p);it()}function st(i){i&&(i.errHandler&&(rt=i.errHandler),i.dashManifestModel&&(ut=i.dashManifestModel),i.manifestModel&&(ft=i.manifestModel),i.mediaController&&(e=i.mediaController),i.videoModel&&(et=i.videoModel),i.streamController&&(r=i.streamController),i.textTracks&&(n=i.textTracks),i.vttParser&&(b=i.vttParser),i.ttmlParser&&(d=i.ttmlParser),t.setConfig({errHandler:rt,dashManifestModel:ut,manifestModel:ft,mediaController:e,videoModel:et,streamController:r,textTracks:n,vttParser:b,ttmlParser:d}))}function ht(){return t}function ct(){return l}function lt(n){t.addEmbeddedTrack(n)}function at(n){f.checkParameterType(n,"string");s=n}function vt(){return s}function yt(n){var r=this,i=n.tracks,t=n.index;i.some(function(n,i){if(n.lang===s)return r.setTextTrack(i),t=i,!0});c||this.setTextTrack(-1);h=t;nt.trigger(o.default.TEXT_TRACKS_ADDED,{enabled:v(),index:t,tracks:i})}function pt(n){f.checkParameterType(n,"boolean");(c=n)||this.setTextTrack(-1)}function wt(){return c}function bt(n){f.checkParameterType(n,"boolean");v()!==n&&(n&&this.setTextTrack(h),n||(h=this.getCurrentTrackIdx(),this.setTextTrack(-1)))}function v(){var n=!0;return l&&!tt&&(n=!1),n}function kt(n){f.checkParameterType(n,"boolean");tt=n}function dt(i){var p=t.getConfig(),w=p.fragmentModel,b=p.fragmentedTracks,d=p.videoModel,a=void 0,c=void 0,v,o,s,k,y,h,f;if(l=-1===i,v=n.getCurrentTrackIdx(),v!==i)if(n.setModeForTrackIdx(v,u.default.TEXT_HIDDEN),n.setCurrentTrackIdx(i),n.setModeForTrackIdx(i,u.default.TEXT_SHOWING),o=n.getCurrentTrackInfo(),o&&o.isFragmented&&!o.isEmbedded){for(f=0;f<b.length;f++)if(s=b[f],o.lang===s.lang&&o.index===s.index&&(s.id?o.id===s.id:o.id===s.index))if(k=e.getCurrentTrackFor(u.default.FRAGMENTED_TEXT,r.getActiveStreamInfo()),s!==k)w.abortRequests(),w.removeExecutedRequestsBeforeTime(),t.remove(),n.deleteCuesFromTrackIdx(v),e.setTrack(s),t.setCurrentFragmentedTrackIdx(f);else if(-1===v){for(h=r.getActiveStreamProcessors(),y=0;y<h.length;y++)if(h[y].getType()===u.default.FRAGMENTED_TEXT){c=h[y];break}c.getIndexHandler().setCurrentTime(d.getTime());c.getScheduleController().start()}}else if(o&&!o.isFragmented){for(h=r.getActiveStreamProcessors(),f=0;f<h.length;f++)if(h[f].getType()===u.default.TEXT){c=h[f];a=c.getMediaInfoArr();break}if(c&&a)for(f=0;f<a.length;f++)if(a[f].index===o.index&&a[f].lang===o.lang){c.selectMediaInfo(a[f]);break}}}function gt(){return n.getCurrentTrackIdx()}function it(){l=!1}function ni(){it();t.resetEmbedded();t.reset()}var i=this.context,p=void 0,t=void 0,rt=void 0,ut=void 0,ft=void 0,e=void 0,et=void 0,r=void 0,n=void 0,b=void 0,d=void 0,nt=void 0,s=void 0,h=void 0,c=void 0,l=void 0,tt=void 0;return p={setConfig:st,getTextSourceBuffer:ht,getAllTracksAreDisabled:ct,addEmbeddedTrack:lt,getTextDefaultLanguage:vt,setTextDefaultLanguage:at,setTextDefaultEnabled:pt,getTextDefaultEnabled:wt,enableText:bt,isTextEnabled:v,setTextTrack:dt,getCurrentTrackIdx:gt,enableForcedTextStreaming:kt,reset:ni},ot(),p}Object.defineProperty(i,"__esModule",{value:!0});var s=n(101),u=r(s),h=n(48),c=r(h),l=n(192),a=r(l),v=n(193),y=r(v),p=n(211),w=r(p),b=n(209),k=r(b),d=n(47),g=r(d),nt=n(53),o=r(nt),f=n(208);e.__dashjs_factory_name="TextController";i.default=c.default.getSingletonFactory(e);t.exports=i.default},{101:101,192:192,193:193,208:208,209:209,211:211,47:47,48:48,53:53}],192:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function o(){function hi(){u=nt.default(p).getInstance().getLogger(ht);bt()}function ci(){rt=null;i=NaN;d=[];g=null;ct=!1}function bt(){ci();l=[];tt=null}function li(t,i){ot||dt();n.setConfig({videoModel:w});n.initialize();v||(v=s.default(p).getInstance());ai(t,i)}function ai(n,t){var f=!pt.getIsTextTrack(n),u,i;if(t){if(l=l.concat(t.getMediaInfoArr()),f)for(rt=t.getFragmentModel(),ht.buffered=b.default(p).create(),d=wt.getTracksFor(r.default.FRAGMENTED_TEXT,ft.getActiveStreamInfo()),u=wt.getCurrentTrackFor(r.default.FRAGMENTED_TEXT,ft.getActiveStreamInfo()),i=0;i<d.length;i++)if(d[i]===u){gt(i);break}for(i=0;i<l.length;i++)ni(null,l[i])}}function vi(){n.deleteAllTextTracks();v=null;l=[];rt=null;ct=!1;d=[]}function yi(){bt();ft=null;w=null;n=null}function kt(n){var t=n.chunk;t.mediaInfo.embeddedCaptions&&ti(t.bytes,t)}function dt(){var i,r;t=[];n=it.default(p).getInstance();n.setConfig({videoModel:w});n.initialize();v=s.default(p).getInstance();at=null;tr=!1;k=0;o=[];vt=[];et=null;ot=!0;oi=ut.default(p).getInstance();i=ft.getActiveStreamProcessors();for(r in i)if("video"===i[r].getType()){si=i[r].getRepresentationInfo().MSETimeOffset;break}ri.on(h.default.VIDEO_CHUNK_RECEIVED,kt,this)}function pi(){ri.off(h.default.VIDEO_CHUNK_RECEIVED,kt,this);n&&n.deleteAllTextTracks();ot=!1;t=[];o=[null,null];vt=[];et=null}function wi(n){if(ot||dt(),n)if(n.id===r.default.CC1||n.id===r.default.CC3){for(var i=0;i<t.length;i++)if(t[i].id===n.id)return;t.push(n)}else u.warn("Embedded track "+n.id+" not supported!")}function bi(t){t&&(t.errHandler&&(yt=t.errHandler),t.dashManifestModel&&(pt=t.dashManifestModel),t.manifestModel&&(ui=t.manifestModel),t.mediaController&&(wt=t.mediaController),t.videoModel&&(w=t.videoModel),t.streamController&&(ft=t.streamController),t.textTracks&&(n=t.textTracks),t.vttParser&&(fi=t.vttParser),t.ttmlParser&&(ei=t.ttmlParser))}function ki(){return{fragmentModel:rt,fragmentedTracks:d,videoModel:w}}function gt(n){at=n}function ni(i,u){var f=new y.default,e={subtitle:"subtitles",caption:"captions"},s=function(){var n=u.roles.length>0?e[u.roles[0]]:e.caption;return n===e.caption||n===e.subtitle?n:e.caption},h=function(){var n=!1;return u.codec&&u.codec.search(r.default.STPP)>=0&&(n=!0),u.mimeType&&u.mimeType.search(r.default.TTML)>=0&&(n=!0),n},o;f.captionData=i;f.lang=u.lang;f.labels=u.labels;f.id=u.id?u.id:u.index;f.index=u.index;f.isTTML=h();f.defaultTrack=gi(u);f.isFragmented=!pt.getIsTextTrack(u.mimeType);f.isEmbedded=!!u.isEmbedded;f.kind=s();f.roles=u.roles;f.accessibility=u.accessibility;o=(l?l.length:0)+t.length;n.addTextTrack(f,o)}function ti(s,h){var st=void 0,b=void 0,l=void 0,p=void 0,ht=void 0,nt=void 0,it=void 0,ri=h.mediaInfo,fi=ri.type,rr=ri.mimeType,pt=ri.codec||rr,ei,si,wi,bi,ki,gi,kt,y,nr,ci,d,dt,gt,li,ai,bt,tr,ut,vi,ft,ir,ot,ti,yi;if(!pt)return void u.error("No text type defined");if(fi===r.default.FRAGMENTED_TEXT)if(ct)if(nt=v.getSamplesInfo(s),b=nt.sampleList,null===g&&b.length>0&&(g=b[0].cts-h.start*i),pt.search(r.default.STPP)>=0)for(tt=null!==tt?tt:ii(pt),l=0;l<b.length;l++){var y=b[l],wt=y.cts,pi=wt-g;for(this.buffered.add(pi/i,(pi+y.duration)/i),bt=new DataView(s,y.offset,y.subSizes[0]),it=f.default.Utils.dataViewToString(bt,r.default.UTF8),ei=[],si=y.offset+y.subSizes[0],p=1;p<y.subSizes.length;p++)wi=new Uint8Array(s,si,y.subSizes[p]),bi=String.fromCharCode.apply(null,wi),ei.push(bi),si+=y.subSizes[p];try{ki=ui.getValue();gi=ki.ttmlTimeIsRelative?wt/i:0;st=tt.parse(it,gi,wt/i,(wt+y.duration)/i,ei);n.addCaptions(at,g/i,st)}catch(hi){rt.removeExecutedRequestsBeforeTime();this.remove();u.error("TTML parser error: "+hi.message)}}else{for(kt=[],l=0;l<b.length;l++)for(y=b[l],y.cts-=g,this.buffered.add(y.cts/i,(y.cts+y.duration)/i),nr=s.slice(y.offset,y.offset+y.size),ci=f.default.parseBuffer(nr),p=0;p<ci.boxes.length;p++)if(d=ci.boxes[p],u.debug("VTT box1: "+d.type),"vtte"!==d.type&&"vttc"===d.type)for(u.debug("VTT vttc boxes.length = "+d.boxes.length),ht=0;ht<d.boxes.length;ht++)dt=d.boxes[ht],(u.debug("VTT box2: "+dt.type),"payl"===dt.type)&&(gt=dt.cue_text,u.debug("VTT cue_text = "+gt),li=y.cts/i,ai=(y.cts+y.duration)/i,kt.push({start:li,end:ai,data:gt,styles:{}}),u.debug("VTT "+li+"-"+ai+" : "+gt));kt.length>0&&n.addCaptions(at,0,kt)}else ct=!0,i=v.getMediaTimescaleFromMoov(s);else if(fi===r.default.TEXT){bt=new DataView(s,0,s.byteLength);it=f.default.Utils.dataViewToString(bt,r.default.UTF8);try{st=ii(pt).parse(it,0);n.addCaptions(n.getCurrentTrackIdx(),0,st)}catch(hi){yt.timedTextError(hi,"parse",it);yt.error(new lt.default(c.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,c.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+hi.message,it))}}else if(fi===r.default.VIDEO)if(h.segmentType===a.HTTPRequest.INIT_SEGMENT_TYPE){if(0===k)for(k=v.getMediaTimescaleFromMoov(s),l=0;l<t.length;l++)ni(null,t[l])}else{if(0===k)return void u.warn("CEA-608: No timescale for embeddedTextTrack yet");if(tr=function(t,i){function r(t,r,u){var f=null;f=w.getTTMLRenderingDiv()?oi.createHTMLCaptionsFromScreen(w.getElement(),t,r,u):[{start:t,end:r,data:u.getDisplayText(),styles:{}}];f&&n.addCaptions(i,0,f)}return r},nt=v.getSamplesInfo(s),ut=nt.lastSequenceNumber,!o[0]&&!o[1])for(vi=void 0,ft=void 0,l=0;l<t.length;l++){if(t[l].id===r.default.CC1?ft=n.getTrackIdxForId(r.default.CC1):t[l].id===r.default.CC3&&(ft=n.getTrackIdxForId(r.default.CC3)),-1===ft)return void u.warn("CEA-608: data before track is ready.");vi=tr(this,ft);o[l]=new e.default.Cea608Parser(l+1,{newCue:vi},null)}if(k&&-1==vt.indexOf(ut)){if(null!==et&&ut!==et+nt.numSequences)for(l=0;l<o.length;l++)o[l]&&o[l].reset();for(ir=di(s,nt.sampleList),ot=0;ot<o.length;ot++)if(ti=ir.fields[ot],yi=o[ot],yi)for(l=0;l<ti.length;l++)yi.addData(ti[l][0]/k,ti[l][1]);et=ut;vt.push(ut)}}}function di(n,t){var h,i;if(0===t.length)return null;for(var u={splits:[],fields:[[],[]]},c=new DataView(n),f=0;f<t.length;f++)for(var r=t[f],l=e.default.findCea608Nalus(c,r.offset,r.size),a=null,o=0,s=0;s<l.length;s++)for(h=e.default.extractCea608DataFromRange(c,l[s]),i=0;i<2;i++)h[i].length>0&&(r.cts!==a?o=0:o+=1,u.fields[i].push([r.cts+si*k,h[i],o]),a=r.cts);return u.fields.forEach(function(n){n.sort(function(n,t){return n[0]===t[0]?n[2]-t[2]:n[0]-t[0]})}),u}function gi(n){var i=!1;return t.length>1&&n.isEmbedded?i=n.id&&n.id===r.default.CC1:1===t.length?n.id&&"string"==typeof n.id&&"CC"===n.id.substring(0,2)&&(i=!0):0===t.length&&(i=n.index===l[0].index),i}function ii(n){var t=void 0;return n.search(r.default.VTT)>=0?t=fi:(n.search(r.default.TTML)>=0||n.search(r.default.STPP)>=0)&&(t=ei),t}function nr(n,t){void 0===n&&n===t&&(n=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1));this.buffered.remove(n,t)}var p=this.context,ri=st.default(p).getInstance(),ot=!1,ht=void 0,u=void 0,v=void 0,yt=void 0,pt=void 0,ui=void 0,wt=void 0,tt=void 0,fi=void 0,ei=void 0,l=void 0,n=void 0,rt=void 0,ct=void 0,i=void 0,d=void 0,w=void 0,ft=void 0,g=void 0,at=void 0,t=void 0,tr=void 0,k=void 0,et=void 0,vt=void 0,o=void 0,oi=void 0,si=void 0;return ht={initialize:li,append:ti,abort:vi,addEmbeddedTrack:wi,resetEmbedded:pi,setConfig:bi,getConfig:ki,setCurrentFragmentedTrackIdx:gt,remove:nr,reset:yi},hi(),ht}Object.defineProperty(i,"__esModule",{value:!0});var l=n(101),r=u(l),a=n(235),v=n(227),y=u(v),p=n(197),s=u(p),w=n(199),b=u(w),k=n(48),d=u(k),g=n(46),nt=u(g),tt=n(193),it=u(tt),rt=n(188),ut=u(rt),ft=n(6),f=u(ft),et=n(2),e=u(et),ot=n(47),st=u(ot),ht=n(53),h=u(ht),ct=n(215),lt=u(ct),at=n(50),c=u(at);o.__dashjs_factory_name="TextSourceBuffer";i.default=d.default.getSingletonFactory(o);t.exports=i.default},{101:101,188:188,193:193,197:197,199:199,2:2,215:215,227:227,235:235,46:46,47:47,48:48,50:50,53:53,6:6}],193:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function e(){function ct(){s=y.default(ht).getInstance().getLogger(g)}function lt(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(nt=window.VTTCue||window.TextTrackCue,n=[],c=[],u=-1,b=0,k=0,v=0,w=0,t=null,e=null,tt=!1,rt=2147483647,it=null,void 0!==document.fullscreenElement?l="fullscreenElement":void 0!==document.webkitIsFullScreen?l="webkitIsFullScreen":document.msFullscreenElement?l="msFullscreenElement":document.mozFullScreen&&(l="mozFullScreen"))}function at(t){var u=n[t].kind,f=void 0!==n[t].id?n[t].id:n[t].lang,e=n[t].lang,o=n[t].isTTML,s=n[t].isEmbedded,r=i.addTextTrack(u,f,e);return r.isEmbedded=s,r.isTTML=o,r}function vt(n){tt=n;t&&!document[l]&&(t.style.zIndex=n?rt:null)}function yt(e,h){var v,l,w,p,y,b;if(n.length===h)return void s.error("Trying to add too many tracks.");if(n.push(e),n.length===h){for(n.sort(function(n,t){return n.index-t.index}),t=i.getTTMLRenderingDiv(),v=-1,l=0;l<n.length;l++)w=at.call(this,l),c.push(w),n[l].defaultTrack&&(w.default=!0,v=l),p=o(l),p&&(p.mode=f.default.TEXT_SHOWING,p.renderingType=t&&(n[l].isTTML||n[l].isEmbedded)?"html":"default"),this.addCaptions(l,0,n[l].captionData),a.trigger(r.default.TEXT_TRACK_ADDED);if(ot.call(this,v),v>=0)for(y=0;y<n.length;y++)b=o(y),b&&(b.mode=y===v?f.default.TEXT_SHOWING:f.default.TEXT_HIDDEN);a.trigger(r.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:u,tracks:n})}}function pt(n,t,i,r,u,f){var a=n/t,v=i/r,e=0,o=0;a>v?(o=t,e=o/r*i):(e=n,o=e/i*r);var c=0,l=0,s=0,h=0;return e/o>u?(h=o,s=o*u):(s=e,h=e/u),c=(n-s)/2,l=(t-h)/2,f?{x:c+.1*s,y:l+.1*h,w:.8*s,h:.8*h}:{x:c,y:l,w:s,h:h}}function ut(n,u){var et=i.getClientWidth(),ot=i.getClientHeight(),c=i.getVideoWidth(),y=i.getVideoHeight(),st=i.getVideoRelativeOffsetTop(),ht=i.getVideoRelativeOffsetLeft(),p=c/y,d=!1,f,o,ft,s,h;n.isFromCEA608&&(p=3.5/3,d=!0);var e=pt.call(this,et,ot,c,y,p,d),g=e.w,nt=e.h,it=e.x,ut=e.y;if((g!=v||nt!=w||it!=b||ut!=k||u)&&((b=it+ht,k=ut+st,v=g,w=nt,t)&&(f=t.style,f.left=b+"px",f.top=k+"px",f.width=v+"px",f.height=w+"px",f.zIndex=l&&document[l]||tt?rt:null,a.trigger(r.default.CAPTION_CONTAINER_RESIZE,{})),o=n.activeCues,o))for(ft=o.length,s=0;s<ft;++s)h=o[s],h.scaleCue(h)}function ft(n){var p=v,b=w,i=void 0,u=void 0,c=void 0,l=void 0,r=void 0,h,y,e,f,o,s,a;if(n.cellResolution){if(h=[p/n.cellResolution[0],b/n.cellResolution[1]],n.linePadding)for(i in n.linePadding)if(n.linePadding.hasOwnProperty(i))for(y=n.linePadding[i],u=(y*h[0]).toString(),e=document.getElementsByClassName("spanPadding"),f=0;f<e.length;f++)e[f].style.cssText=e[f].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+u),e[f].style.cssText=e[f].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+u);if(n.fontSize){for(i in n.fontSize)if(n.fontSize.hasOwnProperty(i))for("%"===n.fontSize[i][0]?c=n.fontSize[i][1]/100:"c"===n.fontSize[i][0]&&(c=n.fontSize[i][1]),u=(c*h[1]).toString(),r="defaultFontSize"!==i?document.getElementsByClassName(i):document.getElementsByClassName("paragraph"),o=0;o<r.length;o++)r[o].style.cssText=r[o].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+u);if(n.lineHeight)for(i in n.lineHeight)if(n.lineHeight.hasOwnProperty(i))for("%"===n.lineHeight[i][0]?l=n.lineHeight[i][1]/100:"c"===n.fontSize[i][0]&&(l=n.lineHeight[i][1]),u=(l*h[1]).toString(),r=document.getElementsByClassName(i),s=0;s<r.length;s++)r[s].style.cssText=r[s].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+u)}}n.isd&&(a=document.getElementById(n.cueID),a&&t.removeChild(a),et(n))}function et(n){if(t){var i=document.createElement("div");t.appendChild(i);it=p.renderHTML(n.isd,i,function(t){var i=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;if(i.test(t)){var u=i.exec(t),f=parseInt(u[4],10)-1,o=btoa(n.images[f]),e="data:image/png;base64,"+o;return e}if(r.test(t)){var u=r.exec(t),f=u[1],e="data:image/png;base64,"+n.embeddedImages[f];return e}return null},t.clientHeight,t.clientWidth,!1,function(n){s.info("renderCaption :",n)},it,!0);i.id=n.cueID;a.trigger(r.default.CAPTION_RENDERED,{captionDiv:i,currentTrackIdx:u})}}function wt(n,i,e){var l=o(n),p=this,y,c,h;if(l&&e&&0!==e.length)for(y=0;y<e.length;y++){c=void 0;h=e[y];l.cellResolution=h.cellResolution;l.isFromCEA608=h.isFromCEA608;"html"===h.type&&t?(c=new nt(h.start-i,h.end-i,""),c.cueHTMLElement=h.cueHTMLElement,c.isd=h.isd,c.images=h.images,c.embeddedImages=h.embeddedImages,c.cueID=h.cueID,c.scaleCue=ft.bind(p),c.cellResolution=h.cellResolution,c.lineHeight=h.lineHeight,c.linePadding=h.linePadding,c.fontSize=h.fontSize,t.style.left=b+"px",t.style.top=k+"px",t.style.width=v+"px",t.style.height=w+"px",c.onenter=function(){l.mode===f.default.TEXT_SHOWING&&(this.isd?(et(this),s.debug("Cue enter id:"+this.cueID)):(t.appendChild(this.cueHTMLElement),ft.call(p,this),a.trigger(r.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:u})))},c.onexit=function(){if(t)for(var i=t.childNodes,n=0;n<i.length;++n)i[n].id===this.cueID&&(s.debug("Cue exit id:"+i[n].id),t.removeChild(i[n]))}):h.data&&(c=new nt(h.start-i,h.end-i,h.data),h.styles&&(void 0!==h.styles.align&&"align"in c&&(c.align=h.styles.align),void 0!==h.styles.line&&"line"in c&&(c.line=h.styles.line),void 0!==h.styles.position&&"position"in c&&(c.position=h.styles.position),void 0!==h.styles.size&&"size"in c&&(c.size=h.styles.size)),c.onenter=function(){l.mode===f.default.TEXT_SHOWING&&a.trigger(r.default.CAPTION_RENDERED,{currentTrackIdx:u})});try{c?l.addCue(c):s.error("impossible to display subtitles.")}catch(g){throw d(l),l.addCue(c),g;}}}function o(t){return t>=0&&n[t]?i.getTextTrack(n[t].kind,n[t].id,n[t].lang,n[t].isTTML,n[t].isEmbedded):null}function bt(){return u}function kt(t){for(var r=-1,i=0;i<n.length;i++)if(n[i].id===t){r=i;break}return r}function ot(n){if(n!==u){u=n;var t=o(u);dt.call(this,t);e&&(clearInterval(e),e=null);t&&"html"===t.renderingType&&(ut.call(this,t,!0),e=setInterval(ut.bind(this,t),500))}}function dt(n){st.call(this);n&&"html"===n.renderingType?ii.call(this):ri.call(this)}function d(n){if(n.cues)for(var i=n.cues,r=i.length-1,t=r;t>=0;t--)n.removeCue(i[t])}function gt(n){var t=o(n);t&&d(t)}function ni(){for(var i,r=c?c.length:0,t=0;t<r;t++)i=o(t),i&&(d.call(this,i),i.mode="disabled");c=[];n=[];e&&(clearInterval(e),e=null);u=-1;st.call(this)}function ti(n){i.removeChild(c[n]);c.splice(n,1)}function ii(){var t=document.getElementById("native-cue-style"),r,n;if(!t){t=document.createElement("style");t.id="native-cue-style";document.head.appendChild(t);r=t.sheet;n=i.getElement();try{n&&(n.id?r.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?r.insertRule("."+n.className+"::cue {background: transparent}",0):r.insertRule("video::cue {background: transparent}",0))}catch(u){s.info(""+u.message)}}}function ri(){var n=document.getElementById("native-cue-style");n&&document.head.removeChild(n)}function st(){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)}function ui(n){n&&n.videoModel&&(i=n.videoModel)}function fi(n,t){var i=o(n);i&&i.mode!==t&&(i.mode=t)}function ei(){return n[u]}var ht=this.context,a=h.default(ht).getInstance(),g=void 0,s=void 0,nt=void 0,i=void 0,n=void 0,c=void 0,u=void 0,b=void 0,k=void 0,v=void 0,w=void 0,t=void 0,e=void 0,l=void 0,tt=void 0,it=void 0,rt=void 0;return g={initialize:lt,displayCConTop:vt,addTextTrack:yt,addCaptions:wt,getCurrentTrackIdx:bt,setCurrentTrackIdx:ot,getTrackIdxForId:kt,getCurrentTrackInfo:ei,setModeForTrackIdx:fi,deleteCuesFromTrackIdx:gt,deleteAllTextTracks:ni,deleteTextTrack:ti,setConfig:ui},ct(),g}Object.defineProperty(i,"__esModule",{value:!0});var o=n(101),f=u(o),s=n(47),h=u(s),c=n(53),r=u(c),l=n(48),a=u(l),v=n(46),y=u(v),p=n(41);e.__dashjs_factory_name="TextTracks";i.default=a.default.getSingletonFactory(e);t.exports=i.default},{101:101,41:41,46:46,47:47,48:48,53:53}],194:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(n){function f(){i();t=v.default(y).create({dashManifestModel:n.dashManifestModel,adapter:n.adapter,baseURLController:n.baseURLController,stream:n.stream,timelineConverter:n.timelineConverter})}function e(n,i){var r=t.getCurrentTrack();if(!r||r.segmentDuration<=0||void 0===n||null===n)return null;var e=Math.floor(n/r.segmentDuration),s=n%r.segmentDuration,f=Math.floor(s*r.tilesHor*r.tilesVert/r.segmentDuration),u=new l.default;return u.width=Math.floor(r.widthPerTile),u.height=Math.floor(r.heightPerTile),u.x=Math.floor(f%r.tilesHor)*r.widthPerTile,u.y=Math.floor(f/r.tilesHor)*r.heightPerTile,"readThumbnail"in r?r.readThumbnail(n,function(n){u.url=n;i&&i(u)}):(u.url=o(r,e),i&&i(u),u)}function o(n,t){var r=t+n.startNumber,i=u.replaceTokenForTemplate(n.templateUrl,"Number",r);return i=u.replaceTokenForTemplate(i,"Time",(r-1)*n.segmentDuration),i=u.replaceTokenForTemplate(i,"Bandwidth",n.bandwidth),u.unescapeDollarsInTemplate(i)}function s(n){t.setTrackByIndex(n)}function c(){return t.getCurrentTrackIndex()}function a(){var n=0;return t.getTracks().map(function(t){var i=new p.default;return i.mediaType=h.default.IMAGE,i.qualityIndex=n++,i.bitrate=t.bitrate,i.width=t.width,i.height=t.height,i})}function i(){t&&t.reset()}var y=this.context,r=void 0,t=void 0;return r={get:e,setTrackByIndex:s,getCurrentTrackIndex:c,getBitrateList:a,reset:i},f(),r}Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=r(e),s=n(101),h=r(s),c=n(228),l=r(c),a=n(195),v=r(a),y=n(214),p=r(y),u=n(77);f.__dashjs_factory_name="ThumbnailController";i.default=o.default.getClassFactory(f);t.exports=i.default},{101:101,195:195,214:214,228:228,48:48,77:77}],195:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function a(){p();it=tt.default(r).create({});rt=g.default(r).getInstance();l=k.default(r).getInstance();l.setConfig({baseURLController:c,metricsModel:at,mediaPlayerModel:vt,errHandler:yt});ft()}function ut(n,t){for(var e=[],s=0,r=void 0,h=void 0,i=void 0,f=void 0,r=0,h=n.length;r<h;r++)i=n[r],f=o.getTimeBasedSegment(lt,u.getIsDynamic(),t,i.startTime,i.duration,i.timescale,i.media,i.mediaRange,s),e.push(f),f=null,s++;return e}function ft(){var r,o,s,n;b&&u&&h&&(r=b.getStreamInfo(),r&&(o=h.getMediaInfoForType(r,f.default.IMAGE),o&&(s=h.getDataForMedia(o),s&&(n=u.getRepresentationsForAdaptation(s),n&&n.length>0&&n.forEach(function(n){n.segmentInfoType===e.default.SEGMENT_TEMPLATE&&n.segmentDuration>0&&n.media&&v(n);n.segmentInfoType===e.default.SEGMENT_BASE&&v(n,!0)}),t.length>0&&(t.sort(function(n,t){return n.bitrate-t.bitrate}),i=t.length-1)))))}function v(n,i){var r=new y.default;r.id=n.id;r.bitrate=n.bandwidth;r.width=n.width;r.height=n.height;r.tilesHor=1;r.tilesVert=1;n.essentialProperties&&n.essentialProperties.forEach(function(n){if(s.indexOf(n.schemeIdUri)>=0&&n.value){var t=n.value.split("x");2!==t.length||isNaN(t[0])||isNaN(t[1])||(r.tilesHor=parseInt(t[0],10),r.tilesVert=parseInt(t[1],10))}});i?l.loadSegments(n,f.default.IMAGE,n.indexRange,{},function(n,t){var i=[];n=ut(n,t);r.segmentDuration=n[0].duration;r.readThumbnail=function(r,u){var f=null;i.some(function(n){if(n.start<=r&&n.end>r)return f=n.url,!0});f?u(f):n.some(function(n){if(n.mediaStartTime<=r&&n.mediaStartTime+n.duration>r){var f=c.resolve(t.path);return it.load({method:"get",url:f.url,request:{range:n.mediaRange,responseType:"arraybuffer"},onload:function(t){var r=rt.getSamplesInfo(t.target.response),e=new Blob([t.target.response.slice(r.sampleList[0].offset,r.sampleList[0].offset+r.sampleList[0].size)],{type:"image/jpeg"}),f=window.URL.createObjectURL(e);i.push({start:n.mediaStartTime,end:n.mediaStartTime+n.duration,url:f});u&&u(f)}}),!0}})}}):(r.startNumber=n.startNumber,r.segmentDuration=n.segmentDuration,r.timescale=n.timescale,r.templateUrl=et(n));r.tilesHor>0&&r.tilesVert>0&&(r.widthPerTile=r.width/r.tilesHor,r.heightPerTile=r.height/r.tilesVert,t.push(r))}function et(n){var t=d.isRelative(n.media)?d.resolve(n.media,c.resolve(n.path).url):n.media;return t?o.replaceIDForTemplate(t,n.id):""}function ot(){return t}function st(){return i}function ht(){return i<0?null:t[i]}function ct(n){t&&0!==t.length&&(n>=t.length&&(n=t.length-1),i=n)}function p(){t=[];i=-1}var r=this.context,u=n.dashManifestModel,h=n.adapter,c=n.baseURLController,b=n.stream,lt=n.timelineConverter,at=n.metricsModel,vt=n.mediaPlayerModel,yt=n.errHandler,d=w.default(r).getInstance(),nt=void 0,t=void 0,i=void 0,it=void 0,l=void 0,rt=void 0;return nt={initialize:a,getTracks:ot,reset:p,setTrackByIndex:ct,getCurrentTrack:ht,getCurrentTrackIndex:st},a(),nt}Object.defineProperty(i,"__esModule",{value:!0});var h=n(101),f=r(h),c=n(60),e=r(c),l=n(48),a=r(l),v=n(229),y=r(v),p=n(210),w=r(p),o=n(77),b=n(58),k=r(b),d=n(197),g=r(d),nt=n(149),tt=r(nt),s=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];i.THUMBNAILS_SCHEME_ID_URIS=s;u.__dashjs_factory_name="ThumbnailTracks";i.default=a.default.getClassFactory(u)},{101:101,149:149,197:197,210:210,229:229,48:48,58:58,60:60,77:77}],196:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function l(){r=a.default(t).create({updateEventName:u.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:u.default.SERVICE_LOCATION_BLACKLIST_ADD});f=w.default(t).create({blacklistController:r});c=y.default(t).create({blacklistController:r});n=f}function v(t){t.selector&&(n=t.selector);t.dashManifestModel&&(i=t.dashManifestModel)}function p(){if(!i||!i.hasOwnProperty("getIsDVB"))throw new Error(tt.default.MISSING_CONFIG_ERROR);}function b(t){p();n=i.getIsDVB(t)?c:f}function k(t){var i,s,r;if(t)return(i=t.baseUrls,s=t.selectedIdx,!isNaN(s))?i[s]:(r=n.select(i),r?(t.selectedIdx=i.indexOf(r),r):(d.trigger(u.default.URL_RESOLUTION_FAILED,{error:new g.default(e.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,e.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(n===f&&o())))}function o(){r.reset()}var t=this.context,d=h.default(t).getInstance(),i=void 0,s=void 0,r=void 0,f=void 0,c=void 0,n=void 0;return s={chooseSelectorFromManifest:b,select:k,reset:o,setConfig:v},l(),s}Object.defineProperty(i,"__esModule",{value:!0});var o=n(50),e=r(o),s=n(47),h=r(s),c=n(53),u=r(c),l=n(106),a=r(l),v=n(213),y=r(v),p=n(212),w=r(p),b=n(48),k=r(b),d=n(215),g=r(d),nt=n(101),tt=r(nt);f.__dashjs_factory_name="BaseURLSelector";i.default=k.default.getClassFactory(f);t.exports=i.default},{101:101,106:106,212:212,213:213,215:215,47:47,48:48,50:50,53:53}],197:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function f(){function f(){t=o.default(r).getInstance().getLogger(i)}function n(n){if(!n)return null;void 0===n.fileStart&&(n.fileStart=0);var i=v.default.parseBuffer(n),t=h.default(r).create();return t.setData(i),t}function e(n,t,i){var r,s;if(void 0===i&&(i=0),!t||i+8>=t.byteLength)return new u.default(0,!1);for(var f=t instanceof ArrayBuffer?new Uint8Array(t):t,e=void 0,o=0;i<f.byteLength;){if(r=l(f,i),s=a(f,i+4),0===r)break;i+r<=f.byteLength&&(n.indexOf(s)>=0?e=new u.default(i,!0,r):o=i+r);i+=r}return e||new u.default(o,!1)}function s(t){var f,a,it,rt,ft,y,p,w,b,et;if(!t||0===t.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};var k=n(t),ot=k.getBoxes("moof"),st=k.getBoxes("mfhd"),d=void 0,ht=void 0,g=void 0,e=void 0,u=void 0,nt=void 0,i=void 0,r=void 0,o=void 0,s=void 0,h=void 0,c=void 0,l=void 0,tt=void 0,ct=void 0,lt=void 0,at=void 0;for(lt=k.getBoxes("moof").length,ct=st[st.length-1].sequence_number,g=0,nt=[],f=-1,a=-1,h=0;h<ot.length;h++)for(it=ot[h],rt=it.getChildBoxes("traf"),o=0;o<rt.length;o++){var v=rt[o],ut=v.getChildBox("tfhd"),vt=v.getChildBox("tfdt");for(u=vt.baseMediaDecodeTime,ft=v.getChildBoxes("trun"),y=v.getChildBoxes("subs"),s=0;s<ft.length;s++)for(p=ft[s],g=p.sample_count,tt=(ut.base_data_offset||0)+(p.data_offset||0),r=0;r<g;r++){if(i=p.samples[r],d=void 0!==i.sample_duration?i.sample_duration:ut.default_sample_duration,e=void 0!==i.sample_size?i.sample_size:ut.default_sample_size,ht=void 0!==i.sample_composition_time_offset?i.sample_composition_time_offset:0,w={dts:u,cts:u+ht,duration:d,offset:it.offset+tt,size:e,subSizes:[e]},y)for(c=0;c<y.length;c++)if(b=y[c],f<b.entry_count-1&&r>a&&(f++,a+=b.entries[f].sample_delta),r==a)for(w.subSizes=[],et=b.entries[f],l=0;l<et.subsample_count;l++)w.subSizes.push(et.subsamples[l].subsample_size);nt.push(w);tt+=e;u+=d}at=u-vt.baseMediaDecodeTime}return{sampleList:nt,lastSequenceNumber:ct,totalDuration:at,numSequences:lt}}function c(t){var i=n(t),r=i?i.getBox("mdhd"):void 0;return r?r.timescale:NaN}function l(n,t){return n[t+3]>>>0|n[t+2]<<8>>>0|n[t+1]<<16>>>0|n[t]<<24>>>0}function a(n,t){return String.fromCharCode(n[t++])+String.fromCharCode(n[t++])+String.fromCharCode(n[t++])+String.fromCharCode(n[t])}function y(i){var u=null,o=void 0,s=void 0,f=n(i),e,r;return f?(e=f.getBox("ftyp"),r=f.getBox("moov"),t.debug("Searching for initialization."),r&&r.isComplete&&(o=e?e.offset:r.offset,s=r.offset+r.size-1,u=o+"-"+s,t.debug("Found the initialization.  Range: "+u)),u):u}var t=void 0,i=void 0,r=this.context;return i={parse:n,findLastTopIsoBoxCompleted:e,getMediaTimescaleFromMoov:c,getSamplesInfo:s,findInitRange:y},f(),i}Object.defineProperty(i,"__esModule",{value:!0});var e=n(46),o=r(e),s=n(204),h=r(s),c=n(48),l=r(c),a=n(6),v=r(a),y=n(220),u=r(y);f.__dashjs_factory_name="BoxParser";i.default=l.default.getSingletonFactory(f);t.exports=i.default},{204:204,220:220,46:46,48:48,6:6}],198:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(){function i(){n=!1}function r(){var n="WebKitMediaSource"in window,t="MediaSource"in window;return n||t}function u(){return n}function f(t){n=t}function e(n){return!!("MediaSource"in window&&MediaSource.isTypeSupported(n))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(n))}var t=void 0,n=void 0;return t={supportsMediaSource:r,supportsEncryptedMedia:u,supportsCodec:e,setEncryptedMediaSupported:f},i(),t}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="Capabilities";i.default=e.default.getSingletonFactory(r);t.exports=i.default},{48:48}],199:[function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function r(){function n(n,t){for(var i=0,i=0;i<this.customTimeRangeArray.length&&n>this.customTimeRangeArray[i].start;i++);for(this.customTimeRangeArray.splice(i,0,{start:n,end:t}),i=0;i<this.customTimeRangeArray.length-1;i++)this.mergeRanges(i,i+1)&&i--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[];this.length=0}function i(n,t){for(var i=0;i<this.customTimeRangeArray.length;i++)if(n<=this.customTimeRangeArray[i].start&&t>=this.customTimeRangeArray[i].end)this.customTimeRangeArray.splice(i,1),i--;else{if(n>this.customTimeRangeArray[i].start&&t<this.customTimeRangeArray[i].end){this.customTimeRangeArray.splice(i+1,0,{start:t,end:this.customTimeRangeArray[i].end});this.customTimeRangeArray[i].end=n;break}n>this.customTimeRangeArray[i].start&&n<this.customTimeRangeArray[i].end?this.customTimeRangeArray[i].end=n:t>this.customTimeRangeArray[i].start&&t<this.customTimeRangeArray[i].end&&(this.customTimeRangeArray[i].start=t)}this.length=this.customTimeRangeArray.length}function r(n,t){var i=this.customTimeRangeArray[n],r=this.customTimeRangeArray[t];return i.start<=r.start&&r.start<=i.end&&i.end<=r.end?(i.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=i.start&&i.start<=r.end&&r.end<=i.end?(i.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=i.start&&i.start<=r.end&&i.end<=r.end?(this.customTimeRangeArray.splice(n,1),!0):i.start<=r.start&&r.start<=i.end&&r.end<=i.end&&(this.customTimeRangeArray.splice(t,1),!0)}function f(n){return u.checkInteger(n),n>=this.customTimeRangeArray.length||n<0?NaN:this.customTimeRangeArray[n].start}function e(n){return u.checkInteger(n),n>=this.customTimeRangeArray.length||n<0?NaN:this.customTimeRangeArray[n].end}return{customTimeRangeArray:[],length:0,add:n,clear:t,remove:i,mergeRanges:r,start:f,end:e}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(48),o=f(e),u=n(208);r.__dashjs_factory_name="CustomTimeRanges";i.default=o.default.getClassFactory(r);t.exports=i.default},{208:208,48:48}],200:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n){function p(){t=y.default(rt).getInstance().getLogger(c);d()}function l(n){if(void 0!==i)return i;i=!1;var f="1",u=void 0;try{"undefined"!=typeof window&&(u=window[n])}catch(e){return t.warn("DOMStorage access denied: "+e.message),i}if(!u||n!==r&&n!==k)return i;try{u.setItem(f,"1");u.removeItem(f);i=!0}catch(e){t.warn("DOMStorage is supported, but cannot be used: "+e.message)}return i}function d(){l(r)&&b.forEach(function(n){var i=localStorage.getItem(n.oldKey);if(i){localStorage.removeItem(n.oldKey);try{localStorage.setItem(n.newKey,i)}catch(r){t.error(r.message)}}})}function a(){var n=6e5;return Math.round((new Date).getTime()/n)*n}function f(n,t){return l(n)&&u["get"+t+"CachingInfo"]().enabled}function v(){if(!u||!u.hasOwnProperty("getLastMediaSettingsCachingInfo"))throw new Error(w.default.MISSING_CONFIG_ERROR);}function g(n){var t,i,e,s;if(v(),!f(r,h))return null;t=null;i=o.replace(/\?/,n);try{e=JSON.parse(localStorage.getItem(i))||{};s=(new Date).getTime()-parseInt(e.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1;t=e.settings;s&&(localStorage.removeItem(i),t=null)}catch(c){return null}return t}function nt(n){var h=NaN,i;if(v(),f(r,s)){i=e.replace(/\?/,n);try{var c=JSON.parse(localStorage.getItem(i))||{},l=(new Date).getTime()-parseInt(c.timestamp,10)>=u.getLastMediaSettingsCachingInfo().ttl||!1,o=parseFloat(c.bitrate);isNaN(o)||l?l&&localStorage.removeItem(i):(h=o,t.debug("Last saved bitrate for "+n+" was "+o))}catch(a){return null}}return h}function tt(n,i){if(f(r,h)){var u=o.replace(/\?/,n);try{localStorage.setItem(u,JSON.stringify({settings:i,timestamp:a()}))}catch(e){t.error(e.message)}}}function it(n,i){if(f(r,s)&&i){var u=e.replace(/\?/,n);try{localStorage.setItem(u,JSON.stringify({bitrate:i.toFixed(3),timestamp:a()}))}catch(o){t.error(o.message)}}}n=n||{};var rt=this.context,u=n.mediaPlayerModel,c=void 0,t=void 0,i=void 0;return c={getSavedBitrateSettings:nt,setSavedBitrateSettings:it,getSavedMediaSettings:g,setSavedMediaSettings:tt},p(),c}var c;Object.defineProperty(i,"__esModule",{value:!0});var l=n(48),a=u(l),v=n(46),y=u(v),p=n(101),w=u(p),b=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],e="dashjs_?_bitrate",o="dashjs_?_settings",r="localStorage",k="sessionStorage",s="LastBitrate",h="LastMediaSettings";f.__dashjs_factory_name="DOMStorage";c=a.default.getSingletonFactory(f);i.default=c;t.exports=i.default},{101:101,46:46,48:48}],201:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function e(){return t}function o(n){t=n}function r(n,r){var u=!0,f=0,e=void 0,o=void 0;if(void 0===r&&(r=!1),n.tag>16777215?(i.getUint32(t)!==n.tag&&(u=!1),f=4):n.tag>65535?(e=i.getUint16(t),o=i.getUint8(t+2),256*e+o!==n.tag&&(u=!1),f=3):n.tag>255?(i.getUint16(t)!==n.tag&&(u=!1),f=2):(i.getUint8(t)!==n.tag&&(u=!1),f=1),!u&&n.required&&!r)throw new Error("required tag not found");return u&&(t+=f),u}function s(n,t){var i=r(n,t);return i&&u(),i}function h(n){var t=void 0;return r(n),t=u(),f[n.parse](t)}function c(n,i){var f=r(n,i),e=void 0;return f&&(e=u(),t+=e),f}function u(n){for(var e=1,u=128,s=-1,f=0,o=i.getUint8(t),r=0,r=0;r<8;r+=1){if((o&u)===u){f=void 0===n?o&~u:o;s=r;break}u>>=1}for(r=0;r<s;r+=1,e+=1)f=f<<8|255&i.getUint8(t+e);return t+=e,f}function l(n){var r=void 0;switch(n){case 4:r=i.getFloat32(t);t+=4;break;case 8:r=i.getFloat64(t);t+=8}return r}function a(n){for(var r=0,u=0;u<n;u+=1)r<<=8,r|=255&i.getUint8(t+u);return t+=n,r}function v(){return t<i.byteLength}n=n||{};var f=void 0,i=new DataView(n.data),t=0;return f={getPos:e,setPos:o,consumeTag:r,consumeTagAndSize:s,parseTag:h,skipOverElement:c,getMatroskaCodedNum:u,getMatroskaFloat:l,getMatroskaUint:a,moreData:v}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="EBMLParser";i.default=e.default.getClassFactory(r);t.exports=i.default},{48:48}],202:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(){function t(t){n.trigger(r.default.ERROR,{error:"capability",event:t})}function i(t,i,u){n.trigger(r.default.ERROR,{error:"download",event:{id:t,url:i,request:u}})}function u(t,i,u,f){n.trigger(r.default.ERROR,{error:"manifestError",event:{message:t,id:i,manifest:u,event:f}})}function f(t,i,u){n.trigger(r.default.ERROR,{error:"cc",event:{message:t,id:i,cc:u}})}function e(t){n.trigger(r.default.ERROR,{error:"mediasource",event:t})}function s(t){n.trigger(r.default.ERROR,{error:"key_session",event:t})}function h(t){n.trigger(r.default.ERROR,{error:"key_message",event:t})}function c(t){n.trigger(r.default.ERROR,{error:t})}var l=this.context,n=o.default(l).getInstance();return{capabilityError:t,downloadError:i,manifestError:u,timedTextError:f,mediaSourceError:e,mediaKeySessionError:s,mediaKeyMessageError:h,error:c}}Object.defineProperty(i,"__esModule",{value:!0});var e=n(47),o=u(e),s=n(53),r=u(s),h=n(48),c=u(h);f.__dashjs_factory_name="ErrorHandler";i.default=c.default.getSingletonFactory(f);t.exports=i.default},{47:47,48:48,53:53}],203:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(){function t(t){var i=t.streamId,r=t.representationId;n[i]=n[i]||{};n[i][r]=t}function i(t,i){return n&&n[t]&&n[t][i]?n[t][i]:null}function r(){n={}}var n={};return{save:t,extract:i,reset:r}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="InitCache";i.default=e.default.getSingletonFactory(r);t.exports=i.default},{48:48}],204:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function r(t){return t&&n&&n.boxes&&0!==n.boxes.length&&"function"==typeof n.fetch?i(n.fetch(t)):null}function t(t){var r=[];if(!t||!n||"function"!=typeof n.fetchAll)return r;for(var f=n.fetchAll(t),e=void 0,u=0,o=f.length;u<o;u++)(e=i(f[u]))&&r.push(e);return r}function u(t){n=t}function f(){if(!n||!n.boxes||!n.boxes.length)return null;var r=n.boxes[n.boxes.length-1].type,i=t(r);return i.length>0?i[i.length-1]:null}function i(n){if(!n)return null;var t=new e.default(n);return n.hasOwnProperty("_incomplete")&&(t.isComplete=!n._incomplete),t}var n=void 0;return{getBox:r,getBoxes:t,setData:u,getLastBox:f}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(219),e=r(f),o=n(48),s=r(o);u.__dashjs_factory_name="IsoFile";i.default=s.default.getClassFactory(u);t.exports=i.default},{219:219,48:48}],205:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n){function r(){if(!(t&&t.hasOwnProperty("getExpectedLiveEdge")&&i&&i.hasOwnProperty("getRepresentationInfo")))throw new Error(s.default.MISSING_CONFIG_ERROR);}function u(){r();var n=i.getRepresentationInfo(),f=n.DVRWindow?n.DVRWindow.end:0,u=f;return n.useCalculatedLiveEdgeTime&&(u=t.getExpectedLiveEdge(),t.setClientTimeOffset(u-f)),u}function f(){t=null;i=null}n=n||{};var t=n.timelineConverter,i=n.streamProcessor;return{getLiveEdge:u,reset:f}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(101),s=r(o);u.__dashjs_factory_name="LiveEdgeFinder";i.default=e.default.getClassFactory(u);t.exports=i.default},{101:101,48:48}],206:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function n(n,t){return s.default(n,t)}return{areEqual:n}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(7),s=r(o);u.__dashjs_factory_name="ObjectUtils";i.default=e.default.getSingletonFactory(u);t.exports=i.default},{48:48,7:7}],207:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(){function n(n){return n}function t(n){return n}return{modifyRequestURL:n,modifyRequestHeader:t}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="RequestModifier";i.default=e.default.getSingletonFactory(r);t.exports=i.default},{48:48}],208:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function f(n,t){if(typeof n!==t)throw r.default.BAD_ARGUMENT_ERROR;}function e(n){if(null===n||isNaN(n)||n%1!=0)throw r.default.BAD_ARGUMENT_ERROR+" : argument is not an integer";}function o(n,t,i){if(n<t||n>i)throw r.default.BAD_ARGUMENT_ERROR+" : argument out of range";}function s(n){if("string"!=typeof n||n!==r.default.AUDIO&&n!==r.default.VIDEO)throw r.default.BAD_ARGUMENT_ERROR;}Object.defineProperty(i,"__esModule",{value:!0});i.checkParameterType=f;i.checkInteger=e;i.checkRange=o;i.checkIsVideoOrAudioType=s;var h=n(101),r=u(h)},{101:101}],209:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function o(){t=c.default(i).getInstance().getLogger(n)}function s(){var n="cue_TTML_"+u;return u++,n}function h(n,i,u,o,h){var l="",g=[],w=void 0,b=void 0,c=void 0,y={},nt={},v="",k="",tt={onOpenTag:function(n,i,r){if("image"===i&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===n){if(!r[" imagetype"]||"PNG"!==r[" imagetype"].value)return void t.warn("smpte-tt imagetype != PNG. Discarded");v=r["http://www.w3.org/XML/1998/namespace id"].value}},onCloseTag:function(){v&&(nt[v]=k.trim());k="";v=""},onText:function(n){v&&(k+=n)}},p,a,d;if(!n)throw l="no ttml data to parse",new Error(l);for(y.data=n,r.trigger(f.default.TTML_TO_PARSE,y),p=e.fromXML(y.data,function(n){l=n},tt),r.trigger(f.default.TTML_PARSED,{ttmlString:y.data,ttmlDoc:p}),a=p.getMediaTimeEvents(),c=0;c<a.length;c++)d=e.generateISD(p,a[c],function(n){l=n}),d.contents.some(function(n){return n.contents.length})&&(w=a[c]+i<u?u:a[c]+i,b=a[c+1]+i>o?o:a[c+1]+i,w<b&&g.push({start:w,end:b,type:"html",cueID:s(),isd:d,images:h,embeddedImages:nt}));if(""!==l)throw t.error(l),new Error(l);return g}var i=this.context,r=a.default(i).getInstance(),n=void 0,t=void 0,u=0;return n={parse:h},o(),n}Object.defineProperty(i,"__esModule",{value:!0});var o=n(48),s=r(o),h=n(46),c=r(h),l=n(47),a=r(l),v=n(53),f=r(v),e=n(41);u.__dashjs_factory_name="TTMLParser";i.default=s.default.getSingletonFactory(u);t.exports=i.default},{41:41,46:46,47:47,48:48,53:53}],210:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(){function s(){try{new window.URL("x","http://y");n=p}catch(t){}finally{n=n||w}}function i(n){var t=n.indexOf("/"),i=n.lastIndexOf("/");return-1!==t?i===t+1?n:(-1!==n.indexOf("?")&&(n=n.substring(0,n.indexOf("?"))),n.substring(0,i+1)):""}function r(n){var t=n.match(y);return t?t[1]:""}function u(n){var t=n.match(o);return t?t[0]:""}function t(n){return!o.test(n)}function f(n){return t(n)&&"/"===n.charAt(0)}function e(n){return 0===n.indexOf("//")}function h(n){return a.test(n)}function c(n){return v.test(n)}function l(t,i){return n(t,i)}var n=void 0,o=/^[a-z][a-z0-9+\-.]*:/i,a=/^https?:\/\//i,v=/^https:\/\//i,y=/^([a-z][a-z0-9+\-.]*:\/\/[^\/]+)\/?/i,p=function(n,t){try{return new window.URL(n,t).toString()}catch(i){return n}},w=function(n,o){var h=i,s;return o?t(n)?(f(n)&&(h=r),e(n)&&(h=u),s=h(o),[s,n].join("/"!==s.charAt(s.length-1)&&"/"!==n.charAt(0)?"/":"")):n:n};return s(),{parseBaseUrl:i,parseOrigin:r,parseScheme:u,isRelative:t,isPathAbsolute:f,isSchemeRelative:e,isHTTPURL:h,isHTTPS:c,resolve:l}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="URLUtils";i.default=e.default.getSingletonFactory(r);t.exports=i.default},{48:48}],211:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(){function o(){i=s.default(y).getInstance().getLogger(t);f=/(?:\r\n|\r|\n)/gm;n=/-->/;r=/(^[\s]+|[\s]+$)/g;e=/\s\b/g}function c(t){var c=[],p=void 0,a=void 0,e,o;if(!t)return c;for(t=t.split(f),p=t.length,a=-1,e=0;e<p;e++)if(o=t[e],o.length>0&&o!==h&&o.match(n)){var w=l(o),b=w.cuePoints,d=w.styles,k=v(t,e+1),s=u(b[0].replace(r,"")),y=u(b[1].replace(r,""));!isNaN(s)&&!isNaN(y)&&s>=a&&y>s?""!==k?(a=s,c.push({start:s,end:y,data:k,styles:d})):i.error("Skipping cue due to empty/malformed cue text"):i.error("Skipping cue due to incorrect cue timing")}return c}function u(n){var t=n.split(":"),i=t.length-1;return n=60*parseInt(t[i-1],10)+parseFloat(t[i]),2===i&&(n+=3600*parseInt(t[0],10)),n}function l(t){var r=t.split(n),i=r[1].split(e);return i.shift(),r[1]=i[0],i.shift(),{cuePoints:r,styles:a(i)}}function a(n){var t={};return n.forEach(function(n){if(n.split(/:/).length>1){var i=n.split(/:/)[1];i&&-1!=i.search(/%/)&&(i=parseInt(i.replace(/%/,""),10));(n.match(/align/)||n.match(/A/))&&(t.align=i);(n.match(/line/)||n.match(/L/))&&(t.line=i);(n.match(/position/)||n.match(/P/))&&(t.position=i);(n.match(/size/)||n.match(/S/))&&(t.size=i)}}),t}function v(t,i){for(var f,e=i,u="",r="",o=void 0;""!==t[e]&&e<t.length;)e++;if((o=e-i)>1)for(f=0;f<o;f++){if(r=t[i+f],r.match(n)){u="";break}u+=r;f!==o-1&&(u+="\n")}else r=t[i],r.match(n)||(u=r);return u}var y=this.context,t=void 0,i=void 0,f=void 0,n=void 0,r=void 0,e=void 0;return t={parse:c},o(),t}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=r(f),o=n(46),s=r(o),h="WEBVTT";u.__dashjs_factory_name="VTTParser";i.default=e.default.getSingletonFactory(u);t.exports=i.default},{46:46,48:48}],212:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function t(n){var t=0,r=void 0;return n&&n.some(function(n,r){return t=r,!i.contains(n.serviceLocation)})&&(r=n[t]),r}n=n||{};var i=n.blacklistController;return{select:t}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="BasicSelector";i.default=e.default.getClassFactory(r);t.exports=i.default},{48:48}],213:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}function r(n){function t(n){var t=[],i=function(n){return!t.length||!n.dvb_priority||-1===t.indexOf(n.dvb_priority)},r=function(n){return!u.contains(n.serviceLocation)||(n.dvb_priority&&t.push(n.dvb_priority),!1)};return n.filter(r).filter(i)}function i(n){var e=function(n,t){var i=n.dvb_priority-t.dvb_priority;return isNaN(i)?0:i},o=function(n,t,i){return!t||i[0].dvb_priority&&n.dvb_priority&&i[0].dvb_priority===n.dvb_priority},i=0,r=[],u=0,f=void 0,t=void 0;if(t=n.sort(e).filter(o),t.length)return t.length>1&&(t.forEach(function(n){i+=n.dvb_weight;r.push(i)}),f=Math.floor(Math.random()*(i-1)),r.every(function(n,t){return u=t,!(f<n)})),t[u]}function r(n){return n&&i(t(n))}n=n||{};var u=n.blacklistController;return{select:r}}Object.defineProperty(i,"__esModule",{value:!0});var f=n(48),e=u(f);r.__dashjs_factory_name="DVBSelector";i.default=e.default.getClassFactory(r);t.exports=i.default},{48:48}],214:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.mediaType=null;this.bitrate=null;this.width=null;this.height=null;this.scanType=null;this.qualityIndex=NaN};i.default=u;t.exports=i.default},{}],215:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i,u){r(this,n);this.code=t||null;this.message=i||null;this.data=u||null};i.default=u;t.exports=i.default},{}],216:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.streamId=null;this.mediaInfo=null;this.segmentType=null;this.quality=NaN;this.index=NaN;this.bytes=null;this.start=NaN;this.end=NaN;this.duration=NaN;this.representationId=null;this.endFragment=null};i.default=u;t.exports=i.default},{}],217:[function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var r=function n(){u(this,n);this.action=n.ACTION_DOWNLOAD;this.startTime=NaN;this.mediaType=null;this.mediaInfo=null;this.type=null;this.duration=NaN;this.timescale=NaN;this.range=null;this.url=null;this.serviceLocation=null;this.requestStartDate=null;this.firstByteDate=null;this.requestEndDate=null;this.quality=NaN;this.index=NaN;this.availabilityStartTime=null;this.availabilityEndTime=null;this.wallStartTime=null;this.bytesLoaded=NaN;this.bytesTotal=NaN;this.delayLoadingTime=NaN;this.responseType="arraybuffer";this.representationId=null};r.ACTION_DOWNLOAD="download";r.ACTION_COMPLETE="complete";i.default=r;t.exports=i.default},{}],218:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(217),s=r(o),h=function(n){function t(n){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.url=n||null;this.checkForExistenceOnly=!0}return f(t,n),t}(s.default);i.default=h;t.exports=i.default},{217:217}],219:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(t){var u,i,f,e;if(r(this,n),this.offset=t._offset,this.type=t.type,this.size=t.size,this.boxes=[],t.boxes)for(i=0;i<t.boxes.length;i++)this.boxes.push(new n(t.boxes[i]));switch(this.isComplete=!0,t.type){case"sidx":if(this.timescale=t.timescale,this.earliest_presentation_time=t.earliest_presentation_time,this.first_offset=t.first_offset,this.references=t.references,t.references)for(this.references=[],i=0;i<t.references.length;i++)u={reference_type:t.references[i].reference_type,referenced_size:t.references[i].referenced_size,subsegment_duration:t.references[i].subsegment_duration},this.references.push(u);break;case"emsg":this.id=t.id;this.value=t.value;this.timescale=t.timescale;this.scheme_id_uri=t.scheme_id_uri;this.presentation_time_delta=1===t.version?t.presentation_time:t.presentation_time_delta;this.event_duration=t.event_duration;this.message_data=t.message_data;break;case"mdhd":this.timescale=t.timescale;break;case"mfhd":this.sequence_number=t.sequence_number;break;case"subs":this.entry_count=t.entry_count;this.entries=t.entries;break;case"tfhd":this.base_data_offset=t.base_data_offset;this.sample_description_index=t.sample_description_index;this.default_sample_duration=t.default_sample_duration;this.default_sample_size=t.default_sample_size;this.default_sample_flags=t.default_sample_flags;this.flags=t.flags;break;case"tfdt":this.version=t.version;this.baseMediaDecodeTime=t.baseMediaDecodeTime;this.flags=t.flags;break;case"trun":if(this.sample_count=t.sample_count,this.first_sample_flags=t.first_sample_flags,this.data_offset=t.data_offset,this.flags=t.flags,this.samples=t.samples,t.samples)for(this.samples=[],i=0,f=t.samples.length;i<f;i++)e={sample_size:t.samples[i].sample_size,sample_duration:t.samples[i].sample_duration,sample_composition_time_offset:t.samples[i].sample_composition_time_offset},this.samples.push(e)}}return u(n,[{key:"getChildBox",value:function(n){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===n)return this.boxes[t]}},{key:"getChildBoxes",value:function(n){for(var i=[],t=0;t<this.boxes.length;t++)this.boxes[t].type===n&&i.push(this.boxes[t]);return i}}]),n}();i.default=f;t.exports=i.default},{}],220:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(t,i,u){r(this,n);this.lastCompletedOffset=t;this.found=i;this.size=u};i.default=u;t.exports=i.default},{}],221:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.DVRWindowSize=NaN;this.loadedTime=null;this.availableFrom=null;this.minBufferTime=NaN;this.duration=NaN;this.isDynamic=!1;this.maxFragmentDuration=null};i.default=u;t.exports=i.default},{}],222:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),f=function(){function n(){r(this,n);this.id=null;this.index=null;this.type=null;this.streamInfo=null;this.representationCount=0;this.lang=null;this.viewpoint=null;this.accessibility=null;this.audioChannelConfiguration=null;this.roles=null;this.codec=null;this.mimeType=null;this.contentProtection=null;this.isText=!1;this.KID=null;this.bitrateList=null}return u(n,[{key:"isMediaInfoEqual",value:function(n){if(!n)return!1;var t=this.id===n.id,i=this.viewpoint===n.viewpoint,r=this.lang===n.lang,u=this.roles.toString()===n.roles.toString(),f=this.accessibility.toString()===n.accessibility.toString(),e=this.audioChannelConfiguration.toString()===n.audioChannelConfiguration.toString();return t&&i&&r&&u&&f&&e}}]),n}();i.default=f;t.exports=i.default},{}],223:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.TcpList=[];this.HttpList=[];this.RepSwitchList=[];this.BufferLevel=[];this.BufferState=[];this.PlayList=[];this.DroppedFrames=[];this.SchedulingInfo=[];this.DVRInfo=[];this.ManifestUpdate=[];this.RequestsQueue=null;this.DVBErrors=[]};i.default=u;t.exports=i.default},{}],224:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.id=null;this.quality=null;this.DVRWindow=null;this.fragmentDuration=null;this.mediaInfo=null;this.MSETimeOffset=null};i.default=u;t.exports=i.default},{}],225:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.id=null;this.index=null;this.start=NaN;this.duration=NaN;this.manifestInfo=null;this.isLast=!0};i.default=u;t.exports=i.default},{}],226:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var e=function(n,t,i){for(var r,o,e,u=!0;u;){var f=n,s=t,h=i;if(u=!1,null===f&&(f=Function.prototype),r=Object.getOwnPropertyDescriptor(f,s),void 0!==r)return"value"in r?r.value:(o=r.get,void 0===o)?void 0:o.call(h);if(e=Object.getPrototypeOf(f),null===e)return;n=e;t=s;i=h;u=!0;r=e=void 0}},o=n(101),s=r(o),h=n(217),c=r(h),l=function(n){function t(n,i){u(this,t);e(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);this.url=n||null;this.type=i||null;this.mediaType=s.default.STREAM;this.responseType=""}return f(t,n),t}(c.default);i.default=l;t.exports=i.default},{101:101,217:217}],227:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.captionData=null;this.label=null;this.lang=null;this.defaultTrack=!1;this.kind=null;this.isFragmented=!1;this.isEmbedded=!1};i.default=u;t.exports=i.default},{}],228:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.url=null;this.width=null;this.height=null;this.x=null;this.y=null};i.default=u;t.exports=i.default},{}],229:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.bitrate=0;this.width=0;this.height=0;this.tilesHor=0;this.tilesVert=0;this.widthPerTile=0;this.heightPerTile=0;this.startNumber=0;this.segmentDuration=0;this.timescale=0;this.templateUrl="";this.id=""};i.default=u;t.exports=i.default},{}],230:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.t=null;this.xywh=null;this.track=null;this.id=null;this.s=null;this.r=null};i.default=u;t.exports=i.default},{}],231:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.t=null;this.level=null};i.default=u;t.exports=i.default},{}],232:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var f=n(107),e=r(f),o=function n(){u(this,n);this.target=null;this.state=e.default.BUFFER_EMPTY};i.default=o;t.exports=i.default},{107:107}],233:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.time=null;this.range=null;this.manifestInfo=null};i.default=u;t.exports=i.default},{}],234:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.time=null;this.droppedFrames=null};i.default=u;t.exports=i.default},{}],235:[function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var r=function n(){u(this,n);this.tcpid=null;this.type=null;this.url=null;this.actualurl=null;this.range=null;this.trequest=null;this.tresponse=null;this.responsecode=null;this.interval=null;this.trace=[];this._stream=null;this._tfinish=null;this._mediaduration=null;this._responseHeaders=null;this._serviceLocation=null},f=function n(){u(this,n);this.s=null;this.d=null;this.b=[]};r.GET="GET";r.HEAD="HEAD";r.MPD_TYPE="MPD";r.XLINK_EXPANSION_TYPE="XLinkExpansion";r.INIT_SEGMENT_TYPE="InitializationSegment";r.INDEX_SEGMENT_TYPE="IndexSegment";r.MEDIA_SEGMENT_TYPE="MediaSegment";r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment";r.OTHER_TYPE="other";i.HTTPRequest=r;i.HTTPRequestTrace=f},{}],236:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.mediaType=null;this.type=null;this.requestTime=null;this.fetchTime=null;this.availabilityStartTime=null;this.presentationStartTime=0;this.clientTimeOffset=0;this.currentTime=null;this.buffered=null;this.latency=0;this.streamInfo=[];this.representationInfo=[]},f=function n(){r(this,n);this.id=null;this.index=null;this.start=null;this.duration=null},e=function n(){r(this,n);this.id=null;this.index=null;this.mediaType=null;this.streamIndex=null;this.presentationTimeOffset=null;this.startNumber=null;this.fragmentInfoType=null};i.ManifestUpdate=u;i.ManifestUpdateStreamInfo=f;i.ManifestUpdateRepresentationInfo=e},{}],237:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var u,r;Object.defineProperty(i,"__esModule",{value:!0});u=function n(){f(this,n);this.start=null;this.mstart=null;this.starttype=null;this.trace=[]};u.INITIAL_PLAYOUT_START_REASON="initial_playout";u.SEEK_START_REASON="seek";u.RESUME_FROM_PAUSE_START_REASON="resume";u.METRICS_COLLECTION_START_REASON="metrics_collection_start";r=function n(){f(this,n);this.representationid=null;this.subreplevel=null;this.start=null;this.mstart=null;this.duration=null;this.playbackspeed=null;this.stopreason=null};r.REPRESENTATION_SWITCH_STOP_REASON="representation_switch";r.REBUFFERING_REASON="rebuffering";r.USER_REQUEST_STOP_REASON="user_request";r.END_OF_PERIOD_STOP_REASON="end_of_period";r.END_OF_CONTENT_STOP_REASON="end_of_content";r.METRICS_COLLECTION_STOP_REASON="metrics_collection_end";r.FAILURE_STOP_REASON="failure";i.PlayList=u;i.PlayListTrace=r},{}],238:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.t=null;this.mt=null;this.to=null;this.lto=null};i.default=u;t.exports=i.default},{}],239:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.loadingRequests=[];this.executedRequests=[]};i.default=u;t.exports=i.default},{}],240:[function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(i,"__esModule",{value:!0});var u=function n(){r(this,n);this.mediaType=null;this.t=null;this.type=null;this.startTime=null;this.availabilityStartTime=null;this.duration=null;this.quality=null;this.range=null;this.state=null};i.default=u;t.exports=i.default},{}]},{},[4]);
/*! @name videojs-contrib-dash @version 2.10.0 @license Apache-2.0 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("dashjs"),require("video.js"),require("global/window"),require("global/document")):typeof define=="function"&&define.amd?define(["dashjs","video.js","global/window","global/document"],t):n.videojsDash=t(n.dashjs,n.videojs,n.window,n.document)})(this,function(n,t,i,r){"use strict";function e(i,r){function s(n){return"dash-audio-"+n}function c(n,t){return n.filter(function(n){var i=n.index;return s(i)===t.id})}var f=i.dash.mediaPlayer,o=f.getTracksFor("audio"),u=i.audioTracks(),h,e;u.length&&r.clearTracks(["audio"]);h=f.getCurrentTrackFor("audio");o.forEach(function(n){var i=n.lang;n.roles&&n.roles.length&&(i+=" ("+n.roles.join(", ")+")");u.addTrack(new t.AudioTrack({enabled:n===h,id:s(n.index),kind:n.kind||"main",label:i,language:n.lang}))});e=function(){for(var t,i,n=0;n<u.length;n++)if(t=u[n],t.enabled){i=c(o,t);f.setCurrentTrack(i[0]||i);continue}};u.addEventListener("change",e);i.dash.mediaPlayer.on(n.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,function(){u.removeEventListener("change",e)})}function o(t,i){t.dash.mediaPlayer.on(n.MediaPlayer.events.PLAYBACK_METADATA_LOADED,e.bind(null,t,i))}function s(n,t){for(var i=0;i<n.length;i++)if(t(n[i]))return n[i]}function h(t,i,r){function u(){for(var u=t.dash.mediaPlayer,e=t.textTracks(),n=-1,o=function(t){var o=e[t],i,u;o.mode==="showing"&&(i=s(f,function(n){return n.textTrack===o}),u=i?i.dashTrack:null,u&&(n=r.indexOf(u)))},i=0;i<e.length;i+=1)o(i);n!==u.getCurrentTextTrackIndex()&&u.setTextTrack(n)}var f=[],e=r.map(function(n){return{dashTrack:n,trackConfig:{label:n.lang,language:n.lang,srclang:n.lang,kind:n.kind}}}).map(function(n){var r=n.trackConfig,u=n.dashTrack,i=t.addRemoteTextTrack(r,!1);return f.push({textTrack:i.track,dashTrack:u}),i});t.textTracks().on("change",u);t.dash.mediaPlayer.on(n.MediaPlayer.events.STREAM_TEARDOWN_COMPLETE,function(){t.textTracks().off("change",u)});return u(),e}function c(r,u,f){function c(){o.forEach(r.removeRemoteTextTrack.bind(r));o=[]}function s(t){var l=t.index,i=t.tracks;(e.off(n.MediaPlayer.events.TEXT_TRACKS_ADDED,s),c(),i.length)&&(o=h(r,u,i,f))}var o,e;if(i.VTTCue&&!/\[native code\]/.test(i.VTTCue.toString())&&(i.VTTCue=!1),o=[],u.featuresNativeTextTracks){t.log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");return}e=r.dash.mediaPlayer;e.on(n.MediaPlayer.events.TEXT_TRACKS_ADDED,s);e.on(n.MediaPlayer.events.CAN_PLAY,function(){e.off(n.MediaPlayer.events.TEXT_TRACKS_ADDED,s)})}var u,f;return n=n&&n.hasOwnProperty("default")?n["default"]:n,t=t&&t.hasOwnProperty("default")?t["default"]:t,i=i&&i.hasOwnProperty("default")?i["default"]:i,r=r&&r.hasOwnProperty("default")?r["default"]:r,u=function(){function i(r,u,f){var e=this,s;if(f=f||u.options_,this.player=t(f.playerId),this.player.dash=this.player.dash||{},this.tech_=u,this.el_=u.el(),this.elParent_=this.el_.parentNode,this.hasFiniteDuration_=!1,r.src){u.isReady_=!1;i.updateSourceData&&(t.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),r=i.updateSourceData(r));i.hooks("updatesource").forEach(function(n){r=n(r)});s=r.src;this.keySystemOptions_=i.buildDashJSProtData(r.keySystemOptions);this.player.dash.mediaPlayer=n.MediaPlayer().create();this.mediaPlayer_=this.player.dash.mediaPlayer;i.useVideoJSDebug&&(t.log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),i.useVideoJSDebug(this.mediaPlayer_));i.beforeInitialize&&(t.log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),i.beforeInitialize(this.player,this.mediaPlayer_));i.hooks("beforeinitialize").forEach(function(n){n(e.player,e.mediaPlayer_)});this.mediaPlayer_.initialize();this.retriggerError_=function(n){if(n.error==="capability"&&n.event==="mediasource")e.player.error({code:4,message:"The media cannot be played because it requires a feature that your browser does not support."});else if(n.error==="manifestError"&&(n.event.id==="createParser"||n.event.id==="codec"||n.event.id==="nostreams"||n.event.id==="nostreamscomposed"||n.event.id==="parse"||n.event.id==="multiplexedrep"))e.player.error({code:4,message:n.event.message});else if(n.error==="mediasource")n.event.match("MEDIA_ERR_ABORTED")?e.player.error({code:1,message:n.event}):n.event.match("MEDIA_ERR_NETWORK")?e.player.error({code:2,message:n.event}):n.event.match("MEDIA_ERR_DECODE")?e.player.error({code:3,message:n.event}):n.event.match("MEDIA_ERR_SRC_NOT_SUPPORTED")?e.player.error({code:4,message:n.event}):n.event.match("MEDIA_ERR_ENCRYPTED")?e.player.error({code:5,message:n.event}):n.event.match("UNKNOWN")?e.player.error({code:4,message:n.event}):e.player.error({code:4,message:n.event});else if(n.error==="capability"&&n.event==="encryptedmedia")e.player.error({code:5,message:"The media cannot be played because it requires encryption features that your browser does not support."});else if(n.error==="key_session")e.player.error({code:5,message:n.event});else if(n.error==="download")e.player.error({code:2,message:"The media playback was aborted because too many consecutive download errors occurred."});else if(n.error==="mssError")e.player.error({code:3,message:n.event});else return;setTimeout(function(){e.mediaPlayer_.reset()},10)};this.mediaPlayer_.on(n.MediaPlayer.events.ERROR,this.retriggerError_);this.getDuration_=function(n){var t=n.data.Period_asArray,i=e.hasFiniteDuration_;e.hasFiniteDuration_=n.data.mediaPresentationDuration||t[t.length-1].duration?!0:!1;e.hasFiniteDuration_!==i&&e.player.trigger("durationchange")};this.mediaPlayer_.on(n.MediaPlayer.events.MANIFEST_LOADED,this.getDuration_);f.dash&&Object.keys(f.dash).forEach(function(n){var u,r="set"+n.charAt(0).toUpperCase()+n.slice(1),i=f.dash[n];if(e.mediaPlayer_.hasOwnProperty(r)&&(t.log.warn("Using dash options in videojs-contrib-dash without the set prefix "+("has been deprecated. Change '"+n+"' to '"+r+"'")),n=r),!e.mediaPlayer_.hasOwnProperty(n)){t.log.warn("Warning: dash configuration option unrecognized: "+n);return}Array.isArray(i)||(i=[i]);(u=e.mediaPlayer_)[n].apply(u,i)});this.mediaPlayer_.attachView(this.el_);this.mediaPlayer_.setAutoPlay(!1);o.call(null,this.player,u);c.call(null,this.player,u,f);this.mediaPlayer_.setProtectionData(this.keySystemOptions_);this.mediaPlayer_.attachSource(s);this.duration=function(){if(this.mediaPlayer_)try{return this.mediaPlayer_.duration()}catch(n){}return t.Html5.prototype.duration.call(this)};this.setCurrentTime=function(n){if(this.mediaPlayer_)try{return this.mediaPlayer_.seek(n)}catch(i){}return t.Html5.prototype.setCurrentTime.call(this,n)};this.currentTime=function(){if(this.mediaPlayer_)try{return this.mediaPlayer_.time()}catch(n){}return t.Html5.prototype.currentTime.call(this)};this.tech_.triggerReady()}}i.buildDashJSProtData=function(n){var f={},r,u,i;if(!n||!Array.isArray(n))return null;for(r=0;r<n.length;r++)u=n[r],i=t.mergeOptions({},u.options),i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),f[u.name]=i;return f};var r=i.prototype;return r.dispose=function(){this.mediaPlayer_&&(this.mediaPlayer_.off(n.MediaPlayer.events.ERROR,this.retriggerError_),this.mediaPlayer_.off(n.MediaPlayer.events.MANIFEST_LOADED,this.getDuration_),this.mediaPlayer_.reset());this.player.dash&&delete this.player.dash},r.duration=function(){return this.mediaPlayer_.isDynamic()&&!this.hasFiniteDuration_?Infinity:this.mediaPlayer_.duration()},i.hooks=function(n,t){return i.hooks_[n]=i.hooks_[n]||[],t&&(i.hooks_[n]=i.hooks_[n].concat(t)),i.hooks_[n]},i.hook=function(n,t){i.hooks(n,t)},i.removeHook=function(n,t){var r=i.hooks(n).indexOf(t);return r===-1?!1:(i.hooks_[n]=i.hooks_[n].slice(),i.hooks_[n].splice(r,1),!0)},i}(),u.hooks_={},f=function(n){n=JSON.parse(JSON.stringify(n));u.updateSourceData&&(t.log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),n=u.updateSourceData(n));u.hooks("updatesource").forEach(function(t){n=t(n)});var f=r.createElement("video");return n.keySystemOptions&&!(i.navigator.requestMediaKeySystemAccess||f.msSetMediaKeys)?!1:!0},t.DashSourceHandler=function(){return{canHandleSource:function(n){return f(n)?t.DashSourceHandler.canPlayType(n.type)?"probably":/\.mpd/i.test(n.src)?"maybe":"":""},handleSource:function(n,t,i){return new u(n,t,i)},canPlayType:function(n){return t.DashSourceHandler.canPlayType(n)}}},t.DashSourceHandler.canPlayType=function(n){return/^application\/dash\+xml/i.test(n)?"probably":""},i.MediaSource&&t.getTech("Html5").registerSourceHandler(t.DashSourceHandler(),0),t.Html5DashJS=u,u}),function(){var n={width:0,height:0,basePath:""},r=function(){var i,u,f,t,n;i=Array.prototype.slice.call(arguments);u=i.shift()||{};for(f in i){t=i[f];for(n in t)t.hasOwnProperty(n)&&(u[n]=typeof t[n]=="object"?r(u[n],t[n]):t[n])}return u},u=function(n,t){return function(i){return window.getComputedStyle?window.getComputedStyle(n,t)[i]:n.currentStyle[i]}},t=function(n){return n.nodeName!=="HTML"&&u(n)("position")==="static"?t(n.offsetParent):n},f=function(){return window.pageXOffset?{x:window.pageXOffset,y:window.pageYOffset}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},e=function(t){var u,r,f,i;return(r=t.indexOf("#"),r===-1)?{src:t,w:0,h:0,x:0,y:0}:(u=t.substring(0,r),f=t.substring(r+1),f.substring(0,5)!=="xywh=")?{src:n.basePath+u,w:0,h:0,x:0,y:0}:(i=f.substring(5).split(","),{src:n.basePath+u,w:parseInt(i[2]),h:parseInt(i[3]),x:parseInt(i[0]),y:parseInt(i[1])})};videojs.plugin("thumbnails",function(u){var h,y,c,o,s,v,p,l,a,w;if(n.basePath=u.basePath||n.basePath,y=r({},n,u),o=this,w=o.textTracks().length,w!==0){for(i=0;i<w;){if(o.textTracks()[i].kind==="metadata"){a=o.textTracks()[i];a.mode="hidden";break}i++}(function(){var n,i,t;if(navigator.userAgent.toLowerCase().indexOf("android")!==-1){n=o.controlBar.progressControl;i=function(){n.addClass("fake-active")};t=function(){n.removeClass("fake-active")};n.on("touchstart",i);n.on("touchend",t);n.on("touchcancel",t)}})();h=document.createElement("div");h.className="vjs-thumbnail-holder";c=document.createElement("img");h.appendChild(c);c.className="vjs-thumbnail";v=o.duration();o.on("durationchange",function(){v=o.duration()});o.on("loadedmetadata",function(){v=o.duration()});s=o.controlBar.progressControl;s.el().appendChild(h);p=function(n){var p,tt,u,r,w,b,k,o,d,g,nt,l;for(tt=0,d=f().x,g=t(s.el()).getBoundingClientRect(),b=(g.width||g.right)+d,w=n.pageX,n.changedTouches&&(w=n.changedTouches[0].pageX),u=w||n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,u-=t(s.el()).getBoundingClientRect().left+d,p=Math.floor((u-s.el().offsetLeft)/s.width()*v),nt=a&&a.cues.length,i=0;i<nt;){if(l=a.cues[i],l.startTime<=p&&l.endTime>=p){r=e(l.text);break}i++}typeof r!="undefined"&&(r.src&&c.src!=r.src&&(c.src=r.src),r.w===0&&(r.w=y.width),r.h===0&&(r.h=y.height),(h.style.width!=r.w||h.style.height!=r.h)&&(h.style.width=r.w+"px",h.style.height=r.h+"px"),c.style.left=-r.x+"px",c.style.top=-r.y+"px",c.style.clip="rect("+r.y+"px,"+(r.w+r.x)+"px,"+(r.y+r.h)+"px,"+r.x+"px)",k=r.w,o=k/2,u=u+o>b?b-k:u<o?0:u-o,h.style.left=u+"px")};s.on("mousemove",p);s.on("touchmove",p);l=function(){h.style.left="-1000px"};s.on("mouseout",l);s.on("touchcancel",l);s.on("touchend",l);o.on("userinactive",l)}})}();
/**
 * videojs-watermark
 * @version 2.0.0
 * @copyright 2019 Brooks Lyrette <brooks@dotsub.com>
 * @license Apache-2.0
 */
!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.videojsWatermark=n()}}(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t,i){(function(n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var f="undefined"!=typeof window?window.videojs:void 0!==n?n.videojs:null,u=function(n){return n&&n.__esModule?n:{"default":n}}(f),e={position:"top-right",fadeTime:3e3,url:void 0,image:void 0},o=function(n,t){var f=n.el(),i=document.createElement("div"),u=document.createElement("img"),r;(i.classList.add("vjs-watermark-content"),i.classList.add("vjs-watermark-"+t.position),u.src=t.image,t.url)?(r=document.createElement("a"),r.href=t.url,r.onclick=function(i){i.preventDefault();n.pause();window.open(t.url)},r.appendChild(u),i.appendChild(r)):i.appendChild(u);f.insertBefore(i,f.childNodes[1]||null)},s=function(n){setTimeout(function(){return document.getElementsByClassName("vjs-watermark-content")[0].classList.add("vjs-watermark-fade")},n.fadeTime)},h=function(n,t){n.addClass("vjs-watermark");t.image&&(o(n,t),null!==t.fadeTime&&n.on("play",function(){return s(t)}))},r=function(n){var t=this;this.ready(function(){h(t,u.default.mergeOptions(e,n))})};u.default.registerPlugin("watermark",r);r.VERSION="2.0.0";i.default=r;t.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}),function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){"use strict";function f(n){return n&&n.__esModule?n:{"default":n}}function e(){function i(){var f,c,s,l=n.currentType(),a=function(n){s=n},e,o,h,i,r;for(l==="application/x-mpegURL"?(f=this.tech_.sourceHandler_.representations(),c=this.tech_.sourceHandler_.selectPlaylist,this.tech_.sourceHandler_.selectPlaylist=function(){return s?this.tech_.sourceHandler_.playlists.master.playlists[s]:c()}):l==="application/dash+xml"&&(f=this.tech_.sourceHandler_.mediaPlayer_.getBitrateInfoListFor("video")),e=n.controlBar.getChild("fullscreenToggle"),n.controlBar.removeChild(e),o=0;o<t.length;o++)h=t[o],i=h+"PickerButton",i=i.charAt(0).toUpperCase()+i.slice(1),r=n.controlBar.getChild(i),r&&(r.dispose(),n.controlBar.removeChild(r)),f&&f.length>1&&(r=new u.default(n,{name:i,qualityList:f,qualitySwitchCallback:a,trackType:h}),n.controlBar.addChild(r));e&&n.controlBar.addChild(e)}var n=this,t=["video"];n.on("loadedmetadata",i)}var r=i(1),u=f(r),o=videojs.registerPlugin||videojs.plugin;o("qualityPickerPlugin",e)},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}function a(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function v(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function y(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),e=function o(n,t,i){var r,u,f;return n===null&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),r===undefined?(u=Object.getPrototypeOf(n),u===null?undefined:o(u,t,i)):"value"in r?r.value:(f=r.get,f===undefined)?undefined:f.call(i)},s=i(2),h=r(s),c=i(3),l=r(c);var p=videojs.getComponent("MenuButton"),w={video:"vjs-icon-hd",audio:"vjs-icon-cog",subtitle:"vjs-icon-subtitles"},b=function(n){function t(){return a(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,n),f(t,[{key:"createMenu",value:function(){function o(n){return n.height?n.height+"p":n.width?Math.round(n.width*9/16)+"p":n.bitrate?n.bitrate/1e3+"kbps":0}for(var i=new h.default(this.player_,this.options_),r,n={id:0,label:"Auto",qualitySwitchCallback:this.options_.qualitySwitchCallback,selectable:!0,selected:!0},t=0;t<this.options_.qualityList.length;t++){var f=this.options_.qualityList[t],e=this.options_,s=e.qualitySwitchCallback,c=e.trackType;n=u({qualitySwitchCallback:s,trackType:c},f,{selectable:!0});n.label=o(f);r=new l.default(this.player_,n);i.addItem(r)}return i}},{key:"buildCSSClass",value:function(){return w[this.options_.trackType]+" vjs-icon-placeholder "+e(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildCSSClass",this).call(this)}}]),t}(p);t.default=b},function(n,t){"use strict";function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();r=function e(n,t,i){var r,u,f;return n===null&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),r===undefined?(u=Object.getPrototypeOf(n),u===null?undefined:e(u,t,i)):"value"in r?r.value:(f=r.get,f===undefined)?undefined:f.call(i)};u=videojs.getComponent("Menu");f=function(n){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,n),i(t,[{key:"addItem",value:function(n){var u=this,i;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addItem",this).call(this,n);n.on("blur",Function.bind(this,this.handleBlur));i="click";(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i))&&(i="tap");n.on(i,Function.bind(this,this.handClick));n.on(i,function(){for(var i,r=u.children(),t=0;t<r.length;t++)i=r[t],n!==i&&i.selected(!1)})}},{key:"handClick",value:function(){var n=this.menuButton_;n&&n.buttonPressed_&&n.unpressButton()}},{key:"handleBlur",value:function(n){var i=n.relatedTarget||document.activeElement,t;this.children().some(function(n){return n.el()===i})||(t=this.menuButton_,t&&t.buttonPressed_&&i!==t.el().firstChild&&t.unpressButton())}}]),t}(u);t.default=f},function(n,t){"use strict";function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function h(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var i,r,u,f;Object.defineProperty(t,"__esModule",{value:!0});i=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();r=function e(n,t,i){var r,u,f;return n===null&&(n=Function.prototype),r=Object.getOwnPropertyDescriptor(n,t),r===undefined?(u=Object.getPrototypeOf(n),u===null?undefined:e(u,t,i)):"value"in r?r.value:(f=r.get,f===undefined)?undefined:f.call(i)};u=videojs.getComponent("MenuItem");f=function(n){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,n),i(t,[{key:"handleClick",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"handleClick",this).call(this);var i=this.player_.currentType(),n=this.player_.tech_.sourceHandler_;i==="application/x-mpegURL"?(this.options_.qualitySwitchCallback(this.options_.id,this.options_.trackType),n.masterPlaylistController_.fastQualityChange_()):i==="application/dash+xml"&&(typeof this.options_.qualityIndex=="undefined"?n.mediaPlayer_.setAutoSwitchQualityFor(this.options_.trackType,!0):n.mediaPlayer_.setQualityFor(this.options_.trackType,this.options_.qualityIndex))}}]),t}(u);t.default=f}]),function(){var n=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};videojs.plugin("ga",function(t){var u,a,v,y,h,f,r,p,w,c,b,l,k,d,g,e,o,s,i,nt,tt;return t==null&&(t={}),u={},this.options()["data-setup"]&&(c=JSON.parse(this.options()["data-setup"]),c.ga&&(u=c.ga)),a=["loaded","percentsPlayed","start","end","seek","play","pause","resize","volumeChange","error","fullscreen"],r=t.eventsToTrack||u.eventsToTrack||a,k=t.percentsPlayedInterval||u.percentsPlayedInterval||10,h=t.eventCategory||u.eventCategory||"Video",f=t.eventLabel||u.eventLabel,t.debug=t.debug||!1,l=[],o=e=0,s=!1,w=function(){f||(f=this.currentSrc().split("/").slice(-1)[0].replace(/\.(\w{3,4})(\?.*)?$/i,""));n.call(r,"loadedmetadata")>=0&&i("loadedmetadata",!0)},nt=function(){var f,c,t,u,h;for(f=Math.round(this.currentTime()),c=Math.round(this.duration()),u=Math.round(f/c*100),t=h=0;h<=99;t=h+=k)u>=t&&n.call(l,t)<0&&(n.call(r,"start")>=0&&t===0&&u>0?i("start",!0):n.call(r,"percentsPlayed")>=0&&u!==0&&i("percent played",!0,t),u>0&&l.push(t));n.call(r,"seek")>=0&&(o=e,e=f,Math.abs(o-e)>1&&(s=!0,i("seek start",!1,o),i("seek end",!1,e)))},v=function(){i("end",!0)},d=function(){var n;n=Math.round(this.currentTime());i("play",!0,n);s=!1},b=function(){var n,t;n=Math.round(this.currentTime());t=Math.round(this.duration());n===t||s||i("pause",!1,n)},tt=function(){var n;n=this.muted()===!0?0:this.volume();i("volume change",!1,n)},g=function(){i("resize - "+this.width()+"*"+this.height(),!0)},y=function(){var n;n=Math.round(this.currentTime());i("error",!0,n)},p=function(){var n;n=Math.round(this.currentTime());(typeof this.isFullscreen=="function"?this.isFullscreen():void 0)||(typeof this.isFullScreen=="function"?this.isFullScreen():void 0)?i("enter fullscreen",!1,n):i("exit fullscreen",!1,n)},i=function(n,i,r){window.ga?ga("send","event",{eventCategory:h,eventAction:n,eventLabel:f,eventValue:r,nonInteraction:i}):window._gaq?_gaq.push(["_trackEvent",h,n,f,r,i]):t.debug&&console.log("Google Analytics not detected")},this.ready(function(){this.on("loadedmetadata",w);this.on("timeupdate",nt);if(n.call(r,"end")>=0)this.on("ended",v);if(n.call(r,"play")>=0)this.on("play",d);if(n.call(r,"pause")>=0)this.on("pause",b);if(n.call(r,"volumeChange")>=0)this.on("volumechange",tt);if(n.call(r,"resize")>=0)this.on("resize",g);if(n.call(r,"error")>=0)this.on("error",y);if(n.call(r,"fullscreen")>=0)return this.on("fullscreenchange",p)}),i=t.sendbeacon||i,{sendbeacon:i}})}.call(this);
/*! @name @brightcove/videojs-social @version 3.8.3 @license UNLICENSED */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js"),require("global/document"),require("global/window")):"function"==typeof define&&define.amd?define(["video.js","global/document","global/window"],t):n.videojsSocial=t(n.videojs,n.document,n.window)}(this,function(n,t,i){"use strict";function v(n,t){n.prototype=Object.create(t.prototype);n.prototype.constructor=n;n.__proto__=t}function u(n,t){return t||(t=n.slice(0)),n.raw=t,n}function at(n){return n.replace(/\n\r?\s*/g,"")}function p(){var n=u(["\n      //players.brightcove.net/\n      ","/\n      ","_","/\n      index.html\n      ","\n      ","\n    "]);return p=function(){return n},n}function w(){var n=u(['\n      <button class="vjs-restart vjs-icon-replay vjs-button">\n        <span class="vjs-control-text">',"<\/span>\n      <\/button>\n    "]);return w=function(){return n},n}function b(){var n=u(['\n        <label class="vjs-social-start-from" aria-label="','">\n          <span class="vjs-social-label-text">','<\/span>\n          <input type="text" title="'," ",'" placeholder=\n          "','" maxlength="10" value="','">\n        <\/label>\n      ']);return b=function(){return n},n}function k(){var n=u(['\n        <label class="vjs-social-direct-link" aria-label="','">\n          <span class="vjs-social-label-text">','<\/span>\n          <input type="text" readonly="true" value="">\n        <\/label>\n      ']);return k=function(){return n},n}function d(){var n=u(['\n      <label class="vjs-social-embed-code" aria-label="','">\n        <span class="vjs-social-label-text">','<\/span>\n        <input type="text" readonly="true" value="">\n      <\/label>\n    ']);return d=function(){return n},n}function g(){var n=u(['\n      <h1 class="vjs-social-title">',": ",'<\/h1>\n      <h2 class="vjs-social-description">','<\/h2>\n      <div class="vjs-social-share-links">\n        ',"\n      <\/div>\n      ","\n      ","\n      ","\n    "]);return g=function(){return n},n}function nt(){var n=u(["\n      <iframe src='","' allowfullscreen frameborder=0><\/iframe>\n    "]);return nt=function(){return n},n}function tt(){var n=u(["\n      https://twitter.com/intent/tweet\n        ?original_referer=https%3A%2F%2Fabout.twitter.com%2Fresources%2Fbuttons\n        &text=","\n        &tw_p=tweetbutton\n        &url=","\n    "]);return tt=function(){return n},n}function it(){var n=u(["\n      https://www.tumblr.com/share\n        ?v=3\n        &u=","\n        &t=","\n    "]);return it=function(){return n},n}function rt(){var n=u(["\n      https://pinterest.com/pin/create/button/\n        ?url=","\n        &media=","\n        &description=","\n        &is_video=true\n    "]);return rt=function(){return n},n}function ut(){var n=u(["\n      https://www.linkedin.com/shareArticle\n        ?mini=true\n        &url=","\n        &title=","\n        &summary=","\n        &source=Classic\n    "]);return ut=function(){return n},n}function ft(){var n=u(["\n      https://plus.google.com/share\n        ?url=","\n    "]);return ft=function(){return n},n}function et(){var n=u(["\n      https://www.facebook.com/sharer/sharer.php\n        ?u=","\n        &title=","\n    "]);return et=function(){return n},n}var y,r;n=n&&n.hasOwnProperty("default")?n.default:n;t=t&&t.hasOwnProperty("default")?t.default:t;i=i&&i.hasOwnProperty("default")?i.default:i;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},c=function(n,t){return"function"==typeof n.usingPlugin?n.usingPlugin(t):"ads"===t?"object"===h(n.ads):"playlist"===t?!(!n.playlist||"object"!==h(n.playlist.autoadvance_)):!!n[t]},l=function(n){n.postrollStarted=!1;n.postrollFinished=!1;n.postrollTimedOut=!1;n.sawNoPostrollEvent=!1},a=function(){var n=this,t,i;this.endscreenState_||(t=this.endscreenState_={},i=function(){return n.trigger("endscreen")},l(t),this.on("adstart",function(){var i=n.ended();t.postrollStarted=i;t.postrollFinished=!i}),this.on("adend",function(){t.postrollFinished=n.ended()}),this.on("adtimeout",function(){t.postrollTimedOut=n.ended()}),this.on(["endscreen","loadstart"],function(){n.off("adend",i);l(t)}),this.on("nopostroll",function(){t.sawNoPostrollEvent=!0}),this.on("ended",function(){(function(n){if(!c(n,"playlist"))return!1;var t=n.playlist,i=t();return!(0!==t.autoadvance_.delay||!i.length)&&(t.repeat()||t.currentItem()!==i.length-1)})(n)||(function(n){if(!c(n,"ads"))return!1;var t=n.endscreenState_;return!t.sawNoPostrollEvent&&t.postrollStarted&&!t.postrollFinished&&!t.postrollTimedOut}(n)?n.one("adend",i):i())}))};n.registerPlugin?n.getPlugin("endscreen")||n.registerPlugin("endscreen",a):n.plugin("endscreen",a);y=function(n){function t(t,i){var r;return(r=n.call(this,t,i)||this).controlText(r.localize("Share")),r}v(t,n);var i=t.prototype;return i.handleClick=function(){this.showOverlay()},i.showOverlay=function(){var n=this.player().socialOverlay;n&&n.open()},i.buildCSSClass=function(){return"vjs-share-control "+n.prototype.buildCSSClass.call(this)},t}(n.getComponent("Button"));r=function(n){for(var i="",t=0;t<arguments.length;t++)i+=at(n[t])+(arguments[t+1]||"");return i};var o,ot=n.getComponent("ModalDialog"),st=n.dom||n,vt=[{key:"facebook",title:"Facebook",href:function(n){return r(et(),n.url,n.title)}},{key:"google",classSuffix:"gplus",title:"Google+",href:function(n){return r(ft(),n.url)}},{key:"linkedin",title:"LinkedIn",href:function(n){return r(ut(),n.url,n.title,n.description)}},{key:"pinterest",title:"Pinterest",href:function(n){return r(rt(),n.url,n.poster,n.title)}},{key:"tumblr",title:"Tumblr",href:function(n){return r(it(),n.url,n.title)}},{key:"twitter",title:"Twitter",href:function(n){return r(tt(),n.title,n.url)}}],yt=(o={width:600,height:400,top:100,left:100,titlebar:"yes",modal:"yes",resizable:"yes",toolbar:"no",status:1,location:"no",menubar:"no",centerscreen:"yes"},Object.keys(o).map(function(n){return n+"="+o[n]}).join(",")),ht=/^\s*(0*[1-5]?\d|0*[1-5]?\d:[0-5]\d|\d+:[0-5]\d:[0-5]\d)\s*$/,ct=function(u){function e(n,r){var f;return r.label=r.label||n.localize("Sharing Dialog"),(f=u.call(this,n,r)||this).isIframe_=i.parent!=i,f.on("modalfill",f.performSafeDomUpdates),f.on("modalopen",function(){if(f.toggleDock("hide"),n.el().contains(t.activeElement)||t.activeElement===n.el()){var i=f.el().querySelector(".vjs-social-share-links a")||f.el().querySelector(".vjs-social-direct-link input")||f.el().querySelector(".vjs-social-embed-code input");i&&i.focus()}}),f.on("modalclose",function(){f.toggleDock("show");f.player().socialButton.el().focus()}),f.on(f.contentEl(),"click",f.delegateClick),f.options_.deeplinking&&(f.on("modalfill",function(){var n=f.offsetEl();n&&f.on(n,"change",f.performSafeDomUpdates)}),f.on(["beforemodalfill","dipose"],function(){var n=f.offsetEl();n&&f.off(n,"change",f.performSafeDomUpdates)})),f}v(e,u);var f=e.prototype;return f.directLinkEl=function(){return this.contentEl().querySelector(".vjs-social-direct-link input")},f.embedCodeEl=function(){return this.contentEl().querySelector(".vjs-social-embed-code input")},f.offsetEl=function(){return this.contentEl().querySelector(".vjs-social-start-from input")},f.toggleDock=function(n){this.options_.hasDock&&(this.player().getChild("shelf")[n](),this.player().getChild("title")[n]())},f.delegateClick=function(n){n.preventDefault();n.target===this.contentEl().querySelector(".vjs-restart")?(this.close(),this.player().currentTime(0),this.player().play()):n.target===this.directLinkEl()||n.target===this.embedCodeEl()?n.target.select():st.hasClass(n.target,"vjs-social-share-link")&&i.open(n.target.href,"_blank",yt)},f.buildCSSClass=function(){return"vjs-social-overlay "+u.prototype.buildCSSClass.call(this)},f.performSafeDomUpdates=function(){var n=this.offsetEl(),t=this.directLinkEl(),i=this.embedCodeEl(),r;n&&(r=!!n.value&&!ht.test(n.value),st.toggleClass(n,"vjs-invalid",r));t&&(t.value=this.getDirectLink());i&&(i.value=this.getEmbedCode())},f.getEmbedCode=function(){var n=this.player(),t=this.getPlayerMediaInfo_(),i=this.getEmbedUrl_({accountId:n.options_["data-account"],playerId:n.options_["data-player"],embedId:n.options_["data-embed"],videoId:t.id?"?videoId="+t.id:""});return this.options_.embedCode||r(nt(),i)},f.setEmbedCode=function(n){void 0===n&&(n="");this.options_.embedCode=n},f.getDirectLink=function(){return this.getVideoUrl_(!0)},f.setDirectLink=function(n){void 0===n&&(n="");this.options_.url=n},f.asEndscreen=function(n){var t=this;return"boolean"==typeof n&&this.asEndscreen_!==n&&(this.asEndscreen_=n,n?(this.player().height()<=300&&this.addClass("vjs-social-short-player"),this.addClass("vjs-social-as-endscreen"),this.open(),this.one("modalclose",function(){return t.asEndscreen(!1)})):(this.removeClass("vjs-social-short-player"),this.removeClass("vjs-social-as-endscreen"))),this.asEndscreen_},f.content=function(){var n=t.createElement("form");return n.innerHTML=r(g(),this.localize("Share"),this.getTitle_(),this.getDescription_(),this.contentForSocialButtons_(this.options_.services,this.options_.customServices),this.contentForDirectLink_(),this.contentForEmbed_(),this.contentForRestart_()),n},f.contentForEmbed_=function(){if(!0===this.options_.removeEmbed)return"";var n=this.localize("Embed Code"),t=this.localize("Read Only: Embed Code");return r(d(),t,n)},f.contentForDirectLink_=function(){var t=this.options_.deeplinking,i=!0!==this.options_.removeDirect,n,u,f;if(!t&&!i)return"";if(n="",i&&(u=this.localize("Direct Link"),f=this.localize("Read Only")+": "+this.localize("Direct Link To Content"),n+=r(k(),f,u)),t){var e=this.localize("Start From"),o=this.localize("The offset must be specified using the following pattern:"),s=ht.test(this.options_.offset)?this.options_.offset:"";n+=r(b(),e,e,o,"hh:mm:ss","hh:mm:ss",s)}return n},f.contentForRestart_=function(){if(!this.asEndscreen())return"";var n=this.localize("Restart");return r(w(),n)},f.contentForSocialButtons_=function(t,i){void 0===i&&(i=[]);var r=this.player(),u={description:encodeURIComponent(this.options_.description),poster:encodeURIComponent(r.poster()||""),title:encodeURIComponent(this.getTitle_()),url:encodeURIComponent(this.getVideoUrl_())};return i=i.filter(function(t){return!(t.mobileOnly&&!n.browser.IS_IOS&&!n.browser.IS_ANDROID)}).map(function(n){return n.hrefTemplate&&"function"!=typeof n.href&&(n.href=function(t){var i=n.hrefTemplate,r,u;for(r in t)u=new RegExp("{{"+r+"}}","g"),i=i.replace(u,t[r]);return i}),n}),vt.filter(function(n){return t[n.key]}).concat(i).map(function(n){return'\n        <a href="'+n.href(u)+'"\n            class="vjs-social-share-link '+(n.className?n.className:"vjs-icon-"+(n.classSuffix||n.key))+'"\n            aria-role="link"\n            aria-label="'+r.localize("Share on {{network}}").replace("{{network}}",r.localize(n.title))+'"\n            title="'+r.localize(n.title)+'"\n            '+(n.bgColor?'style="background-color:'+n.bgColor+'"':"")+'\n            target="_blank">\n          <span class="vjs-control-text">'+r.localize(n.title)+"<\/span>\n        <\/a>\n      "}).join("")},f.getConvertedOffsetHash_=function(){if(this.options_.deeplinking){var n=this.offsetEl(),t=this.convertOffset_(n&&n.value||this.options_.offset);if(t)return"#t="+t}return""},f.addPlaylistVideoId_=function(n){var r=this.player(),u="function"==typeof r.playlist&&r.playlist(),f,t;if(Array.isArray(u)&&u.length&&(f=r.playlist.currentItem(),t=f>-1&&u[f],t&&t.id)){var s=(i.location.search?"&":"?")+"playlistVideoId="+t.id,e=/([?&])playlistVideoId=[^&]+/,o=n.match(e);o?n=n.replace(e,o[1]+"playlistVideoId="+t.id):n+=s}return n},f.getVideoUrl_=function(n){var r;return r=this.options_.url?this.options_.url:this.isIframe_?t.referrer:this.addPlaylistVideoId_(i.location.href),n&&(r+=this.getConvertedOffsetHash_()),r},f.getEmbedUrl_=function(n){return this.isIframe_?i.location.href:r(p(),n.accountId,n.playerId,n.embedId,n.videoId,this.getConvertedOffsetHash_())},f.getPlayerMediaInfo_=function(){var n=this.player();return n.mediainfo||n.options_["data-media"]||{}},f.getTitle_=function(){return this.options_.title||this.getPlayerMediaInfo_().name||""},f.getDescription_=function(){return this.options_.description||this.getPlayerMediaInfo_().description||""},f.convertOffset_=function(n){var t=0,i=[1,60,3600],f="",r,u,e;if("string"==typeof n&&(r=n.split(":"),r.length>=1&&r.length<=3)){for(u=0;u<r.length;++u){if(e=parseInt(r[u],10)*i[r.length-1-u],isNaN(e))return"";t+=e}t>=i[2]&&0!==Math.floor(t/i[2])&&(f=Math.floor(t/i[2])+"h",t%=i[2]);t>=i[1]&&0!==Math.floor(t/i[1])&&(f+=Math.floor(t/i[1])+"m",t%=i[1]);t>0&&(f+=t+"s")}return f},e}(ot);ct.prototype.options_=n.mergeOptions(ot.prototype.options_,{fillAlways:!0,temporary:!1});var f={title:"",description:"",url:"",label:"",embedCode:"",deeplinking:!1,displayAfterVideo:!1,offset:"00:00:00",buttonParent:"controlBar",hasDock:!1,removeDirect:!1,removeEmbed:!1,services:{facebook:!0,google:!0,twitter:!0,tumblr:!0,pinterest:!0,linkedin:!0},customServices:[]},pt=n.getComponent("Component"),wt=n.registerPlugin||n.plugin,lt=n.dom||n,e=function(n){return n instanceof pt},bt=function(n,t){var u,i,r,o;return u=n.socialSettings,"[object Object]"===Object.prototype.toString.call(u)&&n.socialButton.dispose(),i=function n(t,i){var r=i.buttonParent,u="string"==typeof r?t.getChild(r):r;return e(u)||r===f.buttonParent||(i.buttonParent=f.buttonParent,u=n(t,i)),e(u)?u:null}(n,t),r=i.addChild("socialButton",t),(i.one(r,"dispose",function(){return i.removeChild(r)}),t.buttonParent===f.buttonParent)?(o=i.el().querySelector(".vjs-spacer"),i.el().insertBefore(r.el(),o.nextSibling)):i===n.shelf&&(r.removeClass("vjs-control"),lt.removeClass(r.$(".vjs-control-text"),"vjs-control-text")),r},kt=function(t,i){var f,r=t.socialOverlay,u;return r&&(f=r.opened(),r.close()),function(t){var i=function(){n.log.warn('Using "show" to open the social plugin overlay is deprecated. Use open() instead!');this.open()},r=function(){n.log.warn('Using "hide" to close the social plugin overlay is deprecated. Use close() instead!');this.close()};t.show=i;t.hide=r;t.on("beforemodalopen",function(){delete t.show});t.on("modalopen",function(){t.show=i});t.on("beforemodalclose",function(){delete t.hide});t.on("modalclose",function(){t.hide=r})}(r=t.addChild("socialOverlay",i)),lt.addClass(r.$(".vjs-close-button",r),"vjs-icon-cancel"),u=function(){return r.asEndscreen(!0)},t.one(r,"dispose",function(){t.off("endscreen",u);t.removeChild(r)}),i.displayAfterVideo&&t.on("endscreen",u),f&&r.open(),r},s=function(t){var i=this,r=n.mergeOptions(f,t);r.removeDirect&&(r.deeplinking=!1);r.displayAfterVideo&&this.endscreen();this.ready(function(){r.hasDock=e(i.title)&&e(i.shelf);i.socialButton=bt(i,r);i.socialOverlay=kt(i,r);i.socialSettings=r;i.on("loadstart",function(){i.socialOverlay.close()});var n=function(){var n;(n=i).socialOverlay.toggleClass("vjs-social-small",function(){return n.currentWidth()<n.breakpoints().small+1})};i.on("playerresize",n);i.socialOverlay.on("dispose",function(){i.off("playerresize",n)});n.call(i)})};return s.VERSION="3.8.3",n.registerComponent("SocialButton",y),n.registerComponent("SocialOverlay",ct),wt("social",s),s});
/*
 * videojs-contrib-ads
 * @version 6.6.1
 * @copyright 2019 Brightcove, Inc.
 * @license Apache-2.0
 */
(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],t):n.videojsContribAds=t(n.videojs)})(this,function(n){"use strict";function lt(t){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:v,reset:function(){t.ads.disableNextSnapshotRestore=!1;t.ads._contentEnding=!1;t.ads._contentHasEnded=!1;t.ads.snapshot=null;t.ads.adType=null;t.ads._hasThereBeenALoadedData=!1;t.ads._hasThereBeenALoadedMetaData=!1;t.ads._cancelledPlay=!1;t.ads._shouldBlockPlay=!1;t.ads._playBlocked=!1;t.ads.nopreroll_=!1;t.ads.nopostroll_=!1;t.ads._playRequested=!1},startLinearAdMode:function(){t.ads._state.startLinearAdMode()},endLinearAdMode:function(){t.ads._state.endLinearAdMode()},skipLinearAdMode:function(){t.ads._state.skipLinearAdMode()},stitchedAds:function(t){return t!==undefined&&(n.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!t),this.settings.stitchedAds},videoElementRecycled:function(){if(t.ads.shouldPlayContentBehindAd(t))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var n=t.tech_.src()!==this.snapshot.src,i=t.currentSrc()!==this.snapshot.currentSrc;return n||i},isLive:function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:t;return typeof i.ads.settings.contentIsLive=="boolean"?i.ads.settings.contentIsLive:i.duration()===Infinity||n.browser.IOS_VERSION==="8"&&i.duration()===0?!0:!1},shouldPlayContentBehindAd:function(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:t;if(i)return i.ads.settings.liveCuePoints?!n.browser.IS_IOS&&!n.browser.IS_ANDROID&&i.duration()===Infinity:!1;throw new Error("shouldPlayContentBehindAd requires a player as a param");},shouldTakeSnapshots:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:t;return!this.shouldPlayContentBehindAd(n)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var n=t.$(".vjs-tech");n&&n.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var r=arguments.length,t=Array(r),i=0;i<r;i++)t[i]=arguments[i];t.length===1&&typeof t[0]=="string"?n.log("ADS: "+t[0]):n.log.apply(n,["ADS:"].concat(t))}}}}function wt(n){n.type==="playing"?at(this,n):n.type==="ended"?vt(this,n):n.type==="loadstart"||n.type==="loadeddata"||n.type==="loadedmetadata"?yt(this,n):n.type==="play"?pt(this,n):this.ads.isInAdMode()&&(this.ads.isContentResuming()?i(this,"content",n):i(this,"ad",n))}function bt(n){n.ads.contentSrc=n.currentSrc();n.ads._seenInitialLoadstart=!1;var t=function(){if(!n.ads.inAdBreak()){var t=n.currentSrc();t!==n.ads.contentSrc&&(n.ads._seenInitialLoadstart&&n.trigger({type:"contentchanged"}),n.trigger({type:"contentupdate",oldValue:n.ads.contentSrc,newValue:t}),n.ads.contentSrc=t);n.ads._seenInitialLoadstart=!0}};n.on("loadstart",t)}function ni(t,i,r){var e=this,f={},u,o,s;t=t.replace(/{([^}=]+)=([^}]+)}/g,function(n,t,i){return f["{"+t+"}"]=i,"{"+t+"}"});i===undefined&&(i=!1);u={};r!==undefined&&(u=r);u["{player.id}"]=this.options_["data-player"];u["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"";u["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"";u["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"";u["{player.duration}"]=this.duration();u["{timestamp}"]=(new Date).getTime();u["{document.referrer}"]=dt.referrer;u["{window.location.href}"]=nt.location.href;u["{random}"]=Math.floor(Math.random()*1e12);["description","tags","reference_id","ad_keys"].forEach(function(n){u["{mediainfo."+n+"}"]=e.mediainfo&&e.mediainfo[n]?e.mediainfo[n]:f["{mediainfo."+n+"}"]?f["{mediainfo."+n+"}"]:""});ft(this.mediainfo,u,"custom_fields");ft(this.mediainfo,u,"customFields");for(o in u)t=t.split(o).join(ut(u[o],i));t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,r){for(var s,u=void 0,h=nt,o=r.split("."),e=0;e<o.length;e++)e===o.length-1?u=h[o[e]]:h=h[o[e]];return(s=typeof u=="undefined"?"undefined":gt(u),u===null)?"null":u===undefined?f["{pageVariable."+r+"}"]?f["{pageVariable."+r+"}"]:(n.log.warn('Page variable "'+r+'" not found'),""):s!=="string"&&s!=="number"&&s!=="boolean"?(n.log.warn('Page variable "'+r+'" is not a supported type'),""):ut(String(u),i)});for(s in f)t=t.replace(s,f[s]);return t}function ti(t,i){i&&n.log("Using cancelContentPlay to block content playback");t.on("play",ii)}function ii(){this.ads._shouldBlockPlay!==!1&&(this.paused()||(this.ads.debug("Playback was canceled by cancelContentPlay"),this.pause()),this.ads._cancelledPlay=!0)}function ei(t){if(fi(n))return!1;var i=n.registerPlugin||n.plugin;return i("ads",t),ui()&&!n.usingContribAdsMiddleware_&&(n.use("*",ri),n.usingContribAdsMiddleware_=!0,n.log("Play middleware has been registered with videojs")),!0}function oi(t){var f=void 0,i,r;f=n.browser.IS_IOS&&t.ads.isLive(t)?t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime():t.currentTime();var e=t.$(".vjs-tech"),o=t.textTracks?t.textTracks():[],s=[],u={ended:t.ended(),currentSrc:t.currentSrc(),sources:t.currentSources(),src:t.tech_.src(),currentTime:f,type:t.currentType()};for(e&&(u.style=e.getAttribute("style")),i=0;i<o.length;i++)r=o[i],s.push({track:r,mode:r.mode}),r.mode="disabled";return u.suppressedTracks=s,u}function si(t,i){var r=t.ads.snapshot,o;if(i===undefined&&(i=function(){}),t.ads.disableNextSnapshotRestore===!0){t.ads.disableNextSnapshotRestore=!1;delete t.ads.snapshot;i();return}var u=t.$(".vjs-tech"),l=20,h=r.suppressedTracks,s=void 0,c=function(){for(var n=0;n<h.length;n++)s=h[n],s.track.mode=s.mode},f=function(){var f=void 0,i,u;n.browser.IS_IOS&&t.ads.isLive(t)?(r.currentTime<0&&(f=t.seekable().length>0?t.seekable().end(0)+r.currentTime:t.currentTime(),t.currentTime(f)),t.paused()&&(i=t.play(),i&&i["catch"]&&i["catch"](function(t){n.log.warn("Play promise rejected in IOS snapshot resume",t)}))):r.ended?t.currentTime(t.duration()):(t.currentTime(r.currentTime),u=t.play(),u&&u["catch"]&&u["catch"](function(t){n.log.warn("Play promise rejected in snapshot resume",t)}));t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},e=function e(){if((t.off("contentcanplay",e),y&&t.clearTimeout(y),u=t.el().querySelector(".vjs-tech"),u.readyState>1)||u.seekable===undefined||u.seekable.length>0)return f();if(l--)t.setTimeout(e,50);else try{f()}catch(i){n.log.warn("Failed to resume the content after an advertisement",i)}};if("style"in r&&u.setAttribute("style",r.style||""),t.ads.videoElementRecycled()){t.one("resumeended",function(){delete t.ads.snapshot;i()});t.one("contentloadedmetadata",c);n.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0);t.src(r.sources);t.one("contentcanplay",e);y=t.setTimeout(e,2e3)}else c(),t.ended()||(o=t.play(),o&&o["catch"]&&o["catch"](function(t){n.log.warn("Play promise rejected in snapshot restore",t)})),delete t.ads.snapshot,i()}function hi(n){n.ads.debug("Starting ad break");n.ads._inLinearAdMode=!0;n.trigger("adstart");n.ads.shouldTakeSnapshots()&&(n.ads.snapshot=oi(n));n.ads.shouldPlayContentBehindAd(n)&&(n.ads.preAdVolume_=n.volume(),n.volume(0));n.addClass("vjs-ad-playing");n.hasClass("vjs-live")&&n.removeClass("vjs-live");n.ads.removeNativePoster()}function ci(n,t){n.ads.debug("Ending ad break");t===undefined&&(t=function(){});n.ads.adType=null;n.ads._inLinearAdMode=!1;n.trigger("adend");n.removeClass("vjs-ad-playing");n.ads.isLive(n)&&n.addClass("vjs-live");n.ads.shouldTakeSnapshots()?si(n,t):(n.volume(n.ads.preAdVolume_),t())}var v,h,g,f,et,ot,s,e;n=n&&n.hasOwnProperty("default")?n["default"]:n;v="6.6.1";var d=function(n,t){t.isImmediatePropagationStopped=function(){return!0};t.cancelBubble=!0;t.isPropagationStopped=function(){return!0}},i=function(n,t,i){d(n,i);n.trigger({type:t+i.type,originalEvent:i})},at=function(n,t){n.ads.isInAdMode()&&(n.ads.isContentResuming()?n.ads._contentEnding&&i(n,"content",t):i(n,"ad",t))},vt=function(n,t){n.ads.isInAdMode()?n.ads.isContentResuming()?(d(n,t),n.trigger("resumeended")):i(n,"ad",t):n.ads._contentHasEnded||n.ads.stitchedAds()||(i(n,"content",t),n.trigger("readyforpostroll"))},yt=function(n,t){if((t.type!=="loadstart"||n.ads._hasThereBeenALoadStartDuringPlayerLife)&&(t.type!=="loadeddata"||n.ads._hasThereBeenALoadedData)&&(t.type!=="loadedmetadata"||n.ads._hasThereBeenALoadedMetaData))if(n.ads.inAdBreak())i(n,"ad",t);else{if(n.currentSrc()!==n.ads.contentSrc)return;i(n,"content",t)}else return},pt=function(n,t){n.ads.inAdBreak()?i(n,"ad",t):n.ads.isContentResuming()&&i(n,"content",t)};h=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};g=typeof window!="undefined"?window:typeof h!="undefined"?h:typeof self!="undefined"?self:{};var nt=g,tt={},it=(Object.freeze||Object)({"default":tt}),kt=it&&tt||it,rt=typeof h!="undefined"?h:typeof window!="undefined"?window:{},c;typeof document!="undefined"?c=document:(c=rt["__GLOBAL_DOCUMENT_CACHE@4"],c||(c=rt["__GLOBAL_DOCUMENT_CACHE@4"]=kt));var dt=c,gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bi=function(){function t(n){this.value=n}function n(n){function e(n,t){return new Promise(function(f,e){var o={key:n,arg:t,resolve:f,reject:e,next:null};r?r=r.next=o:(i=r=o,u(n,t))})}function u(i,r){try{var e=n[i](r),o=e.value;o instanceof t?Promise.resolve(o.value).then(function(n){u("next",n)},function(n){u("throw",n)}):f(e.done?"return":"normal",e.value)}catch(s){f("throw",s)}}function f(n,t){switch(n){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next;i?u(i.key,i.arg):r=null}var i,r;this._invoke=e;typeof n.return!="function"&&(this.return=undefined)}return typeof Symbol=="function"&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(n){return this._invoke("next",n)},n.prototype.throw=function(n){return this._invoke("throw",n)},n.prototype.return=function(n){return this._invoke("return",n)},{wrap:function(t){return function(){return new n(t.apply(this,arguments))}},await:function(n){return new t(n)}}}(),t=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},r=function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},u=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n},ut=function(n,t){return t?encodeURIComponent(n):n},ft=function(n,t,i){var f,u,r,e;if(n&&n[i])for(f=n[i],u=Object.keys(f),r=0;r<u.length;r++)e="{mediainfo."+i+"."+u[r]+"}",t[e]=f[u[r]]};f={};f.processMetadataTracks=function(n,t){for(var i=n.textTracks(),u=function(i){i.kind==="metadata"&&(n.ads.cueTextTracks.setMetadataTrackMode(i),t(n,i))},r=0;r<i.length;r++)u(i[r]);i.addEventListener("addtrack",function(n){u(n.track)})};f.setMetadataTrackMode=function(){return};f.getSupportedAdCue=function(n,t){return t};f.isSupportedAdCue=function(){return!0};f.getCueId=function(n,t){return t.id};et=function(n,t){return t!==undefined&&n.ads.includedCues[t]};ot=function(n,t){t!==undefined&&t!==""&&(n.ads.includedCues[t]=!0)};f.processAdTrack=function(t,i,r,u){var o,f,s,e,h;for(t.ads.includedCues={},o=0;o<i.length;o++){if(f=i[o],s=this.getSupportedAdCue(t,f),!this.isSupportedAdCue(t,f)){n.log.warn("Skipping as this is not a supported ad cue.",f);return}if(e=this.getCueId(t,f),h=f.startTime,et(t,e)){n.log("Skipping ad already seen with ID "+e);return}u&&u(t,s,e,h);r(t,s,e,h);ot(t,e)}};s={};e=n;s.isMiddlewareMediatorSupported=function(){return e.browser.IS_IOS||e.browser.IS_ANDROID?!1:e.use&&e.middleware&&e.middleware.TERMINATOR?!0:!1};s.playMiddleware=function(n){return{setSource:function(n,t){t(null,n)},callPlay:function(){if(n.ads&&n.ads._shouldBlockPlay===!0)return n.ads.debug("Using playMiddleware to block content playback"),n.ads._playBlocked=!0,e.middleware.TERMINATOR},play:function(t,i){n.ads&&n.ads._playBlocked&&t?(n.ads.debug("Play call to Tech was terminated."),n.trigger("play"),n.addClass("vjs-has-started"),n.ads._playBlocked=!1):i&&i["catch"]&&i["catch"](function(t){t.message==="play() failed because the user didn't interact with the document first. https://goo.gl/xX8pDD"&&n.trigger("pause")})}}};s.testHook=function(n){e=n};var ri=s.playMiddleware,ui=s.isMiddlewareMediatorSupported,fi=function(){if(n.getPlugin)return Boolean(n.getPlugin("ads"));var t=n.getComponent("Player");return Boolean(t&&t.prototype.ads)};var st=function(){function i(n){t(this,i);this.player=n}return i._getName=function(){return"Anonymous State"},i.prototype.transitionTo=function(n){var t=this.player,i;this.cleanup(t);i=new n(t);t.ads._state=i;t.ads.debug(this.constructor._getName()+" -> "+i.constructor._getName());for(var u=arguments.length,f=Array(u>1?u-1:0),r=1;r<u;r++)f[r-1]=arguments[r];i.init.apply(i,[t].concat(f))},i.prototype.init=function(){},i.prototype.cleanup=function(){},i.prototype.onPlay=function(){},i.prototype.onPlaying=function(){},i.prototype.onEnded=function(){},i.prototype.onAdEnded=function(){},i.prototype.onAdsReady=function(){n.log.warn("Unexpected adsready event")},i.prototype.onAdsError=function(){},i.prototype.onAdsCanceled=function(){},i.prototype.onAdTimeout=function(){},i.prototype.onAdStarted=function(){},i.prototype.onContentChanged=function(){},i.prototype.onContentResumed=function(){},i.prototype.onReadyForPostroll=function(){n.log.warn("Unexpected readyforpostroll event")},i.prototype.onNoPreroll=function(){},i.prototype.onNoPostroll=function(){},i.prototype.startLinearAdMode=function(){n.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},i.prototype.endLinearAdMode=function(){n.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},i.prototype.skipLinearAdMode=function(){n.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},i.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName());},i.prototype.isWaitingForAdBreak=function(){return!1},i.prototype.isContentResuming=function(){return!1},i.prototype.inAdBreak=function(){return!1},i.prototype.handleEvent=function(n){var t=this.player;if(n==="play")this.onPlay(t);else if(n==="adsready")this.onAdsReady(t);else if(n==="adserror")this.onAdsError(t);else if(n==="adscanceled")this.onAdsCanceled(t);else if(n==="adtimeout")this.onAdTimeout(t);else if(n==="ads-ad-started")this.onAdStarted(t);else if(n==="contentchanged")this.onContentChanged(t);else if(n==="contentresumed")this.onContentResumed(t);else if(n==="readyforpostroll")this.onReadyForPostroll(t);else if(n==="playing")this.onPlaying(t);else if(n==="ended")this.onEnded(t);else if(n==="nopreroll")this.onNoPreroll(t);else if(n==="nopostroll")this.onNoPostroll(t);else if(n==="adended")this.onAdEnded(t)},i}(),l=function(n){function i(r){t(this,i);var f=u(this,n.call(this,r));return f.contentResuming=!1,f.waitingForAdBreak=!1,f}return r(i,n),i.prototype.isAdState=function(){return!0},i.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(ht)},i.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(ht)},i.prototype.isWaitingForAdBreak=function(){return this.waitingForAdBreak},i.prototype.isContentResuming=function(){return this.contentResuming},i.prototype.inAdBreak=function(){return this.player.ads._inLinearAdMode===!0},i}(st),a=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i.prototype.isAdState=function(){return!1},i.prototype.onContentChanged=function(n){n.ads.debug("Received contentchanged event (ContentState)");n.paused()?this.transitionTo(w):(this.transitionTo(p,!1),n.pause(),n.ads._pausedOnContentupdate=!0)},i}(st),y=void 0;var o={start:hi,end:ci},p=function(i){function f(){return t(this,f),u(this,i.apply(this,arguments))}return r(f,i),f._getName=function(){return"Preroll"},f.prototype.init=function(n,t,i){if(this.waitingForAdBreak=!0,n.addClass("vjs-ad-loading"),i||n.ads.nopreroll_)return this.resumeAfterNoPreroll(n);var r=n.ads.settings.timeout;typeof n.ads.settings.prerollTimeout=="number"&&(r=n.ads.settings.prerollTimeout);this._timeout=n.setTimeout(function(){n.trigger("adtimeout")},r);t?this.handleAdsReady():this.adsReady=!1},f.prototype.onAdsReady=function(t){t.ads.inAdBreak()?n.log.warn("Unexpected adsready event (Preroll)"):(t.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},f.prototype.handleAdsReady=function(){this.adsReady=!0;this.readyForPreroll()},f.prototype.afterLoadStart=function(n){var t=this.player;if(t.ads._hasThereBeenALoadStartDuringPlayerLife)n();else{t.ads.debug("Waiting for loadstart...");t.one("loadstart",function(){t.ads.debug("Received loadstart event");n()})}},f.prototype.noPreroll=function(){var n=this;this.afterLoadStart(function(){n.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)");n.resumeAfterNoPreroll(n.player)})},f.prototype.readyForPreroll=function(){var n=this.player;this.afterLoadStart(function(){n.ads.debug("Triggered readyforpreroll event (Preroll)");n.trigger("readyforpreroll")})},f.prototype.onAdsCanceled=function(n){var t=this;n.ads.debug("adscanceled (Preroll)");this.afterLoadStart(function(){t.resumeAfterNoPreroll(n)})},f.prototype.onAdsError=function(t){var i=this;n.log("adserror (Preroll)");this.inAdBreak()?t.ads.endLinearAdMode():this.afterLoadStart(function(){i.resumeAfterNoPreroll(t)})},f.prototype.startLinearAdMode=function(){var t=this.player;!this.adsReady||t.ads.inAdBreak()||this.isContentResuming()?n.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(t.clearTimeout(this._timeout),t.ads.adType="preroll",this.waitingForAdBreak=!1,o.start(t),t.ads._shouldBlockPlay=!1)},f.prototype.onAdStarted=function(n){n.removeClass("vjs-ad-loading")},f.prototype.endLinearAdMode=function(){var n=this.player;this.inAdBreak()&&(n.removeClass("vjs-ad-loading"),n.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,o.end(n))},f.prototype.skipLinearAdMode=function(){var i=this,t=this.player;t.ads.inAdBreak()||this.isContentResuming()?n.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){t.trigger("adskip");t.ads.debug("skipLinearAdMode (Preroll)");i.resumeAfterNoPreroll(t)})},f.prototype.onAdTimeout=function(n){var t=this;this.afterLoadStart(function(){n.ads.debug("adtimeout (Preroll)");t.resumeAfterNoPreroll(n)})},f.prototype.onNoPreroll=function(t){t.ads.inAdBreak()||this.isContentResuming()?n.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},f.prototype.resumeAfterNoPreroll=function(n){this.contentResuming=!0;n.ads._shouldBlockPlay=!1;n.paused()&&(n.ads._playRequested||n.ads._pausedOnContentupdate)&&n.play()},f.prototype.cleanup=function(t){t.ads._hasThereBeenALoadStartDuringPlayerLife||n.log.warn("Leaving Preroll state before loadstart event can cause issues.");t.removeClass("vjs-ad-loading");t.removeClass("vjs-ad-content-resuming");t.clearTimeout(this._timeout)},f}(l),li=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i._getName=function(){return"Midroll"},i.prototype.init=function(n){n.ads.adType="midroll";o.start(n);n.addClass("vjs-ad-loading")},i.prototype.onAdStarted=function(n){n.removeClass("vjs-ad-loading")},i.prototype.endLinearAdMode=function(){var n=this.player;this.inAdBreak()&&(this.contentResuming=!0,n.addClass("vjs-ad-content-resuming"),n.removeClass("vjs-ad-loading"),o.end(n))},i.prototype.onAdsError=function(n){this.inAdBreak()&&n.ads.endLinearAdMode()},i.prototype.cleanup=function(n){n.removeClass("vjs-ad-loading");n.removeClass("vjs-ad-content-resuming")},i}(l),ai=function(i){function f(){return t(this,f),u(this,i.apply(this,arguments))}return r(f,i),f._getName=function(){return"Postroll"},f.prototype.init=function(n){if(this.waitingForAdBreak=!0,n.ads._contentEnding=!0,n.ads.nopostroll_)this.resumeContent(n),this.transitionTo(b);else{n.addClass("vjs-ad-loading");var t=n.ads.settings.timeout;typeof n.ads.settings.postrollTimeout=="number"&&(t=n.ads.settings.postrollTimeout);this._postrollTimeout=n.setTimeout(function(){n.trigger("adtimeout")},t)}},f.prototype.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?n.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,o.start(t))},f.prototype.onAdStarted=function(n){n.removeClass("vjs-ad-loading")},f.prototype.endLinearAdMode=function(){var t=this,n=this.player;this.inAdBreak()&&(n.removeClass("vjs-ad-loading"),this.resumeContent(n),o.end(n,function(){t.transitionTo(b)}))},f.prototype.skipLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?n.log.warn("Unexpected skipLinearAdMode invocation"):(t.ads.debug("Postroll abort (skipLinearAdMode)"),t.trigger("adskip"),this.abort(t))},f.prototype.onAdTimeout=function(n){n.ads.debug("Postroll abort (adtimeout)");this.abort(n)},f.prototype.onAdsError=function(n){n.ads.debug("Postroll abort (adserror)");n.ads.inAdBreak()?n.ads.endLinearAdMode():this.abort(n)},f.prototype.onContentChanged=function(){this.isContentResuming()?this.transitionTo(w):this.inAdBreak()||this.transitionTo(p)},f.prototype.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?n.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(t)},f.prototype.resumeContent=function(n){this.contentResuming=!0;n.addClass("vjs-ad-content-resuming")},f.prototype.abort=function(n){this.resumeContent(n);n.removeClass("vjs-ad-loading");this.transitionTo(b)},f.prototype.cleanup=function(n){n.removeClass("vjs-ad-content-resuming");n.clearTimeout(this._postrollTimeout);n.ads._contentEnding=!1},f}(l),w=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i._getName=function(){return"BeforePreroll"},i.prototype.init=function(n){this.adsReady=!1;this.shouldResumeToContent=!1;n.ads._shouldBlockPlay=!0},i.prototype.onAdsReady=function(n){n.ads.debug("Received adsready event (BeforePreroll)");this.adsReady=!0},i.prototype.onPlay=function(n){n.ads.debug("Received play event (BeforePreroll)");this.transitionTo(p,this.adsReady,this.shouldResumeToContent)},i.prototype.onAdsCanceled=function(n){n.ads.debug("adscanceled (BeforePreroll)");this.shouldResumeToContent=!0},i.prototype.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)");this.shouldResumeToContent=!0},i.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)");this.shouldResumeToContent=!0},i.prototype.skipLinearAdMode=function(){var n=this.player;n.trigger("adskip");n.ads.debug("skipLinearAdMode (BeforePreroll)");this.shouldResumeToContent=!0},i.prototype.onContentChanged=function(){this.init(this.player)},i}(a),ht=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i._getName=function(){return"ContentPlayback"},i.prototype.init=function(n){n.ads._shouldBlockPlay=!1},i.prototype.onAdsReady=function(n){n.ads.debug("Received adsready event (ContentPlayback)");n.ads.nopreroll_||(n.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),n.trigger("readyforpreroll"))},i.prototype.onReadyForPostroll=function(n){n.ads.debug("Received readyforpostroll event");this.transitionTo(ai)},i.prototype.startLinearAdMode=function(){this.transitionTo(li)},i}(a),b=function(i){function f(){return t(this,f),u(this,i.apply(this,arguments))}return r(f,i),f._getName=function(){return"AdsDone"},f.prototype.init=function(n){n.ads._contentHasEnded=!0;n.trigger("ended")},f.prototype.startLinearAdMode=function(){n.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},f}(a),vi=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i._getName=function(){return"StitchedAdRoll"},i.prototype.init=function(){this.waitingForAdBreak=!1;this.contentResuming=!1;this.player.ads.adType="stitched";o.start(this.player)},i.prototype.onPlaying=function(){},i.prototype.onContentResumed=function(){},i.prototype.onAdEnded=function(){this.endLinearAdMode();this.player.trigger("ended")},i.prototype.endLinearAdMode=function(){o.end(this.player);this.transitionTo(ct)},i}(l),ct=function(n){function i(){return t(this,i),u(this,n.apply(this,arguments))}return r(i,n),i._getName=function(){return"StitchedContentPlayback"},i.prototype.init=function(){this.player.ads._shouldBlockPlay=!1},i.prototype.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this._getName()+")")},i.prototype.startLinearAdMode=function(){this.transitionTo(vi)},i}(a),yi=s.isMiddlewareMediatorSupported,pi=n.getTech("Html5").Events,wi={timeout:5e3,prerollTimeout:undefined,postrollTimeout:undefined,debug:!1,stitchedAds:!1,contentIsLive:undefined,liveCuePoints:!0},k=function(t){var i=this,r=n.mergeOptions(wi,t),o=pi.concat(["firstplay","loadedalldata","playing"]),e,u;i.on(o,wt);yi()||ti(i,r.debug);i.setTimeout(function(){i.ads._hasThereBeenALoadStartDuringPlayerLife||i.src()===""||n.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3);i.on("ended",function(){i.hasClass("vjs-has-started")||i.addClass("vjs-has-started")});i.on("contenttimeupdate",function(){i.removeClass("vjs-waiting")});i.on(["addurationchange","adcanplay"],function(){if((!i.ads.snapshot||i.currentSrc()!==i.ads.snapshot.currentSrc)&&i.ads.inAdBreak()){var t=i.play();t&&t["catch"]&&t["catch"](function(t){n.log.warn("Play promise rejected when playing ad",t)})}});i.on("nopreroll",function(){i.ads.debug("Received nopreroll event");i.ads.nopreroll_=!0});i.on("nopostroll",function(){i.ads.debug("Received nopostroll event");i.ads.nopostroll_=!0});i.on("playing",function(){i.ads._cancelledPlay=!1;i.ads._pausedOnContentupdate=!1});i.on("play",function(){i.ads._playRequested=!0});i.one("loadstart",function(){i.ads._hasThereBeenALoadStartDuringPlayerLife=!0});i.on("loadeddata",function(){i.ads._hasThereBeenALoadedData=!0});i.on("loadedmetadata",function(){i.ads._hasThereBeenALoadedMetaData=!0});i.ads=lt(i);i.ads.settings=r;r.stitchedAds=!!r.stitchedAds;i.ads._state=r.stitchedAds?new ct(i):new w(i);i.ads._state.init(i);i.ads.cueTextTracks=f;i.ads.adMacroReplacement=ni.bind(i);bt(i);i.on("contentchanged",i.ads.reset);e=function(){return!i.ads.shouldPlayContentBehindAd(i)&&i.ads.inAdBreak()&&i.tech_.featuresNativeTextTracks&&n.browser.IS_IOS&&!Array.isArray(i.textTracks())};u=function(){var r=i.textTracks(),n,t;if(e())for(n=0;n<r.length;n++)t=r[n],t.mode==="showing"&&(t.mode="disabled")};i.ready(function(){i.textTracks().addEventListener("change",u)});i.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(n){i.ads._state.handleEvent(n.type)});i.on("dispose",function(){i.ads.reset();i.textTracks().removeEventListener("change",u)})};return k.VERSION=v,ei(k),k}),function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(require("video.js")):typeof define=="function"&&define.amd?define(["video.js"],t):t(n.videojs)}(this,function(n){"use strict";var r,u,t;n=n&&n.hasOwnProperty("default")?n["default"]:n;r=function(n,t,i){this.vjsPlayer=n;this.controller=i;this.contentTrackingTimer=null;this.contentComplete=!1;this.updateTimeIntervalHandle=null;this.updateTimeInterval=1e3;this.seekCheckIntervalHandle=null;this.seekCheckInterval=1e3;this.resizeCheckIntervalHandle=null;this.resizeCheckInterval=250;this.seekThreshold=100;this.contentEndedListeners=[];this.contentSource="";this.contentSourceType="";this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0};this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()};this.vjsControls=this.vjsPlayer.getChild("controlBar");this.h5Player=null;this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this));this.boundContentEndedListener=this.localContentEndedListener.bind(this);this.vjsPlayer.on("contentended",this.boundContentEndedListener);this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this));this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this));this.vjsPlayer.ready(this.onPlayerReady.bind(this));this.vjsPlayer.ads(t)};r.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval);this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval);this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)};r.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())};r.prototype.checkForSeeking=function(){var n=this.vjsPlayer.currentTime(),t=(n-this.contentPlayheadTracker.previousTime)*1e3;this.contentPlayheadTracker.seeking=Math.abs(t)>this.seekCheckInterval+this.seekThreshold?!0:!1;this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()};r.prototype.checkForResize=function(){var n=this.getPlayerWidth(),t=this.getPlayerHeight();if(n!=this.vjsPlayerDimensions.width||t!=this.vjsPlayerDimensions.height){this.vjsPlayerDimensions.width=n;this.vjsPlayerDimensions.height=t;this.controller.onPlayerResize(n,t)}};r.prototype.localContentEndedListener=function(){this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete());for(var n in this.contentEndedListeners)typeof this.contentEndedListeners[n]=="function"&&this.contentEndedListeners[n]();if(clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el())this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))};r.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")};r.prototype.playerDisposedListener=function(){var n,t;this.contentEndedListeners=[];this.controller.onPlayerDisposed();this.contentComplete=!0;this.vjsPlayer.off("contentended",this.boundContentEndedListener);this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);n=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(t in n)n[t]&&clearInterval(n[t])};r.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()};r.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0];this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0);this.onVolumeChange();this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this));this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this));this.controller.onPlayerReady()};r.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()};r.prototype.onVolumeChange=function(){var n=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(n)};r.prototype.injectAdContainerDiv=function(n){this.vjsControls.el().parentNode.appendChild(n)};r.prototype.getContentPlayer=function(){return this.h5Player};r.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()};r.prototype.setVolume=function(n){this.vjsPlayer.volume(n);n==0?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)};r.prototype.unmute=function(){this.vjsPlayer.muted(!1)};r.prototype.mute=function(){this.vjsPlayer.muted(!0)};r.prototype.play=function(){this.vjsPlayer.play()};r.prototype.getPlayerWidth=function(){var n=(getComputedStyle(this.vjsPlayer.el())||{}).width;return n&&parseInt(n,10)!==0||(n=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(n,10)||this.vjsPlayer.width()};r.prototype.getPlayerHeight=function(){var n=(getComputedStyle(this.vjsPlayer.el())||{}).height;return n&&parseInt(n,10)!==0||(n=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseInt(n,10)||this.vjsPlayer.height()};r.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_};r.prototype.getPlayerId=function(){return this.vjsPlayer.id()};r.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()};r.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker};r.prototype.onAdError=function(n){this.vjsControls.show();var t=n.getError!==undefined?n.getError():n.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:n}})};r.prototype.onAdLog=function(n){var t=n.getAdData(),i=t.adError!==undefined?t.adError.getMessage():undefined;this.vjsPlayer.trigger({type:"adslog",data:{AdError:i,AdEvent:n}})};r.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc();this.contentSourceType=this.vjsPlayer.currentType();this.vjsPlayer.off("contentended",this.boundContentEndedListener);this.vjsPlayer.ads.startLinearAdMode();this.vjsControls.hide();this.vjsPlayer.pause()};r.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener);this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode();this.vjsControls.show()};r.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")};r.prototype.onAllAdsCompleted=function(){this.contentComplete==!0&&(this.h5Player.src!=this.contentSource&&(this.vjsPlayer.autoplay(!1),this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType})),this.controller.onContentAndAdsCompleted())};r.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")};r.prototype.changeSource=function(n,t){if(this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),n&&this.vjsPlayer.src(n),t)this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this));else this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))};r.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)};r.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0);this.vjsPlayer.play()};r.prototype.triggerPlayerEvent=function(n,t){this.vjsPlayer.trigger(n,t)};r.prototype.addContentEndedListener=function(n){this.contentEndedListeners.push(n)};r.prototype.reset=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener);this.vjsControls.show();this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode();this.contentPlayheadTracker.currentTime=0;this.contentComplete=!1};u=function(n){this.controller=n;this.adContainerDiv=document.createElement("div");this.controlsDiv=document.createElement("div");this.countdownDiv=document.createElement("div");this.seekBarDiv=document.createElement("div");this.progressDiv=document.createElement("div");this.playPauseDiv=document.createElement("div");this.muteDiv=document.createElement("div");this.sliderDiv=document.createElement("div");this.sliderLevelDiv=document.createElement("div");this.fullscreenDiv=document.createElement("div");this.boundOnMouseUp=this.onMouseUp.bind(this);this.boundOnMouseMove=this.onMouseMove.bind(this);this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0};this.controlPrefix=this.controller.getPlayerId()+"_";this.showCountdown=!0;this.controller.getSettings().showCountdown===!1&&(this.showCountdown=!1);this.createAdContainer()};u.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container");this.adContainerDiv.style.position="absolute";this.adContainerDiv.style.zIndex=1111;this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1);this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1);this.createControls();this.controller.injectAdContainerDiv(this.adContainerDiv)};u.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div");this.controlsDiv.style.width="100%";this.assignControlAttributes(this.countdownDiv,"ima-countdown-div");this.countdownDiv.innerHTML=this.controller.getSettings().adLabel;this.countdownDiv.style.display=this.showCountdown?"block":"none";this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div");this.seekBarDiv.style.width="100%";this.assignControlAttributes(this.progressDiv,"ima-progress-div");this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div");this.addClass(this.playPauseDiv,"ima-playing");this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1);this.assignControlAttributes(this.muteDiv,"ima-mute-div");this.addClass(this.muteDiv,"ima-non-muted");this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1);this.assignControlAttributes(this.sliderDiv,"ima-slider-div");this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1);this.controller.getIsIos()&&(this.sliderDiv.style.display="none");this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div");this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div");this.addClass(this.fullscreenDiv,"ima-non-fullscreen");this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1);this.adContainerDiv.appendChild(this.controlsDiv);this.controlsDiv.appendChild(this.countdownDiv);this.controlsDiv.appendChild(this.seekBarDiv);this.controlsDiv.appendChild(this.playPauseDiv);this.controlsDiv.appendChild(this.muteDiv);this.controlsDiv.appendChild(this.sliderDiv);this.controlsDiv.appendChild(this.fullscreenDiv);this.seekBarDiv.appendChild(this.progressDiv);this.sliderDiv.appendChild(this.sliderLevelDiv)};u.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()};u.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()};u.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()};u.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused");this.removeClass(this.playPauseDiv,"ima-playing");this.showAdControls()};u.prototype.onAdsResumed=function(){this.onAdsPlaying();this.showAdControls()};u.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing");this.removeClass(this.playPauseDiv,"ima-paused")};u.prototype.updateAdUi=function(n,t,i,r,u){var h=Math.floor(t/60),f=Math.floor(t%60),e,o,s;f.toString().length<2&&(f="0"+f);e=": ";u>1&&(e=" ("+r+" "+this.controller.getSettings().adLabelNofN+" "+u+"): ");this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+e+h+":"+f;o=n/i;s=o*100;this.progressDiv.style.width=s+"%"};u.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted");this.removeClass(this.muteDiv,"ima-muted");this.sliderLevelDiv.style.width=this.controller.getPlayerVolume()*100+"%"};u.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted");this.removeClass(this.muteDiv,"ima-non-muted");this.sliderLevelDiv.style.width="0%"};u.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1);document.addEventListener("mousemove",this.boundOnMouseMove,!1)};u.prototype.onMouseMove=function(n){this.changeVolume(n)};u.prototype.onMouseUp=function(n){this.changeVolume(n);document.removeEventListener("mouseup",this.boundOnMouseUp);document.removeEventListener("mousemove",this.boundOnMouseMove)};u.prototype.changeVolume=function(n){var t=(n.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100;t=Math.min(Math.max(t,0),100);this.sliderLevelDiv.style.width=t+"%";this.percent==0?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"));this.controller.setVolume(t/100)};u.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"};u.prototype.onAdError=function(){this.adContainerDiv.style.display="none"};u.prototype.onAdBreakStart=function(n){this.adContainerDiv.style.display="block";var t=n.getAd().getContentType();this.controlsDiv.style.display=t!=="application/javascript"||this.controller.getSettings().showControlsForJSAds?"block":"none";this.onAdsPlaying();this.hideAdControls()};u.prototype.onAdBreakEnd=function(){var n=this.controller.getCurrentAd();(n==null||n.isLinear())&&(this.adContainerDiv.style.display="none");this.controlsDiv.style.display="none";this.countdownDiv.innerHTML=""};u.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"};u.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")};u.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block";this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")};u.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen");this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")};u.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen");this.removeClass(this.fullscreenDiv,"ima-fullscreen")};u.prototype.onPlayerVolumeChanged=function(n){n==0?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=n*100+"%")};u.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing");this.playPauseDiv.style.display="block";this.muteDiv.style.display="block";this.fullscreenDiv.style.display="block";this.controller.getIsIos()||(this.sliderDiv.style.display="block")};u.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing");this.playPauseDiv.style.display="none";this.muteDiv.style.display="none";this.sliderDiv.style.display="none";this.fullscreenDiv.style.display="none"};u.prototype.assignControlAttributes=function(n,t){n.id=this.controlPrefix+t;n.className=this.controlPrefix+t+" "+t};u.prototype.getClassRegexp=function(n){return new RegExp("(^|[^A-Za-z-])"+n+"((?![A-Za-z-])|$)","gi")};u.prototype.elementHasClass=function(n,t){var i=this.getClassRegexp(t);return i.test(n.className)};u.prototype.addClass=function(n,t){n.className=n.className.trim()+" "+t};u.prototype.removeClass=function(n,t){var i=this.getClassRegexp(t);n.className=n.className.trim().replace(i,"")};u.prototype.getAdContainerDiv=function(){return this.adContainerDiv};u.prototype.setShowCountdown=function(n){this.showCountdown=n;this.countdownDiv.style.display=this.showCountdown?"block":"none"};var f={name:"videojs-ima",version:"1.5.1",license:"Apache-2.0",main:"./dist/videojs.ima.js",author:{name:"Google Inc."},engines:{node:">=0.8.0"},scripts:{contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"npm-run-all -p testServer contBuild",lint:'eslint "src/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs5":"npm install video.js@5.19.2 --no-save && npm-run-all -p -r testServer webdriver","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},repository:{type:"git",url:"https://github.com/googleads/videojs-ima"},files:["CHANGELOG.md","LICENSE","README.md","dist/","src/"],dependencies:{"can-autoplay":"^3.0.0",cryptiles:"^4.1.2","video.js":"^5.19.2 || ^6","videojs-contrib-ads":"^6"},devDependencies:{"babel-core":"^6.26.3","babel-preset-env":"^1.7.0",child_process:"^1.0.2",chromedriver:"^2.35.0","conventional-changelog-cli":"^1.3.5","conventional-changelog-videojs":"^3.0.0",eslint:"^4.11.0","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.2.0",geckodriver:"^1.12.2","http-server":"^0.10.0",mocha:"^4.0.1","npm-run-all":"^4.1.2",path:"^0.12.7",rimraf:"^2.6.2",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.3","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.1.10",watch:"^1.0.2"},keywords:["videojs","videojs-plugin"]},e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},i=function(n){this.controller=n;this.adDisplayContainer=null;this.adDisplayContainerInitialized=!1;this.adsLoader=null;this.adsManager=null;this.adsRenderingSettings=null;this.adsResponse=null;this.currentAd=null;this.adTrackingTimer=null;this.allAdsCompleted=!1;this.adsActive=!1;this.adPlaying=!1;this.adMuted=!1;this.adBreakReadyListener=undefined;this.contentCompleteCalled=!1;this.adsManagerDimensions={width:0,height:0};this.autoPlayAdBreaks=!0;this.controller.getSettings().autoPlayAdBreaks===!1&&(this.autoPlayAdBreaks=!1);this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale);this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds);this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus)};i.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer());this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer);this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);this.controller.getSettings().vpaidAllowed==!1&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED);this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode);this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale);this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects);this.adsLoader.getSettings().setPlayerType("videojs-ima");this.adsLoader.getSettings().setPlayerVersion(f.version);this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks);this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1);this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)};i.prototype.requestAds=function(){var n=new google.ima.AdsRequest,t;this.controller.getSettings().adTagUrl?n.adTagUrl=this.controller.getSettings().adTagUrl:n.adsResponse=this.controller.getSettings().adsResponse;this.controller.getSettings().forceNonLinearFullSlot&&(n.forceNonLinearFullSlot=!0);this.controller.getSettings().vastLoadTimeout&&(n.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout);n.linearAdSlotWidth=this.controller.getPlayerWidth();n.linearAdSlotHeight=this.controller.getPlayerHeight();n.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth();n.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight();n.setAdWillAutoPlay(this.controller.adsWillAutoplay());n.setAdWillPlayMuted(this.controller.adsWillPlayMuted());t=this.controller.getSettings().adsRequest;t&&(typeof t=="undefined"?"undefined":e(t))==="object"&&Object.keys(t).forEach(function(i){n[i]=t[i]});this.adsLoader.requestAds(n);this.controller.triggerPlayerEvent("ads-request",n)};i.prototype.onAdsManagerLoaded=function(n){this.createAdsRenderingSettings();this.adsManager=n.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings);this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this));this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this));this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this)));this.autoPlayAdBreaks||this.initAdsManager();this.controller.onAdsReady();this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()};i.prototype.onAdsLoaderError=function(n){window.console.warn("AdsLoader error: "+n.getError());this.controller.onErrorLoadingAds(n);this.adsManager&&this.adsManager.destroy()};i.prototype.initAdsManager=function(){try{var n=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=n;this.adsManagerDimensions.height=t;this.adsManager.init(n,t,google.ima.ViewMode.NORMAL);this.adsManager.setVolume(this.controller.getPlayerVolume());this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(i){this.onAdError(i)}};i.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var n in this.controller.getSettings().adsRenderingSettings)n!==""&&(this.adsRenderingSettings[n]=this.controller.getSettings().adsRenderingSettings[n])};i.prototype.onAdError=function(n){var t=n.getError!==undefined?n.getError():n.stack;window.console.warn("Ad error: "+t);this.adsManager.destroy();this.controller.onAdError(n);this.adsActive=!1;this.adPlaying=!1};i.prototype.onAdBreakReady=function(n){this.adBreakReadyListener(n)};i.prototype.onContentPauseRequested=function(n){this.adsActive=!0;this.adPlaying=!0;this.controller.onAdBreakStart(n)};i.prototype.onContentResumeRequested=function(){this.adsActive=!1;this.adPlaying=!1;this.controller.onAdBreakEnd()};i.prototype.onAllAdsCompleted=function(){this.allAdsCompleted=!0;this.controller.onAllAdsCompleted()};i.prototype.onAdLoaded=function(n){n.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())};i.prototype.onAdStarted=function(n){this.currentAd=n.getAd();this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()};i.prototype.onAdPaused=function(){this.controller.onAdsPaused()};i.prototype.onAdResumed=function(){this.controller.onAdsResumed()};i.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)};i.prototype.onAdLog=function(n){this.controller.onAdLog(n)};i.prototype.onAdPlayheadTrackerInterval=function(){var r=this.adsManager.getRemainingTime(),u=this.currentAd.getDuration(),n=u-r,t,i;n=n>0?n:0;t=0;i=void 0;this.currentAd.getAdPodInfo()&&(i=this.currentAd.getAdPodInfo().getAdPosition(),t=this.currentAd.getAdPodInfo().getTotalAds());this.controller.onAdPlayheadUpdated(n,r,u,i,t)};i.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0);this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll();this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()};i.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer);this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)};i.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer();this.adsManager.setVolume(this.controller.getPlayerVolume());this.adsManager.start()}catch(n){this.onAdError(n)}}};i.prototype.onPlayerReady=function(){this.initAdObjects();(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()};i.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)};i.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)};i.prototype.onPlayerVolumeChanged=function(n){this.adsManager&&this.adsManager.setVolume(n);this.adMuted=n==0?!0:!1};i.prototype.onPlayerResize=function(n,t){this.adsManager&&(this.adsManagerDimensions.width=n,this.adsManagerDimensions.height=t,this.adsManager.resize(n,t,google.ima.ViewMode.NORMAL))};i.prototype.getCurrentAd=function(){return this.currentAd};i.prototype.setAdBreakReadyListener=function(n){this.adBreakReadyListener=n};i.prototype.isAdPlaying=function(){return this.adPlaying};i.prototype.isAdMuted=function(){return this.adMuted};i.prototype.pauseAds=function(){this.adsManager.pause();this.adPlaying=!1};i.prototype.resumeAds=function(){this.adsManager.resume();this.adPlaying=!0};i.prototype.unmute=function(){this.adsManager.setVolume(1);this.adMuted=!1};i.prototype.mute=function(){this.adsManager.setVolume(0);this.adMuted=!0};i.prototype.setVolume=function(n){this.adsManager.setVolume(n);this.adMuted=n==0?!0:!1};i.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())};i.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())};i.prototype.addEventListener=function(n,t){this.adsManager&&this.adsManager.addEventListener(n,t)};i.prototype.getAdsManager=function(){return this.adsManager};i.prototype.reset=function(){this.adsActive=!1;this.adPlaying=!1;this.adTrackingTimer&&clearInterval(this.adTrackingTimer);this.adsManager&&(this.adsManager.destroy(),this.adsManager=null);this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete();this.contentCompleteCalled=!1;this.allAdsCompleted=!1};t=function(n,t){this.settings={};this.contentAndAdsEndedListeners=[];this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i);this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i);this.initWithSettings(t);var f={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},e=this.extend({},f,t.contribAdsSettings||{});this.playerWrapper=new r(n,e,this);this.adUi=new u(this);this.sdkImpl=new i(this)};t.IMA_DEFAULTS={debug:!1,timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",adLabelNofN:"of",showControlsForJSAds:!0};t.prototype.initWithSettings=function(n){this.settings=this.extend({},t.IMA_DEFAULTS,n||{});this.warnAboutDeprecatedSettings();this.showCountdown=!0;this.settings.showCountdown===!1&&(this.showCountdown=!1)};t.prototype.warnAboutDeprecatedSettings=function(){var n=this;["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"].forEach(function(t){n.settings[t]!==undefined&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})};t.prototype.getSettings=function(){return this.settings};t.prototype.getIsMobile=function(){return this.isMobile};t.prototype.getIsIos=function(){return this.isIos};t.prototype.injectAdContainerDiv=function(n){this.playerWrapper.injectAdContainerDiv(n)};t.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()};t.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()};t.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()};t.prototype.requestAds=function(){this.sdkImpl.requestAds()};t.prototype.setSetting=function(n,t){this.settings[n]=t};t.prototype.onErrorLoadingAds=function(n){this.adUi.onAdError();this.playerWrapper.onAdError(n)};t.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())};t.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())};t.prototype.setVolume=function(n){this.playerWrapper.setVolume(n);this.sdkImpl.setVolume(n)};t.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()};t.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()};t.prototype.onAdError=function(n){this.adUi.onAdError();this.playerWrapper.onAdError(n)};t.prototype.onAdBreakStart=function(n){this.playerWrapper.onAdBreakStart();this.adUi.onAdBreakStart(n)};t.prototype.showAdContainer=function(){this.adUi.showAdContainer()};t.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd();this.adUi.onAdBreakEnd()};t.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted();this.playerWrapper.onAllAdsCompleted()};t.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()};t.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()};t.prototype.onAdPlayheadUpdated=function(n,t,i,r,u){this.adUi.updateAdUi(n,t,i,r,u)};t.prototype.onAdLog=function(n){this.playerWrapper.onAdLog(n)};t.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()};t.prototype.playContent=function(){this.playerWrapper.play()};t.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart();this.playerWrapper.onAdStart()};t.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()};t.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad();this.playerWrapper.onAdStart()};t.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()};t.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()};t.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()};t.prototype.onPlayerResize=function(n,t){this.sdkImpl.onPlayerResize(n,t)};t.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()};t.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()};t.prototype.onContentAndAdsCompleted=function(){for(var n in this.contentAndAdsEndedListeners)typeof this.contentAndAdsEndedListeners[n]=="function"&&this.contentAndAdsEndedListeners[n]()};t.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[];this.sdkImpl.onPlayerDisposed()};t.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()};t.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()};t.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen();this.sdkImpl.onPlayerEnterFullscreen()};t.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen();this.sdkImpl.onPlayerExitFullscreen()};t.prototype.onPlayerVolumeChanged=function(n){this.adUi.onPlayerVolumeChanged(n);this.sdkImpl.onPlayerVolumeChanged(n)};t.prototype.setContentWithAdTag=function(n,t,i){this.reset();this.settings.adTagUrl=t?t:this.settings.adTagUrl;this.playerWrapper.changeSource(n,i)};t.prototype.setContentWithAdsResponse=function(n,t,i){this.reset();this.settings.adsResponse=t?t:this.settings.adsResponse;this.playerWrapper.changeSource(n,i)};t.prototype.setContentWithAdsRequest=function(n,t,i){this.reset();this.settings.adsRequest=t?t:this.settings.adsRequest;this.playerWrapper.changeSource(n,i)};t.prototype.reset=function(){this.sdkImpl.reset();this.playerWrapper.reset()};t.prototype.addContentEndedListener=function(n){this.playerWrapper.addContentEndedListener(n)};t.prototype.addContentAndAdsEndedListener=function(n){this.contentAndAdsEndedListeners.push(n)};t.prototype.setAdBreakReadyListener=function(n){this.sdkImpl.setAdBreakReadyListener(n)};t.prototype.setShowCountdown=function(n){this.adUi.setShowCountdown(n);this.showCountdown=n;this.countdownDiv.style.display=this.showCountdown?"block":"none"};t.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()};t.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()};t.prototype.addEventListener=function(n,t){this.sdkImpl.addEventListener(n,t)};t.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()};t.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()};t.prototype.changeAdTag=function(n){this.reset();this.settings.adTagUrl=n};t.prototype.pauseAd=function(){this.adUi.onAdsPaused();this.sdkImpl.pauseAds()};t.prototype.resumeAd=function(){this.adUi.onAdsPlaying();this.sdkImpl.resumeAds()};t.prototype.adsWillAutoplay=function(){return this.settings.adsWillAutoplay!==undefined?this.settings.adsWillAutoplay:this.settings.adWillAutoplay!==undefined?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay};t.prototype.adsWillPlayMuted=function(){return this.settings.adsWillPlayMuted!==undefined?this.settings.adsWillPlayMuted:this.settings.adWillPlayMuted!==undefined?this.settings.adWillPlayMuted:this.playerWrapper.getPlayerOptions().muted!==undefined?this.playerWrapper.getPlayerOptions().muted:this.playerWrapper.getVolume()==0};t.prototype.triggerPlayerEvent=function(n,t){this.playerWrapper.triggerPlayerEvent(n,t)};t.prototype.extend=function(n){for(var t=void 0,i=void 0,r=void 0,f=arguments.length,e=Array(f>1?f-1:0),u=1;u<f;u++)e[u-1]=arguments[u];for(i=0;i<e.length;i++){t=e[i];for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r])}return n};var o=function(n,i){this.controller=new t(n,i);this.addContentAndAdsEndedListener=function(n){this.controller.addContentAndAdsEndedListener(n)}.bind(this);this.addContentEndedListener=function(n){this.controller.addContentEndedListener(n)}.bind(this);this.addEventListener=function(n,t){this.controller.addEventListener(n,t)}.bind(this);this.changeAdTag=function(n){this.controller.changeAdTag(n)}.bind(this);this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this);this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this);this.pauseAd=function(){this.controller.pauseAd()}.bind(this);this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this);this.requestAds=function(){this.controller.requestAds()}.bind(this);this.resumeAd=function(){this.controller.resumeAd()}.bind(this);this.setAdBreakReadyListener=function(n){this.controller.setAdBreakReadyListener(n)}.bind(this);this.setContentWithAdTag=function(n,t,i){this.controller.setContentWithAdTag(n,t,i)}.bind(this);this.setContentWithAdsResponse=function(n,t,i){this.controller.setContentWithAdsResponse(n,t,i)}.bind(this);this.setContentWithAdsRequest=function(n,t,i){this.controller.setContentWithAdsRequest(n,t,i)}.bind(this);this.setShowCountdown=function(n){this.controller.setShowCountdown(n)}.bind(this)},s=function(n){this.ima=new o(this,n)},h=n.registerPlugin||n.plugin;h("ima",s)}),function(){function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}return n}()({1:[function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r,u;Object.defineProperty(i,"__esModule",{value:!0});r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();u=i.IVPAIDAdUnit=function(){function n(){f(this,n)}return r(n,[{key:"handshakeVersion",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"2.0",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined}},{key:"initAd",value:function(){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{AdParameters:""},t=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{flashVars:""},i=arguments.length>6&&arguments[6]!==undefined?arguments[6]:undefined}},{key:"resizeAd",value:function(){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined}},{key:"startAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"stopAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"pauseAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"resumeAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"expandAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"collapseAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"skipAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined}},{key:"getAdLinear",value:function(){}},{key:"getAdWidth",value:function(){}},{key:"getAdHeight",value:function(){}},{key:"getAdExpanded",value:function(){}},{key:"getAdSkippableState",value:function(){}},{key:"getAdRemainingTime",value:function(){}},{key:"getAdDuration",value:function(){}},{key:"setAdVolume",value:function(){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined}},{key:"getAdVolume",value:function(){}},{key:"getAdCompanions",value:function(){}},{key:"getAdIcons",value:function(){}}]),n}();Object.defineProperty(u,"EVENTS",{writable:!1,configurable:!1,value:["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]})},{}],2:[function(n,t,i){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function o(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&((typeof t=="undefined"?"undefined":u(t))==="object"||typeof t=="function")?t:n}function s(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof t=="undefined"?"undefined":u(t)));n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},f;Object.defineProperty(i,"__esModule",{value:!0});f=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();var r=n("./IVPAIDAdUnit").IVPAIDAdUnit,h=Object.getOwnPropertyNames(r.prototype).filter(function(n){return["constructor"].indexOf(n)===-1}),c=i.VPAIDAdUnit=function(n){function t(n){e(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._destroyed=!1,i._flash=n,i}return s(t,n),f(t,[{key:"_destroy",value:function(){var n=this;this._destroyed=!0;h.forEach(function(t){n._flash.removeCallbackByMethodName(t)});r.EVENTS.forEach(function(t){n._flash.offEvent(t)});this._flash=null}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"on",value:function(n,t){this._flash.on(n,t)}},{key:"off",value:function(n,t){this._flash.off(n,t)}},{key:"handshakeVersion",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"2.0",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;this._flash.callFlashMethod("handshakeVersion",[n],t)}},{key:"initAd",value:function(n,t,i,r){var u=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{AdParameters:""},f=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{flashVars:""},e=arguments.length>6&&arguments[6]!==undefined?arguments[6]:undefined;this._flash.setSize(n,t);u=u||{AdParameters:""};f=f||{flashVars:""};this._flash.callFlashMethod("initAd",[this._flash.getWidth(),this._flash.getHeight(),i,r,u.AdParameters||"",f.flashVars||""],e)}},{key:"resizeAd",value:function(n,t,i){var r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:undefined;this._flash.setSize(n,t);this._flash.callFlashMethod("resizeAd",[this._flash.getWidth(),this._flash.getHeight(),i],r)}},{key:"startAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("startAd",[],n)}},{key:"stopAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("stopAd",[],n)}},{key:"pauseAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("pauseAd",[],n)}},{key:"resumeAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("resumeAd",[],n)}},{key:"expandAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("expandAd",[],n)}},{key:"collapseAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("collapseAd",[],n)}},{key:"skipAd",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this._flash.callFlashMethod("skipAd",[],n)}},{key:"getAdLinear",value:function(n){this._flash.callFlashMethod("getAdLinear",[],n)}},{key:"getAdWidth",value:function(n){this._flash.callFlashMethod("getAdWidth",[],n)}},{key:"getAdHeight",value:function(n){this._flash.callFlashMethod("getAdHeight",[],n)}},{key:"getAdExpanded",value:function(n){this._flash.callFlashMethod("getAdExpanded",[],n)}},{key:"getAdSkippableState",value:function(n){this._flash.callFlashMethod("getAdSkippableState",[],n)}},{key:"getAdRemainingTime",value:function(n){this._flash.callFlashMethod("getAdRemainingTime",[],n)}},{key:"getAdDuration",value:function(n){this._flash.callFlashMethod("getAdDuration",[],n)}},{key:"setAdVolume",value:function(n){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;this._flash.callFlashMethod("setAdVolume",[n],t)}},{key:"getAdVolume",value:function(n){this._flash.callFlashMethod("getAdVolume",[],n)}},{key:"getAdCompanions",value:function(n){this._flash.callFlashMethod("getAdCompanions",[],n)}},{key:"getAdIcons",value:function(n){this._flash.callFlashMethod("getAdIcons",[],n)}}]),t}(r)},{"./IVPAIDAdUnit":1}],3:[function(n,t){"use strict";function l(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function i(){if(this._destroyed)throw new Error("VPAIDFlashToJS is destroyed!");}function k(){this._loadLater&&(this.loadAdUnit(this._loadLater.url,this._loadLater.callback),delete this._loadLater)}function h(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;Object.defineProperty(u,n,{writable:i,configurable:!1,value:t})}var c=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=n("swfobject"),f=n("./jsFlashBridge").JSFlashBridge,a=n("./VPAIDAdUnit").VPAIDAdUnit,v=n("./utils").noop,y=n("./utils").callbackTimeout,e=n("./utils").isPositiveInt,p=n("./utils").createElementWithID,w=n("./utils").unique("vpaid"),b=n("./flashTester.js").createFlashTester,o="10.1.0",s={isSupported:function(){return!0}},u=function(){function n(t,i){function b(n){return setTimeout(function(){i(new Error(n))},0),c}var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{data:"VPAIDFlash.swf",width:800,height:400},d=this,s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{wmode:"transparent",salign:"tl",align:"left",allowScriptAccess:"always",scale:"noScale",allowFullScreen:"true",quality:"high"},h=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{debug:!1,timeout:1e4},c,a;if(l(this,n),c=this,this._vpaidParentEl=t,this._flashID=w(),this._destroyed=!1,i=i||v,u.width=e(u.width,800),u.height=e(u.height,400),p(t,this._flashID,!0),s.movie=u.data,s.FlashVars="flashid="+this._flashID+"&handler="+f.VPAID_FLASH_HANDLER+"&debug="+h.debug+"&salign="+s.salign,!n.isSupported())return b("user don't support flash or doesn't have the minimum required version of flash "+o);if(this.el=r.createSWF(u,s,this._flashID),!this.el)return b("swfobject failed to create object in element");a=y(h.timeout,function(n,t){k.call(d);i(n,t)},function(){i("vpaid flash load timeout "+h.timeout)});this._flash=new f(this.el,u.data,this._flashID,u.width,u.height,a)}return c(n,[{key:"destroy",value:function(){this._destroyAdUnit();this._flash&&(this._flash.destroy(),this._flash=null);this.el=null;this._destroyed=!0}},{key:"isDestroyed",value:function(){return this._destroyed}},{key:"_destroyAdUnit",value:function(){delete this._loadLater;this._adUnitLoad&&(this._adUnitLoad=null,this._flash.removeCallback(this._adUnitLoad));this._adUnit&&(this._adUnit._destroy(),this._adUnit=null)}},{key:"loadAdUnit",value:function(n,t){var r=this;i.call(this);this._adUnit&&this._destroyAdUnit();this._flash.isReady()?(this._adUnitLoad=function(n){n||(r._adUnit=new a(r._flash));r._adUnitLoad=null;t(n,r._adUnit)},this._flash.callFlashMethod("loadAdUnit",[n],this._adUnitLoad)):this._loadLater={url:n,callback:t}}},{key:"unloadAdUnit",value:function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;i.call(this);this._destroyAdUnit();this._flash.callFlashMethod("unloadAdUnit",[],n)}},{key:"getFlashID",value:function(){return i.call(this),this._flash.getFlashID()}},{key:"getFlashURL",value:function(){return i.call(this),this._flash.getFlashURL()}}]),n}();h("isSupported",function(){return r.hasFlashPlayerVersion(o)&&s.isSupported()},!0);h("runFlashTest",function(n){s=b(document.body,n)});u.swfobject=r;t.exports=u},{"./VPAIDAdUnit":2,"./flashTester.js":4,"./jsFlashBridge":5,"./utils":8,swfobject:14}],4:[function(n,t,i){"use strict";function s(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var e;Object.defineProperty(i,"__esModule",{value:!0});e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();var h=n("swfobject"),u="vpaid_video_flash_tester",r="vpaid_video_flash_tester_el",o=n("./jsFlashBridge").JSFlashBridge,f=n("./utils"),c=n("./registry").MultipleValuesRegistry,l=function(){function n(t){var e=this,i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{data:"VPAIDFlash.swf",width:800,height:400},u;s(this,n);this.parentEl=f.createElementWithID(t,r);f.hideFlashEl(this.parentEl);u={};u.movie=i.data;u.FlashVars="flashid="+r+"&handler="+o.VPAID_FLASH_HANDLER;u.allowScriptAccess="always";this.el=h.createSWF(i,u,r);this._handlers=new c;this._isSupported=!1;this.el&&(f.hideFlashEl(this.el),this._flash=new o(this.el,i.data,r,i.width,i.height,function(){var n=!0;e._isSupported=n;e._handlers.get("change").forEach(function(t){setTimeout(function(){t("change",n)},0)})}))}return e(n,[{key:"isSupported",value:function(){return this._isSupported}},{key:"on",value:function(n,t){this._handlers.add(n,t)}}]),n}(),a=i.createFlashTester=function(n,t){return window[u]||(window[u]=new l(n,t)),window[u]}},{"./jsFlashBridge":5,"./registry":7,"./utils":8,swfobject:14}],5:[function(n,t,i){"use strict";function h(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t,i){var r=this;setTimeout(function(){var u=r._callbacks.get(n);u&&(r._callbacks.remove(n),u(t,i))},0)}var u;Object.defineProperty(i,"__esModule",{value:!0});u=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();var c=n("./utils").unique,f=n("./utils").isPositiveInt,l=n("./utils").stringEndsWith,a=n("./registry").SingleValueRegistry,v=n("./registry").MultipleValuesRegistry,r=n("./jsFlashBridgeRegistry"),e="vpaid_video_flash_handler",o="AdError",y=i.JSFlashBridge=function(){function n(t,i,u,f,e,o){h(this,n);this._el=t;this._flashID=u;this._flashURL=i;this._width=f;this._height=e;this._handlers=new v;this._callbacks=new a;this._uniqueMethodIdentifier=c(this._flashID);this._ready=!1;this._handShakeHandler=o;r.addInstance(this._flashID,this)}return u(n,[{key:"on",value:function(n,t){this._handlers.add(n,t)}},{key:"off",value:function(n,t){return this._handlers.remove(n,t)}},{key:"offEvent",value:function(n){return this._handlers.removeByKey(n)}},{key:"offAll",value:function(){return this._handlers.removeAll()}},{key:"callFlashMethod",value:function(n){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined,t="";i&&(t=this._uniqueMethodIdentifier()+"_"+n,this._callbacks.add(t,i));try{this._el[n]([t].concat(u))}catch(r){i?s.call(this,t,r):this._trigger(o,r)}}},{key:"removeCallback",value:function(n){return this._callbacks.removeByValue(n)}},{key:"removeCallbackByMethodName",value:function(n){var t=this;this._callbacks.filterKeys(function(t){return l(t,n)}).forEach(function(n){t._callbacks.remove(n)})}},{key:"removeAllCallbacks",value:function(){return this._callbacks.removeAll()}},{key:"_trigger",value:function(n,t){var i=this;this._handlers.get(n).forEach(function(r){n==="AdClickThru"?r(t):setTimeout(function(){i._handlers.get(n).length>0&&r(t)},0)})}},{key:"_callCallback",value:function(n,t,i,r){var u=this._callbacks.get(t);if(!u){i&&t===""&&this.trigger(o,i);return}s.call(this,t,i,r)}},{key:"_handShake",value:function(n,t){this._ready=!0;this._handShakeHandler&&(this._handShakeHandler(n,t),delete this._handShakeHandler)}},{key:"getSize",value:function(){return{width:this._width,height:this._height}}},{key:"setSize",value:function(n,t){this._width=f(n,this._width);this._height=f(t,this._height);this._el.setAttribute("width",this._width);this._el.setAttribute("height",this._height)}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(n){this.setSize(n,this._height)}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(n){this.setSize(this._width,n)}},{key:"getFlashID",value:function(){return this._flashID}},{key:"getFlashURL",value:function(){return this._flashURL}},{key:"isReady",value:function(){return this._ready}},{key:"destroy",value:function(){this.offAll();this.removeAllCallbacks();r.removeInstanceByID(this._flashID);this._el.parentElement&&this._el.parentElement.removeChild(this._el)}}]),n}();Object.defineProperty(y,"VPAID_FLASH_HANDLER",{writable:!1,configurable:!1,value:e});window[e]=function(n,t,i,u,f,e){var o=r.getInstanceByID(n);o&&(i==="handShake"?o._handShake(f,e):t!=="event"?o._callCallback(i,u,f,e):o._trigger(i,e))}},{"./jsFlashBridgeRegistry":6,"./registry":7,"./utils":8}],6:[function(n,t){"use strict";var u=n("./registry").SingleValueRegistry,r=new u,i={};Object.defineProperty(i,"addInstance",{writable:!1,configurable:!1,value:function(n,t){r.add(n,t)}});Object.defineProperty(i,"getInstanceByID",{writable:!1,configurable:!1,value:function(n){return r.get(n)}});Object.defineProperty(i,"removeInstanceByID",{writable:!1,configurable:!1,value:function(n){return r.remove(n)}});t.exports=i},{"./registry":7}],7:[function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var r,f,e;Object.defineProperty(i,"__esModule",{value:!0});r=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}();f=i.MultipleValuesRegistry=function(){function n(){u(this,n);this._registries={}}return r(n,[{key:"add",value:function(n,t){this._registries[n]||(this._registries[n]=[]);this._registries[n].indexOf(t)===-1&&this._registries[n].push(t)}},{key:"get",value:function(n){return this._registries[n]||[]}},{key:"filterKeys",value:function(n){return Object.keys(this._registries).filter(n)}},{key:"findByValue",value:function(n){var t=this;return Object.keys(this._registries).filter(function(i){return t._registries[i].indexOf(n)!==-1})}},{key:"remove",value:function(n,t){if(this._registries[n]){var i=this._registries[n].indexOf(t);if(!(i<0))return this._registries[n].splice(i,1)}}},{key:"removeByKey",value:function(n){var t=this._registries[n];return delete this._registries[n],t}},{key:"removeByValue",value:function(n){var t=this,i=this.findByValue(n);return i.map(function(i){return t.remove(i,n)})}},{key:"removeAll",value:function(){var n=this._registries;return this._registries={},n}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),n}();e=i.SingleValueRegistry=function(){function n(){u(this,n);this._registries={}}return r(n,[{key:"add",value:function(n,t){this._registries[n]=t}},{key:"get",value:function(n){return this._registries[n]}},{key:"filterKeys",value:function(n){return Object.keys(this._registries).filter(n)}},{key:"findByValue",value:function(n){var t=this;return Object.keys(this._registries).filter(function(i){return t._registries[i]===n})}},{key:"remove",value:function(n){var t=this._registries[n];return delete this._registries[n],t}},{key:"removeByValue",value:function(n){var t=this,i=this.findByValue(n);return i.map(function(n){return t.remove(n)})}},{key:"removeAll",value:function(){var n=this._registries;return this._registries={},n}},{key:"size",value:function(){return Object.keys(this._registries).length}}]),n}()},{}],8:[function(n,t,i){"use strict";function u(n){var t=-1;return function(){return n+"_"+ ++t}}function r(){}function f(n,t,i){var u=setTimeout(function(){t=r;i()},n);return function(){clearTimeout(u);t.apply(this,arguments)}}function e(n,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1,i=document.createElement("div");return i.id=t,r&&(n.innerHTML=""),n.appendChild(i),i}function o(n,t){return!isNaN(parseFloat(n))&&isFinite(n)&&n>0?n:t}function h(n,t){return s.call(n,t)}function c(n){n.style.position="absolute";n.style.left="-1px";n.style.top="-1px";n.style.width="1px";n.style.height="1px"}Object.defineProperty(i,"__esModule",{value:!0});i.unique=u;i.noop=r;i.callbackTimeout=f;i.createElementWithID=e;i.isPositiveInt=o;i.stringEndsWith=h;i.hideFlashEl=c;var s=function(){return String.prototype.endsWith?String.prototype.endsWith:function(n,t){var i=this.toString(),r;return(t===undefined||t>i.length)&&(t=i.length),t-=n.length,r=i.indexOf(n,t),r!==-1&&r===t}}()},{}],9:[function(n,t){"use strict";function i(){}function r(n,t,i){Object.defineProperty(n,t,{writable:!1,configurable:!1,value:i})}var u=["handshakeVersion","initAd","startAd","stopAd","skipAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","unsubscribe"],f;i.prototype.handshakeVersion=function(){};i.prototype.initAd=function(){};i.prototype.startAd=function(){};i.prototype.stopAd=function(){};i.prototype.skipAd=function(){};i.prototype.resizeAd=function(){};i.prototype.pauseAd=function(){};i.prototype.resumeAd=function(){};i.prototype.expandAd=function(){};i.prototype.collapseAd=function(){};i.prototype.subscribe=function(){};i.prototype.unsubscribe=function(){};i.prototype.getAdLinear=function(){};i.prototype.getAdWidth=function(){};i.prototype.getAdHeight=function(){};i.prototype.getAdExpanded=function(){};i.prototype.getAdSkippableState=function(){};i.prototype.getAdRemainingTime=function(){};i.prototype.getAdDuration=function(){};i.prototype.getAdVolume=function(){};i.prototype.getAdCompanions=function(){};i.prototype.getAdIcons=function(){};i.prototype.setAdVolume=function(){};r(i,"METHODS",u);r(i,"GETTERS",["getAdLinear","getAdWidth","getAdHeight","getAdExpanded","getAdSkippableState","getAdRemainingTime","getAdDuration","getAdVolume","getAdCompanions","getAdIcons"]);r(i,"SETTERS",["setAdVolume"]);r(i,"EVENTS",["AdLoaded","AdStarted","AdStopped","AdSkipped","AdSkippableStateChange","AdSizeChange","AdLinearChange","AdDurationChange","AdExpandedChange","AdRemainingTimeChange","AdVolumeChange","AdImpression","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdClickThru","AdInteraction","AdUserAcceptInvitation","AdUserMinimize","AdUserClose","AdPaused","AdPlaying","AdLog","AdError"]);f=u.filter(function(n){return["skipAd"].indexOf(n)===-1});r(i,"checkVPAIDInterface",function(n){return f.every(function(t){return typeof n[t]=="function"})});t.exports=i},{}],10:[function(n,t){"use strict";function i(n,t,i,r){this._isValid=s(n);this._isValid&&(this._creative=n,this._el=t,this._videoEl=i,this._iframe=r,this._subscribers=new o,f.setFullSizeStyle(t),l.call(this))}function l(){if(c.forEach(function(n){this._creative.subscribe(v.bind(this,n),n)}.bind(this)),this._creative.subscribe(a.bind(this),e),this._videoEl){var n=this._iframe.contentDocument.documentElement,t=this._videoEl;n.addEventListener("click",function(i){i.target===n&&t.click()})}}function a(n,t,i){this._subscribers.triggerSync(e,{url:n,id:t,playerHandles:i})}function v(n){this._subscribers.trigger(n,Array.prototype.slice(arguments,1))}function u(n,t,i,r){n?n(i,r):i&&t.trigger(h,i)}var r=n("./IVPAIDAdUnit"),o=n("./subscriber"),s=r.checkVPAIDInterface,f=n("./utils"),y=r.METHODS,h="AdError",e="AdClickThru",c=r.EVENTS.filter(function(n){return n!=e});i.prototype=Object.create(r.prototype);i.prototype.isValidVPAIDAd=function(){return this._isValid};r.METHODS.forEach(function(n){["subscribe","unsubscribe","initAd"].indexOf(n)===-1&&(i.prototype[n]=function(){var i=r.prototype[n].length,t=Array.prototype.slice.call(arguments),f=i===t.length?t.pop():undefined;setTimeout(function(){var i,r=null;try{i=this._creative[n].apply(this._creative,t)}catch(e){r=e}u(f,this._subscribers,r,i)}.bind(this),0)})});i.prototype.initAd=function(n,t,i,r,e,o,s){e=e||{};o=f.extend({slot:this._el,videoSlot:this._videoEl},o||{});setTimeout(function(){var f;try{this._creative.initAd(n,t,i,r,e,o)}catch(h){f=h}u(s,this._subscribers,f)}.bind(this),0)};i.prototype.subscribe=function(n,t,i){this._subscribers.subscribe(t,n,i)};i.prototype.unsubscribe=function(n,t){this._subscribers.unsubscribe(t,n)};i.prototype.on=i.prototype.subscribe;i.prototype.off=i.prototype.unsubscribe;r.GETTERS.forEach(function(n){i.prototype[n]=function(t){setTimeout(function(){var i,r=null;try{i=this._creative[n]()}catch(f){r=f}u(t,this._subscribers,r,i)}.bind(this),0)}});i.prototype.setAdVolume=function(n,t){setTimeout(function(){var r,i=null;try{this._creative.setAdVolume(n);r=this._creative.getAdVolume()}catch(e){i=e}i||(i=f.validate(r===n,"failed to apply volume: "+n));u(t,this._subscribers,i,r)}.bind(this),0)};i.prototype._destroy=function(){this.stopAd();this._subscribers.unsubscribeAll()};t.exports=i},{"./IVPAIDAdUnit":9,"./subscriber":12,"./utils":13}],11:[function(n,t){"use strict";function r(n,t,r,u){r=r||{};this._id=s();this._destroyed=!1;this._frameContainer=i.createElementInEl(n,"div");this._videoEl=t;this._vpaidOptions=u||{timeout:1e4};this._templateConfig={template:r.template||c,extraOptions:r.extraOptions||{}}}function a(n){var t=this[n];t&&(t.remove(),delete this[n])}function v(){f.call(this);delete this._adUnit}function u(){f.call(this);y.call(this)}function f(){a.call(this,"_frame");e.call(this)}function e(){this._onLoad&&(window.removeEventListener("message",this._onLoad),i.clearCallbackTimeout(this._onLoad),delete this._onLoad)}function y(){this._adUnit&&(this._adUnit.stopAd(),delete this._adUnit)}function p(){if(this._destroyed)throw new Error("VPAIDHTML5Client already destroyed!");}function o(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}var i=n("./utils"),s=i.unique("vpaidIframe"),h=n("./VPAIDAdUnit"),c='<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><\/head><body style="margin:0;padding:0"><div class="ad-element"><\/div><script type="text/javascript" src="{{iframeURL_JS}}"><\/script><script type="text/javascript">window.parent.postMessage(\'{"event": "ready", "id": "{{iframeID}}"}\', \'{{origin}}\');<\/script><\/body><\/html>',l="AdStopped";r.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,u.call(this))};r.prototype.isDestroyed=function(){return this._destroyed};r.prototype.loadAdUnit=function(n,t){function s(n){var c,f,u,s,a;if(n.origin===o())return(c=JSON.parse(n.data),c.id!==r.getID())?void 0:(r._frame.contentWindow?(s=r._frame.contentWindow.getVPAIDAd,u=i.validate(typeof s=="function","the ad didn't return a function to create an ad")):u="the iframe is not anymore in the DOM tree",u||(a=r._frame.contentWindow.document.querySelector(".ad-element"),f=new h(s(),a,r._videoEl,r._frame),f.subscribe(l,v.bind(r)),u=i.validate(f.isValidVPAIDAd(),"the add is not fully complaint with VPAID specification")),r._adUnit=f,e.call(r),t(u,u?null:f),!0)}function c(){t("timeout",null)}p.call(this);u.call(this);var r=this,f=i.createIframeWithContent(this._frameContainer,this._templateConfig.template,i.extend({iframeURL_JS:n,iframeID:this.getID(),origin:o()},this._templateConfig.extraOptions));this._frame=f;this._onLoad=i.callbackTimeout(this._vpaidOptions.timeout,s.bind(this),c.bind(this));window.addEventListener("message",this._onLoad)};r.prototype.unloadAdUnit=function(){u.call(this)};r.prototype.getID=function(){return this._id};t.exports=r},{"./VPAIDAdUnit":10,"./utils":13}],12:[function(n,t){"use strict";function i(){this._subscribers={}}i.prototype.subscribe=function(n,t,i){this.isHandlerAttached(n,t)||this.get(t).push({handler:n,context:i,eventName:t})};i.prototype.unsubscribe=function(n,t){this._subscribers[t]=this.get(t).filter(function(t){return n!==t.handler})};i.prototype.unsubscribeAll=function(){this._subscribers={}};i.prototype.trigger=function(n,t){var i=this,r=this.get(n).concat(this.get("*"));r.forEach(function(n){setTimeout(function(){i.isHandlerAttached(n.handler,n.eventName)&&n.handler.call(n.context,t)},0)})};i.prototype.triggerSync=function(n,t){var i=this.get(n).concat(this.get("*"));i.forEach(function(n){n.handler.call(n.context,t)})};i.prototype.get=function(n){return this._subscribers[n]||(this._subscribers[n]=[]),this._subscribers[n]};i.prototype.isHandlerAttached=function(n,t){return this.get(t).some(function(t){return n===t.handler})};t.exports=i},{}],13:[function(n,t){"use strict";function r(){}function h(n,t){return n?null:new Error(t)}function u(n){var t=i[n];t&&(clearTimeout(t),delete i[n])}function c(n,t,f){var e,o;return o=setTimeout(function(){t=r;delete o[e];f()},n),e=function(){t.apply(this,arguments)&&u(e)},i[e]=o,e}function l(n,t,i){var r=document.createElement(t);return i&&(r.id=i),n.appendChild(r),r}function a(n,t,i){var r=f(n,null,i.zIndex);if(s(r,o(t,i)))return r}function f(n,t,i){var r=document.createElement("iframe");return r.src=t||"about:blank",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.width="100%",r.height="100%",e(r),i&&(r.style.zIndex=i),r.setAttribute("SCROLLING","NO"),n.innerHTML="",n.appendChild(r),r}function e(n){n.style.position="absolute";n.style.left="0";n.style.top="0";n.style.margin="0px";n.style.padding="0px";n.style.border="none";n.style.width="100%";n.style.height="100%"}function o(n,t){return Object.keys(t).forEach(function(i){var r=typeof r=="object"?JSON.stringify(t[i]):t[i];n=n.replace(new RegExp("{{"+i+"}}","g"),r)}),n}function s(n,t){var i=n.contentWindow&&n.contentWindow.document;return i?(i.write(t),!0):!1}function v(n,t){return Object.keys(t).forEach(function(i){n[i]=t[i]}),n}function y(n){var t=-1;return function(){return n+"_"+ ++t}}var i={};t.exports={noop:r,validate:h,clearCallbackTimeout:u,callbackTimeout:c,createElementInEl:l,createIframeWithContent:a,createIframe:f,setFullSizeStyle:e,simpleTemplate:o,setIframeContent:s,extend:v,unique:y}},{}],14:[function(n,t){
/*!    SWFObject v2.3.20130521 <http://github.com/swfobject/swfobject>
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>
*/
(function(n,i){typeof define=="function"&&define.amd?define(i):typeof t=="object"&&t.exports?t.exports=i():n.swfobject=i()})(this,function(){function w(){var n,i,u,r;if(!c&&document.getElementsByTagName("body")[0]){try{i=f("span");i.style.display="none";n=t.getElementsByTagName("body")[0].appendChild(i);n.parentNode.removeChild(n);n=null;i=null}catch(e){return}for(c=!0,u=y.length,r=0;r<u;r++)y[r]()}}function kt(n){c?n():y[y.length]=n}function ii(n){if(typeof u.addEventListener!==i)u.addEventListener("load",n,!1);else if(typeof t.addEventListener!==i)t.addEventListener("load",n,!1);else if(typeof u.attachEvent!==i)oi(u,"onload",n);else if(typeof u.onload=="function"){var r=u.onload;u.onload=function(){r();n()}}else u.onload=n}function ri(){var h=t.getElementsByTagName("body")[0],e=f(o),u,s;e.setAttribute("style","visibility: hidden;");e.setAttribute("type",b);u=h.appendChild(e);u?(s=0,function c(){if(typeof u.GetVariable!==i)try{var t=u.GetVariable("$version");t&&(t=t.split(" ")[1].split(","),n.pv=[r(t[0]),r(t[1]),r(t[2])])}catch(f){n.pv=[8,0,0]}else if(s<10){s++;setTimeout(c,10);return}h.removeChild(e);u=null;ft()}()):ft()}function ft(){var y=s.length,u,t,o,h,c;if(y>0)for(u=0;u<y;u++){var f=s[u].id,e=s[u].callbackFn,r={success:!1,id:f};if(n.pv[0]>0){if(t=l(f),t)if(!tt(s[u].swfVersion)||n.wk&&n.wk<312)if(s[u].expressInstall&&ot()){o={};o.data=s[u].expressInstall;o.width=t.getAttribute("width")||"0";o.height=t.getAttribute("height")||"0";t.getAttribute("class")&&(o.styleclass=t.getAttribute("class"));t.getAttribute("align")&&(o.align=t.getAttribute("align"));var p={},v=t.getElementsByTagName("param"),w=v.length;for(h=0;h<w;h++)v[h].getAttribute("name").toLowerCase()!=="movie"&&(p[v[h].getAttribute("name")]=v[h].getAttribute("value"));st(o,p,f,e)}else ui(t),e&&e(r);else a(f,!0),e&&(r.success=!0,r.ref=et(f),r.id=f,e(r))}else a(f,!0),e&&(c=et(f),c&&typeof c.SetVariable!==i&&(r.success=!0,r.ref=c,r.id=c.id),e(r))}}function et(n){var r=null,t=l(n);return t&&t.nodeName.toUpperCase()==="OBJECT"&&(r=typeof t.SetVariable!==i?t:t.getElementsByTagName(o)[0]||t),r}function ot(){return!g&&tt("6.0.65")&&(n.win||n.mac)&&!(n.wk&&n.wk<312)}function st(e,o,s,h){var c=l(s),y,a,v;s=lt(s);g=!0;it=h||null;wt={success:!1,id:s};c&&(c.nodeName.toUpperCase()==="OBJECT"?(p=ht(c),d=null):(p=c,d=s),e.id=vt,(typeof e.width===i||!/%$/.test(e.width)&&r(e.width)<310)&&(e.width="310"),(typeof e.height===i||!/%$/.test(e.height)&&r(e.height)<137)&&(e.height="137"),y=n.ie?"ActiveX":"PlugIn",a="MMredirectURL="+encodeURIComponent(u.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+y+"&MMdoctitle="+encodeURIComponent(t.title.slice(0,47)+" - Flash Player Installation"),typeof o.flashvars!==i?o.flashvars+="&"+a:o.flashvars=a,n.ie&&c.readyState!=4&&(v=f("div"),s+="SWFObjectNew",v.setAttribute("id",s),c.parentNode.insertBefore(v,c),c.style.display="none",nt(c)),ct(e,o,s))}function ui(t){if(n.ie&&t.readyState!=4){t.style.display="none";var i=f("div");t.parentNode.insertBefore(i,t);i.parentNode.replaceChild(ht(t),i);nt(t)}else t.parentNode.replaceChild(ht(t),t)}function ht(t){var u=f("div"),e,i,s,r;if(n.win&&n.ie)u.innerHTML=t.innerHTML;else if(e=t.getElementsByTagName(o)[0],e&&(i=e.childNodes,i))for(s=i.length,r=0;r<s;r++)i[r].nodeType==1&&i[r].nodeName==="PARAM"||i[r].nodeType==8||u.appendChild(i[r].cloneNode(!0));return u}function fi(n,t){var i=f("div");return i.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+n+"'>"+t+"<\/object>",i.firstChild}function ct(t,r,u){var a,v=l(u),e,s,c,h;if(u=lt(u),n.wk&&n.wk<312)return a;if(v){e=n.ie?f("div"):f(o);typeof t.id===i&&(t.id=u);for(h in r)r.hasOwnProperty(h)&&h.toLowerCase()!=="movie"&&ei(e,h,r[h]);n.ie&&(e=fi(t.data,e.innerHTML));for(s in t)t.hasOwnProperty(s)&&(c=s.toLowerCase(),c==="styleclass"?e.setAttribute("class",t[s]):c!=="classid"&&c!=="data"&&e.setAttribute(s,t[s]));n.ie?k[k.length]=t.id:(e.setAttribute("type",b),e.setAttribute("data",t.data));v.parentNode.replaceChild(e,v);a=e}return a}function ei(n,t,i){var r=f("param");r.setAttribute("name",t);r.setAttribute("value",i);n.appendChild(r)}function nt(t){var i=l(t);i&&i.nodeName.toUpperCase()==="OBJECT"&&(n.ie?(i.style.display="none",function r(){if(i.readyState==4){for(var n in i)typeof i[n]=="function"&&(i[n]=null);i.parentNode.removeChild(i)}else setTimeout(r,10)}()):i.parentNode.removeChild(i))}function dt(n){return n&&n.nodeType&&n.nodeType===1}function lt(n){return dt(n)?n.id:n}function l(n){if(dt(n))return n;var i=null;try{i=t.getElementById(n)}catch(r){}return i}function f(n){return t.createElement(n)}function r(n){return parseInt(n,10)}function oi(n,t,i){n.attachEvent(t,i);v[v.length]=[n,t,i]}function tt(t){t+="";var u=n.pv,i=t.split(".");return i[0]=r(i[0]),i[1]=r(i[1])||0,i[2]=r(i[2])||0,u[0]>i[0]||u[0]==i[0]&&u[1]>i[1]||u[0]==i[0]&&u[1]==i[1]&&u[2]>=i[2]?!0:!1}function gt(r,u,e,o){var l=t.getElementsByTagName("head")[0],s,c;l&&(s=typeof e=="string"?e:"screen",o&&(h=null,rt=null),h&&rt==s||(c=f("style"),c.setAttribute("type","text/css"),c.setAttribute("media",s),h=l.appendChild(c),n.ie&&typeof t.styleSheets!==i&&t.styleSheets.length>0&&(h=t.styleSheets[t.styleSheets.length-1]),rt=s),h&&(typeof h.addRule!==i?h.addRule(r,u):typeof t.createTextNode!==i&&h.appendChild(t.createTextNode(r+" {"+u+"}"))))}function a(n,t){if(bt){var i=t?"visible":"hidden",r=l(n);c&&r?r.style.visibility=i:typeof n=="string"&&gt("#"+n,"visibility:"+i)}}function ni(n){var t=/[\\\"<>\.;]/.exec(n)!==null;return t&&typeof encodeURIComponent!==i?encodeURIComponent(n):n}var i="undefined",o="object",at="Shockwave Flash",ti="ShockwaveFlash.ShockwaveFlash",b="application/x-shockwave-flash",vt="SWFObjectExprInst",yt="onreadystatechange",u=window,t=document,e=navigator,pt=!1,y=[],s=[],k=[],v=[],p,d,it,wt,c=!1,g=!1,h,rt,bt=!0,ut=!1,n=function(){var a=typeof t.getElementById!==i&&typeof t.getElementsByTagName!==i&&typeof t.createElement!==i,s=e.userAgent.toLowerCase(),h=e.platform.toLowerCase(),v=h?/win/.test(h):/win/.test(s),y=h?/mac/.test(h):/mac/.test(s),p=/webkit/.test(s)?parseFloat(s.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,c=e.appName==="Microsoft Internet Explorer",f=[0,0,0],n=null,l;if(typeof e.plugins!==i&&typeof e.plugins[at]===o)n=e.plugins[at].description,n&&typeof e.mimeTypes!==i&&e.mimeTypes[b]&&e.mimeTypes[b].enabledPlugin&&(pt=!0,c=!1,n=n.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),f[0]=r(n.replace(/^(.*)\..*$/,"$1")),f[1]=r(n.replace(/^.*\.(.*)\s.*$/,"$1")),f[2]=/[a-zA-Z]/.test(n)?r(n.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof u.ActiveXObject!==i)try{l=new ActiveXObject(ti);l&&(n=l.GetVariable("$version"),n&&(c=!0,n=n.split(" ")[1].split(","),f=[r(n[0]),r(n[1]),r(n[2])]))}catch(w){}return{w3:a,pv:f,wk:p,ie:c,win:v,mac:y}}(),hi=function(){n.w3&&((typeof t.readyState!==i&&(t.readyState==="complete"||t.readyState==="interactive")||typeof t.readyState===i&&(t.getElementsByTagName("body")[0]||t.body))&&w(),c||(typeof t.addEventListener!==i&&t.addEventListener("DOMContentLoaded",w,!1),n.ie&&(t.attachEvent(yt,function r(){t.readyState==="complete"&&(t.detachEvent(yt,r),w())}),u==top&&function f(){if(!c){try{t.documentElement.doScroll("left")}catch(n){setTimeout(f,0);return}w()}}()),n.wk&&function e(){if(!c){if(!/loaded|complete/.test(t.readyState)){setTimeout(e,0);return}w()}}()))}(),si;return y[0]=function(){pt?ri():ft()},si=function(){n.ie&&window.attachEvent("onunload",function(){for(var r,i,u,f,e=v.length,t=0;t<e;t++)v[t][0].detachEvent(v[t][1],v[t][2]);for(r=k.length,i=0;i<r;i++)nt(k[i]);for(u in n)n[u]=null;n=null;for(f in swfobject)swfobject[f]=null;swfobject=null})}(),{registerObject:function(t,i,r,u){if(n.w3&&t&&i){var f={};f.id=t;f.swfVersion=i;f.expressInstall=r;f.callbackFn=u;s[s.length]=f;a(t,!1)}else u&&u({success:!1,id:t})},getObjectById:function(t){if(n.w3)return et(t)},embedSWF:function(t,r,u,f,e,s,h,c,l,v){var y=lt(r),p={success:!1,id:y};n.w3&&!(n.wk&&n.wk<312)&&t&&r&&u&&f&&e?(a(y,!1),kt(function(){var n,k,w,d,b,g,nt,it;if(u+="",f+="",n={},l&&typeof l===o)for(k in l)n[k]=l[k];if(n.data=t,n.width=u,n.height=f,w={},c&&typeof c===o)for(d in c)w[d]=c[d];if(h&&typeof h===o)for(b in h)h.hasOwnProperty(b)&&(g=ut?encodeURIComponent(b):b,nt=ut?encodeURIComponent(h[b]):h[b],typeof w.flashvars!==i?w.flashvars+="&"+g+"="+nt:w.flashvars=g+"="+nt);if(tt(e))it=ct(n,w,r),n.id==y&&a(y,!0),p.success=!0,p.ref=it,p.id=it.id;else{if(s&&ot()){n.data=s;st(n,w,r,v);return}a(y,!0)}v&&v(p)})):v&&v(p)},switchOffAutoHideShow:function(){bt=!1},enableUriEncoding:function(n){ut=typeof n===i?!0:n},ua:n,getFlashPlayerVersion:function(){return{major:n.pv[0],minor:n.pv[1],release:n.pv[2]}},hasFlashPlayerVersion:tt,createSWF:function(t,i,r){return n.w3?ct(t,i,r):undefined},showExpressInstall:function(t,i,r,u){n.w3&&ot()&&st(t,i,r,u)},removeSWF:function(t){n.w3&&nt(t)},createCSS:function(t,i,r,u){n.w3&&gt(t,i,r,u)},addDomLoadEvent:kt,addLoadEvent:ii,getQueryParamValue:function(n){var r=t.location.search||t.location.hash,u,i;if(r){if(/\?/.test(r)&&(r=r.split("?")[1]),!n)return ni(r);for(u=r.split("&"),i=0;i<u.length;i++)if(u[i].substring(0,u[i].indexOf("="))==n)return ni(u[i].substring(u[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(g){var t=l(vt);t&&p&&(t.parentNode.replaceChild(p,t),d&&(a(d,!0),n.ie&&(p.style.display="block")),it&&it(wt));g=!1}},version:"2.3"}})},{}],15:[function(n,t){"use strict";function i(n){if(!(this instanceof i))return new i(n);this.initialize(n)}var r=n("./InLine"),u=n("./Wrapper");i.prototype.initialize=function(n){this.id=n.attr("id");this.sequence=n.attr("sequence");n.inLine&&(this.inLine=new r(n.inLine));n.wrapper&&(this.wrapper=new u(n.wrapper))};t.exports=i},{"./InLine":18,"./Wrapper":28}],16:[function(n,t){"use strict";function u(n){function s(n){var t=[];return f.isDefined(n)&&(n=f.isArray(n)?n:[n],n.forEach(function(n){t.push(new e(n))})),t}var t,o;if(!(this instanceof u))return new u(n);r.info("<Companion> found companion ad");r.debug("<Companion>  companionJTree:",n);this.creativeType=i.attr(n.staticResource,"creativeType");this.staticResource=i.keyValue(n.staticResource);r.info("<Companion>  creativeType: "+this.creativeType);r.info("<Companion>  staticResource: "+this.staticResource);t=null;i.keyValue(n.HTMLResource)?t=i.keyValue(n.HTMLResource):i.keyValue(n.hTMLResource)&&(t=i.keyValue(n.hTMLResource));t!==null&&r.info("<Companion> found html resource",t);this.htmlResource=t;o=null;i.keyValue(n.IFrameResource)?o=i.keyValue(n.IFrameResource):i.keyValue(n.iFrameresource)&&(o=i.keyValue(n.iFrameresource));o!==null&&r.info("<Companion> found iframe resource",o);this.iframeResource=o;this.id=i.attr(n,"id");this.width=i.attr(n,"width");this.height=i.attr(n,"height");this.expandedWidth=i.attr(n,"expandedWidth");this.expandedHeight=i.attr(n,"expandedHeight");this.scalable=i.attr(n,"scalable");this.maintainAspectRatio=i.attr(n,"maintainAspectRatio");this.minSuggestedDuration=i.attr(n,"minSuggestedDuration");this.apiFramework=i.attr(n,"apiFramework");this.companionClickThrough=i.keyValue(n.companionClickThrough);this.trackingEvents=s(n.trackingEvents&&n.trackingEvents.tracking);r.info("<Companion>  companionClickThrough: "+this.companionClickThrough)}var e=n("./TrackingEvent"),f=n("../../utils/utilityFunctions"),i=n("../../utils/xml"),r=n("../../utils/consoleLogger");t.exports=u},{"../../utils/consoleLogger":41,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./TrackingEvent":21}],17:[function(n,t){"use strict";function i(n){if(!(this instanceof i))return new i(n);if(this.id=n.attr("id"),this.sequence=n.attr("sequence"),this.adId=n.attr("adId"),this.apiFramework=n.attr("apiFramework"),n.linear&&(this.linear=new u(n.linear)),n.companionAds){var e=[],t=n.companionAds&&n.companionAds.companion;r.isDefined(t)&&(t=r.isArray(t)?t:[t],t.forEach(function(n){e.push(new f(n))}));this.companionAds=e}}var u=n("./Linear"),f=n("./Companion"),r=n("../../utils/utilityFunctions");i.prototype.isSupported=function(){return this.linear?this.linear.isSupported():!0};i.parseCreatives=function(n){var t=[],u;return r.isDefined(n)&&r.isDefined(n.creative)&&(u=r.isArray(n.creative)?n.creative:[n.creative],u.forEach(function(n){t.push(new i(n))})),t};t.exports=i},{"../../utils/utilityFunctions":47,"./Companion":16,"./Linear":19}],18:[function(n,t){"use strict";function r(n){function t(n){return n?u.transformArray(u.isArray(n)?n:[n],function(n){return u.isNotEmptyString(n.keyValue)?{uri:n.keyValue,type:n.attr("type")}:undefined}):[]}if(!(this instanceof r))return new r(n);this.adTitle=i.keyValue(n.adTitle);this.adSystem=i.keyValue(n.adSystem);this.impressions=f.parseImpressions(n.impression);this.creatives=e.parseCreatives(n.creatives);this.description=i.keyValue(n.description);this.advertiser=i.keyValue(n.advertiser);this.surveys=t(n.survey);this.error=i.keyValue(n.error);this.pricing=i.keyValue(n.pricing);this.extensions=n.extensions}var f=n("./vastUtil"),e=n("./Creative"),u=n("../../utils/utilityFunctions"),i=n("../../utils/xml");r.prototype.isSupported=function(){var n,t;if(this.creatives.length===0)return!1;for(n=0,t=this.creatives.length;n<t;n+=1)if(!this.creatives[n].isSupported())return!1;return!0};t.exports=r},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],19:[function(n,t){"use strict";function u(n){function t(n,t){var i=[];return r.isDefined(n)&&(n=r.isArray(n)?n:[n],n.forEach(function(n){i.push(new e(n,t))})),i}function h(n){var t=[];return r.isDefined(n)&&(n=r.isArray(n)?n:[n],n.forEach(function(n){t.push(new o(n))})),t}if(!(this instanceof u))return new u(n);this.duration=f.duration(i.keyValue(n.duration));this.mediaFiles=h(n.mediaFiles&&n.mediaFiles.mediaFile);this.trackingEvents=t(n.trackingEvents&&n.trackingEvents.tracking,this.duration);this.skipoffset=f.offset(i.attr(n,"skipoffset"),this.duration);n.videoClicks&&(this.videoClicks=new s(n.videoClicks));n.adParameters&&(this.adParameters=i.keyValue(n.adParameters),i.attr(n.adParameters,"xmlEncoded")&&(this.adParameters=i.decode(this.adParameters)))}var e=n("./TrackingEvent"),o=n("./MediaFile"),s=n("./VideoClicks"),r=n("../../utils/utilityFunctions"),f=n("./parsers"),i=n("../../utils/xml");u.prototype.isSupported=function(){for(var n=0,t=this.mediaFiles.length;n<t;n+=1)if(this.mediaFiles[n].isSupported())return!0;return!1};t.exports=u},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./MediaFile":20,"./TrackingEvent":21,"./VideoClicks":27,"./parsers":29}],20:[function(n,t){"use strict";function i(n){var t,r;if(!(this instanceof i))return new i(n);for(this.src=f.keyValue(n),t=0;t<u.length;t++)r=u[t],this[r]=n.attr(r)}var f=n("../../utils/xml"),r=n("./vastUtil"),u=["delivery","type","width","height","codec","id","bitrate","minBitrate","maxBitrate","scalable","maintainAspectRatio","apiFramework"];i.prototype.isSupported=function(){return r.isVPAID(this)?!!r.findSupportedVPAIDTech(this.type):this.type==="video/x-flv"?r.isFlashSupported():!0};t.exports=i},{"../../utils/xml":48,"./vastUtil":30}],21:[function(n,t){"use strict";function i(n,t){if(!(this instanceof i))return new i(n,t);this.name=n.attr("event");this.uri=u.keyValue(n);"progress"===this.name&&(this.offset=r.offset(n.attr("offset"),t))}var r=n("./parsers"),u=n("../../utils/xml");t.exports=i},{"../../utils/xml":48,"./parsers":29}],22:[function(n,t){"use strict";function u(n){if(!(this instanceof u))return new u(n);n=n||{};this.settings=r.extend({},n,{WRAPPER_LIMIT:5});this.errorURLMacros=[]}var s=n("./Ad"),i=n("./VASTError"),h=n("./VASTResponse"),c=n("./vastUtil"),f=n("../../utils/async"),l=n("../../utils/http").http,r=n("../../utils/utilityFunctions"),e=n("../../utils/xml"),o=n("../../utils/consoleLogger");u.prototype.getVASTResponse=function(n,t){function o(n,t){try{var i=e._buildVASTResponse(n);t(null,i)}catch(r){t(r)}}function s(n,t){return n?r.isFunction(t)?void 0:new i("on VASTClient.getVASTResponse, missing callback function"):new i("on VASTClient.getVASTResponse, missing ad tag URL")}var e=this,u=s(n,t);if(u){if(r.isFunction(t))return t(u);throw u;}f.waterfall([this._getVASTAd.bind(this,n),o],t)};u.prototype._getVASTAd=function(n,t){function l(n,t){var i=u._requestVASTXml.bind(u,n);f.waterfall([i,a],t)}function a(n,t){var u;try{u=e.toJXONTree(n);o.debug("built JXONTree from VAST response:",u);u.ads=r.isArray(u.ad)?u.ad:u.ad?[u.ad]:[];t(c(u),u)}catch(f){t(new i("on VASTClient.getVASTAd.buildVastWaterfall, error parsing xml",100),null)}}function c(n){var t=e.attr(n,"version");return n.ad?t&&t!=3&&t!=2?new i('on VASTClient.getVASTAd.validateVASTTree, not supported VAST version "'+t+'"',102):null:new i("on VASTClient.getVASTAd.validateVASTTree, no Ad in VAST tree",303)}function h(n,t,e){if(t.length>=u.WRAPPER_LIMIT)return e(new i("on VASTClient.getVASTAd.getAd, players wrapper limit reached (the limit is "+u.WRAPPER_LIMIT+")",302),t);f.waterfall([function(t){r.isString(n)?p(n,t):t(null,n)},v],function(n,i){return(i&&t.push(i),n)?e(n,t):i.wrapper?h(i.wrapper.VASTAdTagURI,t,e):e(null,t)})}function v(n,t){try{var r=new s(n);t(y(r),r)}catch(u){t(new i("on VASTClient.getVASTAd.buildAd, error parsing xml",100),null)}}function y(n){var t=n.wrapper,r=n.inLine,u="on VASTClient.getVASTAd.validateAd, ";return r&&t?new i(u+"InLine and Wrapper both found on the same Ad",101):!r&&!t?new i(u+"nor wrapper nor inline elements found on the Ad",101):r&&!r.isSupported()?new i(u+"could not find MediaFile that is supported by this video player",403):t&&!t.VASTAdTagURI?new i(u+"missing 'VASTAdTagURI' in wrapper",101):null}function p(n,t){u._requestVASTXml(n,function(n,r){if(n)return t(n);try{var u=e.toJXONTree(r);t(c(u),u.ad)}catch(f){t(new i("on VASTClient.getVASTAd.requestVASTAd, error parsing xml",100))}})}var u=this;l(n,function(n,i){function e(n,i){n?(u._trackError(n,i),f.length>0?h(f.shift(),[],e):t(n,i)):t(null,i)}var f=i&&r.isArray(i.ads)?i.ads:null;if(n)return u._trackError(n,f),t(n,f);h(f.shift(),[],e)})};u.prototype._requestVASTXml=function(n,t){function u(n,u,f){if(n){var e=r.isDefined(f)?"on VASTClient.requestVastXML, HTTP request error with status '"+f+"'":"on VASTClient.requestVastXML, Error getting the the VAST XML with he passed adTagXML fn";return t(new i(e,301),null)}t(null,u)}try{r.isFunction(n)?n(u):(o.info("requesting adTagUrl: "+n),l.get(n,u,{withCredentials:!0}))}catch(f){t(f)}};u.prototype._buildVASTResponse=function(n){function u(n,t){t.forEach(function(t){n.addAd(t)})}function f(n){var t=n.trackingEvents.progress;if(!n.hasLinear())throw new i("on VASTClient._buildVASTResponse, Received an Ad type that is not supported",200);if(n.duration===undefined)throw new i("on VASTClient._buildVASTResponse, Missing duration field in VAST response",101);t&&t.forEach(function(n){if(!r.isNumber(n.offset))throw new i("on VASTClient._buildVASTResponse, missing or wrong offset attribute on progress tracking event",101);})}var t=new h;return u(t,n),f(t),t};u.prototype._trackError=function(n,t){function u(n){n.wrapper&&n.wrapper.error&&i.push(n.wrapper.error);n.inLine&&n.inLine.error&&i.push(n.inLine.error)}if(r.isArray(t)&&t.length!==0){var i=[];t.forEach(u);c.track(i,{ERRORCODE:n.code||900})}};t.exports=u},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/http":43,"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],23:[function(n,t){"use strict";function i(n,t){this.message="VAST Error: "+(n||"");t&&(this.code=t)}i.prototype=new Error;i.prototype.name="VAST Error";t.exports=i},{}],24:[function(n,t){"use strict";function i(n){if(!(this instanceof i))return new i(n);this.player=n}var h=n("./VASTResponse"),o=n("./VASTError"),c=n("./VASTTracker"),s=n("./vastUtil"),l=n("../../utils/async"),r=n("../../utils/dom"),u=n("../../utils/playerUtils"),e=n("../../utils/utilityFunctions"),f=n("../../utils/consoleLogger");i.prototype.playAd=function(n,t){var i=this;return(t=t||e.noop,!(n instanceof h))?t(new o("On VASTIntegrator, missing required VASTResponse")):(l.waterfall([function(t){t(null,n)},this._selectAdSource.bind(this),this._createVASTTracker.bind(this),this._addClickThrough.bind(this),this._addSkipButton.bind(this),this._setupEvents.bind(this),this._playSelectedAd.bind(this)],function(n,r){n&&r&&i._trackError(n,r);t(n,r)}),this._adUnit={_src:null,type:"VAST",pauseAd:function(){i.player.pause(!0)},resumeAd:function(){i.player.play(!0)},isPaused:function(){return i.player.paused(!0)},getSrc:function(){return this._src}},this._adUnit)};i.prototype._selectAdSource=function(n,t){var i,u=r.getDimension(this.player.el()).width;if(n.mediaFiles.sort(function(n,t){var i=Math.abs(u-n.width),r=Math.abs(u-t.width);return i-r}),i=this.player.selectSource(n.mediaFiles).source,i)return f.info("selected source: ",i),this._adUnit&&(this._adUnit._src=i),t(null,i,n);t(new o("Could not find Ad mediafile supported by this player",403),n)};i.prototype._createVASTTracker=function(n,t,i){try{i(null,n,new c(n.src,t),t)}catch(r){i(r,t)}};i.prototype._setupEvents=function(n,t,i,r){function a(){f.off("fullscreenchange",o);f.off("vast.adStart",c);f.off("pause",s);f.off("timeupdate",h);f.off("volumechange",l)}function o(){f.isFullscreen()?t.trackFullscreen():t.trackExitFullscreen()}function s(){if(!(Math.abs(f.duration()-f.currentTime())<2)){t.trackPause();u.once(f,["play","vast.adEnd","vast.adsCancel"],function(n){n.type==="play"&&t.trackResume()})}}function h(){var n=f.currentTime()*1e3;t.trackProgress(n)}function c(){t.trackImpressions();t.trackCreativeView()}function l(){var n=f.muted();n?t.trackMute():e&&t.trackUnmute();e=n}var e,f=this.player;f.on("fullscreenchange",o);f.on("vast.adStart",c);f.on("pause",s);f.on("timeupdate",h);f.on("volumechange",l);u.once(f,["vast.adEnd","vast.adsCancel"],a);u.once(f,["vast.adEnd","vast.adsCancel","vast.adSkip"],function(n){n.type==="vast.adEnd"&&t.trackComplete()});return r(null,n,i)};i.prototype._addSkipButton=function(n,t,i,f){function h(n,t){function e(){n.off("timeupdate",f);r.remove(i)}var i=c(n),f=l.bind(s,i,t,n);n.el().appendChild(i);n.on("timeupdate",f);u.once(n,["vast.adEnd","vast.adsCancel"],e)}function c(n){var i=window.document.createElement("div");return r.addClass(i,"vast-skip-button"),i.onclick=function(u){if(r.hasClass(i,"enabled")&&(t.trackSkip(),n.trigger("vast.adSkip")),window.Event.prototype.stopPropagation!==undefined)u.stopPropagation();else return!1},i}function l(n,t,i){var u=Math.ceil(t-i.currentTime());u>0?n.innerHTML="Skip in "+e.toFixedDigits(u,2)+"...":r.hasClass(n,"enabled")||(r.addClass(n,"enabled"),n.innerHTML="Skip ad")}var o,s=this;e.isNumber(i.skipoffset)&&(o=i.skipoffset/1e3,h(this.player,o));f(null,n,t,i)};i.prototype._addClickThrough=function(n,t,i,f){function a(n,t,i){var u=window.document.createElement("a"),f=i.clickThrough;return r.addClass(u,"vast-blocker"),u.href=l(f,n),e.isString(f)&&(u.target="_blank"),u.onclick=function(i){if(n.paused())return n.play(),window.Event.prototype.stopPropagation!==undefined&&i.stopPropagation(),!1;n.pause();t.trackClick()},u}function v(n,t,i){n.href=l(t.clickThrough,i)}function l(t,i){var r={ASSETURI:n.src,CONTENTPLAYHEAD:s.formatProgress(i.currentTime()*1e3)};return t?s.parseURLMacro(t,r):"#"}function y(){o.off("timeupdate",c);r.remove(h)}var o=this.player,h=a(o,t,i),c=v.bind(this,h,i,o);o.el().insertBefore(h,o.controlBar.el());o.on("timeupdate",c);u.once(o,["vast.adEnd","vast.adsCancel"],y);return f(null,n,t,i)};i.prototype._playSelectedAd=function(n,t,i){function e(){u.once(r,["playing","vast.adsCancel"],function(n){function u(n){n.type==="ended"&&r.duration()-r.currentTime()>3||(r.off("ended",u),r.off("vast.adsCancel",u),r.off("vast.adSkip",u),(n.type==="ended"||n.type==="vast.adSkip")&&i(null,t))}if(n.type!=="vast.adsCancel"){f.debug("<VASTIntegrator._playSelectedAd/playAd> got playing event; triggering vast.adStart...");r.trigger("vast.adStart");r.on("ended",u);r.on("vast.adsCancel",u);r.on("vast.adSkip",u)}});f.debug("<VASTIntegrator._playSelectedAd/playAd> calling player.play()...");r.play()}var r=this.player;r.preload("auto");r.src(n);f.debug("<VASTIntegrator._playSelectedAd> waiting for durationchange to play the ad...");u.once(r,["durationchange","error","vast.adsCancel"],function(n){n.type==="durationchange"?(f.debug("<VASTIntegrator._playSelectedAd> got durationchange; calling playAd()"),e()):n.type==="error"&&i(new o("on VASTIntegrator, Player is unable to play the Ad",400),t)})};i.prototype._trackError=function(n,t){s.track(t.errorURLMacros,{ERRORCODE:n.code||900})};t.exports=i},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./VASTTracker":26,"./vastUtil":30}],25:[function(n,t){"use strict";function i(){if(!(this instanceof i))return new i;this._linearAdded=!1;this.ads=[];this.errorURLMacros=[];this.impressions=[];this.clickTrackings=[];this.customClicks=[];this.trackingEvents={};this.mediaFiles=[];this.clickThrough=undefined;this.adTitle="";this.duration=undefined;this.skipoffset=undefined}function u(n,t){t.forEach(function(t){n.push(t)})}var o=n("./Ad"),s=n("./VideoClicks"),h=n("./Linear"),f=n("./InLine"),c=n("./Wrapper"),r=n("../../utils/utilityFunctions"),e=n("../../utils/xml");window.InLine__A=f;i.prototype.addAd=function(n){var t,i;n instanceof o&&(t=n.inLine,i=n.wrapper,this.ads.push(n),t&&this._addInLine(t),i&&this._addWrapper(i))};i.prototype._addErrorTrackUrl=function(n){var t=n instanceof e.JXONTree?e.keyValue(n):n;t&&this.errorURLMacros.push(t)};i.prototype._addImpressions=function(n){r.isArray(n)&&u(this.impressions,n)};i.prototype._addClickThrough=function(n){r.isNotEmptyString(n)&&(this.clickThrough=n)};i.prototype._addClickTrackings=function(n){r.isArray(n)&&u(this.clickTrackings,n)};i.prototype._addCustomClicks=function(n){r.isArray(n)&&u(this.customClicks,n)};i.prototype._addTrackingEvents=function(n){var t=this.trackingEvents;n&&(n=r.isArray(n)?n:[n],n.forEach(function(n){t[n.name]||(t[n.name]=[]);t[n.name].push(n)}))};i.prototype._addTitle=function(n){r.isNotEmptyString(n)&&(this.adTitle=n)};i.prototype._addDuration=function(n){r.isNumber(n)&&(this.duration=n)};i.prototype._addVideoClicks=function(n){n instanceof s&&(this._addClickThrough(n.clickThrough),this._addClickTrackings(n.clickTrackings),this._addCustomClicks(n.customClicks))};i.prototype._addMediaFiles=function(n){r.isArray(n)&&u(this.mediaFiles,n)};i.prototype._addSkipoffset=function(n){n&&(this.skipoffset=n)};i.prototype._addAdParameters=function(n){n&&(this.adParameters=n)};i.prototype._addLinear=function(n){n instanceof h&&(this._addDuration(n.duration),this._addTrackingEvents(n.trackingEvents),this._addVideoClicks(n.videoClicks),this._addMediaFiles(n.mediaFiles),this._addSkipoffset(n.skipoffset),this._addAdParameters(n.adParameters),this._linearAdded=!0)};i.prototype._addInLine=function(n){var t=this;n instanceof f&&(this._addTitle(n.adTitle),this._addErrorTrackUrl(n.error),this._addImpressions(n.impressions),n.creatives.forEach(function(n){n.linear&&t._addLinear(n.linear)}))};i.prototype._addWrapper=function(n){var t=this;n instanceof c&&(this._addErrorTrackUrl(n.error),this._addImpressions(n.impressions),n.creatives.forEach(function(n){var i=n.linear;i&&(t._addVideoClicks(i.videoClicks),t.clickThrough=undefined,t._addTrackingEvents(i.trackingEvents))}))};i.prototype.hasLinear=function(){return this._linearAdded};t.exports=i},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Ad":15,"./InLine":18,"./Linear":19,"./VideoClicks":27,"./Wrapper":28}],26:[function(n,t){"use strict";function i(n,t){if(!(this instanceof i))return new i(n,t);this.sanityCheck(n,t);this.initialize(n,t)}var u=n("./VASTError"),e=n("./VASTResponse"),f=n("./vastUtil"),r=n("../../utils/utilityFunctions");i.prototype.initialize=function(n,t){this.response=t;this.assetURI=n;this.progress=0;this.quartiles={firstQuartile:{tracked:!1,time:Math.round(25*t.duration)/100},midpoint:{tracked:!1,time:Math.round(50*t.duration)/100},thirdQuartile:{tracked:!1,time:Math.round(75*t.duration)/100}}};i.prototype.sanityCheck=function(n,t){if(!r.isString(n)||r.isEmptyString(n))throw new u("on VASTTracker constructor, missing required the URI of the ad asset being played");if(!(t instanceof e))throw new u("on VASTTracker constructor, missing required VAST response");};i.prototype.trackURLs=function(n,t){r.isArray(n)&&n.length>0&&(t=r.extend({ASSETURI:this.assetURI,CONTENTPLAYHEAD:f.formatProgress(this.progress)},t||{}),f.track(n,t))};i.prototype.trackEvent=function(n,t){function i(n){var t;return n&&(t=[],n.forEach(function(n){n.uri&&t.push(n.uri)})),t}this.trackURLs(i(this.response.trackingEvents[n]));t&&(this.response.trackingEvents[n]=undefined)};i.prototype.trackProgress=function(n){function o(t,i){return t>n&&Math.abs(i-t)>3e3}function u(n,t,r){i[n]&&r&&f.push({name:n,trackOnce:!!t})}function s(n){function i(n,t){var i=r[n];h(i,t)&&(i.tracked=!0,u(n,e,!0))}var r=t.quartiles,f=t.quartiles.firstQuartile,o=t.quartiles.midpoint,s=t.quartiles.thirdQuartile;f.tracked?o.tracked?s.tracked||i("thirdQuartile",n):i("midpoint",n):i("firstQuartile",n)}function h(n,t){var i=n.time;return t>=i&&t<=i+5e3}function c(n){if(r.isArray(i.progress)){var u=[];i.progress.forEach(function(i){i.offset<=n?t.trackURLs([i.uri]):u.push(i)});i.progress=u}}function l(){f.forEach(function(n){t.trackEvent(n.name,n.trackOnce)})}var t=this,f=[],e=!0,i=this.response.trackingEvents;r.isNumber(n)&&(u("start",e,n>0),u("rewind",!1,o(this.progress,n)),s(n),c(n),l(),this.progress=n)};["rewind","fullscreen","exitFullscreen","pause","resume","mute","unmute","acceptInvitation","acceptInvitationLinear","collapse","expand"].forEach(function(n){i.prototype["track"+r.capitalize(n)]=function(){this.trackEvent(n)}});["start","skip","close","closeLinear"].forEach(function(n){i.prototype["track"+r.capitalize(n)]=function(){this.trackEvent(n,!0)}});["firstQuartile","midpoint","thirdQuartile"].forEach(function(n){i.prototype["track"+r.capitalize(n)]=function(){this.quartiles[n].tracked=!0;this.trackEvent(n,!0)}});i.prototype.trackComplete=function(){this.quartiles.thirdQuartile.tracked&&this.trackEvent("complete",!0)};i.prototype.trackErrorWithCode=function(n){r.isNumber(n)&&this.trackURLs(this.response.errorURLMacros,{ERRORCODE:n})};i.prototype.trackImpressions=function(){this.trackURLs(this.response.impressions)};i.prototype.trackCreativeView=function(){this.trackEvent("creativeView")};i.prototype.trackClick=function(){this.trackURLs(this.response.clickTrackings)};t.exports=i},{"../../utils/utilityFunctions":47,"./VASTError":23,"./VASTResponse":25,"./vastUtil":30}],27:[function(n,t){"use strict";function i(n){function t(n){var t=[];return n&&(n=u.isArray(n)?n:[n],n.forEach(function(n){t.push(r.keyValue(n))})),t}if(!(this instanceof i))return new i(n);this.clickThrough=r.keyValue(n.clickThrough);this.clickTrackings=t(n.clickTracking);this.customClicks=t(n.customClick)}var u=n("../../utils/utilityFunctions"),r=n("../../utils/xml");t.exports=i},{"../../utils/utilityFunctions":47,"../../utils/xml":48}],28:[function(n,t){"use strict";function r(n){if(!(this instanceof r))return new r(n);this.adSystem=i.keyValue(n.adSystem);this.impressions=u.parseImpressions(n.impression);this.VASTAdTagURI=i.keyValue(n.vASTAdTagURI);this.creatives=f.parseCreatives(n.creatives);this.error=i.keyValue(n.error);this.extensions=n.extensions;this.followAdditionalWrappers=e.isDefined(i.attr(n,"followAdditionalWrappers"))?i.attr(n,"followAdditionalWrappers"):!0;this.allowMultipleAds=i.attr(n,"allowMultipleAds");this.fallbackOnNoAd=i.attr(n,"fallbackOnNoAd")}var u=n("./vastUtil"),f=n("./Creative"),e=n("../../utils/utilityFunctions"),i=n("../../utils/xml");t.exports=r},{"../../utils/utilityFunctions":47,"../../utils/xml":48,"./Creative":17,"./vastUtil":30}],29:[function(n,t){"use strict";var r=n("../../utils/utilityFunctions"),u=/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/,i={duration:function(n){function f(n){return parseInt(n,10)*36e5}function e(n){return parseInt(n,10)*6e4}function o(n){return parseInt(n,10)*1e3}var t,i;return r.isString(n)&&(t=n.match(u),t&&(i=f(t[1])+e(t[2])+o(t[3])+parseInt(t[5]||0))),isNaN(i)?null:i},offset:function(n,t){function r(n){var t=/^\d+(\.\d+)?%$/g;return t.test(n)}function u(n,t){return t?f(t,parseFloat(n.replace("%",""))):null}function f(n,t){return n*t/100}return r(n)?u(n,t):i.duration(n)}};t.exports=i},{"../../utils/utilityFunctions":47}],30:[function(n,t){"use strict";var i=n("../../utils/utilityFunctions"),f=n("../vpaid/VPAIDHTML5Tech"),e=n("../vpaid/VPAIDFlashTech"),u=n("VPAIDFLASHClient/js/VPAIDFLASHClient"),r={track:function(n,t){var u=r.parseURLMacros(n,t),i=[];return u.forEach(function(n){var t=new Image;t.src=n;i.push(t)}),i},parseURLMacros:function(n,t){var i=[];return t=t||{},t.CACHEBUSTING||(t.CACHEBUSTING=Math.round(Math.random()*1e10)),n.forEach(function(n){i.push(r._parseURLMacro(n,t))}),i},parseURLMacro:function(n,t){return t=t||{},t.CACHEBUSTING||(t.CACHEBUSTING=Math.round(Math.random()*1e10)),r._parseURLMacro(n,t)},_parseURLMacro:function(n,t){return t=t||{},i.forEach(t,function(t,i){n=n.replace(new RegExp("\\["+i+"\\]","gm"),t)}),n},parseDuration:function(n){function u(n){return parseInt(n,10)*36e5}function f(n){return parseInt(n,10)*6e4}function e(n){return parseInt(n,10)*1e3}var t,r;return i.isString(n)&&(t=n.match(/(\d\d):(\d\d):(\d\d)(\.(\d\d\d))?/),t&&(r=u(t[1])+f(t[2])+e(t[3])+parseInt(t[5]||0))),isNaN(r)?null:r},parseImpressions:function(n){return n?(n=i.isArray(n)?n:[n],i.transformArray(n,function(n){return i.isNotEmptyString(n.keyValue)?n.keyValue:undefined})):[]},formatProgress:function(n){var t,r,u,f;return t=n/36e5,t=Math.floor(t),r=n/6e4%60,r=Math.floor(r),u=n/1e3%60,u=Math.floor(u),f=n%1e3,i.toFixedDigits(t,2)+":"+i.toFixedDigits(r,2)+":"+i.toFixedDigits(u,2)+"."+i.toFixedDigits(f,3)},parseOffset:function(n,t){function i(n){var t=/^\d+(\.\d+)?%$/g;return t.test(n)}function u(n,t){return t?f(t,parseFloat(n.replace("%",""))):null}function f(n,t){return n*t/100}return i(n)?u(n,t):r.parseDuration(n)},VPAID_techs:[e,f],isVPAID:function(n){return!!n&&n.apiFramework==="VPAID"},findSupportedVPAIDTech:function(n){for(var i,t=0,r=this.VPAID_techs.length;t<r;t+=1)if(i=this.VPAID_techs[t],i.supports(n))return i;return null},isFlashSupported:function(){return u.isSupported()},runFlashSupportCheck:function(n){u.runFlashTest({data:n})}};t.exports=r},{"../../utils/utilityFunctions":47,"../vpaid/VPAIDFlashTech":32,"../vpaid/VPAIDHTML5Tech":33,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],31:[function(n,t){"use strict";function i(n,t){function f(n,t){if(!n||!i.checkVPAIDInterface(n))throw new u("on VPAIDAdUnitWrapper, the passed VPAID adUnit does not fully implement the VPAID interface");if(!r.isObject(t))throw new u("on VPAIDAdUnitWrapper, expected options hash  but got '"+t+"'");if(!("responseTimeout"in t)||!r.isNumber(t.responseTimeout))throw new u("on VPAIDAdUnitWrapper, expected responseTimeout in options");}if(!(this instanceof i))return new i(n,t);f(n,t);this.options=r.extend({},t);this._adUnit=n}var u=n("../vast/VASTError"),r=n("../../utils/utilityFunctions");i.checkVPAIDInterface=function(n){function f(n){return r.isFunction(n.subscribe)||r.isFunction(n.addEventListener)||r.isFunction(n.on)}function e(n){return r.isFunction(n.unsubscribe)||r.isFunction(n.removeEventListener)||r.isFunction(n.off)}for(var i=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","expandAd","collapseAd"],t=0,u=i.length;t<u;t++)if(!n||!r.isFunction(n[i[t]]))return!1;return f(n)&&e(n)};i.prototype.adUnitAsyncCall=function(){function e(n,t,i){if(!r.isString(n)||!r.isFunction(i[n]))throw new u("on VPAIDAdUnitWrapper.adUnitAsyncCall, invalid method name");if(!r.isFunction(t))throw new u("on VPAIDAdUnitWrapper.adUnitAsyncCall, missing callback");}function o(){return function(){i&&clearTimeout(i);t.apply(this,arguments)}}var n=r.arrayLikeObjToArray(arguments),f=n.shift(),t=n.pop(),i;e(f,t,this._adUnit);n.push(o());this._adUnit[f].apply(this._adUnit,n);i=setTimeout(function(){i=null;t(new u("on VPAIDAdUnitWrapper, timeout while waiting for a response on call '"+f+"'"));t=r.noop},this.options.responseTimeout)};i.prototype.on=function(n,t){var i=this._adUnit.addEventListener||this._adUnit.subscribe||this._adUnit.on;i.call(this._adUnit,n,t)};i.prototype.off=function(n,t){var i=this._adUnit.removeEventListener||this._adUnit.unsubscribe||this._adUnit.off;i.call(this._adUnit,n,t)};i.prototype.waitForEvent=function(n,t,i){function e(n,t){if(!r.isString(n))throw new u("on VPAIDAdUnitWrapper.waitForEvent, missing evt name");if(!r.isFunction(t))throw new u("on VPAIDAdUnitWrapper.waitForEvent, missing callback");}function o(){var n=r.arrayLikeObjToArray(arguments);f&&(clearTimeout(f),f=null);n.unshift(null);t.apply(i,n)}var f;e(n,t);i=i||null;this.on(n,o);f=setTimeout(function(){t(new u("on VPAIDAdUnitWrapper.waitForEvent, timeout while waiting for event '"+n+"'"));f=null;t=r.noop},this.options.responseTimeout)};i.prototype.handshakeVersion=function(n,t){this.adUnitAsyncCall("handshakeVersion",n,t)};i.prototype.initAd=function(n,t,i,r,u,f){this.waitForEvent("AdLoaded",f);this._adUnit.initAd(n,t,i,r,u)};i.prototype.resizeAd=function(n,t,i,r){this.adUnitAsyncCall("resizeAd",n,t,i,r)};i.prototype.startAd=function(n){this.waitForEvent("AdStarted",n);this._adUnit.startAd()};i.prototype.stopAd=function(n){this.waitForEvent("AdStopped",n);this._adUnit.stopAd()};i.prototype.pauseAd=function(n){this.waitForEvent("AdPaused",n);this._adUnit.pauseAd()};i.prototype.resumeAd=function(n){this.waitForEvent("AdPlaying",n);this._adUnit.resumeAd()};i.prototype.expandAd=function(n){this.waitForEvent("AdExpandedChange",n);this._adUnit.expandAd()};i.prototype.collapseAd=function(n){this.waitForEvent("AdExpandedChange",n);this._adUnit.collapseAd()};i.prototype.skipAd=function(n){this.waitForEvent("AdSkipped",n);this._adUnit.skipAd()};["adLinear","adWidth","adHeight","adExpanded","adSkippableState","adRemainingTime","adDuration","adVolume","adCompanions","adIcons"].forEach(function(n){var t="get"+r.capitalize(n);i.prototype[t]=function(n){this.adUnitAsyncCall(t,n)}});i.prototype.setAdVolume=function(n,t){this.adUnitAsyncCall("setAdVolume",n,t)};t.exports=i},{"../../utils/utilityFunctions":47,"../vast/VASTError":23}],32:[function(n,t){"use strict";function i(n,t){function u(n){if(!n||!f.isString(n.src))throw new r("on VPAIDFlashTech, invalid MediaFile");}if(!(this instanceof i))return new i(n);u(n);this.name="vpaid-flash";this.mediaFile=n;this.containerEl=null;this.vpaidFlashClient=null;this.settings=t}var o=n("../../utils/mimetypes"),r=n("../vast/VASTError"),s=n("VPAIDFLASHClient/js/VPAIDFLASHClient"),f=n("../../utils/utilityFunctions"),e=n("../../utils/dom"),u=n("../../utils/consoleLogger");i.VPAIDFLASHClient=s;i.supports=function(n){return o.flash.indexOf(n)>-1&&i.VPAIDFLASHClient.isSupported()};i.prototype.loadAdUnit=function(n,t,o){function c(n,t){if(!e.isDomElement(n))throw new r("on VPAIDFlashTech.loadAdUnit, invalid dom container element");if(!f.isFunction(t))throw new r("on VPAIDFlashTech.loadAdUnit, missing valid callback");}var s=this,h=this.settings&&this.settings.vpaidFlashLoaderPath?{data:this.settings.vpaidFlashLoaderPath}:undefined;c(n,o);this.containerEl=n;u.debug("<VPAIDFlashTech.loadAdUnit> loading VPAIDFLASHClient with opts:",h);this.vpaidFlashClient=new i.VPAIDFLASHClient(n,function(n){if(n)return o(n);u.info("<VPAIDFlashTech.loadAdUnit> calling VPAIDFLASHClient.loadAdUnit(); that.mediaFile:",s.mediaFile);s.vpaidFlashClient.loadAdUnit(s.mediaFile.src,o)},h)};i.prototype.unloadAdUnit=function(){if(this.vpaidFlashClient){try{this.vpaidFlashClient.destroy()}catch(n){u.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidFlashClient=null}this.containerEl&&(e.remove(this.containerEl),this.containerEl=null)};t.exports=i},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDFLASHClient/js/VPAIDFLASHClient":3}],33:[function(n,t){"use strict";function i(n){function t(n){if(!n||!f.isString(n.src))throw new u(i.INVALID_MEDIA_FILE);}if(!(this instanceof i))return new i(n);t(n);this.name="vpaid-html5";this.containerEl=null;this.videoEl=null;this.vpaidHTMLClient=null;this.mediaFile=n}var o=n("../../utils/mimetypes"),u=n("../vast/VASTError"),s=n("VPAIDHTML5Client/js/VPAIDHTML5Client"),f=n("../../utils/utilityFunctions"),e=n("../../utils/dom"),h=n("../../utils/consoleLogger"),r;i.VPAIDHTML5Client=s;i.supports=function(n){return!f.isOldIE()&&o.html5.indexOf(n)>-1};i.prototype.loadAdUnit=function(n,t,r){function o(n,t,r){if(!e.isDomElement(n))throw new u(i.INVALID_DOM_CONTAINER_EL);if(!e.isDomElement(t)||t.tagName.toLowerCase()!=="video")throw new u(i.INVALID_DOM_CONTAINER_EL);if(!f.isFunction(r))throw new u(i.MISSING_CALLBACK);}o(n,t,r);this.containerEl=n;this.videoEl=t;this.vpaidHTMLClient=new i.VPAIDHTML5Client(n,t,{});this.vpaidHTMLClient.loadAdUnit(this.mediaFile.src,r)};i.prototype.unloadAdUnit=function(){if(this.vpaidHTMLClient){try{this.vpaidHTMLClient.destroy()}catch(n){h.error("VAST ERROR: trying to unload the VPAID adunit")}this.vpaidHTMLClient=null}this.containerEl&&(e.remove(this.containerEl),this.containerEl=null)};r="on VPAIDHTML5Tech";i.INVALID_MEDIA_FILE=r+", invalid MediaFile";i.INVALID_DOM_CONTAINER_EL=r+", invalid container HtmlElement";i.INVALID_DOM_VIDEO_EL=r+", invalid HTMLVideoElement";i.MISSING_CALLBACK=r+", missing valid callback";t.exports=i},{"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"VPAIDHTML5Client/js/VPAIDHTML5Client":11}],34:[function(n,t){"use strict";function i(n,t){function u(){var t=document.createElement("div");return r.addClass(t,"VPAID-container"),n.el().insertBefore(t,n.controlBar.el()),t}if(!(this instanceof i))return new i(n);this.VIEW_MODE={NORMAL:"normal",FULLSCREEN:"fullscreen",THUMBNAIL:"thumbnail"};this.player=n;this.containerEl=u(n);this.options={responseTimeout:5e3,VPAID_VERSION:"2.0"};this.settings=t}function a(n,t,i){var f=n.el().querySelector(".vjs-tech"),u=r.getDimension(f),e=n.isFullscreen()?i.FULLSCREEN:i.NORMAL;t.resizeAd(u.width,u.height,e,s)}function s(n){n&&o.error("ERROR: "+n.message,n)}var h=n("../../utils/mimetypes"),f=n("../vast/VASTError"),c=n("../vast/VASTResponse"),v=n("../vast/VASTTracker"),e=n("../vast/vastUtil"),y=n("./VPAIDAdUnitWrapper"),l=n("../../utils/async"),r=n("../../utils/dom"),p=n("../../utils/playerUtils"),u=n("../../utils/utilityFunctions"),o=n("../../utils/consoleLogger");i.prototype.playAd=function(n,t){function a(n,r,u){n&&u&&s._trackError(u,n.code);i.trigger("vpaid.adEnd");t(n,u)}function v(){i.trigger("vpaid.adEnd")}function y(){e&&e.unloadAdUnit();r.removeClass(i.el(),"vjs-vpaid-ad")}var s,i,e,h;if(!(n instanceof c))return t(new f("on VASTIntegrator.playAd, missing required VASTResponse"));s=this;i=this.player;o.debug("<VPAIDIntegrator.playAd> looking for supported tech...");e=this._findSupportedTech(n,this.settings);t=t||u.noop;this._adUnit=null;r.addClass(i.el(),"vjs-vpaid-ad");i.on("vast.adsCancel",v);i.one("vpaid.adEnd",function(){i.off("vast.adsCancel",v);y()});return e?(o.info("<VPAIDIntegrator.playAd> found tech: ",e),l.waterfall([function(t){t(null,e,n)},this._loadAdUnit.bind(this),this._playAdUnit.bind(this),this._finishPlaying.bind(this)],a),this._adUnit={_paused:!0,type:"VPAID",pauseAd:function(){i.trigger("vpaid.pauseAd");i.pause(!0)},resumeAd:function(){i.trigger("vpaid.resumeAd")},isPaused:function(){return this._paused},getSrc:function(){return e.mediaFile}}):(o.debug("<VPAIDIntegrator.playAd> could not find suitable tech"),h=new f("on VPAIDIntegrator.playAd, could not find a supported mediaFile",403),a(h,this._adUnit,n)),this._adUnit};i.prototype._findSupportedTech=function(n,t){var s;if(!(n instanceof c))return null;for(var l=n.mediaFiles.filter(e.isVPAID),r=t&&t.preferredTech,o=[],i,f,v,u=0,a=l.length;u<a;u+=1)if(i=l[u],f=e.findSupportedVPAIDTech(i.type),f){if(v=r?i.type===r||h[r]&&h[r].indexOf(i.type)>-1:!1,v)return new f(i,t);o.push({mediaFile:i,tech:f})}return o.length?(s=o[0],new s.tech(s.mediaFile,t)):null};i.prototype._createVPAIDAdUnitWrapper=function(n,t,i){return new y(n,{src:t,responseTimeout:i})};i.prototype._loadAdUnit=function(n,t,i){var f=this,u=this.player,e=u.el().querySelector(".vjs-tech"),o=this.settings.responseTimeout||this.options.responseTimeout;n.loadAdUnit(this.containerEl,e,function(e,s){if(e)return i(e,s,t);try{var c=f._createVPAIDAdUnitWrapper(s,n.mediaFile.src,o),h="vjs-"+n.name+"-ad";r.addClass(u.el(),h);u.one("vpaid.adEnd",function(){r.removeClass(u.el(),h)});i(null,c,t)}catch(l){i(l,s,t)}})};i.prototype._playAdUnit=function(n,t,i){l.waterfall([function(i){i(null,n,t)},this._handshake.bind(this),this._initAd.bind(this),this._setupEvents.bind(this),this._addSkipButton.bind(this),this._linkPlayerControls.bind(this),this._startAd.bind(this)],i)};i.prototype._handshake=function(n,t,i){function r(n){var t=u(n);return t>=1&&t<=2}function u(n){var t=n.split(".");return parseInt(t[0],10)}n.handshakeVersion(this.options.VPAID_VERSION,function(u,e){return u?i(u,n,t):e&&r(e)?i(null,n,t):i(new f('on VPAIDIntegrator._handshake, unsupported version "'+e+'"'),n,t)})};i.prototype._initAd=function(n,t,i){var f=this.player.el().querySelector(".vjs-tech"),u=r.getDimension(f);n.initAd(u.width,u.height,this.VIEW_MODE.NORMAL,-1,{AdParameters:t.adParameters||""},function(r){i(r,n,t)})};i.prototype._createVASTTracker=function(n,t){return new v(n,t)};i.prototype._setupEvents=function(n,t,i){function c(){s._adUnit&&s._adUnit.isPaused()&&(s._adUnit._paused=!1);f.trigger("play")}function b(){s._adUnit&&(s._adUnit._paused=!0);f.trigger("pause")}function y(){n.pauseAd(u.noop)}function p(){n.resumeAd(u.noop)}var w=n.options.src,o=this._createVASTTracker(w,t),f=this.player,s=this;n.on("AdSkipped",function(){f.trigger("vpaid.AdSkipped");o.trackSkip()});n.on("AdImpression",function(){f.trigger("vpaid.AdImpression");o.trackImpressions()});n.on("AdStarted",function(){f.trigger("vpaid.AdStarted");o.trackCreativeView();c()});n.on("AdVideoStart",function(){f.trigger("vpaid.AdVideoStart");o.trackStart();c()});n.on("AdPlaying",function(){f.trigger("vpaid.AdPlaying");o.trackResume();c()});n.on("AdPaused",function(){f.trigger("vpaid.AdPaused");o.trackPause();b()});n.on("AdVideoFirstQuartile",function(){f.trigger("vpaid.AdVideoFirstQuartile");o.trackFirstQuartile()});n.on("AdVideoMidpoint",function(){f.trigger("vpaid.AdVideoMidpoint");o.trackMidpoint()});n.on("AdVideoThirdQuartile",function(){f.trigger("vpaid.AdVideoThirdQuartile");o.trackThirdQuartile()});n.on("AdVideoComplete",function(){f.trigger("vpaid.AdVideoComplete");o.trackComplete()});n.on("AdClickThru",function(i){function c(t){var i={ASSETURI:n.options.src,CONTENTPLAYHEAD:0};return t?e.parseURLMacro(t,i):null}f.trigger("vpaid.AdClickThru");var r=i.url,h=i.playerHandles,s=u.isNotEmptyString(r)?r:c(t.clickThrough);o.trackClick();h&&s&&window.open(s,"_blank")});n.on("AdUserAcceptInvitation",function(){f.trigger("vpaid.AdUserAcceptInvitation");o.trackAcceptInvitation();o.trackAcceptInvitationLinear()});n.on("AdUserClose",function(){f.trigger("vpaid.AdUserClose");o.trackClose();o.trackCloseLinear()});n.on("AdUserMinimize",function(){f.trigger("vpaid.AdUserMinimize");o.trackCollapse()});n.on("AdError",function(){f.trigger("vpaid.AdError");o.trackErrorWithCode(901)});n.on("AdVolumeChange",function(){f.trigger("vpaid.AdVolumeChange");var t=f.volume();n.getAdVolume(function(n,i){t!==i&&(i===0&&t>0&&o.trackMute(),i>0&&t===0&&o.trackUnmute(),f.volume(i))})});var l=a.bind(this,f,n,this.VIEW_MODE),h=u.throttle(l,100),v=this.settings.autoResize;v&&(r.addEventListener(window,"resize",h),r.addEventListener(window,"orientationchange",h));f.on("vast.resize",l);f.on("vpaid.pauseAd",y);f.on("vpaid.resumeAd",p);f.one("vpaid.adEnd",function(){f.off("vast.resize",l);f.off("vpaid.pauseAd",y);f.off("vpaid.resumeAd",p);v&&(r.removeEventListener(window,"resize",h),r.removeEventListener(window,"orientationchange",h))});i(null,n,t)};i.prototype._addSkipButton=function(n,t,i){function s(){e.trigger("vpaid.AdSkippableStateChange");n.getAdSkippableState(function(n,t){t?f||h(e):o(e)})}function h(n){f=c(n);n.el().appendChild(f)}function o(){r.remove(f);f=null}function c(){var t=window.document.createElement("div");return r.addClass(t,"vast-skip-button"),r.addClass(t,"enabled"),t.innerHTML="Skip ad",t.onclick=function(t){if(n.skipAd(u.noop),window.Event.prototype.stopPropagation!==undefined)t.stopPropagation();else return!1},t}var f,e=this.player;n.on("AdSkippableStateChange",s);p.once(e,["vast.adEnd","vast.adsCancel"],o);i(null,n,t)};i.prototype._linkPlayerControls=function(n,t,i){function u(n,t){function i(){var i=n.muted()?0:n.volume();t.setAdVolume(i,s)}function r(){n.trigger("vpaid.AdVolumeChange");var i=n.volume();t.getAdVolume(function(t,r){t?s(t):i!==r&&n.volume(r)})}n.on("volumechange",i);t.on("AdVolumeChange",r);n.one("vpaid.adEnd",function(){n.off("volumechange",i)})}function f(n,t,i){var u=a.bind(r,n,t,i);n.on("fullscreenchange",u);n.one("vpaid.adEnd",function(){n.off("fullscreenchange",u)})}var r=this;u(this.player,n);f(this.player,n,this.VIEW_MODE);i(null,n,t)};i.prototype._startAd=function(n,t,i){var r=this.player;n.startAd(function(u){u||r.trigger("vast.adStart");i(u,n,t)})};i.prototype._finishPlaying=function(n,t,i){function r(r){i(r,n,t)}var u=this.player;n.on("AdStopped",function(){u.trigger("vpaid.AdStopped");r(null)});n.on("AdError",function(n){var t=n?n.message:"on VPAIDIntegrator, error while waiting for the adUnit to finish playing";r(new f(t))})};i.prototype._trackError=function(n,t){e.track(n.errorURLMacros,{ERRORCODE:t||901})};t.exports=i},{"../../utils/async":40,"../../utils/consoleLogger":41,"../../utils/dom":42,"../../utils/mimetypes":44,"../../utils/playerUtils":45,"../../utils/utilityFunctions":47,"../vast/VASTError":23,"../vast/VASTResponse":25,"../vast/VASTTracker":26,"../vast/vastUtil":30,"./VPAIDAdUnitWrapper":31}],35:[function(n,t){"use strict";var u=n("../../utils/dom"),i=document.createElement("div"),r;i.className="vjs-ads-label vjs-control vjs-label-hidden";i.innerHTML="Advertisement";r=function(n){return{init:function(t,r){r.el=i;n.call(this,t,r);setTimeout(function(){var n=t.controlBar&&(t.controlBar.getChild("timerControls")||t.controlBar.getChild("currentTimeDisplay"));n&&t.controlBar.el().insertBefore(i,n.el());u.removeClass(i,"vjs-label-hidden")},0)},el:function(){return i}}};t.exports=r},{"../../utils/dom":42}],36:[function(n){"use strict";var t=videojs.getComponent("Component"),i=n("./ads-label")(t);videojs.registerComponent("AdsLabel",videojs.extend(t,i))},{"./ads-label":35}],37:[function(n,t){"use strict";var i=document.createElement("div"),r=function(n){return{init:function(t,r){r.el=i;i.className="vjs-black-poster";n.call(this,t,r);var u=t.getChild("posterImage");setTimeout(function(){u&&t&&t.el()&&t.el().insertBefore(i,u.el())},0)},el:function(){return i}}};t.exports=r},{}],38:[function(n){"use strict";var t=videojs.getComponent("Component"),i=n("./black-poster")(t);videojs.registerComponent("BlackPoster",videojs.extend(t,i))},{"./black-poster":37}],39:[function(n,t){"use strict";var h=n("../ads/vast/VASTClient"),u=n("../ads/vast/VASTError"),e=n("../ads/vast/vastUtil"),c=n("../ads/vast/VASTIntegrator"),l=n("../ads/vpaid/VPAIDIntegrator"),o=n("../utils/async"),s=n("../utils/dom"),i=n("../utils/playerUtils"),r=n("../utils/utilityFunctions"),f=n("../utils/consoleLogger");t.exports=function(n){function k(){function n(){t.vast&&t.vast.adUnit&&(t.vast.adUnit=null)}function f(){e();v&&(i.restorePlayerSnapshot(t,v),v=null)}function e(){i.once(t,["playing","vast.reset","vast.firstPlay"],function(n){if(n.type==="playing"){t.trigger("vast.contentStart");i.once(t,["ended","vast.reset","vast.firstPlay"],function(n){n.type==="ended"&&t.trigger("vast.contentEnd")})}})}function h(n){if(a.adsEnabled)return n(null);n(new u("Ads are not enabled"))}function c(n){if(l())if(v=i.getPlayerSnapshot(t),t.pause(),b(),t.paused())n(null);else i.once(t,["playing"],function(){t.pause();n(null)});else n(new u("video content has been playing before preroll ad"))}function l(){return!r.isIPhone()||t.currentTime()<=a.iosPrerollCancelTimeout}function w(n){function f(){r&&(clearTimeout(r),r=null)}var r;p=!1;r=setTimeout(function(){y(new u("timeout while waiting for the video to start playing",402))},a.adCancelTimeout);i.once(t,["vast.adStart","vast.adsCancel"],f);n(null)}function b(){s.addClass(t.el(),"vjs-vast-ad-loading");i.once(t,["vast.adStart","vast.adsCancel"],k)}function k(){setTimeout(function(){s.removeClass(t.el(),"vjs-vast-ad-loading")},100)}i.removeNativePoster(t);i.once(t,["vast.adsCancel","vast.adEnd"],function(){n();f()});o.waterfall([h,c,w,d],function(n,i){n?y(n,i):t.trigger("vast.adEnd")})}function w(){t.trigger("vast.adsCancel");p=!0}function d(n){o.waterfall([g,nt],n)}function g(n){b.getVASTResponse(a.adTagUrl?a.adTagUrl():a.adTagXML,n)}function nt(n,u){function s(){e||t.controlBar.getChild("AdsLabel")||t.controlBar.addChild("AdsLabel")}function h(){t.controlBar.removeChild("AdsLabel");e=!0}function v(){function f(){t.duration()-n>r&&(t.pause(!0),t.play(!0),t.currentTime(n))}function e(){var i=t.currentTime(),f=Math.abs(i-n);f>r?(u+=1,u>=2&&t.pause(!0),t.currentTime(n)):n=i}function o(){t.off("timeupdate",e);t.off("ended",f)}var r=3,n=0,u=0;t.on("timeupdate",e);t.on("ended",f);i.once(t,["vast.adEnd","vast.adsCancel","vast.adError"],o)}if(!p){var o=tt(n)?new l(t,a):new c(t),e=!1;i.once(t,["vast.adStart","vast.adsCancel"],function(n){n.type==="vast.adStart"&&s()});i.once(t,["vast.adEnd","vast.adsCancel"],h);r.isIDevice()&&v();t.vast.vastResponse=n;f.debug("calling adIntegrator.playAd() with vastResponse:",n);t.vast.adUnit=o.playAd(n,u)}}function y(n,i){t.trigger({type:"vast.adError",error:n});w();f.error("AD ERROR:",n.message,n,i)}function tt(n){for(var r=n.mediaFiles,t=0,i=r.length;t<i;t++)if(e.isVPAID(r[t]))return!0;return!1}var v,t=this,b=new h,p=!1,a=r.extend({},{timeout:500,iosPrerollCancelTimeout:2e3,adCancelTimeout:3e3,playAdAlways:!1,adsEnabled:!0,autoResize:!0,vpaidFlashLoaderPath:"/VPAIDFlash.swf",verbosity:0},n||{});if(r.isUndefined(a.adTagUrl)&&r.isDefined(a.url)&&(a.adTagUrl=a.url),r.isString(a.adTagUrl)&&(a.adTagUrl=r.echoFn(a.adTagUrl)),r.isDefined(a.adTagXML)&&!r.isFunction(a.adTagXML))return y(new u("on VideoJS VAST plugin, the passed adTagXML option does not contain a function"));if(!r.isDefined(a.adTagUrl)&&!r.isFunction(a.adTagXML))return y(new u("on VideoJS VAST plugin, missing adTagUrl on options object"));if(f.setVerbosity(a.verbosity),e.runFlashSupportCheck(a.vpaidFlashLoaderPath),i.prepareForAds(t),a.playAdAlways)t.on("vast.contentEnd",function(){setTimeout(function(){t.trigger("vast.reset")},0)});t.on("vast.firstPlay",k);t.on("vast.reset",function(){v=null;w()});return t.vast={isEnabled:function(){return a.adsEnabled},enable:function(){a.adsEnabled=!0},disable:function(){a.adsEnabled=!1}},t.vast}},{"../ads/vast/VASTClient":22,"../ads/vast/VASTError":23,"../ads/vast/VASTIntegrator":24,"../ads/vast/vastUtil":30,"../ads/vpaid/VPAIDIntegrator":34,"../utils/async":40,"../utils/consoleLogger":41,"../utils/dom":42,"../utils/playerUtils":45,"../utils/utilityFunctions":47}],40:[function(n,t){var r=n("./utilityFunctions"),i={};i.setImmediate=function(n){setTimeout(n,0)};i.iterator=function(n){var t=function(i){var r=function(){return n.length&&n[i].apply(null,arguments),r.next()};return r.next=function(){return i<n.length-1?t(i+1):null},r};return t(0)};i.waterfall=function(n,t){var f,u;if(t=t||function(){},!r.isArray(n))return f=new Error("First argument to waterfall must be an array of functions"),t(f);if(!n.length)return t();u=function(n){return function(r){if(r)t.apply(null,arguments),t=function(){};else{var f=Array.prototype.slice.call(arguments,1),e=n.next();e?f.push(u(e)):f.push(t);i.setImmediate(function(){n.apply(null,f)})}}};u(i.iterator(n))()};i.when=function(n,t){if(!r.isFunction(t))throw new Error("async.when error: missing callback argument");var i=r.isFunction(n)?n:function(){return!!n};return function(){var n=r.arrayLikeObjToArray(arguments),u=n.pop();return i.apply(null,n)?t.apply(this,arguments):(n.unshift(null),u.apply(null,n))}};t.exports=i},{"./utilityFunctions":47}],41:[function(n,t){"use strict";function e(n){u=n}function i(n,t){t.length>0&&typeof t[0]=="string"&&(t[0]=f+t[0]);n.apply?n.apply(console,Array.prototype.slice.call(t)):n(Array.prototype.slice.call(t))}function o(){u<4||(typeof console.debug=="undefined"?i(console.log,arguments):i(console.debug,arguments))}function s(){u<3||i(console.log,arguments)}function h(){u<2||i(console.info,arguments)}function c(){u<1||i(console.warn,arguments)}function l(){i(console.error,arguments)}var u=0,f="[videojs-vast-vpaid] ",r={setVerbosity:e,debug:o,log:s,info:h,warn:c,error:l};typeof console!="undefined"&&console.log||(r.debug=function(){},r.log=function(){},r.info=function(){},r.warn=function(){},r.error=function(){});t.exports=r},{}],42:[function(n,t){"use strict";var r=n("./utilityFunctions"),i={};i.isVisible=function(n){var t=window.getComputedStyle(n);return t.visibility!=="hidden"};i.isHidden=function(n){var t=window.getComputedStyle(n);return t.display==="none"};i.isShown=function(n){return!i.isHidden(n)};i.hide=function(n){n.__prev_style_display_=n.style.display;n.style.display="none"};i.show=function(n){i.isHidden(n)&&(n.style.display=n.__prev_style_display_);n.__prev_style_display_=undefined};i.hasClass=function(n,t){var u,i,f;if(r.isNotEmptyString(t)){if(n.classList)return n.classList.contains(t);for(u=r.isString(n.getAttribute("class"))?n.getAttribute("class").split(/\s+/):[],t=t||"",i=0,f=u.length;i<f;i+=1)if(u[i]===t)return!0}return!1};i.addClass=function(n,t){var i;if(r.isNotEmptyString(t)){if(n.classList)return n.classList.add(t);i=r.isString(n.getAttribute("class"))?n.getAttribute("class").split(/\s+/):[];r.isString(t)&&r.isNotEmptyString(t.replace(/\s+/,""))&&(i.push(t),n.setAttribute("class",i.join(" ")))}};i.removeClass=function(n,t){var u,f,i,e;if(r.isNotEmptyString(t)){if(n.classList)return n.classList.remove(t);if(u=r.isString(n.getAttribute("class"))?n.getAttribute("class").split(/\s+/):[],f=[],r.isString(t)&&r.isNotEmptyString(t.replace(/\s+/,""))){for(i=0,e=u.length;i<e;i+=1)t!==u[i]&&f.push(u[i]);n.setAttribute("class",f.join(" "))}}};i.addEventListener=function(n,t,u){if(r.isArray(n)){r.forEach(n,function(n){i.addEventListener(n,t,u)});return}if(r.isArray(t)){r.forEach(t,function(t){i.addEventListener(n,t,u)});return}n.addEventListener?n.addEventListener(t,u,!1):n.attachEvent&&n.attachEvent("on"+t,u)};i.removeEventListener=function(n,t,u){if(r.isArray(n)){r.forEach(n,function(n){i.removeEventListener(n,t,u)});return}if(r.isArray(t)){r.forEach(t,function(t){i.removeEventListener(n,t,u)});return}n.removeEventListener?n.removeEventListener(t,u,!1):n.detachEvent?n.detachEvent("on"+t,u):n["on"+t]=null};i.dispatchEvent=function(n,t){n.dispatchEvent?n.dispatchEvent(t):n.fireEvent("on"+t.eventType,t)};i.isDescendant=function(n,t){for(var i=t.parentNode;i!==null;){if(i===n)return!0;i=i.parentNode}return!1};i.getTextContent=function(n){return n.textContent||n.text};i.prependChild=function(n,t){return t.parentNode&&t.parentNode.removeChild(t),n.insertBefore(t,n.firstChild)};i.remove=function(n){n&&n.parentNode&&n.parentNode.removeChild(n)};i.isDomElement=function(n){return n instanceof Element};i.click=function(n,t){i.addEventListener(n,"click",t)};i.once=function(n,t,r){function u(){r.apply(null,arguments);i.removeEventListener(n,t,u)}i.addEventListener(n,t,u)};i.getDimension=function(n){var t;return!r.isOldIE()&&n.getBoundingClientRect?(t=n.getBoundingClientRect(),{width:t.width,height:t.height}):{width:n.offsetWidth,height:n.offsetHeight}};t.exports=i},{"./utilityFunctions":47}],43:[function(n,t){"use strict";function r(n){this.message="HttpRequest Error: "+(n||"")}function u(n){if(!i.isFunction(n))throw new r("Missing XMLHttpRequest factory method");this.createXhr=n}function f(){var n=new XMLHttpRequest;return"withCredentials"in n||(n=new XDomainRequest),n}var o=n("./urlUtils"),i=n("./utilityFunctions"),e;r.prototype=new Error;r.prototype.name="HttpRequest Error";u.prototype.run=function(n,t,u,f){function l(n,t,u){if(!i.isString(n)||i.isEmptyString(n))throw new r("Invalid url '"+n+"'");if(!i.isFunction(t))throw new r("Invalid handler '"+t+"' for the http request");if(i.isDefined(u)&&!i.isObject(u))throw new r("Invalid options map '"+u+"'");}function a(n,t){i.forEach(t,function(t,r){i.isDefined(t)&&n.setRequestHeader(r,t)})}function c(){u(-1,null,null,"")}l(t,u,f);var h,s,e=this.createXhr();f=f||{};h=i.isNumber(f.timeout)?f.timeout:0;e.open(n,o.urlParts(t).href,!0);f.headers&&a(e,f.headers);f.withCredentials&&(e.withCredentials=!0);e.onload=function(){var n,t,r;e.getAllResponseHeaders||(e.getAllResponseHeaders=function(){return null});e.status||(e.status=200);i.isDefined(s)&&(clearTimeout(s),s=undefined);n=e.statusText||"";t="response"in e?e.response:e.responseText;r=e.status===1223?204:e.status;u(r,t,e.getAllResponseHeaders(),n)};e.onerror=c;e.onabort=c;e.send();h>0&&(s=setTimeout(function(){e&&e.abort()},h))};u.prototype.get=function(n,t,i){function u(n,i,u,e){f(n)?t(null,i,n,u,e):t(new r(e),i,n,u,e)}function f(n){return 200<=n&&n<300}this.run("GET",n,u,i)};e=new u(f);t.exports={http:e,HttpRequest:u,HttpRequestError:r,createXhr:f}},{"./urlUtils":46,"./utilityFunctions":47}],44:[function(n,t){"use strict";t.exports={html5:["text/javascript","text/javascript1.0","text/javascript1.2","text/javascript1.4","text/jscript","application/javascript","application/x-javascript","text/ecmascript","text/ecmascript1.0","text/ecmascript1.2","text/ecmascript1.4","text/livescript","application/ecmascript","application/x-ecmascript",],flash:["application/x-shockwave-flash"]}},{}],45:[function(n,t){"use strict";var u=n("./dom"),r=n("./utilityFunctions"),i={};i.getPlayerSnapshot=function(n){function u(n){var t=n.remoteTextTracks?n.remoteTextTracks():[],i;return t&&r.isArray(t.tracks_)&&(t=t.tracks_),r.isArray(t)||(t=[]),i=[],t.forEach(function(n){i.push({track:n,mode:n.mode});n.mode="disabled"}),i}var t=n.el().querySelector(".vjs-tech"),i={ended:n.ended(),src:n.currentSrc(),currentTime:n.currentTime(),type:n.currentType(),playing:!n.paused(),suppressedTracks:u(n)};return t&&(i.nativePoster=t.poster,i.style=t.getAttribute("style")),i};i.restorePlayerSnapshot=function(n,t){function o(){var t=setTimeout(function(){n.trigger("canplay")},1e3);n.one("canplay",function(){clearTimeout(t)})}function s(n,t){return n.src()?n.src()!==t.src:n.currentSrc()!==t.src}function u(){var n=t.suppressedTracks;n.forEach(function(n){n.track.mode=n.mode})}function f(){if(!i.isReadyToResume(n)&&e--)setTimeout(f,50);else try{if(n.currentTime()!==t.currentTime){if(t.playing)n.one("seeked",function(){n.play()});n.currentTime(t.currentTime)}else t.playing&&n.play()}catch(r){videojs.log.warn("Failed to resume the content after an advertisement",r)}}var r=n.el().querySelector(".vjs-tech"),e=20;if(t.nativePoster&&(r.poster=t.nativePoster),"style"in t&&r.setAttribute("style",t.style||""),s(n,t)){n.one("contentloadedmetadata",u);n.one("canplay",f);o();n.src({src:t.src,type:t.type});n.load()}else u(),t.playing&&n.play()};i.isReadyToResume=function(n){return n.readyState()>1?!0:n.seekable()===undefined?!0:n.seekable().length>0?!0:!1};i.prepareForAds=function(n){function l(){var i=n.play,u,f;n.play=function(u){function e(){r.isIPhone()||(t=y(),n.muted(!0));i.apply(f,arguments)}function h(t){o()&&!t?n.vast.adUnit.resumeAd():i.apply(f,arguments)}var f=this;return s()?e():h(u),this};u=n.pause;n.pause=function(t){return o()&&!t?n.vast.adUnit.pauseAd():u.apply(this,arguments),this};f=n.paused;n.paused=function(t){return o()&&!t?n.vast.adUnit.isPaused():f.apply(this,arguments)}}function o(){return n.vast&&n.vast.adUnit}function a(){s()&&(e=!1,n.trigger("vast.firstPlay"))}function v(){e=!0;f.show();h()}function s(){return e}function y(){return{muted:n.muted(),volume:n.volume()}}function h(){t&&(n.currentTime(0),p(t),t=null)}function p(t){r.isObject(t)&&(n.volume(t.volume),n.muted(t.muted))}function i(){u.hasClass(f.el(),"vjs-hidden")||f.hide()}function w(){u.addClass(n.el(),"vjs-ad-playing")}function c(){u.removeClass(n.el(),"vjs-ad-playing")}var f=n.addChild("blackPoster"),e=!0,t;l();n.on("play",a);n.on("vast.reset",v);n.on("vast.firstPlay",h);n.on("error",i);n.on("vast.adStart",i);n.on("vast.adsCancel",i);n.on("vast.adError",i);n.on("vast.adStart",w);n.on("vast.adEnd",c);n.on("vast.adsCancel",c)};i.removeNativePoster=function(n){var t=n.el().querySelector(".vjs-tech");t&&t.removeAttribute("poster")};i.once=function(n,t,i){function r(){i.apply(null,arguments);t.forEach(function(t){n.off(t,r)})}t.forEach(function(t){n.on(t,r)})};t.exports=i},{"./dom":42,"./utilityFunctions":47}],46:[function(n,t){"use strict";function f(n){var t=n;return u&&(i.setAttribute("href",t),t=i.href),i.setAttribute("href",t),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:r.isNotEmptyString(i.port)?i.port:80,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}function e(n,t){var u,i;return t=r.isFunction(t)?t:function(){return!0},n=n.trim().replace(/^\?/,""),u=n.split("&"),i={},r.forEach(u,function(n){var r,u,f;n!==""&&(r=n.split("="),u=r[0],f=r[1],t(u,f)&&(i[u]=f))}),i}function o(n){var t=[];return r.forEach(n,function(n,i){t.push(i+"="+n)}),t.join("&")}var r=n("./utilityFunctions"),i=document.createElement("a"),u=document.documentMode;t.exports={urlParts:f,queryStringToObj:e,objToQueryString:o}},{"./utilityFunctions":47}],47:[function(n,t){"use strict";function y(){}function u(n){return n===null}function p(n){return n!==undefined}function w(n){return n===undefined}function r(n){return typeof n=="object"}function f(n){return typeof n=="function"}function b(n){return typeof n=="number"}function k(n){return i.isObject(n)&&n.window===n}function e(n){return Object.prototype.toString.call(n)==="[object Array]"}function d(n){if(n===null||i.isWindow(n)||i.isFunction(n)||i.isUndefined(n))return!1;var t=n.length;return n.nodeType===c&&t?!0:i.isString(n)||i.isArray(n)||t===0||typeof t=="number"&&t>0&&t-1 in n}function g(n){return typeof n=="string"}function nt(n){return i.isString(n)&&n.length===0}function tt(n){return i.isString(n)&&n.length!==0}function it(n){return Array.prototype.slice.call(n)}function o(n,t,i){var r,u,s;if(n)if(f(n))for(r in n)r!=="prototype"&&r!=="length"&&r!=="name"&&(!n.hasOwnProperty||n.hasOwnProperty(r))&&t.call(i,n[r],r,n);else if(e(n))for(s=typeof n!="object",r=0,u=n.length;r<u;r++)(s||r in n)&&t.call(i,n[r],r,n);else if(n.forEach&&n.forEach!==o)n.forEach(t,i,n);else for(r in n)n.hasOwnProperty(r)&&t.call(i,n[r],r,n);return n}function rt(n,t){return t=t||"_",n.replace(l,function(n,i){return(i?t:"")+n.toLowerCase()})}function ut(n){return i.isString(n)?a.test(n.trim()):!1}function s(n){for(var i,t,f=1;f<arguments.length;f++){i=arguments[f];for(t in i)i.hasOwnProperty(t)&&(n[t]=r(n[t])&&!u(n[t])&&r(i[t])?s({},n[t],i[t]):i[t])}return n}function ft(n){return n.charAt(0).toUpperCase()+n.slice(1)}function et(n){return n.charAt(0).toLowerCase()+n.slice(1)}function ot(n,t){var r=[];return n.forEach(function(n,u){var f=t(n,u);i.isDefined(f)&&r.push(f)}),r}function st(n,t){var r=n+"";if(t=i.isNumber(t)?t:0,n=i.isNumber(n)?n:parseInt(n,10),i.isNumber(n)&&!isNaN(n)){for(r=n+"";r.length<t;)r="0"+r;return r}return"NaN"}function ht(n,t){var i=(new Date).getTime()-(t+1);return function(){var r=(new Date).getTime();r-i>=t&&(i=r,n.apply(this,arguments))}}function ct(n,t){var i;return function(){i&&clearTimeout(i);i=setTimeout(function(){n.apply(this,arguments);i=undefined},t)}}function h(n,t,i){for(var f,u=t(n),r=0;r<u.length;r++){if(i(u[r]))return u[r];if(f=h(u[r],t,i),f)return f}}function lt(n){return function(){return n}}function at(n){return(i.isNumber(n)&&(n=n+""),!i.isString(n))?!1:v.test(n.trim())}function vt(){var n=i.getInternetExplorerVersion(navigator);return n===-1?!1:n<10}function yt(n){var t=-1;if(n.appName=="Microsoft Internet Explorer"){var r=n.userAgent,u=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),i=u.exec(r);i!==null&&(t=parseFloat(i[1]))}return t}function pt(){return/iP(hone|ad)/.test(i._UA)}function wt(){return/iP(hone|ad|od)|Android|Windows Phone/.test(i._UA)}function bt(){return/iP(hone|od)/.test(i._UA)}function kt(){return/Android/.test(i._UA)}var c=1,l=/[A-Z]/g,a=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)+$/i,v=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,i={_UA:navigator.userAgent,noop:y,isNull:u,isDefined:p,isUndefined:w,isObject:r,isFunction:f,isNumber:b,isWindow:k,isArray:e,isArrayLike:d,isString:g,isEmptyString:nt,isNotEmptyString:tt,arrayLikeObjToArray:it,forEach:o,snake_case:rt,isValidEmail:ut,extend:s,capitalize:ft,decapitalize:et,transformArray:ot,toFixedDigits:st,throttle:ht,debounce:ct,treeSearch:h,echoFn:lt,isISO8601:at,isOldIE:vt,getInternetExplorerVersion:yt,isIDevice:pt,isMobile:wt,isIPhone:bt,isAndroid:kt};t.exports=i},{}],48:[function(n,t){"use strict";var r=n("./utilityFunctions"),i={};i.strToXMLDoc=function(n){function i(n){var i=new DOMParser,t;try{if(t=i.parseFromString(n,"application/xml"),u(t)||r.isEmptyString(n))throw new Error;}catch(f){throw new Error("xml.strToXMLDOC: Error parsing the string: '"+n+"'");}return t}function u(n){try{var i=new DOMParser,r=i.parseFromString("INVALID","text/xml"),t=r.getElementsByTagName("parsererror")[0].namespaceURI;return t==="http://www.w3.org/1999/xhtml"?n.getElementsByTagName("parsererror").length>0:n.getElementsByTagNameNS(t,"parsererror").length>0}catch(u){}}if(typeof DOMParser=="undefined"){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(n),t}return i(n)};i.parseText=function(n){return/^\s*$/.test(n)?null:/^(?:true|false)$/i.test(n)?n.toLowerCase()==="true":isFinite(n)?parseFloat(n):r.isISO8601(n)?new Date(n):n.trim()};i.JXONTree=function(n){var c=i.parseText,f,t,u,s,e,l,h,o;if(n.documentElement)return new i.JXONTree(n.documentElement);if(n.hasChildNodes()){for(f="",e=0;e<n.childNodes.length;e++)t=n.childNodes.item(e),(t.nodeType-1|1)==3?f+=t.nodeType===3?t.nodeValue.trim():t.nodeValue:t.nodeType!==1||t.prefix||(u=r.decapitalize(t.nodeName),s=new i.JXONTree(t),this.hasOwnProperty(u)?(this[u].constructor!==Array&&(this[u]=[this[u]]),this[u].push(s)):this[u]=s);f&&(this.keyValue=c(f))}if(l=typeof n.hasAttributes=="undefined"?n.attributes.length>0:n.hasAttributes(),l)for(o=0;o<n.attributes.length;o++)h=n.attributes.item(o),this["@"+r.decapitalize(h.name)]=c(h.value.trim())};i.JXONTree.prototype.attr=function(n){return this["@"+r.decapitalize(n)]};i.toJXONTree=function(n){var t=i.strToXMLDoc(n);return new i.JXONTree(t)};i.keyValue=function(n){return n?n.keyValue:undefined};i.attr=function(n,t){return n?n["@"+r.decapitalize(t)]:undefined};i.encode=function(n){return r.isString(n)?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):undefined};i.decode=function(n){return r.isString(n)?n.replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&"):undefined};t.exports=i},{"./utilityFunctions":47}],49:[function(n){"use strict";n("./plugin/components/ads-label_5");n("./plugin/components/black-poster_5");var t=n("./plugin/videojs.vast.vpaid");videojs.plugin("vastClient",t)},{"./plugin/components/ads-label_5":36,"./plugin/components/black-poster_5":38,"./plugin/videojs.vast.vpaid":39}]},{},[49]);!function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};t.m=n;t.c=i;t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})};t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i};t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};t.p="/";t(t.s=2)}([function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.prepareTokenParams=t.getListXmlUrl=t.isDebugMode=t.iosCompatiblity=t.getKeySystemOptions=t.getVttSources=t.detectPlatform=t.getFileExtension=t.checkMimetype=t.parseXML=t.xmlToJson=t.xmlRequest=t.detectSourcePriority=t.getApropiateSourceRow=void 0;var e=i(6),r=i(1),h=(t.getApropiateSourceRow=function(n){var i={},f=[],r,t;if(n.length){for(f=n.sort(function(n,t){return n.priority-t.priority}),r=0;r<f.length;r++)if(t=f[r],t.platform===u().platform){if(t.browser===u().browser){i=t;break}if("any"===t.browser){i=t;break}i={}}else if("any"===t.platform){if(t.browser===u().browser){i=t;break}if("any"===t.browser){i=t;break}i={}}else if("any"===t.platform){if(t.browser===u().browser){i=t;break}if("any"===t.browser){i=t;break}i={}}else i={};return i}},t.detectSourcePriority=function(n){var i;if(n||n.hasOwnProperty("sourcePriority")){for(var r=Object.keys(n.sourcePriority),u=null,t=0;t<r.length;t++)if(i=r[t],n.sourcePriority[i]){u=i;break}return u}},t.xmlRequest=function(n,t){videojs.xhr({method:"GET",uri:n,Headers:{"content-type":"text/xml"}},function(n,i,r){var u=h(c(r));t(n,u)})},t.xmlToJson=function(n){var t;if(n){for(var i=n.documentElement.childNodes,u=(i.length,[]),r=0;r<i.length;r++)t=i[r],t instanceof Element&&u.push({format:t.tagName,name:t.getAttribute("Name"),src:"//"+t.getAttribute("StreamLink"),type:o(t.getAttribute("StreamLink"))});return u}}),c=t.parseXML=function(n){return(new DOMParser).parseFromString(n,"text/xml")},o=t.checkMimetype=function(n){var u=f(n),t=r.MimetypesKind[u.toLowerCase()],i="";return!n.type&&t&&(i=t),i},f=t.getFileExtension=function(n){if("string"==typeof n){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(n);if(t)return t.pop().toLowerCase().trim()}return""},u=t.detectPlatform=function(){return{platform:e.os.family.toLowerCase(),browser:e.name.toLowerCase()}},s=(t.getVttSources=function(n){for(var t,r="",i=0;i<n.length;i++)t=n[i],"vtt"!=f(t.src)&&"Thumbnail"!=t.format||(t.src.replace(".vtt",""),r=t.src);return{src:r}},t.getKeySystemOptions=function(n){var i=u().browser,e=u().platform,t=(f(n.src),{name:"",options:{licenseUrl:""}});return n.type=o(n.src),console.log(r.KEY_SYSTEMS[e][i]),settings.isWidevineDRMEnabled&&"widevine"==r.KEY_SYSTEMS[e][i]&&(t.name=r.KEY_SYS_META[r.KEY_SYSTEMS[e][i]],t.options.licenseUrl=settings.widevineLicenceUrl,n.keySystemOptions=[t]),settings.isPlayreadyDRMEnabled&&"playready"==r.KEY_SYSTEMS[e][i]&&(t.name=r.KEY_SYS_META[r.KEY_SYSTEMS[e][i]],t.options.licenseUrl=settings.playereadyLicenceUrl,n.keySystemOptions=[t]),n},t.iosCompatiblity=function(n){return"mpd"==f(n.src)?{src:n.src.replace(".mpd",".m3u8"),type:r.MimetypesKind.m3u8}:n},t.isDebugMode=function(){},t.getListXmlUrl=function(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)","i"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null});t.prepareTokenParams=function(n){var t=s("sk",n),i=s("xt",n);return(t?"?sk="+t:"")+(i?(t?"&":"?")+"xt="+i:"")}},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.OS={windows:"windows","os x":"os x",android:"android",ios:"ios"};t.BROWSER={chrome:"chrome",firefox:"firefox",opera:"opera","microsoft edge":"microsoft edge",ie:"ie",safari:"safari","chrome mobile":"chrome mobile","firefox mobile":"firefox mobile","opera mobile":"opera mobile","firefox for ios":"firefox for ios"};t.KEY_SYSTEMS={android:{"chrome mobile":"widevine","firefox mobile":"widevine","opera mobile":"widevine"},windows:{chrome:"widevine",firefox:"widevine",opera:"widevine","microsoft edge":"playready",ie:"playready"},ios:{},"os x":{}};t.KEY_SYS_META={widevine:"com.widevine.alpha",playready:"com.microsoft.playready",fairplay:"com.apple.fps.1_0"};t.MimetypesKind={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",xml:"application/grouplist"};t.extensionMap={DASH:"mpd",HLS:"m3u8",MP4:"mp4"};t.sourceMatrice=[{priority:3,platform:"windows",browser:"chrome",sourcePriority:{DASH:1,HLS:0,VHLS:0}},{priority:1,platform:"ios",browser:"safari",sourcePriority:{DASH:1,HLS:1,VHLS:1}},{priority:2,platform:"any",browser:"firefox",sourcePriority:{DASH:1,HLS:0,VHLS:0}},{priority:5,platform:"any",browser:"any",sourcePriority:{DASH:1,HLS:1,VHLS:0}},{priority:4,platform:"any",browser:"opera",sourcePriority:{DASH:0,HLS:1,VHLS:0}}]},function(n,t,i){i(3);n.exports=i(4)},function(){},function(n,t,i){"use strict";var u=i(5),r=i(9);videojs.use("xml",r.groupListMiddleware);videojs.use("mpd",r.dashMiddleware);videojs.use("m3u8",r.hlsMiddleware);videojs.use("mp4",r.mp4Middleware);videojs.registerComponent("DebugButton",u.DebugButton);videojs.registerComponent("DebugAction",u.DebugAction)},function(n,t,i){"use strict";function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function u(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function f(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.DebugAction=t.DebugButton=void 0;var e=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),h=i(0),o=function(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}(h),s=videojs.getComponent("Button");t.DebugButton=function(n){function t(n,i){r(this,t);var f=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i));return n.removeChild("ErrorDisplay"),n.on("loadedmetadata",function(){f.setValueIntoEl("source",n.src());f.setValueIntoEl("row",JSON.stringify(n.options_.platformRow,null,2));n.currentSource().keySystemOptions&&f.setValueIntoEl("keysys",JSON.stringify(n.currentSource().keySystemOptions[0],null,2));console.log(n)}),n.on("error",function(){f.setValueIntoEl("error",JSON.stringify(n.error_,null,4))}),f}return f(t,n),e(t,[{key:"createEl",value:function(){return this.platform=o.detectPlatform(),this.$el=videojs.dom.createEl("div",{className:"vjs-debug-action-button",innerHTML:'\n      <div>\n      <ul>\n      <li>\n          <pre>Error :<\/pre>\n          <pre class="error" style="color:red">-<\/pre>\n        <\/li>\n        <li>\n          <pre>Platform :<\/pre>\n          <pre class="platform">'+this.platform.platform+'<\/pre>\n        <\/li>\n        <li>\n          <pre>Browser :<\/pre>\n          <pre class="browser">'+this.platform.browser+'<\/pre>\n        <\/li>\n        <li>\n          <pre>Selected Row:<\/pre>\n          <pre class="row">-<\/pre>\n        <\/li>\n        <li>\n          <pre>Selected Source:<\/pre>\n          <pre class="source">-<\/pre>\n        <\/li>\n        <li>\n          <pre>KeySystem:<\/pre>\n          <pre class="keysys">-<\/pre>\n        <\/li>\n        <li>\n          <pre>DRM status:<\/pre>\n          <pre class="drm"> '+JSON.stringify({widevine:settings.isWidevineDRMEnabled,playready:settings.isPlayreadyDRMEnabled},null,2)+"<\/pre>\n        <\/li>\n      <\/ul>\n    <\/div>\n            "}),this.$el}},{key:"setValueIntoEl",value:function(n,t){this.$el.querySelector(".vjs-debug-action-button ."+n).innerHTML=t}},{key:"toggleState",value:function(){}},{key:"handleClick",value:function(){}}]),t}(s);t.DebugAction=function(n){function t(n,i){return r(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i))}return f(t,n),e(t,[{key:"createEl",value:function(){return this.platform=o.detectPlatform(),this.$el=videojs.dom.createEl("div",{className:"vjs-debug",innerHTML:'<span class="debug">D<\/span>'}),this.$el}},{key:"handleClick",value:function(){var n=this.player_.getChild("DebugButton");n&&(n.hasClass("vjs-hidden")?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden"))}}]),t}(s)},function(n,t,i){(function(n,r){var u;(function(){"use strict";function p(n){return n=String(n),n.charAt(0).toUpperCase()+n.slice(1)}function g(n,t,i){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(r=r[/[\d.]+$/.exec(n)])&&(n="Windows "+r),n=String(n),t&&i&&(n=n.replace(RegExp(t,"i"),i)),n=h(n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function nt(n,t){var r=-1,i=n?n.length:0;if("number"==typeof i&&i>-1&&i<=ut)for(;++r<i;)t(n[r],r,n);else a(n,t)}function h(n){return n=w(n),/^(?:webOS|i(?:OS|P))/.test(n)?n:p(n)}function a(n,t){for(var i in n)ft.call(n,i)&&t(n[i],i,n)}function e(n){return null==n?p(n):k.call(n).slice(8,-1)}function tt(n,t){var i=null!=n?typeof n[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!n[t])}function o(n){return String(n).replace(/([ -])(?!$)/g,"$1?")}function s(n,t){var i=null;return nt(n,function(r,u){i=t(i,r,u,n)}),i}function w(n){return String(n).replace(/^ +| +$/g,"")}function c(n){function vt(t){return s(t,function(t,i){var r=i.pattern||o(i);return!t&&(t=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(n)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(n)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(n))&&((t=String(i.label&&!RegExp(r,"i").test(i.label)?i.label:t).split("/"))[1]&&!/[\d.]+/.test(t[0])&&(t[0]+=" "+t[1]),i=i.label||i,t=h(t[0].replace(RegExp(r,"i"),i).replace(RegExp("; *(?:"+i+"[_-])?","i")," ").replace(RegExp("("+i+")[-_.]?(\\w)","i"),"$1 $2"))),t})}function yt(){return this.description||""}var b=y,ut=n&&"object"==typeof n&&"String"!=e(n),ft,ct,d;ut&&(b=n,n=null);ft=b.navigator||{};ct=ft.userAgent||"";n||(n=ct);var t,lt,pt=ut?!!ft.likeChrome:/\bChrome\b/.test(n)&&!/internal|\n/i.test(k.toString()),wt=ut?"Object":"ScriptBridgingProxyObject",bt=ut?"Object":"Environment",kt=ut&&b.java?"JavaPackage":e(b.java),dt=ut?"Object":"RuntimeObject",et=/\bJava/.test(kt)&&b.java,gt=et&&e(b.environment)==bt,ni=et?"a":"α",ti=et?"b":"β",at=b.document||{},it=b.operamini||b.opera,ot=l.test(ot=ut&&it?it["[[Class]]"]:e(it))?ot:it=null,st=n,f=[],ht=null,rt=n==ct,u=rt&&it&&"function"==typeof it.version&&it.version(),p=function(t){return s(t,function(t,i){return t||RegExp("\\b"+(i.pattern||o(i))+"\\b","i").exec(n)&&(i.label||i)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),i=function(t){return s(t,function(t,i){return t||RegExp("\\b"+(i.pattern||o(i))+"\\b","i").exec(n)&&(i.label||i)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),v=vt([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),nt=function(t){return s(t,function(t,i,r){return t||(i[v]||i[/^[a-z]+(?: +[a-z]+\b)*/i.exec(v)]||RegExp("\\b"+o(r)+"(?:\\b|\\w*\\d)","i").exec(n))&&r})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),r=function(t){return s(t,function(t,i){var r=i.pattern||o(i);return!t&&(t=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(n))&&(t=g(t,r,i.label||i)),t})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(p&&(p=[p]),nt&&!v&&(v=vt([nt])),(t=/\bGoogle TV\b/.exec(v))&&(v=t[0]),/\bSimulator\b/i.test(n)&&(v=(v?v+" ":"")+"Simulator"),"Opera Mini"==i&&/\bOPiOS\b/.test(n)&&f.push("running in Turbo/Uncompressed mode"),"IE"==i&&/\blike iPhone OS\b/.test(n)?(t=c(n.replace(/like iPhone OS/,"")),nt=t.manufacturer,v=t.product):/^iP/.test(v)?(i||(i="Safari"),r="iOS"+((t=/ OS ([\d_]+)/i.exec(n))?" "+t[1].replace(/_/g,"."):"")):"Konqueror"!=i||/buntu/i.test(r)?nt&&"Google"!=nt&&(/Chrome/.test(i)&&!/\bMobile Safari\b/i.test(n)||/\bVita\b/.test(v))||/\bAndroid\b/.test(r)&&/^Chrome/.test(i)&&/\bVersion\//i.test(n)?(i="Android Browser",r=/\bAndroid\b/.test(r)?r:"Android"):"Silk"==i?(/\bMobi/i.test(n)||(r="Android",f.unshift("desktop mode")),/Accelerated *= *true/i.test(n)&&f.unshift("accelerated")):"PaleMoon"==i&&(t=/\bFirefox\/([\d.]+)\b/.exec(n))?f.push("identifying as Firefox "+t[1]):"Firefox"==i&&(t=/\b(Mobile|Tablet|TV)\b/i.exec(n))?(r||(r="Firefox OS"),v||(v=t[1])):!i||(t=!/\bMinefield\b/i.test(n)&&/\b(?:Firefox|Safari)\b/.exec(i))?(i&&!v&&/[\/,]|^[^(]+?\)/.test(n.slice(n.indexOf(t+"/")+8))&&(i=null),(t=v||nt||r)&&(v||nt||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(r))&&(i=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(r)?r:t)+" Browser")):"Electron"==i&&(t=(/\bChrome\/([\d.]+)\b/.exec(n)||0)[1])&&f.push("Chromium "+t):r="Kubuntu",u||(u=function(t){return s(t,function(t,i){return t||(RegExp(i+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(n)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",o(i),"(?:Firefox|Minefield|NetFront)"])),(t="iCab"==p&&parseFloat(u)>3&&"WebKit"||/\bOpera\b/.test(i)&&(/\bOPR\b/.test(n)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(n)&&!/^(?:Trident|EdgeHTML)$/.test(p)&&"WebKit"||!p&&/\bMSIE\b/i.test(n)&&("Mac OS"==r?"Tasman":"Trident")||"WebKit"==p&&/\bPlayStation\b(?! Vita\b)/i.test(i)&&"NetFront")&&(p=[t]),"IE"==i&&(t=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(n)||0)[1])?(i+=" Mobile",r="Windows Phone "+(/\+$/.test(t)?t:t+".x"),f.unshift("desktop mode")):/\bWPDesktop\b/i.test(n)?(i="IE Mobile",r="Windows Phone 8.x",f.unshift("desktop mode"),u||(u=(/\brv:([\d.]+)/.exec(n)||0)[1])):"IE"!=i&&"Trident"==p&&(t=/\brv:([\d.]+)/.exec(n))&&(i&&f.push("identifying as "+i+(u?" "+u:"")),i="IE",u=t[1]),rt){if(tt(b,"global"))if(et&&(t=et.lang.System,st=t.getProperty("os.arch"),r=r||t.getProperty("os.name")+" "+t.getProperty("os.version")),gt){try{u=b.require("ringo/engine").version.join(".");i="RingoJS"}catch(n){(t=b.system)&&t.global.system==b.system&&(i="Narwhal",r||(r=t[0].os||null))}i||(i="Rhino")}else"object"==typeof b.process&&!b.process.browser&&(t=b.process)&&("object"==typeof t.versions&&("string"==typeof t.versions.electron?(f.push("Node "+t.versions.node),i="Electron",u=t.versions.electron):"string"==typeof t.versions.nw&&(f.push("Chromium "+u,"Node "+t.versions.node),i="NW.js",u=t.versions.nw)),i||(i="Node.js",st=t.arch,r=t.platform,u=/[\d.]+/.exec(t.version),u=u?u[0]:null));else e(t=b.runtime)==wt?(i="Adobe AIR",r=t.flash.system.Capabilities.os):e(t=b.phantom)==dt?(i="PhantomJS",u=(t=t.version||null)&&t.major+"."+t.minor+"."+t.patch):"number"==typeof at.documentMode&&(t=/\bTrident\/(\d+)/i.exec(n))?(u=[u,at.documentMode],(t=+t[1]+4)!=u[1]&&(f.push("IE "+u[1]+" mode"),p&&(p[1]=""),u[1]=t),u="IE"==i?String(u[1].toFixed(1)):u[0]):"number"==typeof at.documentMode&&/^(?:Chrome|Firefox)\b/.test(i)&&(f.push("masking as "+i+" "+u),i="IE",u="11.0",p=["Trident"],r="Windows");r=r&&h(r)}if(u&&(t=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(u)||/(?:alpha|beta)(?: ?\d)?/i.exec(n+";"+(rt&&ft.appMinorVersion))||/\bMinefield\b/i.test(n)&&"a")&&(ht=/b/i.test(t)?"beta":"alpha",u=u.replace(RegExp(t+"\\+?$"),"")+("beta"==ht?ti:ni)+(/\d+\+?/.exec(t)||"")),"Fennec"==i||"Firefox"==i&&/\b(?:Android|Firefox OS)\b/.test(r))i="Firefox Mobile";else if("Maxthon"==i&&u)u=u.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(v))"Xbox 360"==v&&(r=null),"Xbox 360"==v&&/\bIEMobile\b/.test(n)&&f.unshift("mobile mode");else if((/^(?:Chrome|IE|Opera)$/.test(i)||i&&!v&&!/Browser|Mobi/.test(i))&&("Windows CE"==r||/Mobi/i.test(n)))i+=" Mobile";else if("IE"==i&&rt)try{null===b.external&&f.unshift("platform preview")}catch(n){f.unshift("embedded")}else(/\bBlackBerry\b/.test(v)||/\bBB10\b/.test(n))&&(t=(RegExp(v.replace(/ +/g," *")+"/([.\\d]+)","i").exec(n)||0)[1]||u)?(t=[t,/BB10/.test(n)],r=(t[1]?(v=null,nt="BlackBerry"):"Device Software")+" "+t[0],u=null):this!=a&&"Wii"!=v&&(rt&&it||/Opera/.test(i)&&/\b(?:MSIE|Firefox)\b/i.test(n)||"Firefox"==i&&/\bOS X (?:\d+\.){2,}/.test(r)||"IE"==i&&(r&&!/^Win/.test(r)&&u>5.5||/\bWindows XP\b/.test(r)&&u>8||8==u&&!/\bTrident\b/.test(n)))&&!l.test(t=c.call(a,n.replace(l,"")+";"))&&t.name&&(t="ing as "+t.name+((t=t.version)?" "+t:""),l.test(i)?(/\bIE\b/.test(t)&&"Mac OS"==r&&(r=null),t="identify"+t):(t="mask"+t,i=ot?h(ot.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(t)&&(r=null),rt||(u=null)),p=["Presto"],f.push(t));return(t=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(n)||0)[1])&&(t=[parseFloat(t.replace(/\.(\d)$/,".0$1")),t],"Safari"==i&&"+"==t[1].slice(-1)?(i="WebKit Nightly",ht="alpha",u=t[1].slice(0,-1)):u!=t[1]&&u!=(t[2]=(/\bSafari\/([\d.]+\+?)/i.exec(n)||0)[1])||(u=null),t[1]=(/\bChrome\/([\d.]+)/i.exec(n)||0)[1],537.36==t[0]&&537.36==t[2]&&parseFloat(t[1])>=28&&"WebKit"==p&&(p=["Blink"]),rt&&(pt||t[1])?(p&&(p[1]="like Chrome"),t=t[1]||(t=t[0],t<530?1:t<532?2:t<532.05?3:t<533?4:t<534.03?5:t<534.07?6:t<534.1?7:t<534.13?8:t<534.16?9:t<534.24?10:t<534.3?11:t<535.01?12:t<535.02?"13+":t<535.07?15:t<535.11?16:t<535.19?17:t<536.05?18:t<536.1?19:t<537.01?20:t<537.11?"21+":t<537.13?23:t<537.18?24:t<537.24?25:t<537.36?26:"Blink"!=p?"27":"28")):(p&&(p[1]="like Safari"),t=t[0],t=t<400?1:t<500?2:t<526?3:t<533?4:t<534?"4+":t<535?5:t<537?6:t<538?7:t<601?8:"8"),p&&(p[1]+=" "+(t+="number"==typeof t?".x":/[.+]/.test(t)?"":"+")),"Safari"==i&&(!u||parseInt(u)>45)&&(u=t)),"Opera"==i&&(t=/\bzbov|zvav$/.exec(r))?(i+=" ",f.unshift("desktop mode"),"zvav"==t?(i+="Mini",u=null):i+="Mobile",r=r.replace(RegExp(" *"+t+"$"),"")):"Safari"==i&&/\bChrome\b/.exec(p&&p[1])&&(f.unshift("desktop mode"),i="Chrome Mobile",u=null,/\bOS X\b/.test(r)?(nt="Apple",r="iOS 4.3+"):r=null),u&&0==u.indexOf(t=/[\d.]+$/.exec(r))&&n.indexOf("/"+t+"-")>-1&&(r=w(r.replace(t,""))),p&&!/\b(?:Avant|Nook)\b/.test(i)&&(/Browser|Lunascape|Maxthon/.test(i)||"Safari"!=i&&/^iOS/.test(r)&&/\bSafari\b/.test(p[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(i)&&p[1])&&(t=p[p.length-1])&&f.push(t),f.length&&(f=["("+f.join("; ")+")"]),nt&&v&&v.indexOf(nt)<0&&f.push("on "+nt),v&&f.push((/^on /.test(f[f.length-1])?"":"on ")+v),r&&(t=/ ([\d.+]+)$/.exec(r),lt=t&&"/"==r.charAt(r.length-t[0].length-1),r={architecture:32,family:t&&!lt?r.replace(t[0],""):r,version:t?t[1]:null,toString:function(){var n=this.version;return this.family+(n&&!lt?" "+n:"")+(64==this.architecture?" 64-bit":"")}}),(t=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(st))&&!/\bi686\b/i.test(st)?(r&&(r.architecture=64,r.family=r.family.replace(RegExp(" *"+t),"")),i&&(/\bWOW64\b/i.test(n)||rt&&/\w(?:86|32)$/.test(ft.cpuClass||ft.platform)&&!/\bWin64; x64\b/i.test(n))&&f.unshift("32-bit")):r&&/^OS X/.test(r.family)&&"Chrome"==i&&parseFloat(u)>=39&&(r.architecture=64),n||(n=null),d={},d.description=n,d.layout=p&&p[0],d.manufacturer=nt,d.name=i,d.prerelease=ht,d.product=v,d.ua=n,d.version=i&&u,d.os=r||{architecture:null,family:null,version:null,toString:function(){return"null"}},d.parse=c,d.toString=yt,d.version&&f.unshift(u),d.name&&f.unshift(i),r&&i&&(r!=String(r).split(" ")[0]||r!=i.split(" ")[0]&&!v)&&f.push(v?"("+r+")":"on "+r),f.length&&(d.description=f.join(" ")),d}var v={"function":!0,object:!0},y=v[typeof window]&&window||this,it=v[typeof t]&&t,rt=v[typeof n]&&n&&!n.nodeType&&n,f=it&&rt&&"object"==typeof r&&r;f&&(f.global===f||f.window===f||f.self===f)&&(y=f);var ut=Math.pow(2,53)-1,l=/\bOpera/,b=Object.prototype,ft=b.hasOwnProperty,k=b.toString,d=c();y.platform=d;void 0!==(u=function(){return d}.call(t,i,t,n))&&(n.exports=u)}).call(this)}).call(t,i(7)(n),i(8))},function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(n){var t=function(){return this}();try{t=t||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,t,i){"use strict";var f;Object.defineProperty(t,"__esModule",{value:!0});t.jpegMiddleware=t.mp4Middleware=t.hlsMiddleware=t.dashMiddleware=t.groupListMiddleware=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=i(0),r=function(n){var t,i;if(n&&n.__esModule)return n;if(t={},null!=n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t.default=n,t}(o),u=i(1);videojs.hook("setup",function(n){r.getListXmlUrl("debug")&&(n.addChild("DebugButton"),n.controlBar.addChild("DebugAction"))});f=(t.groupListMiddleware=function(n){return{setSource:function(t,i){r.xmlRequest(t.src,function(t,o){var h=r.getApropiateSourceRow(void 0!==("undefined"==typeof sourceMatriceExternal?"undefined":e(sourceMatriceExternal))?externalSourceMatrice:u.sourceMatrice),s=r.detectSourcePriority(h),c,l,v,a;(s&&"DASH"===s||"HLS"===s||"MP4"===s)&&(c=o.filter(function(n){return n.format===s}),c.length?(l=c[0],f(n,o),n.options_.platformRow=h,i(null,{platform:h,src:l.src+r.prepareTokenParams(),type:u.extensionMap[l.format]})):(v=o.filter(function(n){if(n.format!==s&&("HLS"===s||"DASH"===s||"MP4"===s))return!0}),a=v[0],f(n,o),n.options_.platformRow=h,i(null,{platform:h,src:a.src+r.prepareTokenParams(),type:u.extensionMap[a.format]})))})}}},t.dashMiddleware=function(n){return{setSource:function(t){var i=r.getApropiateSourceRow(void 0!==("undefined"==typeof sourceMatriceExternal?"undefined":e(sourceMatriceExternal))?externalSourceMatrice:u.sourceMatrice),f,o;r.detectSourcePriority(i);i.platform&&i.sourcePriority&&i.sourcePriority.VHLS&&i.sourcePriority.DASH?(f=r.iosCompatiblity({src:t.src,type:t.type}),n.src(f)):(o=r.getKeySystemOptions({src:t.src,type:t.type}),n.src(o))}}},t.hlsMiddleware=function(n){return{setSource:function(t){n.src({src:t.src,type:u.MimetypesKind[t.type]})}}},t.mp4Middleware=function(n){return{setSource:function(t){n.src({src:t.src,type:u.MimetypesKind[t.type]})}}},t.jpegMiddleware=function(){return{setSource:function(n){console.log(n)}}},function(n,t){settings.thumbnailsEnabled&&""!==r.getVttSources(t).src&&(n.addRemoteTextTrack({kind:"metadata",src:r.getVttSources(t).src||settings.externalVTTUrl,mode:"hidden"},!0),n.on("loadeddata",function(){n.thumbnails({basePath:""})}.bind(this)))})}]),function(){function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}return n}()({1:[function(n,t,i){
/*! npm.im/intervalometer */
function r(n,t,i,r){function e(i){u=t(e,r);n(i-(f||i));f=i}var u,f;return{start:function(){u||e(0)},stop:function(){i(u);u=null;f=0}}}function u(n){return r(n,requestAnimationFrame,cancelAnimationFrame)}function f(n,t){return r(n,setTimeout,clearTimeout,t)}Object.defineProperty(i,"__esModule",{value:!0});i.intervalometer=r;i.frameIntervalometer=u;i.timerIntervalometer=f},{}],2:[function(n,t){
/*! npm.im/iphone-inline-video */
function d(n){return n&&typeof n=="object"&&"default"in n?n["default"]:n}function o(n,t,i,r){function u(t){Boolean(n[i])===Boolean(r)&&t.stopImmediatePropagation();delete n[i]}return n.addEventListener(t,u,!1),u}function r(n,t,i,r){function f(){return i[t]}function u(n){i[t]=n}r&&u(n[t]);Object.defineProperty(n,t,{get:f,set:u})}function h(n,t,i){i.addEventListener(t,function(){return n.dispatchEvent(new Event(t))})}function u(n,t){Promise.resolve().then(function(){n.dispatchEvent(new Event(t))})}function g(n){var t=new Audio;return h(n,"play",t),h(n,"playing",t),h(n,"pause",t),t.crossOrigin=n.crossOrigin,t.src=n.src||n.currentSrc||"data:",t}function s(n,t,i){(b||0)+200<Date.now()&&(n[e]=!0,b=Date.now());i||(n.currentTime=t);l[++w%3]=t*100|0}function a(n){return n.driver.currentTime>=n.video.duration}function nt(n){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+n*t.video.playbackRate/1e3,t.video.loop&&a(t)&&(t.driver.currentTime=0)),s(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load();t.video.ended&&(delete t.video[e],t.video.pause(!0))}function tt(){var n=this,t=n[f];if(n.webkitDisplayingFullscreen){n[c]();return}(t.driver.src!=="data:"&&t.driver.src!==n.src&&(s(n,0,!0),t.driver.src=n.src),n.paused)&&(t.paused=!1,n.buffered.length||n.load(),t.driver.play(),t.updater.start(),t.hasAudio||(u(n,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&u(n,"playing")))}function it(n){var t=this,i=t[f];(i.driver.pause(),i.updater.stop(),t.webkitDisplayingFullscreen&&t[p](),!i.paused||n)&&(i.paused=!0,i.hasAudio||u(t,"pause"),t.ended&&(t[e]=!0,u(t,"ended")))}function rt(n,t){var i=n[f]={};i.paused=!0;i.hasAudio=t;i.video=n;i.updater=v.frameIntervalometer(nt.bind(i));t?i.driver=g(n):(n.addEventListener("canplay",function(){n.paused||u(n,"playing")}),i.driver={src:n.src||n.currentSrc||"data:",muted:!0,paused:!0,pause:function(){i.driver.paused=!0},play:function(){i.driver.paused=!1;a(i)&&s(n,0)},get ended(){return a(i)}});n.addEventListener("emptied",function(){var t=!i.driver.src||i.driver.src==="data:";i.driver.src&&i.driver.src!==n.src&&(s(n,0,!0),i.driver.src=n.src,t?i.driver.play():i.updater.stop())},!1);n.addEventListener("webkitbeginfullscreen",function(){n.paused?t&&!i.driver.buffered.length&&i.driver.load():(n.pause(),n[c]())});t&&(n.addEventListener("webkitendfullscreen",function(){i.driver.currentTime=n.currentTime}),n.addEventListener("seeking",function(){l.indexOf(n.currentTime*100|0)<0&&(i.driver.currentTime=n.currentTime)}))}function ut(n){var t=n[f];n[c]=n.play;n[p]=n.pause;n.play=tt;n.pause=it;r(n,"paused",t.driver);r(n,"muted",t.driver,!0);r(n,"playbackRate",t.driver,!0);r(n,"ended",t.driver);r(n,"loop",t.driver,!0);o(n,"seeking");o(n,"seeked");o(n,"timeupdate",e,!1);o(n,"ended",e,!1)}function k(n,t,i){(t===void 0&&(t=!0),i===void 0&&(i=!0),i&&!y||n[f])||(rt(n,t),ut(n),n.classList.add("IIV"),!t&&n.autoplay&&n.play(),/iPhone|iPod|iPad/.test(navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var i,v,l,w,b;i=d(n("poor-mans-symbol"));v=n("intervalometer");var y="object-fit"in document.head.style&&/iPhone|iPod/i.test(navigator.userAgent)&&!matchMedia("(-webkit-video-playable-inline)").matches,f=i(),e=i(),c=i("nativeplay"),p=i("nativepause");l=[];w=0;k.isWhitelisted=y;t.exports=k},{intervalometer:1,"poor-mans-symbol":3}],3:[function(n,t){"use strict";var i=typeof Symbol=="undefined"?function(n){return"@"+(n||"@")+Math.random()}:Symbol;t.exports=i},{}],4:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var e,o;Object.defineProperty(i,"__esModule",{value:!0});var s=n("../lib/Detector"),u=r(s),h=n("../lib/MobileBuffering"),c=r(h),l=n("../lib/Util"),f=r(l);e=2;o=function(n,t){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return{constructor:function(r,f){var e,o;this.settings=f;this.width=r.el().offsetWidth;this.height=r.el().offsetHeight;this.lon=f.initLon;this.lat=f.initLat;this.phi=0;this.theta=0;this.videoType=f.videoType;this.clickToToggle=f.clickToToggle;this.mouseDown=!1;this.isUserInteracting=!1;this.renderer=new t.WebGLRenderer;this.renderer.setPixelRatio(window.devicePixelRatio);this.renderer.setSize(this.width,this.height);this.renderer.autoClear=!1;this.renderer.setClearColor(0,1);e=i.getTech(r);this.supportVideoTexture=u.default.supportVideoTexture();this.liveStreamOnSafari=u.default.isLiveStreamOnSafari(e);this.liveStreamOnSafari&&(this.supportVideoTexture=!1);this.supportVideoTexture?this.texture=new t.Texture(e):(this.helperCanvas=r.addChild("HelperCanvas",{video:e,width:f.helperCanvas.width?f.helperCanvas.width:this.width,height:f.helperCanvas.height?f.helperCanvas.height:this.height}),o=this.helperCanvas.el(),this.texture=new t.Texture(o));e.style.visibility="hidden";this.texture.generateMipmaps=!1;this.texture.minFilter=t.LinearFilter;this.texture.maxFilter=t.LinearFilter;this.texture.format=t.RGBFormat;this.el_=this.renderer.domElement;this.el_.classList.add("vjs-video-canvas");f.el=this.el_;n.call(this,r,f);this.attachControlEvents();this.player().on("play",function(){this.time=(new Date).getTime();this.startAnimation()}.bind(this))},attachControlEvents:function(){this.on("mousemove",this.handleMouseMove.bind(this));this.on("touchmove",this.handleTouchMove.bind(this));this.on("mousedown",this.handleMouseDown.bind(this));this.on("touchstart",this.handleTouchStart.bind(this));this.on("mouseup",this.handleMouseUp.bind(this));this.on("touchend",this.handleTouchEnd.bind(this));if(this.settings.scrollable){this.on("mousewheel",this.handleMouseWheel.bind(this));this.on("MozMousePixelScroll",this.handleMouseWheel.bind(this))}this.on("mouseenter",this.handleMouseEnter.bind(this));this.on("mouseleave",this.handleMouseLease.bind(this));this.on("dispose",this.handleDispose.bind(this))},handleDispose:function(){this.off("mousemove",this.handleMouseMove.bind(this));this.off("touchmove",this.handleTouchMove.bind(this));this.off("mousedown",this.handleMouseDown.bind(this));this.off("touchstart",this.handleTouchStart.bind(this));this.off("mouseup",this.handleMouseUp.bind(this));this.off("touchend",this.handleTouchEnd.bind(this));this.settings.scrollable&&(this.off("mousewheel",this.handleMouseWheel.bind(this)),this.off("MozMousePixelScroll",this.handleMouseWheel.bind(this)));this.off("mouseenter",this.handleMouseEnter.bind(this));this.off("mouseleave",this.handleMouseLease.bind(this));this.off("dispose",this.handleDispose.bind(this));this.stopAnimation()},startAnimation:function(){this.render_animation=!0;this.animate()},stopAnimation:function(){this.render_animation=!1;this.requestAnimationId&&cancelAnimationFrame(this.requestAnimationId)},handleResize:function(){this.width=this.player().el().offsetWidth;this.height=this.player().el().offsetHeight;this.renderer.setSize(this.width,this.height)},handleMouseUp:function(n){var t,i,r,u;if(this.mouseDown=!1,this.clickToToggle){if(t=n.clientX||n.changedTouches&&n.changedTouches[0].clientX,i=n.clientY||n.changedTouches&&n.changedTouches[0].clientY,typeof t=="undefined"||i==="undefined")return;r=Math.abs(t-this.onPointerDownPointerX);u=Math.abs(i-this.onPointerDownPointerY);r<.1&&u<.1&&(this.player().paused()?this.player().play():this.player().pause())}},handleMouseDown:function(n){n.preventDefault();var t=n.clientX||n.touches&&n.touches[0].clientX,i=n.clientY||n.touches&&n.touches[0].clientY;typeof t!="undefined"&&i!=="undefined"&&(this.mouseDown=!0,this.onPointerDownPointerX=t,this.onPointerDownPointerY=i,this.onPointerDownLon=this.lon,this.onPointerDownLat=this.lat)},handleTouchStart:function(n){n.touches.length>1&&(this.isUserPinch=!0,this.multiTouchDistance=f.default.getTouchesDistance(n.touches));this.handleMouseDown(n)},handleTouchEnd:function(n){this.isUserPinch=!1;this.handleMouseUp(n)},handleMouseMove:function(n){var t=n.clientX||n.touches&&n.touches[0].clientX,i=n.clientY||n.touches&&n.touches[0].clientY,r,u;typeof t!="undefined"&&i!=="undefined"&&(this.settings.clickAndDrag?this.mouseDown&&(this.lon=(this.onPointerDownPointerX-t)*.2+this.onPointerDownLon,this.lat=(i-this.onPointerDownPointerY)*.2+this.onPointerDownLat):(r=t-this.el_.offsetLeft,u=i-this.el_.offsetTop,this.lon=r/this.width*430-225,this.lat=u/this.height*-180+90))},handleTouchMove:function(n){(!this.isUserPinch||n.touches.length<=1)&&this.handleMouseMove(n)},handleMobileOrientation:function(n,t,i){var f=typeof n.portrait!="undefined"?n.portrait:window.matchMedia("(orientation: portrait)").matches,e=typeof n.landscape!="undefined"?n.landscape:window.matchMedia("(orientation: landscape)").matches,u=n.orientation||window.orientation,r;f?(this.lon=this.lon-i*this.settings.mobileVibrationValue,this.lat=this.lat+t*this.settings.mobileVibrationValue):e&&(r=-90,typeof u!="undefined"&&(r=u),this.lon=r==-90?this.lon+t*this.settings.mobileVibrationValue:this.lon-t*this.settings.mobileVibrationValue,this.lat=r==-90?this.lat+i*this.settings.mobileVibrationValue:this.lat-i*this.settings.mobileVibrationValue)},handleMobileOrientationDegrees:function(n){if(typeof n.rotationRate!="undefined"){var t=n.rotationRate.alpha*Math.PI/180,i=n.rotationRate.beta*Math.PI/180;this.handleMobileOrientation(n,t,i)}},handleMobileOrientationRadians:function(n){if(typeof n.rotationRate!="undefined"){var t=n.rotationRate.alpha,i=n.rotationRate.beta;this.handleMobileOrientation(n,t,i)}},handleMouseWheel:function(n){n.stopPropagation();n.preventDefault()},handleMouseEnter:function(){this.isUserInteracting=!0},handleMouseLease:function(){this.isUserInteracting=!1;this.mouseDown&&(this.mouseDown=!1)},animate:function(){var n,t;this.render_animation&&(this.requestAnimationId=requestAnimationFrame(this.animate.bind(this)),this.player().paused()||typeof this.texture!="undefined"&&(!this.isPlayOnMobile&&this.player().readyState()>=e||this.isPlayOnMobile&&this.player().hasClass("vjs-playing"))&&(n=(new Date).getTime(),n-this.time>=30&&(this.texture.needsUpdate=!0,this.time=n),this.isPlayOnMobile&&(t=this.player().currentTime(),c.default.isBuffering(t)?this.player().hasClass("vjs-panorama-mobile-inline-video-buffering")||this.player().addClass("vjs-panorama-mobile-inline-video-buffering"):this.player().hasClass("vjs-panorama-mobile-inline-video-buffering")&&this.player().removeClass("vjs-panorama-mobile-inline-video-buffering"))),this.render())},render:function(){if(!this.isUserInteracting){var n=this.lat>this.settings.initLat?-1:1,i=this.lon>this.settings.initLon?-1:1;this.settings.backToVerticalCenter&&(this.lat=this.lat>this.settings.initLat-Math.abs(this.settings.returnStepLat)&&this.lat<this.settings.initLat+Math.abs(this.settings.returnStepLat)?this.settings.initLat:this.lat+this.settings.returnStepLat*n);this.settings.backToHorizonCenter&&(this.lon=this.lon>this.settings.initLon-Math.abs(this.settings.returnStepLon)&&this.lon<this.settings.initLon+Math.abs(this.settings.returnStepLon)?this.settings.initLon:this.lon+this.settings.returnStepLon*i)}this.lat=Math.max(this.settings.minLat,Math.min(this.settings.maxLat,this.lat));this.lon=Math.max(this.settings.minLon,Math.min(this.settings.maxLon,this.lon));this.phi=t.Math.degToRad(90-this.lat);this.theta=t.Math.degToRad(this.lon);this.supportVideoTexture||this.helperCanvas.update();this.renderer.clear()},playOnMobile:function(){this.isPlayOnMobile=!0;this.settings.autoMobileOrientation&&(f.default.getChromeVersion()>=66?window.addEventListener("devicemotion",this.handleMobileOrientationDegrees.bind(this)):window.addEventListener("devicemotion",this.handleMobileOrientationRadians.bind(this)))},el:function(){return this.el_}}};i.default=o},{"../lib/Detector":6,"../lib/MobileBuffering":8,"../lib/Util":11}],5:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("./BaseCanvas"),o=u(e),s=n("./Util"),r=u(s);f=function(n,t){var u=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=o.default(n,t,u);return r.default.extend(i,{constructor:function(n,r){var u,l,d,f,tt,a,s,h;if(i.constructor.call(this,n,r),this.VRMode=!1,this.scene=new t.Scene,this.camera=new t.PerspectiveCamera(r.initFov,this.width/this.height,1,2e3),this.camera.target=new t.Vector3(0,0,0),u=this.videoType==="equirectangular"?new t.SphereGeometry(500,60,40):new t.SphereBufferGeometry(500,60,40).toNonIndexed(),this.videoType==="fisheye"){for(l=u.attributes.normal.array,d=u.attributes.uv.array,f=0,tt=l.length/3;f<tt;f++){var e=l[f*3+0],g=l[f*3+1],o=l[f*3+2],v=Math.asin(Math.sqrt(e*e+o*o)/Math.sqrt(e*e+g*g+o*o))/Math.PI;g<0&&(v=1-v);a=e==0&&o==0?0:Math.acos(e/Math.sqrt(e*e+o*o));o<0&&(a=a*-1);d[f*2+0]=-.8*v*Math.cos(a)+.5;d[f*2+1]=.8*v*Math.sin(a)+.5}u.rotateX(r.rotateX);u.rotateY(r.rotateY);u.rotateZ(r.rotateZ)}else if(this.videoType==="dual_fisheye"){var c=u.attributes.normal.array,y=u.attributes.uv.array,nt=c.length/3;for(s=0;s<nt/2;s++){var p=c[s*3+0],ut=c[s*3+1],w=c[s*3+2],it=p==0&&w==0?1:Math.acos(ut)/Math.sqrt(p*p+w*w)*(2/Math.PI);y[s*2+0]=p*r.dualFish.circle1.rx*it*r.dualFish.circle1.coverX+r.dualFish.circle1.x;y[s*2+1]=w*r.dualFish.circle1.ry*it*r.dualFish.circle1.coverY+r.dualFish.circle1.y}for(h=nt/2;h<nt;h++){var b=c[h*3+0],ft=c[h*3+1],k=c[h*3+2],rt=b==0&&k==0?1:Math.acos(-ft)/Math.sqrt(b*b+k*k)*(2/Math.PI);y[h*2+0]=-b*r.dualFish.circle2.rx*rt*r.dualFish.circle2.coverX+r.dualFish.circle2.x;y[h*2+1]=k*r.dualFish.circle2.ry*rt*r.dualFish.circle2.coverY+r.dualFish.circle2.y}u.rotateX(r.rotateX);u.rotateY(r.rotateY);u.rotateZ(r.rotateZ)}u.scale(-1,1,1);this.mesh=new t.Mesh(u,new t.MeshBasicMaterial({map:this.texture}));this.scene.add(this.mesh)},enableVR:function(){if(this.VRMode=!0,typeof vrHMD!="undefined"){var n=vrHMD.getEyeParameters("left"),i=vrHMD.getEyeParameters("right");this.eyeFOVL=n.recommendedFieldOfView;this.eyeFOVR=i.recommendedFieldOfView}this.cameraL=new t.PerspectiveCamera(this.camera.fov,this.width/2/this.height,1,2e3);this.cameraR=new t.PerspectiveCamera(this.camera.fov,this.width/2/this.height,1,2e3)},disableVR:function(){this.VRMode=!1;this.renderer.setViewport(0,0,this.width,this.height);this.renderer.setScissor(0,0,this.width,this.height)},handleResize:function(){i.handleResize.call(this);this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix();this.VRMode&&(this.cameraL.aspect=this.camera.aspect/2,this.cameraR.aspect=this.camera.aspect/2,this.cameraL.updateProjectionMatrix(),this.cameraR.updateProjectionMatrix())},handleMouseWheel:function(n){i.handleMouseWheel(n);n.wheelDeltaY?this.camera.fov-=n.wheelDeltaY*.05:n.wheelDelta?this.camera.fov-=n.wheelDelta*.05:n.detail&&(this.camera.fov+=n.detail*1);this.camera.fov=Math.min(this.settings.maxFov,this.camera.fov);this.camera.fov=Math.max(this.settings.minFov,this.camera.fov);this.camera.updateProjectionMatrix();this.VRMode&&(this.cameraL.fov=this.camera.fov,this.cameraR.fov=this.camera.fov,this.cameraL.updateProjectionMatrix(),this.cameraR.updateProjectionMatrix())},handleTouchMove:function(n){if(i.handleTouchMove.call(this,n),this.isUserPinch){var t=r.default.getTouchesDistance(n.touches);n.wheelDeltaY=(t-this.multiTouchDistance)*2;this.handleMouseWheel.call(this,n);this.multiTouchDistance=t}},render:function(){var n,u,f;if(i.render.call(this),this.camera.target.x=500*Math.sin(this.phi)*Math.cos(this.theta),this.camera.target.y=500*Math.cos(this.phi),this.camera.target.z=500*Math.sin(this.phi)*Math.sin(this.theta),this.camera.lookAt(this.camera.target),this.VRMode){if(n=this.width/2,u=this.height,typeof vrHMD!="undefined")this.cameraL.projectionMatrix=r.default.fovToProjection(this.eyeFOVL,!0,this.camera.near,this.camera.far),this.cameraR.projectionMatrix=r.default.fovToProjection(this.eyeFOVR,!0,this.camera.near,this.camera.far);else{var h=this.lon+this.settings.VRGapDegree,c=this.lon-this.settings.VRGapDegree,o=t.Math.degToRad(h),s=t.Math.degToRad(c),e=r.default.deepCopy(this.camera.target);e.x=500*Math.sin(this.phi)*Math.cos(o);e.z=500*Math.sin(this.phi)*Math.sin(o);this.cameraL.lookAt(e);f=r.default.deepCopy(this.camera.target);f.x=500*Math.sin(this.phi)*Math.cos(s);f.z=500*Math.sin(this.phi)*Math.sin(s);this.cameraR.lookAt(f)}this.renderer.setViewport(0,0,n,u);this.renderer.setScissor(0,0,n,u);this.renderer.render(this.scene,this.cameraL);this.renderer.setViewport(n,0,n,u);this.renderer.setScissor(n,0,n,u);this.renderer.render(this.scene,this.cameraR)}else this.renderer.render(this.scene,this.camera)}})};i.default=f},{"./BaseCanvas":4,"./Util":11}],6:[function(n,t,i){"use strict";var r,u;Object.defineProperty(i,"__esModule",{value:!0});r={};typeof window!="undefined"&&(r=window);u={canvas:!!r.CanvasRenderingContext2D,webgl:function(){try{var n=document.createElement("canvas");return!!(r.WebGLRenderingContext&&(n.getContext("webgl")||n.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!r.Worker,fileapi:r.File&&r.FileReader&&r.FileList&&r.Blob,Check_Version:function(){var n=-1,t,i;return navigator.appName=="Microsoft Internet Explorer"?(t=navigator.userAgent,i=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})"),i.exec(t)!==null&&(n=parseFloat(RegExp.$1))):navigator.appName=="Netscape"&&(navigator.appVersion.indexOf("Trident")!==-1?n=11:(t=navigator.userAgent,i=new RegExp("Edge/([0-9]{1,}[\\.0-9]{0,})"),i.exec(t)!==null&&(n=parseFloat(RegExp.$1)))),n},supportVideoTexture:function(){var n=this.Check_Version();return n===-1||n>=13},isLiveStreamOnSafari:function(n){var i=[].slice.call(n.querySelectorAll("source")),u=!1,t,r;for(n.src&&n.src.indexOf(".m3u8")>-1&&i.push({src:n.src,type:"application/x-mpegURL"}),t=0;t<i.length;t++)if(r=i[t],(r.type==="application/x-mpegURL"||r.type==="application/vnd.apple.mpegurl")&&/(Safari|AppleWebKit)/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)){u=!0;break}return u},getWebGLErrorMessage:function(){var n=document.createElement("div");return n.id="webgl-error-message",this.webgl||(n.innerHTML=r.WebGLRenderingContext?'Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL<\/a>.<br />\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here<\/a>.':'Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL<\/a>.<br/>\nFind out how to get it <a href="http://get.webgl.org/" style="color:#000">here<\/a>.'),n},addGetWebGLMessage:function(n){var i,r,t;n=n||{};i=n.parent!==undefined?n.parent:document.body;r=n.id!==undefined?n.id:"oldie";t=u.getWebGLErrorMessage();t.id=r;i.appendChild(t)}};i.default=u},{}],7:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(n){var t=document.createElement("canvas");return t.className="vjs-video-helper-canvas",{constructor:function(i,r){this.videoElement=r.video;this.width=r.width;this.height=r.height;t.width=this.width;t.height=this.height;t.style.display="none";r.el=t;this.context=t.getContext("2d");this.context.drawImage(this.videoElement,0,0,this.width,this.height);n.call(this,i,r)},getContext:function(){return this.context},update:function(){this.context.drawImage(this.videoElement,0,0,this.width,this.height)},el:function(){return t}}};i.default=r},{}],8:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r={prev_currentTime:0,counter:0,isBuffering:function(n){return(n==this.prev_currentTime?this.counter++:this.counter=0,this.prev_currentTime=n,this.counter>10)?(this.counter=10,!0):!1}};i.default=r},{}],9:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=function(n){var t=document.createElement("div");return t.className="vjs-video-notice-label",{constructor:function(i,u){r(u.NoticeMessage)=="object"?(t=u.NoticeMessage,u.el=u.NoticeMessage):typeof u.NoticeMessage=="string"&&(t.innerHTML=u.NoticeMessage,u.el=t);n.call(this,i,u)},el:function(){return t}}};i.default=u},{}],10:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var f=n("./BaseCanvas"),e=r(f),o=n("./Util"),s=r(o);u=function(n,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},i=e.default(n,t,r);return s.default.extend(i,{constructor:function(n,r){var o,s,c,u;i.constructor.call(this,n,r);this.VRMode=!1;this.scene=new t.Scene;o=this.width/this.height;this.cameraL=new t.PerspectiveCamera(r.initFov,o,1,2e3);this.cameraL.target=new t.Vector3(0,0,0);this.cameraR=new t.PerspectiveCamera(r.initFov,o/2,1,2e3);this.cameraR.position.set(1e3,0,0);this.cameraR.target=new t.Vector3(1e3,0,0);var f=new t.SphereBufferGeometry(500,60,40).toNonIndexed(),e=new t.SphereBufferGeometry(500,60,40).toNonIndexed(),h=f.attributes.uv.array,l=f.attributes.normal.array;for(u=0;u<l.length/3;u++)h[u*2+1]=h[u*2+1]/2;for(s=e.attributes.uv.array,c=e.attributes.normal.array,u=0;u<c.length/3;u++)s[u*2+1]=s[u*2+1]/2+.5;f.scale(-1,1,1);e.scale(-1,1,1);this.meshL=new t.Mesh(f,new t.MeshBasicMaterial({map:this.texture}));this.meshR=new t.Mesh(e,new t.MeshBasicMaterial({map:this.texture}));this.meshR.position.set(1e3,0,0);this.scene.add(this.meshL);r.callback&&r.callback()},handleResize:function(){i.handleResize.call(this);var n=this.width/this.height;this.VRMode?(n/=2,this.cameraL.aspect=n,this.cameraR.aspect=n,this.cameraL.updateProjectionMatrix(),this.cameraR.updateProjectionMatrix()):(this.cameraL.aspect=n,this.cameraL.updateProjectionMatrix())},handleMouseWheel:function(n){i.handleMouseWheel(n);n.wheelDeltaY?this.cameraL.fov-=n.wheelDeltaY*.05:n.wheelDelta?this.cameraL.fov-=n.wheelDelta*.05:n.detail&&(this.cameraL.fov+=n.detail*1);this.cameraL.fov=Math.min(this.settings.maxFov,this.cameraL.fov);this.cameraL.fov=Math.max(this.settings.minFov,this.cameraL.fov);this.cameraL.updateProjectionMatrix();this.VRMode&&(this.cameraR.fov=this.cameraL.fov,this.cameraR.updateProjectionMatrix())},enableVR:function(){this.VRMode=!0;this.scene.add(this.meshR);this.handleResize()},disableVR:function(){this.VRMode=!1;this.scene.remove(this.meshR);this.handleResize()},render:function(){if(i.render.call(this),this.cameraL.target.x=500*Math.sin(this.phi)*Math.cos(this.theta),this.cameraL.target.y=500*Math.cos(this.phi),this.cameraL.target.z=500*Math.sin(this.phi)*Math.sin(this.theta),this.cameraL.lookAt(this.cameraL.target),this.VRMode){var n=this.width/2,t=this.height;this.cameraR.target.x=1e3+500*Math.sin(this.phi)*Math.cos(this.theta);this.cameraR.target.y=500*Math.cos(this.phi);this.cameraR.target.z=500*Math.sin(this.phi)*Math.sin(this.theta);this.cameraR.lookAt(this.cameraR.target);this.renderer.setViewport(0,0,n,t);this.renderer.setScissor(0,0,n,t);this.renderer.render(this.scene,this.cameraL);this.renderer.setViewport(n,0,n,t);this.renderer.setScissor(n,0,n,t);this.renderer.render(this.scene,this.cameraR)}else this.renderer.render(this.scene,this.cameraL)}})};i.default=u},{"./BaseCanvas":4,"./Util":11}],11:[function(n,t,i){"use strict";function r(){var n,i=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(i.style[n]!==undefined)return t[n]}function u(){var n=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(n=!0)}(navigator.userAgent||navigator.vendor||window.opera),n}function f(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}function e(){return/iPhone|iPod/i.test(navigator.platform)}function o(n){var t=2/(n.leftTan+n.rightTan),r=(n.leftTan-n.rightTan)*t*.5,i=2/(n.upTan+n.downTan),u=(n.upTan-n.downTan)*i*.5;return{scale:[t,i],offset:[r,u]}}function s(n,t,i,r){t=t===undefined?!0:t;i=i===undefined?.01:i;r=r===undefined?1e4:r;var f=t?-1:1,s=new THREE.Matrix4,u=s.elements,e=o(n);return u[0]=e.scale[0],u[1]=0,u[2]=e.offset[0]*f,u[3]=0,u[4]=0,u[5]=e.scale[1],u[6]=-e.offset[1]*f,u[7]=0,u[8]=0,u[9]=0,u[10]=r/(i-r)*-f,u[11]=r*i/(i-r),u[12]=0,u[13]=0,u[14]=f,u[15]=0,s.transpose(),s}function h(n,t,i,r){var u=Math.PI/180,f={upTan:Math.tan(n.upDegrees*u),downTan:Math.tan(n.downDegrees*u),leftTan:Math.tan(n.leftDegrees*u),rightTan:Math.tan(n.rightDegrees*u)};return s(f,t,i,r)}function c(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var t in n)n.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(i[t]=n[t]);return i}function l(n){var t={};for(var i in n)t[i]=n[i];return t}function a(n){return Math.sqrt((n[0].clientX-n[1].clientX)*(n[0].clientX-n[1].clientX)+(n[0].clientY-n[1].clientY)*(n[0].clientY-n[1].clientY))}function v(){var n=navigator.userAgent.match(/.*Chrome\/([0-9]+)/);return n?parseInt(n[1],10):null}Object.defineProperty(i,"__esModule",{value:!0});i.default={whichTransitionEvent:r,mobileAndTabletcheck:u,isIos:f,isRealIphone:e,fovToProjection:h,extend:c,deepCopy:l,getTouchesDistance:a,getChromeVersion:v}},{}],12:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(n){return{constructor:function(t,i){n.call(this,t,i)},buildCSSClass:function(){return"vjs-VR-control "+n.prototype.buildCSSClass.call(this)},handleClick:function(){var n=this.player().getChild("Canvas");n.VRMode?n.disableVR():n.enableVR();n.VRMode?this.addClass("enable"):this.removeClass("enable");n.VRMode?this.player().trigger("VRModeOn"):this.player().trigger("VRModeOff")},controlText_:"VR"}};i.default=r},{}],13:[function(n,t,i){"use strict";function o(n){return n&&n.__esModule?n:{"default":n}}function l(n){var t=n.getChild("Canvas");return function(){n.el().style.width=window.innerWidth+"px";n.el().style.height=window.innerHeight+"px";t.handleResize()}}function a(n,t){var i=l(n);n.controlBar.fullscreenToggle.off("tap",t);n.controlBar.fullscreenToggle.on("tap",function(){var t=n.getChild("Canvas");n.isFullscreen()?(n.isFullscreen(!1),n.exitFullWindow(),n.el().style.width="",n.el().style.height="",t.handleResize(),window.removeEventListener("devicemotion",i)):(n.isFullscreen(!0),n.enterFullWindow(),i(),window.addEventListener("devicemotion",i))})}var u,f;Object.defineProperty(i,"__esModule",{value:!0});var h=n("./lib/Util"),r=o(h),c=n("./lib/Detector"),e=o(c);u=typeof window!="undefined"?r.default.mobileAndTabletcheck():!1;f={clickAndDrag:u,showNotice:!0,NoticeMessage:"Please use your mouse drag and drop the video.",autoHideNotice:3e3,scrollable:!0,initFov:75,maxFov:105,minFov:51,initLat:0,initLon:-180,returnStepLat:.5,returnStepLon:2,backToVerticalCenter:!u,backToHorizonCenter:!u,clickToToggle:!1,minLat:-85,maxLat:85,minLon:-Infinity,maxLon:Infinity,videoType:"equirectangular",rotateX:0,rotateY:0,rotateZ:0,autoMobileOrientation:!1,mobileVibrationValue:u&&r.default.isIos()?.022:1,VREnable:!0,VRGapDegree:2.5,closePanorama:!1,helperCanvas:{},dualFish:{width:1920,height:1080,circle1:{x:.240625,y:.553704,rx:.23333,ry:.43148,coverX:.913,coverY:.9},circle2:{x:.757292,y:.553704,rx:.232292,ry:.4296296,coverX:.913,coverY:.9308}}};var v=function(t,i,f){var o,h,c;if(t.addClass("vjs-panorama"),!e.default.webgl){s(t,{NoticeMessage:e.default.getWebGLErrorMessage(),autoHideNotice:i.autoHideNotice});i.callback&&i.callback();return}if(t.addChild("Canvas",r.default.deepCopy(i)),o=t.getChild("Canvas"),u&&(h=f.getTech(t),r.default.isRealIphone()&&(c=n("iphone-inline-video"),h.setAttribute("playsinline",""),c(h,!0)),r.default.isIos()&&a(t,f.getFullscreenToggleClickFn(t)),t.addClass("vjs-panorama-mobile-inline-video"),t.removeClass("vjs-using-native-controls"),o.playOnMobile()),i.showNotice)t.on("playing",function(){s(t,r.default.deepCopy(i))});i.VREnable&&t.controlBar.addChild("VRButton",{},t.controlBar.children().length-1);o.hide();t.on("play",function(){o.show()});t.on("fullscreenchange",function(){o.handleResize()});i.callback&&i.callback()},s=function(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{NoticeMessage:""},t=n.addChild("Notice",i);i.autoHideNotice>0&&setTimeout(function(){if(t.el_){t.addClass("vjs-video-notice-fadeOut");var n=r.default.whichTransitionEvent(),i=function i(){t.hide();t.removeClass("vjs-video-notice-fadeOut");t.off(n,i)};t.on(n,i)}},i.autoHideNotice)},y=function(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=["equirectangular","fisheye","3dVideo","dual_fisheye"],t=function(t){var r=this;if(n.mergeOption&&(t=n.mergeOption(f,t)),typeof n._init=="undefined"||typeof n._init!="function"){console.error("plugin must implement init function().");return}i.indexOf(t.videoType)==-1&&(t.videoType=f.videoType);n._init(t);this.ready(function(){v(r,t,n)})};return t.VERSION="0.1.7",t};i.default=y},{"./lib/Detector":6,"./lib/Util":11,"iphone-inline-video":2}],14:[function(n){"use strict";function i(n){return n&&n.__esModule?n:{"default":n}}function r(n){return n.tech({IWillNotUseThisInPlugins:!0}).el()}function d(n){return n.controlBar.fullscreenToggle.handleClick}var o=n("./lib/Canvas"),s=i(o),h=n("./lib/ThreeCanvas"),c=i(h),l=n("./lib/Notice"),a=i(l),v=n("./lib/HelperCanvas"),y=i(v),p=n("./lib/VRButton"),w=i(p),b=n("./plugin"),k=i(b),t=videojs.getComponent("Component"),g=a.default(t),f,u,e;videojs.registerComponent("Notice",videojs.extend(t,g));f=y.default(t);videojs.registerComponent("HelperCanvas",videojs.extend(t,f));u=videojs.getComponent("Button");e=w.default(u);videojs.registerComponent("VRButton",videojs.extend(u,e));videojs.plugin("panorama",k.default({_init:function(n){var i=n.videoType!=="3dVideo"?s.default(t,window.THREE,{getTech:r}):c.default(t,window.THREE,{getTech:r});videojs.registerComponent("Canvas",videojs.extend(t,i))},mergeOption:function(n,t){return videojs.mergeOptions(n,t)},getTech:r,getFullscreenToggleClickFn:d}))},{"./lib/Canvas":5,"./lib/HelperCanvas":7,"./lib/Notice":9,"./lib/ThreeCanvas":10,"./lib/VRButton":12,"./plugin":13}]},{},[14]);
/*! @name videojs-playlist @version 4.3.1 @license Apache-2.0 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):(n=n||self).videojsPlaylist=t(n.videojs)}(this,function(n){"use strict";function s(i,e,o){void 0===o&&(o=0);var h=null,c=!1,s=i.playlist=function(n,t){if(void 0===t&&(t=0),c)throw new Error("do not call playlist() during a playlist change");if(Array.isArray(n)){var r=Array.isArray(h)?h.slice():null,u=n.slice();(h=u.slice()).filter(function(n){return f(n)}).length!==h.length&&(h=function(n){var t,i=[];return n.forEach(function(n){f(n)?t=n:(t=Object(n)).originalValue=n;i.push(t)}),i}(h)),function(n){var t=1;n.forEach(function(n){n.playlistItemId_=t++})}(h);c=!0;i.trigger({type:"duringplaylistchange",nextIndex:t,nextPlaylist:u,previousIndex:s.currentIndex_,previousPlaylist:r||[]});c=!1;-1!==t&&s.currentItem(t);r&&i.setTimeout(function(){i.trigger("playlistchange")},0)}return h.map(function(n){return n.originalValue||n}).slice()};return i.on("loadstart",function(){-1===s.currentItem()&&r(i)}),s.currentIndex_=-1,s.player_=i,s.autoadvance_={},s.repeat_=!1,s.currentPlaylistItemId_=null,s.currentItem=function(n){var r,f,i;if(c)return s.currentIndex_;if("number"==typeof n&&s.currentIndex_!==n&&0<=n&&n<h.length)return s.currentIndex_=n,function(n,t){var i=!n.paused()||n.ended();n.trigger("beforeplaylistitem",t.originalValue||t);t.playlistItemId_&&(n.playlist.currentPlaylistItemId_=t.playlistItemId_);n.poster(t.poster||"");n.src(t.sources),function(n){for(var t=n.remoteTextTracks(),i=t&&t.length||0;i--;)n.removeRemoteTextTrack(t[i])}(n);n.ready(function(){if((t.textTracks||[]).forEach(n.addRemoteTextTrack.bind(n)),n.trigger("playlistitem",t.originalValue||t),i){var r=n.play();void 0!==r&&"function"==typeof r.then&&r.then(null,function(){})}u(n,n.playlist.autoadvance_.delay)})}(s.player_,h[s.currentIndex_]),s.currentIndex_;if(r=s.player_.currentSrc()||"",s.currentPlaylistItemId_){if(f=function(n,t){for(var i=0;i<n.length;i++)if(n[i].playlistItemId_===t)return i;return-1}(h,s.currentPlaylistItemId_),i=h[f],i&&Array.isArray(i.sources)&&-1<t([i],r))return s.currentIndex_=f,s.currentIndex_;s.currentPlaylistItemId_=null}return s.currentIndex_=s.indexOf(r),s.currentIndex_},s.contains=function(n){return-1!==s.indexOf(n)},s.indexOf=function(n){var u,r,i;if("string"==typeof n)return t(h,n);for(u=Array.isArray(n)?n:n.sources,r=0;r<u.length;r++){if(i=u[r],"string"==typeof i)return t(h,i);if(i.src)return t(h,i.src)}return-1},s.currentIndex=function(){return s.currentItem()},s.lastIndex=function(){return h.length-1},s.nextIndex=function(){var n=s.currentItem(),t;return-1===n?-1:(t=s.lastIndex(),s.repeat_&&n===t?0:Math.min(n+1,t))},s.previousIndex=function(){var n=s.currentItem();return-1===n?-1:s.repeat_&&0===n?s.lastIndex():Math.max(n-1,0)},s.first=function(){if(!c){var n=s.currentItem(0);if(h.length)return h[n].originalValue||h[n];s.currentIndex_=-1}},s.last=function(){if(!c){var n=s.currentItem(s.lastIndex());if(h.length)return h[n].originalValue||h[n];s.currentIndex_=-1}},s.next=function(){var n,t;if(!c&&(n=s.nextIndex(),n!==s.currentIndex_))return t=s.currentItem(n),h[t].originalValue||h[t]},s.previous=function(){var n,t;if(!c&&(n=s.previousIndex(),n!==s.currentIndex_))return t=s.currentItem(n),h[t].originalValue||h[t]},s.autoadvance=function(n){u(s.player_,n)},s.repeat=function(t){return void 0===t?s.repeat_:"boolean"==typeof t?(s.repeat_=!!t,s.repeat_):void n.log.error("videojs-playlist: Invalid value for repeat",t)},s.sort=function(n){h.length&&(h.sort(n),c||i.trigger("playlistsorted"))},s.reverse=function(){h.length&&(h.reverse(),c||i.trigger("playlistsorted"))},s.shuffle=function(n){var u=(void 0===n?{}:n).rest,r=0,t=h,f;(u&&(r=s.currentIndex_+1,t=h.slice(r)),t.length<=1)||((function(n){for(var i,u,t=-1,r=n.length-1;++t<n.length;)i=t+Math.floor(Math.random()*(r-t+1)),u=n[i],n[i]=n[t],n[t]=u}(t),u)&&(f=h).splice.apply(f,[r,t.length].concat(t)),c||i.trigger("playlistsorted"))},Array.isArray(e)?s(e.slice(),o):h=[],s}var i;n=n&&n.hasOwnProperty("default")?n.default:n;var r=function(n){var t=n.playlist.autoadvance_;t.timeout&&n.clearTimeout(t.timeout);t.trigger&&n.off("ended",t.trigger);t.timeout=null;t.trigger=null},u=function e(n,t){r(n),function(n){return"number"==typeof n&&!isNaN(n)&&0<=n&&n<1/0}(t)?(n.playlist.autoadvance_.delay=t,n.playlist.autoadvance_.trigger=function(){var i=function(){return e(n,t)};n.one("play",i);n.playlist.autoadvance_.timeout=n.setTimeout(function(){r(n);n.off("play",i);n.playlist.next()},1e3*t)},n.one("ended",n.playlist.autoadvance_.trigger)):n.playlist.autoadvance_.delay=null},f=function(n){return!!n&&"object"==typeof n},o=function(n,t){var i=n,r=t;return"object"==typeof n&&(i=n.src),"object"==typeof t&&(r=t.src),/^\/\//.test(i)&&(r=r.slice(r.indexOf("//"))),/^\/\//.test(r)&&(i=i.slice(i.indexOf("//"))),i===r},t=function(n,t){for(var r,u,f,i=0;i<n.length;i++)if(r=n[i].sources,Array.isArray(r))for(u=0;u<r.length;u++)if(f=r[u],f&&o(f,t))return i;return-1};return i=function(n,t){s(this,n,t)},(n.registerPlugin||n.plugin)("playlist",i),i.VERSION="4.3.1",i});!function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};t.m=n;t.c=i;t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:r})};t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i};t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};t.p="/";t(t.s=4)}([function(n){n.exports=videojs},function(n,t,i){"use strict";function f(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.PlaylistContainerControl=t.playlistObject=t.playlistArray=t.playlistArray1=t.PLAYLIST_ITEM_TEMPLATE=t.PLAYLIST_THUMBNAIL=t.PLAYLIST_CONTAINER=void 0;var s=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),r=i(2),h=i(0),u=function(n){return n&&n.__esModule?n:{"default":n}}(h),c=(t.PLAYLIST_CONTAINER=function(){return'\n  <div class="playlist-container">\n    <div class="left-pane">\n    <!-- Left Thumbnail Here -->\n    <\/div>\n    <div class="right-pane">\n      <div class="playlist-pane">\n        <div class="pane-closed" >\n          <div class="toggle-pane1 vjs-icon-playlist"><\/div>\n          <span class="current"><\/span>\n        <\/div>\n        <div class="pane-opened hide-animated" >\n          <div class="head">\n            <span class="toggle-pane vjs-icon-playlist"><\/span>\n            <span class="current">0/0<\/span>\n            <span class="playlist-title">Playlist Title Playlist Title Playlist Title<\/span>\n            <span class="shuffle vjs-icon-shuffle"><\/span>\n            <span class="repeat vjs-icon-repeat"><\/span>\n          <\/div>\n          <div class="body">\n          <!-- Vertical Thumbnail List Here -->\n          <\/div>\n        <\/div>\n      <\/div>\n      <div class="thumbnail-right">\n        <!-- Rigth Thumbnail Here -->\n      <\/div>\n    <\/div>\n  <\/div>\n'},t.PLAYLIST_THUMBNAIL=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{position:"left"};return' \n  <div class="playlist-nav '+n.position+'">\n    <span class="'+("left"===n.position?"vjs-icon-left-arrow":"vjs-icon-right-arrow")+'"><\/span>\n  <\/div>\n  <div class="thumbnail '+n.position+'">\n    <span class="title" >'+("left"===n.position?"Önceki video":"Sonraki video")+'<\/span>\n    <span class="img">\n      <img src="'+n.item.thumbnail+'" alt="">\n    <\/span>\n    <span class="nav-desc">'+n.item.description+"<\/span>\n  <\/div> \n"},t.PLAYLIST_ITEM_TEMPLATE=function(n){return'\n  <span class="now-playing">\n    <span class="now-icon vjs-icon-play"><\/span>\n  <\/span>\n  <div class="media">\n    <div class="image">\n        <img src="'+n.thumbnail+'" alt="">     \n    <\/div> \n    <span class="duration">'+r.HHMMSS(n.duration)+'<\/span>\n  <\/div>\n  <div class="desc">'+n.desc+"<\/div>\n"},t.playlistArray1=[{name:"Disney's Oceans 1",description:"1 Explore the depths of our planet's oceans.",duration:39,sources:[{src:"https://vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"},{src:"https://vjs.zencdn.net/v/oceans.webm",type:"video/webm"}],thumbnail:r.placeholderImg()},{name:"Sintel 1",description:"2 The film follows a girl named Sintel who is searching for a baby dragon she calls Scales.",duration:130,sources:[{src:"https://media.w3.org/2010/05/sintel/trailer.mp4",type:"video/mp4"},{src:"https://media.w3.org/2010/05/sintel/trailer.webm",type:"video/webm"},{src:"https://media.w3.org/2010/05/sintel/trailer.ogv",type:"video/ogg"}],thumbnail:r.placeholderImg(120,40)},{name:"Disney's Oceans 2",description:"3 Explore the depths of our planet's oceans. ",duration:45,sources:[{src:"https://vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"},{src:"https://vjs.zencdn.net/v/oceans.webm",type:"video/webm"}],thumbnail:r.placeholderImg(160,90)},{name:"Sintel 2",description:"4 The film follows a girl named Sintel who is searching for a baby dragon she calls Scales.",duration:145,sources:[{src:"https://media.w3.org/2010/05/sintel/trailer.mp4",type:"video/mp4"},{src:"https://media.w3.org/2010/05/sintel/trailer.webm",type:"video/webm"},{src:"https://media.w3.org/2010/05/sintel/trailer.ogv",type:"video/ogg"}],thumbnail:r.placeholderImg(140,110)},{name:"Disney's Oceans 333",description:"5 Explore the depths of our planet's oceans. ",duration:45,sources:[{src:"https://vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"},{src:"https://vjs.zencdn.net/v/oceans.webm",type:"video/webm"}],thumbnail:"https://farm1.staticflickr.com/117/274132545_154ff48690.jpg"}],t.playlistArray=[{name:"",description:"The BEST Plays From the 2019 NBA Playoffs!",duration:865.8,sources:[{src:"https://cdn.videobulut.com/UR1d449pGf555.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/R1d449pGf555/R1d449pGf555.jpg"},{name:"",description:"NBA's Best Ball Fakes - 2018-19 NBA Season",duration:480,sources:[{src:"https://cdn.videobulut.com/U5bhu1X16ZRs0.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/shfwM8AGGd57/shfwM8AGGd57.jpg"},{name:"",description:"Best Rallies of Wimbledon 2019",duration:624,sources:[{src:"https://cdn.videobulut.com/Up2V8ETn4EXd2.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/TTCj48EGhn59/TTCj48EGhn59.jpg"},{name:"",description:"All 89 of Liverpool's Premier League goals from the 2018/19 season",duration:808.8,sources:[{src:"https://cdn.videobulut.com/U41ZXnXuEyd8w.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/60TRKhjAXy13/60TRKhjAXy13.jpg"},{name:"",description:"BEST Game Winners - 2018-19 NBA Regular Season",duration:982.8,sources:[{src:"https://cdn.videobulut.com/UAhndM32hjZ2b.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/CsfyjjudMCuf/CsfyjjudMCuf.jpg"},{name:"",description:"Rafael Nadal | 2019 Wimbledon Highlights",duration:199.2,sources:[{src:"https://cdn.videobulut.com/Up9M8M9jGEZ53.mpd"}],thumbnail:"https://ank02.videobulut.com/1/2594/T4n1usGyhsZ8/T4n1usGyhsZ8.jpg"}]),l=(t.playlistObject={title:"My Playlist 1",playlistArray:c},u.default.dom||u.default),a=u.default.getComponent("Component");t.PlaylistContainerControl=function(n){function t(n,i){return f(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i))}return o(t,n),s(t,[{key:"createEl",value:function(){return l.createEl("div",{className:"ngc-playlist-container-control"})}}]),t}(a)},function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.hasChildEls=function(n){for(var t=0;t<n.childNodes.length;t++)if(dom.isEl(n.childNodes[t]))return!0;return!1},i=(t.findRoot=function(n){for(var i=document.querySelectorAll("."+n),u=void 0,t=0;t<i.length;t++)if(!r(i[t])){u=i[t];break}return u},["https://farm1.staticflickr.com/117/274132545_154ff48690.jpg","https://c4.staticflickr.com/5/4151/4960628718_c40d2844fa_o.jpg","https://live.staticflickr.com/2655/4216581023_cd0fda8c6a_b.jpg"]);t.placeholderImg=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1],console.log(i[Math.floor(Math.random()*(i.length-1))]),i[Math.floor(Math.random()*(i.length-1))]};t.HHMMSS=function(n){n=Number(n);var t="00",i="00",r="00";return!n||n<0?t+":"+i+":"+r:(t=Math.floor(n/3600),i=Math.floor(n%3600/60),r=Math.floor(n%3600%60),(t<10?"0"+t:t)+":"+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r))};t.indexOf=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}},function(n,t,i){"use strict";function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function f(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function e(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.PlaylistMenuItem=void 0;var o=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),s=i(0),r=function(n){return n&&n.__esModule?n:{"default":n}}(s),h=i(1),c=i(2),l=r.default.dom||r.default,a=r.default.getComponent("Component");t.PlaylistMenuItem=function(n){function t(n,i){if(u(this,t),!i.item)throw new Error("Cannot construct a PlaylistMenuItem without an item option");var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i));return r.playlistItem=i,r.emitTapEvents(),r.on(["click","tap"],r.switchPlaylistItem_),r.on("keydown",r.handleKeyDown_),r}return e(t,n),o(t,[{key:"createEl",value:function(){var n=l.createEl("div",{className:this.options_.className||"ngc-playlist-menu-item"},{});return n.innerHTML=h.PLAYLIST_ITEM_TEMPLATE({thumbnail:this.options_.item.thumbnail,duration:this.options_.item.duration,desc:this.options_.item.description}),n}},{key:"handleKeyDown_",value:function(n){13!==n.which&&32!==n.which||this.switchPlaylistItem_()}},{key:"switchPlaylistItem_",value:function(){var n=c.indexOf(this.player_.playlist(),this.playlistItem.item);this.player_.playlist.currentItem(n);this.player_.play();this.playOnSelect}}]),t}(a)},function(n,t,i){i(5);n.exports=i(6)},function(){},function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var e=i(0),u=r(e),o=i(7),s=r(o),h=(i(1),i(8)),c=r(h),f=u.default.registerPlugin||u.default.plugin;f("playlist",s.default);f("NgCloudPlaylistUI",c.default)},function(n,t,i){"use strict";function h(n,t,i){void 0===i&&(i=0);var h=null,c=!1,e=n.playlist=function(t,i){if(void 0===i&&(i=0),c)throw new Error("do not call playlist() during a playlist change");if(Array.isArray(t)){var r=Array.isArray(h)?h.slice():null,u=t.slice();h=u.slice();h.filter(function(n){return s(n)}).length!==h.length&&(h=y(h));p(h);c=!0;n.trigger({type:"duringplaylistchange",nextIndex:i,nextPlaylist:u,previousIndex:e.currentIndex_,previousPlaylist:r||[]});c=!1;-1!==i&&e.currentItem(i);r&&n.setTimeout(function(){n.trigger("playlistchange")},0)}return h.map(function(n){return n.originalValue||n}).slice()};return n.on("loadstart",function(){-1===e.currentItem()&&f(n)}),e.currentIndex_=-1,e.player_=n,e.autoadvance_={},e.repeat_=!1,e.currentPlaylistItemId_=null,e.currentItem=function(n){var i,u,t;if(c)return e.currentIndex_;if("number"==typeof n&&e.currentIndex_!==n&&n>=0&&n<h.length)return e.currentIndex_=n,v(e.player_,h[e.currentIndex_]),e.currentIndex_;if(i=e.player_.currentSrc()||"",e.currentPlaylistItemId_){if(u=w(h,e.currentPlaylistItemId_),t=h[u],t&&Array.isArray(t.sources)&&r([t],i)>-1)return e.currentIndex_=u,e.currentIndex_;e.currentPlaylistItemId_=null}return e.currentIndex_=e.indexOf(i),e.currentIndex_},e.contains=function(n){return-1!==e.indexOf(n)},e.indexOf=function(n){var u,i,t;if("string"==typeof n)return r(h,n);for(u=Array.isArray(n)?n:n.sources,i=0;i<u.length;i++){if(t=u[i],"string"==typeof t)return r(h,t);if(t.src)return r(h,t.src)}return-1},e.currentIndex=function(){return e.currentItem()},e.lastIndex=function(){return h.length-1},e.nextIndex=function(){var n=e.currentItem(),t;return-1===n?-1:(t=e.lastIndex(),e.repeat_&&n===t?0:Math.min(n+1,t))},e.previousIndex=function(){var n=e.currentItem();return-1===n?-1:e.repeat_&&0===n?e.lastIndex():Math.max(n-1,0)},e.first=function(){if(!c){var n=e.currentItem(0);if(h.length)return h[n].originalValue||h[n];e.currentIndex_=-1}},e.last=function(){if(!c){var n=e.currentItem(e.lastIndex());if(h.length)return h[n].originalValue||h[n];e.currentIndex_=-1}},e.next=function(){var n,t;if(!c&&(n=e.nextIndex(),n!==e.currentIndex_))return t=e.currentItem(n),h[t].originalValue||h[t]},e.previous=function(){var n,t;if(!c&&(n=e.previousIndex(),n!==e.currentIndex_))return t=e.currentItem(n),h[t].originalValue||h[t]},e.autoadvance=function(n){o(e.player_,n)},e.repeat=function(n){return void 0===n?e.repeat_:"boolean"!=typeof n?void u.a.log.error("videojs-playlist: Invalid value for repeat",n):(e.repeat_=!!n,e.repeat_)},e.sort=function(t){h.length&&(h.sort(t),c||n.trigger("playlistsorted"))},e.reverse=function(){h.length&&(h.reverse(),c||n.trigger("playlistsorted"))},e.shuffle=function(t){var o=void 0===t?{}:t,u=o.rest,r=0,i=h,f;(u&&(r=e.currentIndex_+1,i=h.slice(r)),i.length<=1)||((k(i),u)&&(f=h).splice.apply(f,[r,i.length].concat(i)),c||n.trigger("playlistsorted"))},Array.isArray(t)?e(t.slice(),i):h=[],e}Object.defineProperty(t,"__esModule",{value:!0});var c=i(0),u=i.n(c),l=function(n){return"number"==typeof n&&!isNaN(n)&&n>=0&&n<1/0},f=function(n){var t=n.playlist.autoadvance_;t.timeout&&n.clearTimeout(t.timeout);t.trigger&&n.off("ended",t.trigger);t.timeout=null;t.trigger=null},o=function n(t,i){if(f(t),!l(i))return void(t.playlist.autoadvance_.delay=null);t.playlist.autoadvance_.delay=i;t.playlist.autoadvance_.trigger=function(){var r=function(){return n(t,i)};t.one("play",r);t.playlist.autoadvance_.timeout=t.setTimeout(function(){f(t);t.off("play",r);t.playlist.next()},1e3*i)};t.one("ended",t.playlist.autoadvance_.trigger)},a=function(n){for(var t=n.remoteTextTracks(),i=t&&t.length||0;i--;)n.removeRemoteTextTrack(t[i])},v=function(n,t){var i=!n.paused()||n.ended();return n.trigger("beforeplaylistitem",t.originalValue||t),t.playlistItemId_&&(n.playlist.currentPlaylistItemId_=t.playlistItemId_),n.poster(t.poster||""),n.src(t.sources),a(n),n.ready(function(){if((t.textTracks||[]).forEach(n.addRemoteTextTrack.bind(n)),n.trigger("playlistitem",t.originalValue||t),i){var r=n.play();void 0!==r&&"function"==typeof r.then&&r.then(null,function(){})}o(n,n.playlist.autoadvance_.delay)}),n},s=function(n){return!!n&&"object"==typeof n},y=function(n){var t,i=[];return n.forEach(function(n){s(n)?t=n:(t=Object(n),t.originalValue=n);i.push(t)}),i},p=function(n){var t=1;n.forEach(function(n){n.playlistItemId_=t++})},w=function(n,t){for(var i=0;i<n.length;i++)if(n[i].playlistItemId_===t)return i;return-1},b=function(n,t){var i=n,r=t;return"object"==typeof n&&(i=n.src),"object"==typeof t&&(r=t.src),/^\/\//.test(i)&&(r=r.slice(r.indexOf("//"))),/^\/\//.test(r)&&(i=i.slice(i.indexOf("//"))),i===r},r=function(n,t){for(var r,u,f,i=0;i<n.length;i++)if(r=n[i].sources,Array.isArray(r))for(u=0;u<r.length;u++)if(f=r[u],f&&b(f,t))return i;return-1},k=function(n){for(var i,u,t=-1,r=n.length-1;++t<n.length;)i=t+Math.floor(Math.random()*(r-t+1)),u=n[i],n[i]=n[t],n[t]=u;return n},d=u.a.registerPlugin||u.a.plugin,e=function(n,t){h(this,n,t)};d("playlist",e);e.VERSION="4.3.1";t.default=e},function(n,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),r=function(n){return n&&n.__esModule?n:{"default":n}}(o),f=i(9),s=i(3),h=i(2),c=i(1),u=r.default.dom||r.default,l=(r.default.registerPlugin||r.default.plugin,function(){var n=document.createElement("x");return n.style.cssText="pointer-events:auto","auto"===n.style.pointerEvents}()),e={className:"ngc-playlist-menu",playOnSelect:!1,supportsCssPointerEvents:l},a=function(n){var i=this,t,o,s;if(!i.playlist)throw new Error("videojs-playlist plugin is required by the videojs-playlist-ui plugin");(u.isEl(n)&&(r.default.log.warn('videojs-playlist-ui: Passing an element directly to playlistUi() is deprecated, use the "el" option instead!'),n={el:n}),n=r.default.mergeOptions(e,n),i.addChild("PlaylistContainerControl",{},2),i.playlistMenu)&&(t=i.playlistMenu.el(),t&&(o=t.parentNode,s=t.nextSibling,i.playlistMenu.dispose(),u.emptyEl(t),s?o.insertBefore(t,s):o.appendChild(t),n.el=t));u.isEl(n.el)||(n.el=h.findRoot(n.className));n=r.default.mergeOptions(e,n);i.playlistMenu=new f.PlaylistMenu(i,n)};r.default.registerComponent("PlaylistMenu",f.PlaylistMenu);r.default.registerComponent("PlaylistMenuItem",s.PlaylistMenuItem);r.default.registerComponent("PlaylistContainerControl",c.PlaylistContainerControl);t.default=a},function(n,t,i){"use strict";function e(n){if(Array.isArray(n)){for(var t=0,i=Array(n.length);t<n.length;t++)i[t]=n[t];return i}return Array.from(n)}function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function s(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t}function h(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});t.PlaylistMenu=void 0;var c=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),l=i(0),r=function(n){return n&&n.__esModule?n:{"default":n}}(l),a=i(3),f=i(1),u=r.default.dom||r.default,v=r.default.getComponent("Component");t.PlaylistMenu=function(n){function t(n,i){var r,u;if(o(this,t),!n.playlist)throw new Error("videojs-playlist is required for the playlist component");return r=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i)),r.paneIsOpen=!1,r.shuffleActive=!1,r.options=i,r.items=[],r.playlistArrayTemp=r.player_.playlist(),u=r.createEl(),r.el_.appendChild(u),r.createPlaylist_(),r.createPlaylistHead_(),r.togglePane_(),r.on(n,["play","pause"],function(){r.items[r.player_.playlist.currentItem()].el_.querySelector(".now-icon");n.paused()&&r.items[r.player_.playlist.currentItem()]}),r.on(n,["loadstart","playlistchange","playlistsorted"],function(){r.createSideThumbnails_();r.paneIsOpen&&r.toggleSideThumbnails();r.setCurrentItemIndicator()}),r.on(n,["playlistsorted"],function(){r.createSideThumbnails_();r.createPlaylist_();r.paneIsOpen&&r.toggleSideThumbnails();r.setCurrentItemIndicator()}),r.player_.on("paneCollapse",function(){r.paneIsOpen=!1;r.toggleSideThumbnails()}),r.player_.on("paneExpand",function(){r.paneIsOpen=!0;r.toggleSideThumbnails()}),r}return h(t,n),c(t,[{key:"setCurrentItemIndicator",value:function(){for(var t,i=this.player_.playlist.currentItem(),n=0;n<this.items.length;n++)t=this.items[n],i===n?(t.el_.querySelector(".now-icon").classList.remove("visible"),this.toggleClass(t.el_.querySelector(".now-icon"),"visible")):t.el_.querySelector(".now-icon").classList.remove("visible")}},{key:"createEl",value:function(){var n=u.createEl("div",{className:"ngc-playlist-menu"});return n.innerHTML=f.PLAYLIST_CONTAINER(),n}},{key:"createPlaylist_",value:function(){var i,n,t,r;for(this.items=[],i=this.player_.playlist()||[],n=this.el_.querySelector(".body"),n.innerHTML="",n||(n=document.createElement("ol"),n.className="vjs-playlist-item-list",this.el_.appendChild(n)),t=0;t<i.length;t++)r=new a.PlaylistMenuItem(this.player_,{item:i[t]},this.options_),this.items.push(r),n.appendChild(r.el_)}},{key:"createSideThumbnails_",value:function(){var i=this,r=this.player_.playlist()||[],f=this.player_.playlist.currentIndex(),n=u.createEl("div",{className:"playlist-thumbnail"}),t=u.createEl("div",{className:"playlist-thumbnail"});this.el_.querySelector(".left-pane").innerHTML="";f-1>-1&&(n.innerHTML=this.createThumbnailEl_({position:"left",item:r[this.player_.playlist.previousIndex()]}),this.el_.querySelector(".left-pane").appendChild(n),n.onclick=function(){i.player_.playlist.previous()});this.el_.querySelector(".thumbnail-right").innerHTML="";f<this.player_.playlist.lastIndex()&&(t.innerHTML=this.createThumbnailEl_({position:"right",item:r[this.player_.playlist.nextIndex()]}),this.el_.querySelector(".thumbnail-right").appendChild(t),t.onclick=function(){i.player_.playlist.next()})}},{key:"createThumbnailEl_",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f.PLAYLIST_THUMBNAIL(n)}},{key:"togglePane_",value:function(){var t=this,n=this.el_.querySelector(".pane-closed"),i=this.el_.querySelector(".pane-opened"),r=this.el_.querySelector(".toggle-pane");n.onclick=function(){i.classList.remove("hide-animated");n.classList.add("hide-animated");t.player_.trigger("paneExpand")};r.onclick=function(){n.classList.remove("hide-animated");i.classList.add("hide-animated");t.player_.trigger("paneCollapse")}}},{key:"toggleSideThumbnails",value:function(){for(var t=this.el_.querySelectorAll(".playlist-thumbnail"),n=0;n<t.length;n++)this.toggleClass(t[n],"hide-animated1")}},{key:"toggleClass",value:function(n,t){if(n&&t)return n.classList.contains(t)?n.classList.remove(t):n.classList.add(t)}},{key:"createPlaylistHead_",value:function(){var n=this,r=this.el_.querySelectorAll(".current"),u=this.el_.querySelector(".playlist-title"),t=this.el_.querySelector(".shuffle"),i=this.el_.querySelector(".repeat");u.innerHTML=this.options.playlistObj.title;this.on(this.player_,["loadstart","playlistchange","playlistsorted"],function(){for(var t=0;t<r.length;t++)r[t].innerHTML=n.player_.playlist.currentItem()+1+"/"+n.player_.playlist().length;n.setCurrentItemIndicator()});t.onclick=function(){n.shuffleActive?(n.player_.playlist([].concat(e(n.playlistArrayTemp))),n.player_.playlist.sort(),t.classList.remove("active"),n.shuffleActive=!1):(n.player_.playlist.shuffle(),t.classList.add("active"),n.shuffleActive=!0);console.log(n.playlistArrayTemp);console.log(n.items)};i.onclick=function(){n.player_.playlist.repeat()?(n.player_.playlist.repeat(!1),n.player_.playlist.autoadvance(),i.classList.remove("active")):(n.player_.playlist.repeat(!0),n.player_.playlist.autoadvance(0),i.classList.add("active"))}}}]),t}(v)}]);
