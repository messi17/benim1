function MultiplayViewModel(){function t(t){try{AnalyticsHelper.Event("keep-alive","check-multiplay",null,null)}catch(i){}$.post("",function(i){if(console.log(i),i!=null&&!i.Status){if(i.isNoContent){$("video").trigger("pause");$("#form-blackout").addClass("d-none");$("#form-sales").removeClass("d-none");$(".player-tv-area").addClass("d-none");$("#player-controls").addClass("d-none");$(".play-request-cancel-text").removeClass("d-none").find(".package__text span").html(i.Message);$("html, body").animate({scrollTop:$(".play-request-cancel-text").parent().offset().top-200},800);return}$("#"+t).replaceWith($("<div/>",{id:t}));localStorage.setItem("headerErrorData",i.Message);clearInterval(n.timer);location.href="/"}})}var n=this;n.timer=null;n.init=function(){};n.checkMultiplay=function(i){clearInterval(n.timer);n.timer=setInterval(function(){t(i)},24e4)}}function FollowUpViewModel(){function t(n,t,i){try{isNullOrUndefined(wrapper)||isNullOrUndefined(wrapper.player)||(i.duration=parseInt(wrapper.player.getDuration()),i.elapsed=parseInt(wrapper.player.getCurrentTime()))}catch(r){}CsTrackerHelper.Event(CsTrackerActionType.FollowUp,n,t,null,i,null)}var n=this;n.timer=null;n.init=function(){};n.clearInterval=function(){clearInterval(n.timer)};n.setFollowUp=function(i,r,u){n.clearInterval();isNullOrUndefined(r)&&(r="Play");isNullOrUndefined(u)&&(u=null);n.timer=setInterval(function(){t(i,r,u)},12e4)}}var ContentSliderViewModel=function(){var n=6,t,r=this,u=0,i=!1;r.init=function(){};r.bindEvents=function(){function p(i,r,u){var y=u.find(".slider-item.product-item"),s=y.length,f=c(i),o=parseInt(t)*n,h=0,l,a,v;f*n>s&&(h=o-parseInt(t)*(s-(f-1)*n));l=parseInt(u.css("margin-left"));a=o*(f+1);u.width(a);v=l-o+h;u.animate({"margin-left":v+"px"},200,function(){e(i,!1)})}function l(t){var r=t.find(".slider-content-wrapper"),u=r.find(".slider-item.product-item"),f=u.length,i=parseInt(t.attr("data-page"));return(isNaN(i)&&(i=0),f>n*i)?!0:!1}function w(t){var i=parseInt(t.attr("data-page"));return(isNaN(i)&&(i=1),n<n*i)?!0:!1}function b(t){var r=t.find(".slider-content-wrapper"),u=r.find(".slider-item.product-item"),f=u.length,i=parseInt(t.attr("data-page"));return(isNaN(i)&&(i=1,h(t,i)),n*i>=f)?!1:!0}function h(n,t){n.attr("data-page",t)}function c(n){var t=parseInt(n.attr("data-page"));return isNaN(t)&&(t=1),t}function e(n,t){n.attr("data-isloading",t?"1":"0")}function a(n){var t=parseInt(n.attr("data-isloading"));return isNaN(t)&&(t=0),t==1}function v(n,t){var i=n.find("img.slider-loading");t?i.show():i.hide()}var o=$(".slider.slider-product");t=$("a.slider-item.product-item").outerWidth(!0);var y=$("div.product-actions"),s=$("div.watched-this-content-product"),f=o.find("div.slider-content-wrapper.slider-recommendation-product-height");isNullOrUndefined(f)||(u=f.find("a").length);o.each(function(){function d(n){if(n.preventDefault(),!a(r)){var t=c(r);if(!b(r)){u.removeClass("active");return}e(r,!0);h(r,t+1);l(r)?(u.addClass("active"),s.addClass("active"),i=!1):(u.removeClass("active"),i=!0);p(r,k,v);s.addClass("active")}}function g(f){var o;if(f.preventDefault(),o=c(r),!a(r)&&!(o<=1)){e(r,!0);h(r,o-1);l(r)?(u.addClass("active"),s.addClass("active"),i=!1):(u.removeClass("active"),i=!0);w(r)||s.removeClass("active");var p=parseInt(t)*n,b=parseInt(v.css("margin-left")),y=b+p;o-1<=1&&(y=0);v.animate({"margin-left":y+"px"},200,function(){e(r,!1)})}}var y=o.find(".slider-content-wrapper"),r=$(this),tt=r.find(".slider-container"),s=r.find(".slider-button.prev"),u=r.find(".slider-button.next"),k=r.find(".slider-content"),v=r.find(".slider-content-wrapper"),it=v.find(".slider-item.product-item"),rt=it.length,nt;rt>n?(u.addClass("active"),i=!1):i=!0;s.click(function(n){g(n)});u.click(function(n){d(n)});k.on("DOMMouseScroll mousewheel wheel",function(n){var t=n.wheelDelta||n.originalEvent.wheelDeltaX;if(!isNullOrUndefined(t)&&t!=0)switch(t){case 120:g(n);break;case-120:d(n)}});tt.on({mouseenter:function(){u.parents(".content-others").length==0&&(s.css("display","block"),u.css("display","block"))},mouseleave:function(){u.parents(".content-others").length==0&&(s.css("display","none"),u.css("display","none"))}});y.on({mouseenter:function(){var n=$(this);nt=setTimeout(function(){n.find(".detail").stop().animate({top:0},300)},300)},mouseleave:function(){var n=$(this);clearTimeout(nt);n.find(".detail").stop().animate({top:207},300)}},".slider-item");y.find(".slider-item.product-item").each(function(){var n=$(this),t,i,r,u;n.hasClass("recommendation-product-detail")?(t=n.find(".recommendation-product-description > p"),t.html(Utils.Substring(t.text(),85))):(i=n.find("h4"),i.html(Utils.Substring(i.html(),17)),r=n.find(".detail"),r.find(".title").find("span").each(function(){var n=$(this);n.html(Utils.Substring(n.html(),19))}),u=r.find(".description"),u.html(Utils.Substring(u.html(),100)))});f.on({mouseenter:function(){var n=$(this),t,i;n.css("opacity","0.7");t=n.find(".recommendation-product-detail-button");i=n.find("div.product-actions");i.css("display","block");t.css("color","#d7072a")},mouseleave:function(){var n=$(this),t=n.find(".recommendation-product-detail-button"),i=n.find("div.product-actions");i.css("display","none");t.css("color","#fff");n.css("opacity","1")}},"a.slider-item.product-item.recommendation-product-detail")});y.on({click:function(e){var s,h,c,o;(sendWebEyeEvet=!1,e.preventDefault(),s=$(this),h=s.attr("data-id"),isNullOrUndefined(h))||(c=s.parent("div").parent("div.recommendation-product-detail"),o=c.parent("a"),$.post("/layout/recommendationSetAsViewed",AddAntiForgeryToken({cmsContentId:h,isWatched:!0}),function(e){var s,h,l,a;if(e.status)if(u--,u==0)o.remove(),s=$(".slider-content.slider-recommendation-product-height"),v(s,!0),h={page:1,pageSize:30,homePage:!0},l="/content/SliderUserJson",$.get(l,h,function(i){loadHandlebarsScript(function(){var u=Handlebars.compile($("#template-recommendation-product-item").html()),e=u({Products:i.Contents});f.html();f.css("margin-left",t*n+"px");f.css("margin-left","0px");f.html(e);r.bindEvents();v(s,!1);return})});else{if(o.animate({right:-t+"px",width:"0%",opacity:"0.2"},400,"linear",function(){o.remove()}),c.animate({width:"0%"},400,"linear"),i&&u>n-1){a=parseInt((u-n)*-t);f.animate({"margin-left":a+"px"},400,function(){});return}return}else{PopupMessage.Pop("form-error",PopUpTitle.Error,e.message,PopUpFooterButton.Ok);return}}))},mouseenter:function(){var n=$(this);n.find("div.watched").css("display","none");n.find("div.watched-hover").css("display","block");n.find(s).css("display","block")},mouseleave:function(){var n=$(this);n.find("div.watched").css("display","block");n.find("div.watched-hover").css("display","none");n.find(s).css("display","none")}});s.on({mouseenter:function(){var n=$(this);n.css("display","none")}})};r.getSlider=function(n,t,i,u,f,e,o,s,h){var l,c;n&&$("#"+n).hide();l=$("#"+t);l.html("");c={showHeader:o,showAllLink:s,showBorder:h,title:e,pageSize:30};!i||u||f?!u||i||f?c.channelId=f:c.contentId=u:c.slug=i;$.get("/content/slider",c,function(t){t!=null&&t.length!==0&&(l.html(t),ImageCheck.ContentItem(),n&&$("#"+n).show(),r.bindEvents(l))})}},SalesViewModel=function(){function y(n){var t=!1,i=ValidationHelper.IsNullOrEmptyString(n.val())===!1;return i?(t=!0,$(".verification-error").addClass("d-none")):(t=!1,$(".confirm-box-code .verification-error").removeClass("d-none")),t}function l(n){var t=$(".offer-duration");i==null?(i=new Timer,i.addEventListener("secondsUpdated",function(){var n=i.getTotalTimeValues().seconds;n===0&&($(".resend-section").children().removeClass("d-none"),$(".confirmation-text").addClass("d-none"),$(".step-two-click").addClass("d-none"),$(".confirm-box-code .verification-error").addClass("d-none"));t.html(i.getTimeValues().toString(["minutes","seconds"]))}),i.start({countdown:!0,startValues:{minutes:0,seconds:n}})):i.reset()}function p(){ViewHelper.showOverlay();ViewHelper.showLoading();$.ajax({type:"POST",url:"/Account/ReSendVerificationCode",data:AddAntiForgeryToken({smsVerification:3})}).done(function(n){if(ViewHelper.hideLoading(),ViewHelper.hideOverlay(),n!=null){if(n.status){$(".resend-section").children().addClass("d-none");$(".confirmation-text").removeClass("d-none");$(".verification-code").removeClass("d-none");$(".step-two-click").removeClass("d-none");l(n.keyDuration);return}if(n.NeedLogin)confirmationInput,window.location=response.LoginUrl;else{if(newError){newError=!1;var i=document.querySelector(".package-offer-one"),t=document.createElement("span");t.innerText=response.message;t.style.color="red";t.style.marginTop="16px";t.style.paddingLeft="25px";i.insertAdjacentElement("afterend",t)}setTimeout(function(){newError=!0;t.remove()},errorLastingDuration)}}})}var t=this,h,n,r,a,u,c,i,v,e,o,f,s;t.OrderAction={Rent:1,Buy:2,BuyPackage:3};h="form-sales";t.id=null;t.init=function(){};t.buildForm=function(i,w,b,k){ViewHelper.showLoading();t.id=b;$.ajax({type:"POST",url:"/order/OfferSalesForm",data:AddAntiForgeryToken({orderAction:i,offerId:w,channelId:b,categoryName:k})}).done(function(p){var w,b,k,d;ViewHelper.hideLoading();n=$("#"+h);n.html(p);r=n.find("div.player-offer");o=n.find("div.box-inner.step-one");f=n.find("div.box-inner.step-two");formBlackout=n.find("div.box-inner.step-blackout");a=r.find("div.form-message");u=r.find("div.form-result");c=r.attr("data-mode");s=$(".player-tv-area");s.addClass("d-none");$(".step-bb-click-v2").click(function(){localStorage.setItem(".nextact",$(".step-bb-click-v2").attr("data-category"))});b=!0;f.addClass("d-none");formBlackout.addClass("d-none");switch(i){case t.OrderAction.Buy:w=r.find("input[name='offertobuy']").val();w===!1&&(b=!1);break;case t.OrderAction.BuyPackage:e=r.find("div.package-offers");e==null||e.length===0?b=!1:(v=e.attr("data-required"),k=e.find(".arrow-select-position"),k.click(function(n){n.preventDefault();var t=$(this);w=t.attr("data-id")}))}b===!1&&(d=n.find(".form-footer").find("a[data-action='0']"),d.hide(),n.find(".form-footer").removeClass("two-buttons"));n.find(".chosen").click(function(n){n.preventDefault();var t=$(this),i=t.attr("data-verification");switch(i){case"False":ViewHelper.showLoading();ViewHelper.showOverlay();$.ajax({type:"POST",url:"/order/processoffer",data:AddAntiForgeryToken({offerId:w})}).done(function(n){ViewHelper.hideLoading();ViewHelper.hideOverlay();switch(n.status){case 0:$(".confirmation-area .d-flex").before("<div class='txt-color-red w-100 verifySmsMessage'>"+n.message+"<\/div>");break;case 1:location.reload();break;default:$(".play-request-cancel-text").removeClass("d-none").find(".package__text span").html(n.message);$("html, body").animate({scrollTop:$(".play-request-cancel-text").parent().offset().top-200},800);setTimeout(function(){window.location.reload()},5e3)}});break;case"True":ViewHelper.showLoading();ViewHelper.showOverlay();$.ajax({type:"POST",url:"/order/sendverificationprocessoffer",data:AddAntiForgeryToken({offerId:w,smsVerification:c})}).done(function(n){ViewHelper.hideLoading();ViewHelper.hideOverlay();switch(n.status){case-3:case-2:case-1:case 0:$(".box-offer").find(".package-offers").next().html("");$(".box-offer").find(".package-offers").after("<div class='txt-color-red'>"+n.message+"<\/div>");break;case 1:o.addClass("d-none");f.find(".offer-detail-message").html(n.message);f.removeClass("d-none");l(n.keyDuration)}})}});$(".step-two-click").click(function(){var n=$(".confirmation-input");y(n)&&(ViewHelper.showLoading(),ViewHelper.showOverlay(),$.ajax({type:"POST",url:"/account/VerificationCode",data:AddAntiForgeryToken({code:n.val(),captcha:null,verificationFor:1,verificationForVersion:!0})}).done(function(n){ViewHelper.hideLoading();ViewHelper.hideOverlay();switch(n.status){case 1:o.addClass("d-none");f.addClass("d-none");formBlackout.addClass("d-none");s.removeClass("d-none");location.reload();break;default:$(".confirmation-area .d-flex").before("<div class='txt-color-red w-100 verifySmsMessage'>"+n.model.FormResult+"<\/div>");setTimeout(function(){$(".confirmation-area").find(".verifySmsMessage").remove()},3e3)}}))});$(".match-return-back-offer").click(function(){$(".verification-error").addClass("d-none");o.removeClass("d-none");f.addClass("d-none")})}).fail(function(n,t,i){console.log("Error OfferSalesForm",i);ViewHelper.hideOverlay();ViewHelper.hideLoading();$(".play-request-cancel-text").removeClass("d-none").find(".package__text span").html("Sorun ile karşılaşıldı lütfen daha sonra deneyiniz.");$("html, body").animate({scrollTop:$(".play-request-cancel-text").parent().offset().top-200},800);setTimeout(function(){$(".play-request-cancel-text").addClass("d-none")},7e3)});setTimeout(function(){$(".resend-section").click(function(){p()})},3e3)}},timerInterval,VerificationCodeViewModel=function(){function g(n){l.fadeIn();$.ajax({type:"POST",url:"/Account/ReSendVerificationCode",data:AddAntiForgeryToken({smsVerification:n})}).done(function(n){if(l.fadeOut(),n!=null)if(n.NeedLogin&&(window.location=n.LoginUrl),n.status){p.css("opacity","");p.attr("data-action",1);o.attr("data-action",0);v.css("border","none");s.css("color","");y.css("color","#3f3f3f");var u=parseInt(n.keyDuration),t=TimerCounterHelper.GetTimeDetail(parseInt(u)),i=t[0],r=t[1];TimerCounterHelper.WriteTimer(i,r,s,null);TimerCounterHelper.CountDown(i,r,s,null,o,y,v,timerInterval)}else $(".form-result").css("display","block"),$(".form-result").append('<p class="error x-code">'+n.message+"<\/p>")})}function k(t){var r=!1,u=f.val(),e=ValidationHelper.IsNullOrEmptyString(u)==!1;return e?(r=!0,i(n.Code,!1)):(r=!1,t&&(i(n.Code,!0,f.data("val-required")),c==null&&(c=f))),r}function nt(){var t=CaptchaHelper.Check(u);return t?i(n.Captcha,!1):i(n.Captcha,!0,u.attr("data-val-required")),t}function h(n,t,i){var r=e.find("p."+t);n==1?r.length==0&&e.append("<p class='error "+t+"'><span class='sp sp-icon-red-dot'>!<\/span>"+i+"<\/p>"):r.length==1&&r.remove();e.find("p").length>0?e.show():e.hide()}function i(t,i,r){switch(t){case n.Code:i?(f.addClass("error"),h(1,"x-code",r)):(f.removeClass("error"),h(0,"x-code"));break;case n.Captcha:i?h(1,"x-captcha",r):h(0,"x-captcha");break;case n.FormResult:i?h(1,"x-form-result",r):h(0,"x-form-result")}}var t=this;t.For={Order:1,BlackoutRequest:2,BlackoutCancel:3};var p,w="form-verification",d="modal modal-verification",n={Code:1,Captcha:2,FormResult:4},c,l,r,u,a,b,e,f,s,v,y,o;t.init=function(){};t.orderCompleted=null;t.buildVerificationForm=function(h,tt,it){ViewHelper.showOverlay();ViewHelper.showLoading();window.clearInterval(timerInterval);$.ajax({type:"GET",url:"/account/VerificationCodeForm",data:{}}).done(function(rt){var ut;ViewHelper.hideLoading();$("body").append("<div id='"+w+"' class='"+d+"'>");r=$("#"+w);r.html(rt);a=r.find("form");a.submit(function(n){n.preventDefault()});e=r.find("div.form-result");$(".form-content").attr("data-mode",it);b=r.find("div.form-footer");l=r.find("img.loading-form");u=$(".captcha-container.padding-spacer");f=a.find("input[name='code']");o=$("#resend-code");f.blur(function(){k(!1)});f.keypress(function(){i(n.Code,!1);i(n.FormResult,!1)});s=$(".timer-duration");v=$(".timer");y=$(".resend");p=$(".form-footer.two-buttons").find("a[data-action='1']");var ft=TimerCounterHelper.GetTimeDetail(parseInt(tt)),et=ft[0],ot=ft[1];TimerCounterHelper.WriteTimer(et,ot,s,null);TimerCounterHelper.CountDown(et,ot,s,null,o,y,v,timerInterval);u.attr("data-val-show")==="1"&&CaptchaHelper.Render(u,t.captchaCallback);ut=!0;r.find(".form-footer").find("a").click(function(o){var s,v,y,p;if(ut){ut=!1;o.preventDefault();s=$(this);v=parseInt(s.attr("data-action"));switch(v){case 0:r.remove();ViewHelper.hideOverlay();break;case 1:c=null;y=k(!0);p=nt();y&&p?(l.fadeIn(),$.ajax({type:"POST",url:"/account/VerificationCode",data:AddAntiForgeryToken({code:f.val(),captcha:CaptchaHelper.GetValue(u),verificationFor:h})}).done(function(f){l.fadeOut();var o=f.model;switch(f.status){case-3:case-2:case-1:case 0:o.ShowCaptcha&&CaptchaHelper.Render(u,t.captchaCallback);o.ValidationCode.Status==-1?i(n.Code,!0,o.ValidationCode.Message):i(n.Code,!1);o.ValidationCaptcha.Status==-1?(i(n.Captcha,!0,o.ValidationCaptcha.Message),CaptchaHelper.ModeError(u)):(i(n.Captcha,!1),CaptchaHelper.ModeValid(u));o.FormResult?i(n.FormResult,!0,o.FormResult):i(n.FormResult,!1);ut=!0;break;case 1:i(n.FormResult,!1);$(".form-content:last").remove();e.html(o.FormResult);e.show();a.remove();b.remove();t.orderCompleted!=="undefined"&&t.orderCompleted!=null&&t.orderCompleted();t.verificationCompleted!=="undefined"&&t.verificationCompleted!=null?(r.remove(),ViewHelper.hideOverlay(),t.verificationCompleted()):setTimeout(function(){r.fadeOut();window.location=document.location},5e3)}})):ut=!0;c!=null&&c.focus();break;case-1:o.preventDefault()}}});o.click(function(n){var t,i,r;n.preventDefault();t=o.attr("data-action");o.attr("data-action",0);i=parseInt(t);switch(i){case 0:n.preventDefault();break;case 1:r=$(".form-content").attr("data-mode");g(r);break;default:n.preventDefault()}})})};t.verificationCompleted=null;t.captchaCallback=function(n){CaptchaHelper.SetValue(u,n)}}
